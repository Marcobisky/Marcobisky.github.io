<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Marcobisky</title>
<link>https://marcobisky.github.io/blog.html</link>
<atom:link href="https://marcobisky.github.io/blog.xml" rel="self" type="application/rss+xml"/>
<description>Getting better every second!</description>
<generator>quarto-1.7.32</generator>
<lastBuildDate>Fri, 19 Dec 2025 16:00:00 GMT</lastBuildDate>
<item>
  <title>DIP Crash Course 数字图像处理速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/dip-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>将所有的开放问题的 solution 当作一个普通的解决方法来看待, 它们绝不是最优或者唯一的解决方案.</p>
</blockquote>
<section id="basic-conventions-基本约定" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="basic-conventions-基本约定"><span class="header-section-number">1</span> Basic Conventions 基本约定</h2>
<ul>
<li><p>Image 默认为 <strong>sampling</strong> 和 <strong>quantization</strong> 之后的数字图像</p>
<ul>
<li><strong>Spacial resolution 空间分辨率</strong>: 长宽方向的采样点数的乘积.</li>
<li><strong>Intensity resolution 强度分辨率</strong>: 量化的精度, 一般用每个像素的 bit 数表示. <strong>默认为 <img src="https://latex.codecogs.com/png.latex?8"> bit (<img src="https://latex.codecogs.com/png.latex?%5B0,%20255%5D">)</strong>.</li>
</ul></li>
<li><p><strong>Color space 颜色空间</strong>: 单色可见光的波长在 <img src="https://latex.codecogs.com/png.latex?%5B380,%20780%5D%20%5Ctext%7B%20nm%7D">, 每一束光都可以有任意强度的单色光分量 (即「光谱」), 因此所有光构成一个<strong>不可数无穷维拓扑向量空间</strong>.</p>
<ul>
<li>但是人眼有三种类型的视锥细胞 (L, M, S) 对不同的频率成分有 (不会变化的) 不同的敏感度, 它们自动将所有光<strong>线性映射</strong>到一个三维子空间 <img src="https://latex.codecogs.com/png.latex?%5COmega"> 中 (想想为什么是线性的, 因为是积分). 即使两个光的光谱不同, 但它们在这个三维子空间的投影相同, 人眼也无法区分它们.</li>
<li>不同的应用场景在 <img src="https://latex.codecogs.com/png.latex?%5COmega"> 中选择不同的基底:
<ul>
<li><strong>RGB</strong> (Red, Green, Blue): 显示器, 图像储存.</li>
<li><strong>CMY/CMYK</strong> (Cyan, Magenta, Yellow, K: Black ink): 打印机, K 成分是多余的, 就当作是为了节省墨水 lol.</li>
<li><strong>HSI/HSV</strong> (Hue, Saturation, Intensity/Value): 图像编辑软件.</li>
</ul></li>
</ul></li>
<li><p>默认情况下图片丢失拓扑结构 <code>view()</code> 成一个 vector. <img src="https://latex.codecogs.com/png.latex?r"> 代表处理前的图像 vector, <img src="https://latex.codecogs.com/png.latex?s"> 代表处理后的图像 vector.</p></li>
<li><p><strong>RGB2Gray 转换方法</strong>: 可以任选一通道 / 取最大 / 平均值 / 加权平均.</p></li>
<li><p><strong>Contrast 对比度</strong>: 灰度图像中像素值最大值与最小值之差 (去掉 outlier).</p></li>
<li><p><strong>Binary Image 二值图像 <img src="https://latex.codecogs.com/png.latex?f"></strong>: <img src="https://latex.codecogs.com/png.latex?0"> 表示 background, <img src="https://latex.codecogs.com/png.latex?1"> 表示 foreground.</p></li>
</ul>
</section>
<section id="kernel-based-processing-基于核的处理" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="kernel-based-processing-基于核的处理"><span class="header-section-number">2</span> Kernel-based processing 基于核的处理</h2>
<blockquote class="blockquote">
<p>本人没有按照 Spatial domain 和 Frequency domain 来划分, 因为他们本质上是等价的, 无法将二者严格区分.</p>
</blockquote>
<blockquote class="blockquote">
<p>Kernel-based method 就是将原图片与一个 kernel 做滑动内积 (纠结是内积还是卷积毫无意义). 重点在于 kernel 的设计, 我们通过 kernel 设计的<strong>思维路径</strong>将其划分为 Spatial filtering 和 Frequency filtering 两大类.</p>
</blockquote>
<section id="spatial-filtering-空间滤波" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="spatial-filtering-空间滤波"><span class="header-section-number">2.1</span> Spatial Filtering 空间滤波</h3>
<blockquote class="blockquote">
<p>Spatial filtering 指 kernel 的设计过程没有经过频域分析.</p>
</blockquote>
<ul>
<li><p><strong>Padding 填充</strong></p></li>
<li><p><strong>NCC (Normalized Cross-Correlation)</strong>: 图像 vector 之间的夹角余弦值.</p></li>
<li><p><strong>Common filters 常用滤波器</strong></p>
<ul>
<li><strong>Smoothing filters 平滑滤波器 (低通滤波器)</strong></li>
<li><strong>Order-statistic filters 次序统计滤波器</strong>: 将某框内的像素排序后取中位数, 一般可去除 salt-and-pepper (impulse) noise.</li>
<li><strong>Sharpening (derivative) filters 锐化滤波器 (高通滤波器)</strong>: 将梯度、Laplacian 算子移植到图片上; 由于这些算子是线性的, 可等价于与一个 kernel 做卷积; 这些 kernel 也可以在形式上被强化来达到更强的锐化效果.</li>
</ul></li>
</ul>
</section>
</section>
<section id="non-kernel-based-processing-非基于核的处理" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="non-kernel-based-processing-非基于核的处理"><span class="header-section-number">3</span> Non-kernel-based processing 非基于核的处理</h2>
<blockquote class="blockquote">
<p>Non-kernel-based method 指处理过程无法被等价为与一个确定的 kernel 做内积的过程.</p>
</blockquote>
<section id="intensity-transformation" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="intensity-transformation"><span class="header-section-number">3.1</span> Intensity Transformation</h3>
<blockquote class="blockquote">
<p>强度变换仅仅是<strong>单灰度像素</strong>的操作, 即用一个函数 <img src="https://latex.codecogs.com/png.latex?s%20=%20T(r)"> 来<strong>独立地</strong>映射所有像素值.</p>
</blockquote>
<ul>
<li><p><strong>Linear transformation</strong></p>
<ul>
<li><strong>Image Negatives 图像反相</strong>: <img src="https://latex.codecogs.com/png.latex?s%20=%20L%20-%201%20-%20r">.</li>
<li><strong>Contrast stretching 对比度拉伸</strong></li>
</ul></li>
<li><p><strong>Log transformation 对数变换</strong>: <img src="https://latex.codecogs.com/png.latex?s%20=%20c%20%5Ccdot%20%5Clog(1%20+%20r)">.</p></li>
<li><p><strong>Power-Law (Gamma) transformation 幂律变换</strong>: <img src="https://latex.codecogs.com/png.latex?s%20=%20c%20%5Ccdot%20r%5E%7B%5Cgamma%7D">.</p></li>
</ul>
</section>
<section id="histogram-processing-直方图处理" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="histogram-processing-直方图处理"><span class="header-section-number">3.2</span> Histogram Processing 直方图处理</h3>
<ul>
<li><strong>Histogram 图像直方图</strong>
<ul>
<li><strong>Normalized histogram 归一化直方图</strong>: 纵坐标要除以图像总像素数, 可表达概率.</li>
</ul></li>
<li><strong>Histogram processing 方法</strong>
<ul>
<li><strong>Histogram equalization 直方图均衡化</strong></li>
<li><strong>Histogram matching (specification) 直方图匹配</strong>: 「我想让这张暗图看起来像那张亮图」.</li>
</ul></li>
</ul>
</section>
</section>
<section id="image-segmentation-图像分割" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="image-segmentation-图像分割"><span class="header-section-number">4</span> Image Segmentation 图像分割</h2>
<blockquote class="blockquote">
<p>一个非常自然的需求是把一张图像分割成若干个有意义的区域. 由于「有意义」无法准确定义, 因此图像分割非常开放.</p>
</blockquote>
<ul>
<li><strong>Neighbors of a pixel 二值图像像素的邻域</strong>: 有不同的定义! 4-neighbors (上下左右), 8-neighbors, diagonal-neighbors (对角线).
<ul>
<li>领域不一定是等价关系!</li>
<li><strong>Path 路径</strong>: 一个像素的有序序列, 后一个像素都是前一个像素的 neighbor.</li>
<li><strong>Connected set 连通集</strong>: 当邻域是等价关系 <img src="https://latex.codecogs.com/png.latex?%5Csim"> 时, 二值图像 <img src="https://latex.codecogs.com/png.latex?b/%5Csim"> 中的每个等价类就是一个连通集.
<ul>
<li><strong>Boundary 边界</strong>: 跟拓扑学里的定义一样, 边界点的邻域包含区域外的像素.</li>
</ul></li>
</ul></li>
<li><strong>Edge detection 边缘检测</strong>
<ul>
<li><strong>Gradient + Thresholding</strong></li>
<li><strong>LPF + Laplacian</strong>: 比如 LoG (Laplacian of Gaussian).</li>
<li><strong>Edge linking 边缘连接</strong>: 边缘可能不连续, 可以利用梯度方向等信息把边缘连接起来.</li>
<li><strong>Hough Transform 霍夫变换</strong></li>
</ul></li>
<li><strong>Edge-based object detection 基于边缘的目标检测</strong>
<ul>
<li><strong>Distance Transform (DT) 距离变换</strong>: 计算每个像素到最近边界像素的 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D%5E2"> 距离.</li>
</ul></li>
<li><strong>Region-based segmentation 基于区域的分割</strong></li>
</ul>
</section>
<section id="morphological-形态学图像处理" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="morphological-形态学图像处理"><span class="header-section-number">5</span> Morphological 形态学图像处理</h2>
<blockquote class="blockquote">
<p>这里主要涉及 PS 软件中的各种基础操作的原理.</p>
</blockquote>
<ul>
<li><strong>Binary erosion / dilation 二值图像腐蚀/膨胀</strong>: 想象一个 binary image <img src="https://latex.codecogs.com/png.latex?f"> 的前景是凹下去的模具, 想象 SE (Structuring Element) 像俄罗斯方块一样掉落在 <img src="https://latex.codecogs.com/png.latex?f"> 上, 记录下:
<ul>
<li>SE 能<strong>整体</strong>掉进去的地方, 这些就是腐蚀 <img src="https://latex.codecogs.com/png.latex?f%20%5Cominus%20se"> 的结果. 腐蚀过的前景 (<img src="https://latex.codecogs.com/png.latex?f%20%5Cominus%20se">) 只会比 <img src="https://latex.codecogs.com/png.latex?f"> 一样大或者更小.</li>
<li>任何<strong>一个</strong> SE 方块能掉进去的地方, 这些就是膨胀 <img src="https://latex.codecogs.com/png.latex?f%20%5Coplus%20se"> 的结果. 膨胀过的前景 (<img src="https://latex.codecogs.com/png.latex?f%20%5Coplus%20se">) 只会比 <img src="https://latex.codecogs.com/png.latex?f"> 一样大或者更大.</li>
<li><strong>Erosion 和 Dilation 互为 dual</strong></li>
</ul></li>
</ul>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-erosion" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-erosion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/dip-crash-course/erosion.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-erosion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Binary Erosion <span class="citation" data-cites="Mardiris2016ACD">[1]</span>
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-dilation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dilation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/dip-crash-course/dilation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dilation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Binary Dilation <span class="citation" data-cites="Mardiris2016ACD">[1]</span>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li><p><strong>Opening 开运算</strong>: 先腐蚀后膨胀, <img src="https://latex.codecogs.com/png.latex?b%20%5Ccirc%20se%20%5Cequiv%20(b%20%5Cominus%20se)%20%5Coplus%20se">.</p></li>
<li><p><strong>Closing 闭运算</strong>: 先膨胀后腐蚀, <img src="https://latex.codecogs.com/png.latex?b%20%5Cbullet%20se%20%5Cequiv%20(b%20%5Coplus%20se)%20%5Cominus%20se">.</p></li>
</ul>
</section>
<section id="pca-主成分分析" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="pca-主成分分析"><span class="header-section-number">6</span> PCA 主成分分析</h2>
</section>
<section id="image-compression-图像压缩" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="image-compression-图像压缩"><span class="header-section-number">7</span> Image Compression 图像压缩</h2>
<blockquote class="blockquote">
<p>信息永远<strong>不能</strong>被压缩, 只是被压缩的部分变成编解码规则了.</p>
</blockquote>
<section id="basic-concepts-基本概念" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="basic-concepts-基本概念"><span class="header-section-number">7.1</span> Basic Concepts 基本概念</h3>
<ul>
<li>若图片 <img src="https://latex.codecogs.com/png.latex?f"> 压缩前可以被 <img src="https://latex.codecogs.com/png.latex?100"> bit 表示, 压缩后可以被 <img src="https://latex.codecogs.com/png.latex?75"> bit 表示, 则:
<ul>
<li><strong>Compression ratio 压缩比</strong> <img src="https://latex.codecogs.com/png.latex?C%20=%20100/75">.</li>
<li><strong>Relative data redundancy 相对数据冗余</strong> <img src="https://latex.codecogs.com/png.latex?R%20=%201-0.75">.</li>
</ul></li>
</ul>
</section>
<section id="lossless-compression-无损压缩" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="lossless-compression-无损压缩"><span class="header-section-number">7.2</span> Lossless Compression 无损压缩</h3>
<ul>
<li><strong>Huffman coding 霍夫曼编码</strong></li>
<li><strong>Arithmetic coding 算术编码</strong></li>
<li><strong>LZW 编码</strong></li>
</ul>
</section>
<section id="lossy-compression-有损压缩" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="lossy-compression-有损压缩"><span class="header-section-number">7.3</span> Lossy Compression 有损压缩</h3>
<ul>
<li><strong>JPEG</strong>:
<ul>
<li>颜色空间变换 (RGB <img src="https://latex.codecogs.com/png.latex?%5Cto"> YCbCr): 利用人眼对亮度更敏感的特点.</li>
<li>分块 (<img src="https://latex.codecogs.com/png.latex?8%5Ctimes%208"> blocks): 计算较快.</li>
<li>DCT (离散余弦变换): 就是 DFT.</li>
<li>Quantization (量化，唯一真正「有损」的一步): 在频域被选择性地 mask 掉一些系数.</li>
<li>Zig-zag 扫描</li>
<li>Entropy coding (Huffman / Arithmetic)</li>
</ul></li>
</ul>
</section>
<section id="watermarking-数字水印" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="watermarking-数字水印"><span class="header-section-number">7.4</span> Watermarking 数字水印</h3>
<ul>
<li><p><strong>Visible watermark 可见水印</strong>: 直接把水印叠加在图片上.</p></li>
<li><p><strong>Invisible watermark 隐形水印</strong></p>
<ul>
<li>Robustness 水印必须能抵抗以下操作: 压缩, 缩小/放大, 裁剪, 加噪声, 滤波, 镜像, etc.</li>
<li>简单来说, 可以将水印直接叠加在<strong>频域</strong>系数上, 再反变换得到水印图像.</li>
</ul></li>
</ul>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0">
<div id="ref-Mardiris2016ACD" class="csl-entry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">V. A. Mardiris and V. Chatzis, <span>“A configurable design for morphological erosion and dilation operations in image processing using quantum-dot cellular automata,”</span> <em>Journal of Engineering Science and Technology Review</em>, vol. 9, pp. 25–30, 2016, Available: <a href="https://api.semanticscholar.org/CorpusID:117395774">https://api.semanticscholar.org/CorpusID:117395774</a></div>
</div>
</div></section></div> ]]></description>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/dip-crash-course/</guid>
  <pubDate>Fri, 19 Dec 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/dip-crash-course/cover.png" medium="image" type="image/png" height="60" width="144"/>
</item>
<item>
  <title>Information Security Crash Course 信息安全速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/info-secu-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>所有计算机的问题都是文本处理的问题.</p>
</blockquote>
<section id="blockchain-区块链" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="blockchain-区块链"><span class="header-section-number">1</span> Blockchain 区块链</h2>
<ul>
<li><strong>Motivation and related concept</strong>
<ul>
<li><strong>Ledger 交易账本</strong>: 记录对某种财产 (property) 的状态变化 (maintenance) 的历史 (比如银行卡转账记录).
<ul>
<li>传统的 Ledger 时中心化地由银行的 DBMS (Database Management System) 来维护的, 我们信任银行本质上是信任国家的信用, 可是 xxx? 为了摆脱对中心化机构的信任, 需要一个 DLT (Distributed Ledger Technology) 来分布式地维护 Ledger! 我们希望它的机制公开透明, 并在数学上能保证其安全性.</li>
</ul></li>
<li>DLT 可以利用多种数据结构来组织数据 (Blockchain 可以同时具有下面的数据结构):
<ul>
<li><strong>Linked list 链表</strong></li>
<li><strong>DAG (Directed Acyclic Graph 有向无环图)</strong></li>
<li><strong>Tree 树</strong></li>
</ul></li>
</ul></li>
<li><strong>Blockchain features 特点</strong>
<ul>
<li><strong>Decentralization 去中心化</strong></li>
<li><strong>Immutability 不可篡改性</strong></li>
<li><strong>Transparency 透明性</strong></li>
<li><strong>Pseudonymity 匿名性</strong></li>
<li><strong>Non-Repudiation 不可否认性</strong>: 一旦交易记录成功不可撤回和修改.</li>
</ul></li>
<li><strong>Blockchain classification 分类</strong>
<ul>
<li><strong>Permissionless 无需许可</strong>: 任何人都可以参与添加区块.
<ul>
<li><strong>Public 公开链</strong>: 任何有可以上网的电脑的人都可以查看区块链数据 (如 Bitcoin 区块链). 特点: 比如 Bitcoin 区块链的 TPS (Transactions Per Second) 每秒 <img src="https://latex.codecogs.com/png.latex?%3C10">; Scalability 可扩展性差; Block size 区块大小有限制; 挖矿能耗高.</li>
</ul></li>
<li><strong>Permissioned 需要许可</strong>: 只有被授权的用户才能参与添加区块.
<ul>
<li><strong>Private 私有链</strong>: 只有被授权的用户才能查看区块链数据.</li>
<li><strong>Consortium 联盟链</strong>: 由多个组织共同维护的区块链, 只有被授权的组织才能查看相应部分的区块链数据.</li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-bc-classification" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bc-classification-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/info-secu-crash-course/bc-classification.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bc-classification-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Blockchain 分类
</figcaption>
</figure>
</div>
</div></div><section id="build-the-bitcoin-blockchain-from-scratch" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="build-the-bitcoin-blockchain-from-scratch"><span class="header-section-number">1.1</span> Build the bitcoin blockchain from scratch</h3>
<ul>
<li><p><strong>P2P network</strong>: 假设你有 <img src="https://latex.codecogs.com/png.latex?10"> 台电脑, 手动输入每台电脑附近一两台电脑的 IP 和它们监听的端口 (bootstrapping). 写一个程序比如 <code>node.py</code> 来让每台电脑都运行这个程序, 监听自己端口的同时向认识的电脑发送邻居 IP. 这样方便以后路由.</p></li>
<li><p><strong>Wallet</strong>:</p>
<ul>
<li>首先每台电脑随机生成一个 <img src="https://latex.codecogs.com/png.latex?256"> bit 的私钥 <img src="https://latex.codecogs.com/png.latex?sk">.</li>
<li>用一个 one-way function (比如 hashing function, ECDSA (Elliptic Curve Digital Signature Algorithm)) 从私钥 <img src="https://latex.codecogs.com/png.latex?sk"> 计算出公钥 <img src="https://latex.codecogs.com/png.latex?pk"> (也是 <img src="https://latex.codecogs.com/png.latex?256"> bit).</li>
<li><img src="https://latex.codecogs.com/png.latex?pk"> 作为节点的身份 ID, <img src="https://latex.codecogs.com/png.latex?sk"> 用来签名消息.</li>
</ul></li>
<li><p><strong>Transaction (Tx) 交易</strong>: 定义交易数据结构, 比如:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb1-1"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Transaction</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-2">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">from</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PublicKey_A</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-3">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">to</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PublicKey_B</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-4">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">amount</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-5">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">signature</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Sign(privateKey_A</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">above_fields)</span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<ul>
<li>每个节点可以用公钥验证交易的合法性.</li>
</ul></li>
<li><p><strong>Mempool 交易池</strong>: 每个节点如果有交易记录产生, 就生成一个 Transaction 转发给相邻节点, 它们会先验证合法性, 然后将其加入自己的交易池中 (每个节点维护一个交易池, 存放收到但还未打包进区块的交易).</p></li>
<li><p><strong>Block 区块</strong>: TODO</p></li>
</ul>
</section>
<section id="some-questions" class="level3 page-columns page-full" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="some-questions"><span class="header-section-number">1.2</span> Some Questions</h3>
<blockquote class="blockquote">
<p>Blockchain 很难用线性的讲法来解释清楚, 这里列出一些常见的问题.</p>
</blockquote>
<ul>
<li>记账系统跟发行一种币有什么关系? 发行的新的币又是如何跟现存的币交换的?
<ul>
<li>这涉及到货币的本质. 衡量价值依赖两个特性, 一是获取他需要付出一定的成本; 二是大家都承认可以一般化地等价其他东西.</li>
<li>bitcoin 只记录比特币的交易.</li>
</ul></li>
<li>为什么最初会有人自发来用这个系统记账?
<ul>
<li><strong>Incentives for minors</strong>: <strong>transaction fee</strong> (手续费, 转账的人要多付出一点点给打包区块的人 (比银行低多了)) + <strong>凭空送</strong> (中本聪设计 PoW 使得全世界一起算的话平均每 10 分钟能产生一个新区块, 第一个包奖励 <img src="https://latex.codecogs.com/png.latex?50"> BTC (in 2009), <img src="https://latex.codecogs.com/png.latex?4"> 年之内都是如此, 第二个 <img src="https://latex.codecogs.com/png.latex?4"> 年挖出一个区块奖励减半 (<img src="https://latex.codecogs.com/png.latex?25"> BTC) <span class="citation" data-cites="a2023_introduction">[1]</span>, etc.<sup>1</sup>)</li>
<li>Follow-up: 如果他获得的奖励不是现实世界中的物品而也只是这个虚拟世界的货币, 一开始的驱动力是哪来的?
<ul>
<li>可以有很多因素: 意识形态动机 (比如对银行的不信任, 冻结与审查的反感), 有限下行风险 + 极大上行空间 (Option-like payoff).</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;这是一个收敛的几何级数, 所以比特币的数量是固定的 (<img src="https://latex.codecogs.com/png.latex?21"> million). 2025 年挖出一个区块奖励是 <img src="https://latex.codecogs.com/png.latex?3.125"> BTC. 凭空送的部分是有最小值的 (<img src="https://latex.codecogs.com/png.latex?10%5E%7B-8%7D"> BTC, 即 <img src="https://latex.codecogs.com/png.latex?1"> Satoshi), 约在 2140 年达到这个值, 以后凭空送部分就没有了, 以后矿工的收入就全靠 transaction fee 了 <span class="citation" data-cites="a2023_introduction">[1]</span>.</p></div></div><ul>
<li><p>如果在网络的两个角落同时产生了两个区块, 如何处理?</p>
<ul>
<li><strong>LCP (Longest Chain Principle) 最长链原则</strong>: 每个节点只在<strong>它认为的最长链上</strong>继续打包新的区块 (每个节点可能会有不同的最长链).</li>
<li>所以你挖出来的区块<strong>可能最终不会被承认</strong>.</li>
</ul></li>
<li><p>如何防止恶意用户篡改数据?</p>
<ul>
<li>防止不了. 但几乎不可能, 因为</li>
</ul></li>
<li><p>如何防止随意给自己转账?</p></li>
<li><p>当某节点收到一笔交易时, 会做什么? 收到新区块呢?</p>
<ul>
<li>收到交易: 进行余额检查 (通过追溯之前的交易记录) + 验证签名, 合法就放进交易池.</li>
<li>收到新区块:</li>
</ul></li>
<li><p>如何防止双重支付 (Double spending, 即某个节点 <img src="https://latex.codecogs.com/png.latex?A"> 给两批相邻节点试图用同一笔余额给不同的人转账, 这两批节点经过余额检查后都会认为 <img src="https://latex.codecogs.com/png.latex?A"> 的交易是合法的)?</p>
<ul>
<li>只承认打包好的区块里的交易记录. 哪一笔交易先被打包进区块, 哪一笔交易就有效.</li>
</ul></li>
</ul>
</section>
<section id="consenus-algorithm-共识算法" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="consenus-algorithm-共识算法"><span class="header-section-number">1.3</span> Consenus Algorithm 共识算法</h3>
<blockquote class="blockquote">
<p>用来让分布式网络中的节点就某个数据达成一致的算法. (不是区块链特有的概念!)</p>
</blockquote>
<ul>
<li><p><strong>Basic concepts</strong></p>
<ul>
<li><strong>节点类型</strong>: <strong>Legitimate/honest nodes</strong> (诚实节点), <strong>Malicious nodes</strong> (恶意节点).</li>
<li><strong>故障类型</strong>: <strong>Crash fault</strong> (由诚实节点导致的故障), <strong>Byzantine fault</strong> (拜占庭故障, 由恶意节点导致的故障).</li>
</ul></li>
<li><p><strong>PoW (Proof of Work 工作量证明)</strong>: 通过尝试 nonce 的值来找到一个 hash 值满足某个条件 (比如前面有 <img src="https://latex.codecogs.com/png.latex?n"> 个 <img src="https://latex.codecogs.com/png.latex?0">). Hash rate 越高, 挖矿越快. 安全性非常高, 但验证时间较长、挖矿能耗很高.</p>
<ul>
<li><strong>Winning probability</strong>: 设有 <img src="https://latex.codecogs.com/png.latex?N"> 个 miners, 第 <img src="https://latex.codecogs.com/png.latex?i"> 个 miner 的 hash rate 是 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi_i">, 则它的 winning probability <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_i%20=%20%5Cfrac%7B%5Cvarphi_i%7D%7B%5Csum_%7Bj=1%7D%5EN%20%5Cvarphi_j%7D."></li>
<li><strong><img src="https://latex.codecogs.com/png.latex?51%5C%25"> attack</strong>: 如果某个恶意矿工控制了超过 <img src="https://latex.codecogs.com/png.latex?50%5C%25"> 的算力, 它就可以随意篡改区块链数据.</li>
</ul></li>
<li><p><strong>PoS (Proof of Stake 权益证明)</strong>: 交 stake (押金), 用押金的多少做权重随机选择下一个打包区块的节点. 节点如果作恶, 会被没收押金. 验证时间较短, 能耗低, 但安全性不如 PoW (有钱就行).</p></li>
<li><p><strong>PAXOS</strong></p>
<ul>
<li>PAXOS 不处理 Byzantine fault!</li>
<li>用 PAXOS 协议的系统中必须有三种节点: <strong>Proposer, Acceptor, Learner</strong>.</li>
<li>三个 phase: <strong>Prepare, Promise, Accept</strong>.</li>
</ul></li>
</ul>
<div class="quarto-layout-panel" data-layout="[60,40]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: flex-start;">
<div id="fig-paxos" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-paxos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/info-secu-crash-course/paxos.gif" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-paxos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 绿色的节点是 client, 右边有 <img src="https://latex.codecogs.com/png.latex?1"> 个 proposer, <img src="https://latex.codecogs.com/png.latex?3"> 个 acceptor, <img src="https://latex.codecogs.com/png.latex?2"> 个 learner. <span class="citation" data-cites="_2025_paxos">[2]</span>
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/info-secu-crash-course/paxos-flow-chart.png" class="img-fluid figure-img"></p>
<figcaption>Basic Paxos without failures <span class="citation" data-cites="wikipediacontributors_2025_paxos">[3]</span>. 注意这里是 acceptor 通知 learner, 而 Figure&nbsp;2 是 proposer 通知 learner, 以此图为准.</figcaption>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li><strong>RAFT</strong> (Replicated And Fault Tolerant, 比 sb PAXOS 好理解多了 lol)
<ul>
<li><p>RAFT 也不处理 Byzantine fault!</p></li>
<li><p>每个节点在任意时刻只处于三种状态之一: <strong>Leader, Follower, Candidate</strong>, leader 是唯一的.</p></li>
<li><p>两个 phase: <strong>Leader Election, Log Replication</strong>.</p></li>
<li><p>所有节点初始状态都是 follower, 每个 follower 有一个随机的 election timeout (<img src="https://latex.codecogs.com/png.latex?150"> 到 <img src="https://latex.codecogs.com/png.latex?300"> ms 之间), 如果在这个时间内没有收到 leader 的 heartbeat (如果存在 leader 的话, 按协议它会向所有 follower 定期发送 heartbeat 证明自己还活着别选别人当 leader), 就变成 candidate 并向所有 follower 发起支持自己的 leader election. 当这个 candidate 收到<strong>超过半数</strong> follower 的投票后, 就变成 leader (总共有多少 node 大家事先都知道)</p>
<div id="fig-raft-election" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-raft-election-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/info-secu-crash-course/raft-election.gif" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-raft-election-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Leader election 过程, 你可以自行在 <span class="citation" data-cites="_2025_raft">[4]</span> 进行其它挂机或者 leader request 实验, omitted here.
</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>PBFT</strong> (Practical Byzantine Fault Tolerance)
<ul>
<li>由名字知道它能处理 Byzantine fault.</li>
<li>三种节点: <strong>Leader, Replicas, Backup</strong></li>
<li>TODO</li>
</ul></li>
<li><strong>Metrics 衡量标准</strong>
<ul>
<li><strong>Performance</strong>
<ul>
<li><strong>TPS</strong> (Transactions Per Second)</li>
<li><strong>Block comfirmation time 区块确认时间</strong></li>
</ul></li>
<li><strong>Scalability 可扩展性</strong>: 对于增加的节点数和交易量, 系统能否有效地处理.</li>
</ul></li>
</ul>
</section>
<section id="一些八股" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="一些八股"><span class="header-section-number">1.4</span> 一些八股</h3>
<ul>
<li><p><strong>Hash rate 哈希率</strong>: 全网每秒能做多少次哈希运算 (代表算力).</p></li>
<li><p><strong>Sharding 分片技术</strong>: 将各个节点分组 (shards), 每个组内的节点负责维护该组内的交易记录 (而不要验证全网的交易记录), 以提高系统的验证效率和可扩展性. 但是 shards 之间的通信和协调极其复杂!</p></li>
</ul>
</section>
</section>
<section id="cryptography-密码学基础" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="cryptography-密码学基础"><span class="header-section-number">2</span> Cryptography 密码学基础</h2>
<section id="一些八股-1" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="一些八股-1"><span class="header-section-number">2.1</span> 一些八股</h3>
<ul>
<li><strong>Three Ds of security</strong>:
<ul>
<li><strong>Defence 防护</strong>: 保护系统免受攻击.</li>
<li><strong>Detection 检测</strong>: 发现攻击或异常行为.</li>
<li><strong>Deterrence 威慑</strong>: 通过威胁惩罚来降低攻击频率.</li>
</ul></li>
<li><strong>攻击分类</strong> (但现实情况是三种结合起来使用哈哈):
<ul>
<li>按目的:
<ul>
<li><strong>Passive 被动攻击</strong>: 监听和窃取信息, 不改变系统状态.</li>
<li><strong>Active 主动攻击</strong>: 篡改、伪造或破坏信息, 改变系统状态.</li>
</ul></li>
<li>按手段:
<ul>
<li><strong>Virus 病毒</strong>: 自我复制, 不单独存在而是嵌入进宿主程序.</li>
<li><strong>Worm 蠕虫</strong>: 自我复制, 独立存在.</li>
<li><strong>Trojan 木马</strong>: 不自我复制 (usu.), 伪装成合法程序诱骗用户安装.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="symmetric-cipher-model-对称加密模型" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="symmetric-cipher-model-对称加密模型"><span class="header-section-number">2.2</span> Symmetric Cipher Model 对称加密模型</h3>
</section>
<section id="asymmetric-cipher-model-非对称加密模型" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="asymmetric-cipher-model-非对称加密模型"><span class="header-section-number">2.3</span> Asymmetric Cipher Model 非对称加密模型</h3>
<ul>
<li><strong>生成过程</strong>: 用一个随机数产生私钥, 再用私钥算出公钥.
<ul>
<li>几乎不可能通过公钥反推私钥. 私钥必须保密, 公钥可以公开.</li>
<li>私钥可以用来加密字符串, 相应的公钥可以用来解密这个字符串.</li>
<li><strong>Digital Signature 电子签名</strong>: 只有私钥持有者能加密字符串, 任何知道公钥的人都能解密这个字符串. 这跟签名的本质是一样的.</li>
</ul></li>
</ul>



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0">
<div id="ref-a2023_introduction" class="csl-entry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline"><span>“Introduction to bitcoin.”</span> Ntu.edu.sg, 2023. Available: <a href="https://www3.ntu.edu.sg/home/ehchua/programming/blockchain/bitcoin.html">https://www3.ntu.edu.sg/home/ehchua/programming/blockchain/bitcoin.html</a>. [Accessed: Dec. 21, 2025]</div>
</div>
<div id="ref-_2025_paxos" class="csl-entry">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">The Secret Lives of Data, <span>“Paxos.”</span> Ofcoder.com, 2025. Available: <a href="https://visual.ofcoder.com/paxos/basic-paxos/">https://visual.ofcoder.com/paxos/basic-paxos/</a>. [Accessed: Dec. 21, 2025]</div>
</div>
<div id="ref-wikipediacontributors_2025_paxos" class="csl-entry">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">W. Contributors, <span>“Paxos (computer science).”</span> Wikipedia; Wikimedia Foundation, Dec. 2025. Available: <a href="https://en.wikipedia.org/wiki/Paxos_%28computer_science%29#Basic_Paxos_without_failures">https://en.wikipedia.org/wiki/Paxos_%28computer_science%29#Basic_Paxos_without_failures</a>. [Accessed: Dec. 21, 2025]</div>
</div>
<div id="ref-_2025_raft" class="csl-entry">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">The Secret Lives of Data, <span>“Raft.”</span> Ofcoder.com, 2025. Available: <a href="https://visual.ofcoder.com/raft/">https://visual.ofcoder.com/raft/</a>. [Accessed: Dec. 21, 2025]</div>
</div>
</div></section></div> ]]></description>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/info-secu-crash-course/</guid>
  <pubDate>Fri, 19 Dec 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/info-secu-crash-course/cover.png" medium="image" type="image/png" height="125" width="144"/>
</item>
<item>
  <title>WSN Crash Course 无线传感器网络速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/wsn-crash-course/</link>
  <description><![CDATA[ 





<section id="phy-physical-layer-物理层" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="phy-physical-layer-物理层"><span class="header-section-number">1</span> PHY (Physical Layer) 物理层</h2>
<blockquote class="blockquote">
<p>物理层负责决定信号具体以什么方式存在以及频率、电压等参数.</p>
</blockquote>
<ul>
<li><strong>Wireless medium 无线传输介质</strong>
<ul>
<li><strong>Radio Frequencies (RF)</strong> (使用最多, 本篇只关注这个)
<ul>
<li><img src="https://latex.codecogs.com/png.latex?3%20%5Ctext%7B%20Hz%20to%20%7D%20300%5Ctext%7B%20GHz%7D"></li>
<li>ISM (Industrial, Scientific, and Medical) bands: RF 频段中为工业、科研、医疗保留的频段, 用户可以无需许可证在功率范围内自由使用.</li>
<li>Main techs:
<ul>
<li><strong>Narrowband 窄带</strong></li>
<li><strong>Spread Spectrum 扩频</strong></li>
<li><strong>Ultra-Wideband (UWB) 超宽带</strong></li>
</ul></li>
</ul></li>
<li>Optical</li>
<li>Acoustic</li>
<li>Magnetic Induction Techniques</li>
</ul></li>
</ul>
<section id="path-loss-and-received-power" class="level3 page-columns page-full" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="path-loss-and-received-power"><span class="header-section-number">1.1</span> Path Loss and Received Power</h3>
<ul>
<li><strong>Friis 传输公式</strong>: 在<strong>自由空间</strong> (no shadowing, no multipath) 中, 设 TX 和 RX 之间距离为 <img src="https://latex.codecogs.com/png.latex?d">, TX 发射功率为 <img src="https://latex.codecogs.com/png.latex?P_t">, 空间电磁能量经 RX 转换后出现在接收端口的可用功率为 <img src="https://latex.codecogs.com/png.latex?P_r">. TX/RX 的方向性增益<sup>1</sup>为 <img src="https://latex.codecogs.com/png.latex?G_t,%20G_r">. 波长为 <img src="https://latex.codecogs.com/png.latex?%5Clambda">. 则有: <span id="eq-friis"><img src="https://latex.codecogs.com/png.latex?%20P_r%20=%20P_t%20G_t%20G_r%20%5Cleft(%20%5Cfrac%7B%5Clambda%7D%7B4%20%5Cpi%20d%7D%20%5Cright)%5E2.%20%5Ctag%7B1%7D"></span>
<ul>
<li>很多时候默认 <img src="https://latex.codecogs.com/png.latex?G_t%20=%20G_r%20=%201"> (各向同性天线).</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Clambda"> 和 频率 <img src="https://latex.codecogs.com/png.latex?f"> 的关系: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bc%20=%20%5Clambda%20f%7D">.</li>
<li>“Minimum received power requirement is <img src="https://latex.codecogs.com/png.latex?-60"> dBm” 中 <strong>dBm</strong> 是以 <img src="https://latex.codecogs.com/png.latex?1%20%5Ctext%7B%20mW%7D"> 为基准的功率单位, 设 <img src="https://latex.codecogs.com/png.latex?P%20%5Ctext%7B%20mW%7D%20=%20x%20%5Ctext%7B%20dBm%7D">, 则: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bx%20=%2010%20%5Clog_%7B10%7D%20%5Cfrac%7BP%7D%7B1%20%5Ctext%7B%20mW%7D%7D%7D"></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?G_t(%5Ctheta,%20%5Cphi)"> 定义为该方向的辐射功率密度 / 同功率各向同性天线的功率密度.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 套 Friis 传输公式
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/wsn-crash-course/example-friis.png" class="img-fluid figure-img"></p>
<figcaption>Question</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Assumptions: Free space, isotropic antennas (<img src="https://latex.codecogs.com/png.latex?G_t%20=%20G_r%20=%201">).</p>
<p>Given: - <img src="https://latex.codecogs.com/png.latex?P_r%20=%20-60%20%5Ctext%7B%20dBm%7D%20=%2010%5E%7B-6%7D%20%5Ctext%7B%20mW%7D"> - <img src="https://latex.codecogs.com/png.latex?d%20=%20100%20%5Ctext%7B%20m%7D"> - <img src="https://latex.codecogs.com/png.latex?%5Clambda%20=%20c%20/%20f%20=%20(3%20%5Ctimes%2010%5E8)%20/%20(3%20%5Ctimes%2010%5E9)%20=%200.1%20%5Ctext%7B%20m%7D"></p>
<p>From Equation&nbsp;1, we have:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AP_t%20=%20P_r%20%5Ccdot%20%5Cleft(%20%5Cfrac%7B4%20%5Cpi%20d%7D%7B%5Clambda%7D%20%5Cright)%5E2%20=%2010%5E%7B-6%7D%20%5Ccdot%20%5Cleft(%20%5Cfrac%7B4%20%5Cpi%20%5Ctimes%20100%7D%7B0.1%7D%20%5Cright)%5E2%20=%20157.9%20%5Ctext%7B%20mW%7D.%0A"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-spread-spectrum" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="sec-spread-spectrum"><span class="header-section-number">1.2</span> Spread Spectrum 扩频</h3>
<ul>
<li><p><strong>DSSS 直接序列扩频</strong> (Direct Sequence Spread Spectrum)</p>
<ul>
<li>DSSS 通过将原始二进制信息 (Baseband) 异或上一串快速变化的 PN chip (见 Figure&nbsp;1) 来提高<strong>基带</strong>带宽 (因为时域变化更快, 频域带宽会更宽).
<ul>
<li>PN chip 比特率高于原始信号比特率!</li>
</ul></li>
<li><strong>PN chip (Pseudo-Noise chip) sequence</strong> 伪随机码片, TX/RX 会产生相同的 PN 序列来进行扩频和解扩.
<ul>
<li>只有知道 PN 序列的 RX 才能正确解扩.</li>
</ul></li>
</ul>
<div id="fig-dsss" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dsss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/dsss.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dsss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: DSSS 示意图 (中间调制的过程忽略了) <span class="citation" data-cites="Hira2014">[1]</span>
</figcaption>
</figure>
</div></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Modulation in brief
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-modulation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-modulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/modulation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-modulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 注意区分数字调制和模拟调制 <span class="citation" data-cites="wikipediacontributors_2025_signal">[2]</span>, 另外 Digital carrier 我们之前接触地很少.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p><strong>FHSS 频率跳变扩频</strong> (Frequency Hopping Spread Spectrum)</p>
<ul>
<li>通过在多个频率间跳变来实现扩频. <strong>跳变的频率中心由 PN chip 控制</strong>.
<ul>
<li>PN chip 的符号率与原始信息的符号率的大小不一定谁大, 若 PN chip 变化很慢, 称为 <strong>Slow FHSS</strong> (Figure&nbsp;3), 反之为 <strong>Fast FHSS</strong> (Figure&nbsp;4).</li>
<li><strong>Chip duration</strong>: Figure&nbsp;3 中的 <img src="https://latex.codecogs.com/png.latex?T_c">.</li>
<li><strong>Fast FHSS 的抗干扰能力更强!</strong> 因为一般 jamming 都是窄带 (攻击起来省能量哈哈), 只要击中一个调制 symbol 的中心频率, 那么这个 symbol 就会被破坏掉. 而 Fast FHSS 在一个调制 symbol 内会跳变多个频率, 因此被击中的概率更低.</li>
</ul></li>
<li>FHSS 之后可以 FSK 也可以 ASK 调制 (Figure&nbsp;2)!</li>
<li>以 Figure&nbsp;3 为例, 若 FHSS 与 FSK 结合, 则设计两个重要参数 <img src="https://latex.codecogs.com/png.latex?M,%20k">:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?M%20=%204">: <strong>FSK 符号数量</strong>. 每次 FSK 以 <img src="https://latex.codecogs.com/png.latex?f_c"> 为中心有 <img src="https://latex.codecogs.com/png.latex?4"> 个偏移的频率 (即 <img src="https://latex.codecogs.com/png.latex?4"> 个 symbol, 每个承载 <img src="https://latex.codecogs.com/png.latex?2"> bit 信息).</li>
<li><img src="https://latex.codecogs.com/png.latex?k%20=%202">: <strong>PN 分组长度</strong>, 代表有 <img src="https://latex.codecogs.com/png.latex?4"> 个不同的 <img src="https://latex.codecogs.com/png.latex?f_c">.</li>
<li><strong>注意区分用于跳频的中心频率 <img src="https://latex.codecogs.com/png.latex?f_c"> 和用来调制的偏移频率</strong>!</li>
</ul></li>
</ul></li>
</ul>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-fhss-slow" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fhss-slow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/fhss-slow.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fhss-slow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Slow FHSS
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-fhss-fast" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fhss-fast-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/fhss-fast.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fhss-fast-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Fast FHSS
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="sec-uwb" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="sec-uwb"><span class="header-section-number">1.3</span> UWB (Ultra-Wideband) 超宽带</h3>
<ul>
<li><strong>Motivation</strong>: UWB 采用完全不同的路线, 它不用载波, <strong>直接在时间轴上发送非常短的脉冲</strong> (ns 级别), 自然地由 Fourier 变换知, 这种短脉冲在频域上会有<strong>非常宽</strong>的带宽! 由于<strong>无需维持稳定的高频载波</strong>, UWB 传输<strong>功耗非常低</strong>.
<ul>
<li>但是 UWB 的传输距离 <img src="https://latex.codecogs.com/png.latex?%3C10%20%5Ctext%7B%20m%7D">.</li>
</ul></li>
</ul>
</section>
</section>
<section id="data-link-layer-数据链路层" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="data-link-layer-数据链路层"><span class="header-section-number">2</span> Data Link Layer 数据链路层</h2>
<section id="llc-logical-link-control-逻辑链路控制子层" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="llc-logical-link-control-逻辑链路控制子层"><span class="header-section-number">2.1</span> LLC (Logical Link Control) 逻辑链路控制子层</h3>
<blockquote class="blockquote">
<p>LLC 提供统一接口给网络层.</p>
</blockquote>
<ul>
<li><strong>Frame management 帧管理</strong>
<ul>
<li><strong>Byte Count 字节计数</strong>: 在帧头部存储帧的字节数.
<ul>
<li>问题: 若字节数出错, 则会 <strong>out of sync</strong>.</li>
</ul></li>
<li><strong>Flag Bytes + Byte Stuffing 标志字节 + 转义符</strong>: 为了解决 frame 之间的同步 (分割) 问题, 在每个 frame 的头尾添加特殊的 flag byte (如 0b01111110). 若这个 flag byte 出现在 frame 内部, 则在它前面添加一个转义符 (ESC, escape byte). 若 ESC 本身出现在 frame 内部, 则也在它前面添加一个 ESC.</li>
</ul></li>
</ul>
</section>
<section id="mac-medium-access-control-介质访问控制子层" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="mac-medium-access-control-介质访问控制子层"><span class="header-section-number">2.2</span> MAC (Medium Access Control) 介质访问控制子层</h3>
<blockquote class="blockquote">
<p>MAC 子层非常接近物理层, 控制物理层什么时候发、发多久.</p>
</blockquote>
<ul>
<li><strong>Broadcast channel 广播信道</strong> (Multiaccess channel / random access channel)
<ul>
<li>在一个广播信道上, 同一时间、同一频段、同一空间接收点只能有一个节点发送数据, 否则会发生碰撞 (collision).</li>
</ul></li>
<li><strong>MAC Protocol</strong>: 用来控制物理层什么时候发、发多久的协议.
<ul>
<li><strong>Contention-free 非竞争型</strong>
<ul>
<li><strong>Static channel allocation 静态信道分配</strong>:
<ul>
<li><strong>FDMA</strong> (每个人固定分配一个频段).</li>
<li><strong>TDMA</strong> (每个人固定分配一个时间片).</li>
<li><strong>CDMA</strong> (每个人固定分配一个信号空间的方向).</li>
</ul></li>
<li><strong>Dynamic channel allocation 动态信道分配</strong>:
<ul>
<li><strong>Polling 轮询</strong>.</li>
<li><strong>Token Passing 令牌传递</strong>.</li>
<li><strong>Reservation 预约</strong>.</li>
</ul></li>
</ul></li>
<li><strong>Contention-based 竞争型</strong>
<ul>
<li><strong>ALOHA</strong> (见 Figure&nbsp;6 和 Figure&nbsp;7)
<ul>
<li><strong>Pure ALOHA</strong>: 随时 (async) 想发就发, 撞了重来.</li>
<li><strong>Slotted ALOHA</strong>: 时间分成一个个时隙 (sync), 只能在时隙开始时发, 撞了重来.</li>
</ul></li>
<li><strong>CSMA (Carrier Sense Multiple Access) 载波监听多路访问</strong>: 先听一听, 没人说话再发.
<ul>
<li><strong>CSMA/CD (Collision Detection, 一般用于有线网络)</strong>: 有线网信号衰减慢, 有人说话大家听得很清楚. 所以先听, 没人再发; 发的同时继续听, 撞了立即停, 并且发 jamming signal 通知其它节点现在发会撞; 等一个随机时间 (会这个随机时间的范围会随着碰撞次数的增加指数增加, 但是不会一直增加) 后重发.</li>
<li><strong>CSMA/CA (Collision Avoidance, 一般用于无线网络)</strong>: 无线网中别人发的信号衰减很快, 远的话几乎区分不了信号和噪声. 也是先听, <strong>感觉</strong>没人后不急着发, 等一个随机时间再发 (backoff 退避), 发的过程中就听不了了 (因为自己的声音太大). 如果在规定时间内收到 ACK 则成功, 否则推断发生了冲突, 重发.
<ul>
<li>现实情况是上面的方案处理 <strong>Hidden node problem 隐藏站问题</strong> (Figure&nbsp;5) 的效率很低. 我们在 CSMA/CA 中加入一个可选协议:</li>
<li><strong>RTS/CTS + NAV (Network allocation vector)</strong>: 在正式发送数据前, 先发 Request to Send 请求发送, 对方收到后<strong>广播</strong>一个 Clear to Send 确认可以发送的信号, 这两个信号中都带有从现在开始到这次通信完成所需的时间长度, 收到 RTS 或 CTS 的节点会将这个时间段内的信道标记为忙 (更新 NAV), 避免在这段时间内发送数据造成冲突 (Figure&nbsp;9). 这样做并不会解决隐蔽站问题, 但能大大降低冲突概率.</li>
</ul></li>
</ul></li>
<li><strong>MACA (Multiple Access with Collision Avoidance) 多路访问与碰撞避免</strong>: 先举手再说话.</li>
<li><strong>MACAW (MACA with ACK) 带确认的多路访问与碰撞避免</strong>: 先举手再说话, 说完还要等确认 (MACA 的改进版).</li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-hidden-node-prob" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hidden-node-prob-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/hidden-node-prob.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hidden-node-prob-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: <strong>Hidden node problem 隐蔽站问题</strong>: Node <img src="https://latex.codecogs.com/png.latex?A,B,C"> 的信号覆盖范围如图所示, <img src="https://latex.codecogs.com/png.latex?A"> 和 <img src="https://latex.codecogs.com/png.latex?C"> 都想跟 <img src="https://latex.codecogs.com/png.latex?B"> 交流, 它们各自感觉信道空闲的时候都先退避再发, 但是有一定概率同时对吧? 如果发出来的信息同时到 <img src="https://latex.codecogs.com/png.latex?B"> 就产生干扰. 虽然 backoff 的策略多重发几次也许就不同时了, 但是这样效率很低.
</figcaption>
</figure>
</div>
</div></div><div class="quarto-layout-panel" data-layout="[[33,67], [31,69]]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.0%;justify-content: flex-start;">
<div id="fig-aloha-demo" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-aloha-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/aloha-demo.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-aloha-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: 两种 ALOHA 对比, 红框代表这些包都作废 <span class="citation" data-cites="ahn_2015_slotted">[3]</span>.
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 67.0%;justify-content: flex-start;">
<div id="fig-aloha-performance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-aloha-performance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/aloha-performance.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-aloha-performance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: <img src="https://latex.codecogs.com/png.latex?G"> 就是 Poisson 分布里的 <img src="https://latex.codecogs.com/png.latex?%5Clambda"> (即单位时间 (一般用 frame time 作单位, 即平均一个包被天线发出去的时间) 平均下来会发出多少个包); <img src="https://latex.codecogs.com/png.latex?S"> 为平均意义下单位时间<strong>成功发出</strong>的包数量. 可见同步的吞吐量更高!
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 31.0%;justify-content: flex-start;">
<div id="fig-rts-cts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rts-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/rts-cts.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rts-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: <strong>RTS/CTS</strong> 简单示意 <span class="citation" data-cites="Nguyen2013">[4]</span>
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 69.0%;justify-content: flex-start;">
<div id="fig-rts-cts-nav" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rts-cts-nav-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/rts-cts-nav.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rts-cts-nav-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: RTS/CTS 如何与 NAV 协同工作 <span class="citation" data-cites="s17010032">[5]</span>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="network-layer-网络层" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="network-layer-网络层"><span class="header-section-number">3</span> Network Layer 网络层</h2>
<ul>
<li><p><strong>Routing Protocols 路由算法</strong></p></li>
<li><p><strong>Routing metrics 路由指标</strong> (见 Figure&nbsp;11)</p>
<ul>
<li><strong>(Min) Number of hops 跳数</strong>: (<strong>relay node</strong> 指中继节点的个数 (不算 source 和 sink)).</li>
<li><strong>(Min) Energy consumption (per packet) 能量消耗</strong>: 每条链路上的能量消耗加起来即可.</li>
<li><strong>(Max) Average energy capacity 平均能量容量</strong>: relay node 上剩余能量的平均值.</li>
<li><strong>(Max) Minimum energy capacity 最小能量容量</strong>: relay node 上剩余能量的最小值 (要尽可能大).</li>
<li><strong>(Min) Latency 延迟</strong>: 每条链路上的延迟加起来即可.</li>
<li><strong>(Max) Time to network partition 网络分裂时间</strong>: 由于 WSN 中节点由电池供电, 当确定一种路由算法时, 节点上的数值 (电量) 会逐渐消耗, 直到网络中存在两个节点无法通信 (网络分裂). 网络分裂时间越长越好.</li>
</ul></li>
<li><p>Hierarchical routing</p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 找路径题目
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-path-example" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-path-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/path-example.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-path-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: 这种找路径的题目就是纯**, 暴力枚举即可
</figcaption>
</figure>
</div>
<div id="fig-path-example-sol" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-path-example-sol-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/path-example-sol.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-path-example-sol-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Solution to Figure&nbsp;10
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="transport-layer-传输层" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="transport-layer-传输层"><span class="header-section-number">4</span> Transport Layer 传输层</h2>
<ul>
<li><strong>与计算机网络的传输层区别</strong>:
<ul>
<li><strong>计算机网络</strong>: Transport 层 <img src="https://latex.codecogs.com/png.latex?%5Capprox"> TCP/UDP, 侧重从 source 到 destination 的可靠传输 (保证没有丢包)、包的顺序要对.</li>
<li><strong>WSN</strong>: 考虑由 <img src="https://latex.codecogs.com/png.latex?1000"> 个温度传感器组成的网络, 一般只关心数据有没有到中心 (sink) 而不是端到端, 不需要每丢一个包就重传 (不需要 TCP 那么可靠, 当然也看具体场景, 比如 RMST 就要求可靠), 这样会让本来就没多少电的节点耗能爆炸. 每个节点甚至都没有唯一的 ID (计算机网络中的 IP). WSN 的 Transport 层针对不同的应用场景设计了下面很多不同的协议!</li>
</ul></li>
<li><strong>RMST (Reliable Multi-Segment Transport)</strong>
<ul>
<li><strong>目标</strong>: 如何以尽量<strong>低的能耗</strong>, 把<strong>Multi-segment</strong>数据 (指一整块数据, 但是是被分成多个 segment) <strong>可靠</strong> (所有 segment 都要送到) 地传到 sink?</li>
<li><strong>Directed Diffusion (DD) 路由算法</strong>: RMST 默认有这种路由算法的存在. 如何让每个节点知道收到的数据发给谁? 由于 WSN 中数据几乎都是要发给 sink 的, 我们先让 sink 广播一个 Interest 消息 (Figure&nbsp;12 (a)), 这样得到了从 sink 到每个节点的反向路径, 如果要反过来发的话直接将每个箭头反过来即可.</li>
<li><strong>可靠传输机制</strong>: 由 NACK 信号保证 (用 ACK 就要发大量的包, <strong>占用大量带宽</strong>).</li>
<li><strong>工作模式</strong> (见 Figure&nbsp;13 和 Figure&nbsp;14):
<ul>
<li><strong>Non-caching</strong>: 节点都没有缓存, 并且丢失的包必须由源节点重传, <strong>易造成网络拥塞和丢包</strong> (这个协议几乎不实用, 一般只是作对照用的).</li>
<li><strong>Caching</strong>: 一部分中间节点有缓存 (cache node), 这样可以<strong>缓解网络拥塞</strong>, 但是<strong>内存读写会增加能耗开销</strong>.</li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-dd" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/dd.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: DD 分为 <img src="https://latex.codecogs.com/png.latex?3"> 个步骤 <span class="citation" data-cites="Lu2013">[6]</span>.
</figcaption>
</figure>
</div>
</div></div><div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-rmst-non-caching" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rmst-non-caching-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/rmst-non-caching.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rmst-non-caching-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Non-caching RMST 丢失的包必须由源节点重传.
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-rmst-caching" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rmst-caching-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/rmst-caching.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rmst-caching-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: Caching RMST 丢失的包可以由 cache node 重传.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li><strong>PSFQ (Pump Slowly, Fetch Quickly)</strong>
<ul>
<li><strong>目标</strong>: 信息传递方向跟 RMST 相反, 由 sink 向所有节点广播信息 (比如代码、配置参数等下发), 尽量不要造成拥塞.</li>
<li><strong>工作机制</strong>: sink 以较慢的速率注入数据包 (比如每隔 <img src="https://latex.codecogs.com/png.latex?T_%5Cmin%20=%20100%20%5Ctext%7B%20ms%7D"> pump 一个 Figure&nbsp;15), 节点收到数据包后立即向下一个节点转发, 如果不是按顺序收到, 则向<strong>上一个节点</strong>发送 NACK 快速获取 (fetch) 丢失的数据包 (所以是 <strong>hop-by-hop</strong> reliability 而不是 end-to-end)</li>
<li><strong>特点</strong>:
<ul>
<li><strong>Scales well</strong>.</li>
<li><strong>Hop-by-hop reliability</strong> (end-to-end may not be reliable).</li>
<li><strong>大网络 latency 很高</strong> (由于注入间隔 <img src="https://latex.codecogs.com/png.latex?T_%5Cmin"> 的存在).</li>
<li><strong>网络边缘的节点 memory 需要较大</strong> (因为包更容易 out-of-order 到, 需要存下后面的包).</li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-psfq" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-psfq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/psfq.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-psfq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: PSFQ 的 quick fetch.
</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>CODA (Congestion Detection and Avoidance)</strong></p>
<ul>
<li><strong>目标</strong>: 跟 RMST 和 PSFQ 不同, CODA 只关注<strong>拥塞控制</strong>, 不关心每个包是否送达.</li>
<li><strong>工作机制</strong> (简略): 下游节点会向上游节点发送 suppression message 来通知上游节点降低发送速率.</li>
</ul></li>
<li><p><strong>ESRT (Event-to-Sink Reliable Transport)</strong></p>
<ul>
<li><strong>目标</strong>: ESRT 同时关注 <strong>拥塞控制</strong> 和 <strong>(event)可靠性</strong> (在温度预警 WSN 中也许有很多节点传的都是是否火灾的信息, 不需要每个节点的信息都送到 sink, 只要确保火灾发生时这个 <strong>event</strong> 能被 sink 收到即可).</li>
<li><strong>工作机制</strong> (简略): 事件发生, 多个节点开始上报, sink 在时间窗 <img src="https://latex.codecogs.com/png.latex?%5Ctau"> 内统计 <img src="https://latex.codecogs.com/png.latex?r_i"> 然后判断是否满足 <img src="https://latex.codecogs.com/png.latex?R">. sink 广播控制指令: “所有节点把速率调到 <img src="https://latex.codecogs.com/png.latex?f'">”. 节点收到后调整速率, 进入下一轮 <img src="https://latex.codecogs.com/png.latex?%5Ctau">.
<ul>
<li><strong>Dicision interval <img src="https://latex.codecogs.com/png.latex?%5Ctau"></strong>: sink 每隔 <img src="https://latex.codecogs.com/png.latex?%5Ctau"> 时间根据收到包的数量判断一下可靠性.</li>
<li><strong>Desired event reliability <img src="https://latex.codecogs.com/png.latex?R"></strong>: 在一个决策时间窗 <img src="https://latex.codecogs.com/png.latex?%5Ctau"> 内, sink 至少需要收到多少个事件相关的数据包 (要提前给定).</li>
<li><strong>Observed event reliability <img src="https://latex.codecogs.com/png.latex?r_i"></strong>: sink 在第 <img src="https://latex.codecogs.com/png.latex?i"> 个决策时间窗 <img src="https://latex.codecogs.com/png.latex?%5Ctau_i"> 内实际收到的事件相关的数据包数量.</li>
<li><strong>Reporting rate <img src="https://latex.codecogs.com/png.latex?f"></strong>: 所有节点的平均发送速率.</li>
</ul></li>
</ul></li>
<li><p><strong>GARUDA</strong>: pulsing-based, 确保单个包送达. (了解即可)</p></li>
<li><p><strong>(RT)<img src="https://latex.codecogs.com/png.latex?%5E2"></strong> (Real-Time Reliable Transport): 强调实时性和能量最小. (了解即可)</p></li>
</ul>
</section>
<section id="localization-定位" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="localization-定位"><span class="header-section-number">5</span> Localization 定位</h2>
<blockquote class="blockquote">
<p>「温度传感器报告 <img src="https://latex.codecogs.com/png.latex?80%20%5E%5Ccirc%20%5Ctext%7BC%7D">」 是没有意义的, 「在 A 区域第 3 号设备旁」 才有意义.</p>
</blockquote>
<section id="range-based-依赖距离测量" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="range-based-依赖距离测量"><span class="header-section-number">5.1</span> Range-based 依赖距离测量</h3>
<ul>
<li><strong>Ranging techniques 测距技术</strong>
<ul>
<li><strong>RSS (Received Signal Strength) 接收信号强度</strong>: 在已知 path-loss model 的情况下, 可通过比较接收信号强度与发射信号强度来估计距离. 如果不是 LoS (对着发), 误差会很大.</li>
<li><strong>ToA (Time of Arrival) 到达时间</strong>: 利用初中物理 路程 = 光速 × 时间, 知道时间即可算出距离.
<ul>
<li><strong>One-way ToA</strong>: 需要 TX 和 RX <strong>sync</strong> (Figure&nbsp;16 (a)), 由于光速太快, 需要极高精度的时钟同步!</li>
<li><strong>Two-way ToA</strong>: 不需要 sync! 但要知道 RX 端的处理时间 (processing delay <img src="https://latex.codecogs.com/png.latex?t_3-t_2"> in Figure&nbsp;16 (b)).</li>
</ul></li>
<li><strong>TDoA (Time Difference of Arrival) 到达时间差</strong>: 不需要 sync! 如 Figure&nbsp;16 (c), <img src="https://latex.codecogs.com/png.latex?t_1"> 发 RF, <img src="https://latex.codecogs.com/png.latex?t_3"> 发 sound, 则距离 <img src="https://latex.codecogs.com/png.latex?d%20=%20(v_1-v_2)%20%5Ccdot%20((t_4-t_2)%20-%20(t_3-t_1))"></li>
</ul>
<div id="fig-toa" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-toa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/toa.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-toa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: (a) One-way ToA; (b) Two-way ToA; (c) TDoA <span class="citation" data-cites="Gkiokas2015">[7]</span>
</figcaption>
</figure>
</div>
<ul>
<li><strong>AoA (Angle of Arrival) 到达角度</strong>: 单看角度当然不能知道距离, 需要多个节点测量同一个 TX 的 AoA 来三角定位 (Triangulation). 计算相对复杂.</li>
</ul></li>
<li><strong>Range-based protocols</strong>
<ul>
<li><strong>Triangulation 三角测量</strong>: 见 Figure&nbsp;17, 两个 anchor node <img src="https://latex.codecogs.com/png.latex?A,%20B"> <strong>相对位置已知</strong>, 再测量两个角度即可.</li>
<li><strong>Trilateration 三边测量</strong>: 见 Figure&nbsp;18, 三个球相交于一点. GPS 的工作原理 (只不过 GPS 需要 <img src="https://latex.codecogs.com/png.latex?4"> 个卫星来同时解出时间偏移).
<ul>
<li><strong>Iterative multilateration 迭代多边测量</strong>: 在一个 WSN 系统中, 先用人工或 GPS 确定少量几个 anchor node 相对位置, 然后用 Trilateration 算出其他 node 位置, 这些 node 就变成新的 anchor node … (这种方法会有 <strong>Error propagation</strong> 问题, 但仍在使用).</li>
<li><strong>Collaborative multilateration 协同多边测量</strong>: 一个 node 附近不一定会有 <img src="https://latex.codecogs.com/png.latex?3"> 个 anchor node, 所有 node 都可以用 Trilateration 开始测量周围的 node 位置, 然后用一些复杂的优化算法来算出所有 node 位置 (更准确).</li>
</ul></li>
</ul></li>
</ul>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-triangulation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-triangulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/triangulation.png" class="img-fluid figure-img" style="width:55.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-triangulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17: Triangulation
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-trilateration" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trilateration-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/trilateration.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trilateration-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18: Trilateration
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="range-free-不依赖距离测量" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="range-free-不依赖距离测量"><span class="header-section-number">5.2</span> Range-free 不依赖距离测量</h3>
</section>
<section id="localization-style" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="localization-style"><span class="header-section-number">5.3</span> Localization style</h3>
<ul>
<li><p><strong>Periodic</strong>: 周期性地对所有节点进行定位.</p></li>
<li><p><strong>Event-driven</strong>: 只有当某个感知事件发生时, 相关节点才触发定位过程.</p></li>
</ul>
</section>
</section>
<section id="synchronization-同步" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="synchronization-同步"><span class="header-section-number">6</span> Synchronization 同步</h2>
<blockquote class="blockquote">
<p>节点 <img src="https://latex.codecogs.com/png.latex?A,B"> 的时钟是<strong>同步</strong>的意思是: 在非狭义相对论的范围内,「12:20」这个时间戳对于 <img src="https://latex.codecogs.com/png.latex?A,B"> 节点没有歧义.</p>
</blockquote>
<ul>
<li>一些概念:
<ul>
<li><strong>Clock offset</strong>: 路程差.「快了 20 s」</li>
<li><strong>Clock rate</strong>: 速率. 1 s 内这个时钟实际只走了 0.9 s (clock rate = 0.9).
<ul>
<li><strong>Clock skew</strong>: 速率差. 两个时钟的 Clock rates difference.</li>
</ul></li>
<li><strong>Drift rate</strong>: 加速度. 一个时钟时快时慢的程度.</li>
</ul></li>
<li>Challenges:
<ul>
<li>Environmental effects: 天太冷影响同步.</li>
<li>Energy constraints: 电池没电钟走慢了.</li>
<li>Wireless medium and mobility: ACK 信号丢包了.</li>
</ul></li>
<li><strong>Sync methods 同步方法</strong>
<ul>
<li><strong>One-way sync 单向同步</strong>: Node <img src="https://latex.codecogs.com/png.latex?A"> 将发送时刻的时间戳 <img src="https://latex.codecogs.com/png.latex?t_1"> 附加在消息中发送给 Node <img src="https://latex.codecogs.com/png.latex?B">, 传播时间 <img src="https://latex.codecogs.com/png.latex?D"> 很小 (一般忽略或设为常数), <img src="https://latex.codecogs.com/png.latex?B"> 在 <img src="https://latex.codecogs.com/png.latex?t_2"> 收到. 如果 <img src="https://latex.codecogs.com/png.latex?t_2"> 和 <img src="https://latex.codecogs.com/png.latex?t_1%20+%20D"> 有差异, 则这个差异就是 clock offset <img src="https://latex.codecogs.com/png.latex?%5Cdelta">.</li>
<li><strong>Two-way sync 双向同步</strong></li>
<li><strong>Receiver-receiver sync</strong></li>
</ul></li>
</ul>
</section>
<section id="security-in-wsns" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="security-in-wsns"><span class="header-section-number">7</span> Security in WSNs</h2>
<ul>
<li><strong>CIA Model</strong>
<ul>
<li>Components:
<ul>
<li><strong>Confidentiality 机密性</strong>: 不该看到的人, 看不到数据.</li>
<li><strong>Integrity 完整性</strong>: 数据在传输过程中不被篡改.</li>
<li><strong>Availability 可用性</strong>: 正常工作的概率.</li>
</ul></li>
<li>在不同的场景中, 这三者的重要性不同.
<ul>
<li>火灾检测: IA &gt; C</li>
<li>机场生物识别信息收集: CI &gt; A</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="queuing-theory-排队论" class="level2 page-columns page-full" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="queuing-theory-排队论"><span class="header-section-number">8</span> Queuing Theory 排队论</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bernoulli, Poisson, Exponential, Binomial, Geometric, Negative Binomial 分布关系
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>见 <a href="../../posts/probability-thy/index.html#sec-common-distributions">这篇文章</a>, but in brief:</p>
<ul>
<li><p>连续时间 Bernoulli 过程 <img src="https://latex.codecogs.com/png.latex?%5Ciff"> 单位时间到达人数 <img src="https://latex.codecogs.com/png.latex?%5Csim%20%5Coperatorname%7BPois%7D%20(%5Clambda)%20%5Ciff"> 相邻两次到达时间间隔 <img src="https://latex.codecogs.com/png.latex?%5Csim%20%5Coperatorname%7BExp%7D%20(%5Clambda)">.</p></li>
<li><p>离散时间 Bernoulli 过程 <img src="https://latex.codecogs.com/png.latex?%5Ciff"> 单位时间到达人数 <img src="https://latex.codecogs.com/png.latex?%5Csim%20B(n,p)%20%5Ciff"> 相邻两次到达时间间隔 <img src="https://latex.codecogs.com/png.latex?%5Csim%20G(p)">.</p>
<ul>
<li>几何分布是负二项分布的特殊情况: <img src="https://latex.codecogs.com/png.latex?G(p)%20%5Ciff%20NB(1,%20p)">.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<section id="kendalls-notation" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="kendalls-notation"><span class="header-section-number">8.1</span> Kendall’s Notation</h3>
<p><img src="https://latex.codecogs.com/png.latex?%0AA/S/C/K/N/D%0A"></p>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?A">: Arrival model 到达模型, 可选:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?M">: Memoryless (Poisson process).</li>
<li><img src="https://latex.codecogs.com/png.latex?E_k">: Erlang distribution (Sum of k i.i.d. exponential R.V.).</li>
<li><img src="https://latex.codecogs.com/png.latex?G">: General distribution.</li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?S">: Service model 服务模型, 可选同上.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?C">: Number of parallel servers 并行服务器数量 (<img src="https://latex.codecogs.com/png.latex?%5Cneq"> number of queues).</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?K">: Capacity of queue 队列容量 (maximum number of people allowed in each queue), 可选:</p>
<ul>
<li>Finite.</li>
<li>Infinite (<img src="https://latex.codecogs.com/png.latex?%5Cinfty">).</li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?N">: Capacity of calling population (队里的人从哪里来的, 如果是有限的则会影响 arrival rate), 可选同上.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?D">: Service discipline 服务方式, 可选:</p>
<ul>
<li><strong>FIFO/FCFS</strong>: First In (Come), First Out (Serve).</li>
<li><strong>LIFO/LCFS</strong>: Last In (Come), First Out (Serve).</li>
<li><strong>SIRO</strong>: Serve In Random Order.</li>
<li><strong>PQ</strong>: Priority Queueing.</li>
</ul></li>
</ul>
</section>
<section id="examples" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="examples"><span class="header-section-number">8.2</span> Examples</h3>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-queue-ex1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-queue-ex1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/queue-ex1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-queue-ex1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19: <img src="https://latex.codecogs.com/png.latex?M%20/%20M%20/%201%20/%207%20/%20%5Cinfty%20/%20%5Ctext%7BFIFO%7D"> Queue
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-queue-ex2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-queue-ex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/queue-ex2.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-queue-ex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;20: <img src="https://latex.codecogs.com/png.latex?M%20/%20M%20/%203%20/%208%20/%20%5Cinfty%20/%20%5Ctext%7BFIFO%7D"> Queue
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="notation-of-parameters" class="level3 page-columns page-full" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="notation-of-parameters"><span class="header-section-number">8.3</span> Notation of Parameters</h3>
<ul>
<li>cust.: customer.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Clambda">: <strong>Mean arrival rate</strong>, 平均来看单位时间会到多少人, <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D%20(%5C#%20%5Ctext%7Bcust.%20arrived%7D)"> per unit time.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmu">: <strong>Mean service rate</strong>, 平均来看单位时间能服务多少人, <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D%20(%5C#%20%5Ctext%7Bcust.%20served%7D)"> per unit time.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Crho%20:=%20%5Clambda%20/%20(C%20%5Cmu)">: <strong>Utilization factor / Traffic intensity</strong>.</li>
<li><img src="https://latex.codecogs.com/png.latex?n">: <img src="https://latex.codecogs.com/png.latex?%5C#%20%5Ctext%7Bcust.%7D"> in the:
<ul>
<li>system: <img src="https://latex.codecogs.com/png.latex?n_s">.</li>
<li>queue: <img src="https://latex.codecogs.com/png.latex?n_q">.</li>
</ul></li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_n(t)">: Probability of having <img src="https://latex.codecogs.com/png.latex?n"> customers in the <strong>system</strong> at time <img src="https://latex.codecogs.com/png.latex?t">.
<ul>
<li>Write <img src="https://latex.codecogs.com/png.latex?%5Cpi_n%20%5Cequiv%20%5Cmathbb%7BP%7D_n%20(%5Cinfty)">, 平稳后 system 中有 <img src="https://latex.codecogs.com/png.latex?n"> 个 cust. 的概率.</li>
</ul></li>
<li><img src="https://latex.codecogs.com/png.latex?W">: <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D(%5Ctext%7Bwaiting%20time%7D)"> per cust. in the:
<ul>
<li>system: <img src="https://latex.codecogs.com/png.latex?W_s">, 平均来看每人在系统里待了多久 (计算结果见 Equation&nbsp;3).</li>
<li>queue: <img src="https://latex.codecogs.com/png.latex?W_q">, 平均来看每人在队列里待了多久 (计算结果见 Equation&nbsp;3).</li>
</ul></li>
<li><img src="https://latex.codecogs.com/png.latex?L">: <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D(%5C#%20%5Ctext%7Bcust.%7D)"> in the:
<ul>
<li>system<sup>2</sup>: <img src="https://latex.codecogs.com/png.latex?L_s">, 平均来看系统中有多少人 (计算结果见 Equation&nbsp;2).</li>
<li>queue: <img src="https://latex.codecogs.com/png.latex?L_q">, 平均来看队列中有多少人 (计算结果见 Equation&nbsp;3).</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;试卷中这个概念被错误地称为 “Queue length”! 应叫 “System length”.</p></div></div></section>
<section id="m-m-1-infty-infty-textfifo-queue-生灭过程" class="level3 page-columns page-full" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="m-m-1-infty-infty-textfifo-queue-生灭过程"><span class="header-section-number">8.4</span> <img src="https://latex.codecogs.com/png.latex?M%20/%20M%20/%201%20/%20%5Cinfty%20/%20%5Cinfty%20/%20%5Ctext%7BFIFO%7D"> Queue 生灭过程</h3>
<blockquote class="blockquote">
<p>cust. 到达和离开可以代表生命的诞生和死亡, 因此这种排队过程也叫生灭过程 (birth-death process).</p>
</blockquote>
<section id="系统中的稳态人数为几何分布" class="level4 page-columns page-full" data-number="8.4.1">
<h4 data-number="8.4.1" class="anchored" data-anchor-id="系统中的稳态人数为几何分布"><span class="header-section-number">8.4.1</span> 系统中的稳态人数为几何分布</h4>
<blockquote class="blockquote">
<p>这是一切生灭过程结论的起点!</p>
</blockquote>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Geometric Distribution
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-geo" class="theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> 平稳后 system (not queue!) 中的人数 <img src="https://latex.codecogs.com/png.latex?%5Cpi"> 满足<strong>几何分布</strong><sup>3</sup>: <img src="https://latex.codecogs.com/png.latex?%5Cpi+1%20%5Csim%20G(1-%5Crho)."></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;加一的原因是: 几何分布从 <img src="https://latex.codecogs.com/png.latex?1"> 开始, 而 <img src="https://latex.codecogs.com/png.latex?%5Cpi"> 的取值从 <img src="https://latex.codecogs.com/png.latex?0"> 开始.</p></div><div class="">
<div id="fig-geo-dis" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-geo-dis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/geo-dis.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-geo-dis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;21: 移动到原点的 <img src="https://latex.codecogs.com/png.latex?G(p)"> 的 p.m.f. 随 <img src="https://latex.codecogs.com/png.latex?p"> 的变化 <span class="citation" data-cites="a2020_geometric">[8]</span>.
</figcaption>
</figure>
</div>
</div></div>
<ul>
<li><p>Theorem&nbsp;1 肯定不显然, 需要离散化然, 取极限再让时间 <img src="https://latex.codecogs.com/png.latex?t%20%5Cto%20%5Cinfty"> 来证明 (就像 Poisson 分布的推到一样), omitted here.</p></li>
<li><p>并且这是一个全局稳定解, 即最终 system 中的分布与队中的初始人数无关!! (可理解为 <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bbmatrix%7D%20%5Cpi_0%20%5C%5C%20%5Cpi_1%20%5C%5C%20%5Cpi_2%20%5C%5C%20%5Cvdots%20%5Cend%7Bbmatrix%7D"> 为无穷维相空间中的稳定吸引子).</p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
系统中的平均人数
</div>
</div>
<div class="callout-body-container callout-body">
<div id="cor-ls" class="theorem corollary">
<p><span class="theorem-title"><strong>Corollary 1</strong></span> 由 Theorem&nbsp;1 和 Geometric Distribution 的性质可知: <span id="eq-ls"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BL_s%20=%20%5Cfrac%7B%5Crho%7D%7B1-%5Crho%7D%7D%20%5Ctag%7B2%7D"></span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="expectation-space-es" class="level4" data-number="8.4.2">
<h4 data-number="8.4.2" class="anchored" data-anchor-id="expectation-space-es"><span class="header-section-number">8.4.2</span> Expectation Space (ES)</h4>
<blockquote class="blockquote">
<p>这是生灭过程剩余所有结论的直接诱导思想!</p>
</blockquote>
<ul>
<li>ES 基本思想和局限性:
<ul>
<li>对于任何随机过程, 很多时候可以将随机性忽略, 让考虑所有量都按照<strong>期望</strong>稳定存在的 mental picture. 由于没有找到已知的合适的名词, 我们姑且将此称为 Expectation Space 吧.</li>
<li><strong>Advantage</strong>: ES 可以让很多结论变得显然.</li>
<li><strong>Limitation</strong>: 对于生灭过程, 若 <img src="https://latex.codecogs.com/png.latex?%5Clambda%20%3C%20%5Cmu">, 若想象成水按速率 <img src="https://latex.codecogs.com/png.latex?%5Clambda"> 流入管道, 流出速率最大值可达 <img src="https://latex.codecogs.com/png.latex?%5Cmu">, 则管道里永远也不会留下水, 而后面我们会知道实际上管道里平均来说会留下 <img src="https://latex.codecogs.com/png.latex?L_s%20=%20%5Crho%20/%20(1-%5Crho)"> 的水量. 这是因为 cust. 到达和离开是随机的, 有可能一小段时间内有很多 cust. 到达而处理时间又比较长, 这样管道里就会积累一些水.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
生灭过程的 Expectation Space 结论
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-es" class="theorem">
<p><span class="theorem-title"><strong>Theorem 2</strong></span> 由 Figure&nbsp;22:</p>
<div id="fig-es" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-es-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/wsn-crash-course/es.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-es-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;22: 生灭过程的 ES.
</figcaption>
</figure>
</div>
<p>结合 Corollary&nbsp;1 显然有:</p>
<p><span id="eq-es"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AL_s%20=%20%5Clambda%20W_s%20&amp;%5Cimplies%20%5Cboxed%7BW_s%20=%20%5Cfrac%7BL_s%7D%7B%5Clambda%7D%20=%20%5Cfrac%7B1%7D%7B%5Cmu-%5Clambda%7D%7D%20%5C%5C%0AW_s%20-%20W_q%20=%20%5Cfrac%7B1%7D%7B%5Cmu%7D%20&amp;%5Cimplies%20%5Cboxed%7BW_q%20=%20W_s%20-%20%5Cfrac%7B1%7D%7B%5Cmu%7D%20=%20%5Cfrac%7B%5Crho%7D%7B%5Cmu%20-%20%5Clambda%7D%7D%20%5C%5C%0AL_q%20=%20%5Clambda%20W_q%20&amp;%5Cimplies%20%5Cboxed%7BL_q%20=%20%5Cfrac%7B%5Crho%5E2%7D%7B1-%5Crho%7D%7D.%0A%5Cend%7Baligned%7D%0A%5Ctag%7B3%7D"></span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->



</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0">
<div id="ref-Hira2014" class="csl-entry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">A. Hira, N. Sakib, N. Sarker, Md. N. Mollah, S. Mohamed, and M. Rashid, <span>“A novel approach to signal encryption: Improved version of conventional direct sequence spread spectrum scheme,”</span> <em>Advanced Science Letters</em>, vol. 20, Oct. 2014, doi: <a href="https://doi.org/10.1166/asl.2014.5684">10.1166/asl.2014.5684</a></div>
</div>
<div id="ref-wikipediacontributors_2025_signal" class="csl-entry">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">W. Contributors, <span>“Signal modulation.”</span> Wikipedia; Wikimedia Foundation, Mar. 2025. Available: <a href="https://en.wikipedia.org/wiki/Signal_modulation">https://en.wikipedia.org/wiki/Signal_modulation</a>. [Accessed: Dec. 19, 2025]</div>
</div>
<div id="ref-ahn_2015_slotted" class="csl-entry">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">H. Ahn, <span>“Slotted ALOHA protocol.”</span> Hongseo Ahn’s Blog, Apr. 2015. Available: <a href="https://honser.github.io/project/2015/04/26/Slotted-ALOHA-Protocol/">https://honser.github.io/project/2015/04/26/Slotted-ALOHA-Protocol/</a>. [Accessed: Dec. 22, 2025]</div>
</div>
<div id="ref-Nguyen2013" class="csl-entry">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">C. Nguyen, A. Mokraoui, P. Duhamel, and L. Nguyen, <span>“Improved time and frequency synchronization algorithm for 802.11aWireless standard based on the SIGNAL field,”</span> <em>REV Journal on Electronics and Communications</em>, vol. 3, Jun. 2013, doi: <a href="https://doi.org/10.21553/rev-jec.53">10.21553/rev-jec.53</a></div>
</div>
<div id="ref-s17010032" class="csl-entry">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">J. Cho, E. Shitiri, and H.-S. Cho, <span>“Network allocation vector (NAV) optimization for underwater handshaking-based protocols,”</span> <em>Sensors</em>, vol. 17, no. 1, 2017, doi: <a href="https://doi.org/10.3390/s17010032">10.3390/s17010032</a>. Available: <a href="https://www.mdpi.com/1424-8220/17/1/32">https://www.mdpi.com/1424-8220/17/1/32</a></div>
</div>
<div id="ref-Lu2013" class="csl-entry">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline">H. Lu, <span>“A novel routing algorithm for hierarchical wireless sensor networks,”</span> Jan. 2013, doi: <a href="https://doi.org/10.6084/M9.FIGSHARE.761940">10.6084/M9.FIGSHARE.761940</a></div>
</div>
<div id="ref-Gkiokas2015" class="csl-entry">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline">C. Gkiokas, <span>“Localization of a mobile node in a wireless sensor network: An evaluation of RSSI as a distance metric,”</span> PhD thesis, 2015.</div>
</div>
<div id="ref-a2020_geometric" class="csl-entry">
<div class="csl-left-margin">[8] </div><div class="csl-right-inline"><span>“Geometric distribution.”</span> Wikipedia, Mar. 2020. Available: <a href="https://en.wikipedia.org/wiki/Geometric_distribution">https://en.wikipedia.org/wiki/Geometric_distribution</a>. [Accessed: Dec. 22, 2025]</div>
</div>
</div></section></div> ]]></description>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/wsn-crash-course/</guid>
  <pubDate>Wed, 17 Dec 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/wsn-crash-course/cover.png" medium="image" type="image/png" height="48" width="144"/>
</item>
<item>
  <title>Probability Theory Takeaways 概率论极简笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/probability-thy/</link>
  <description><![CDATA[ 





<section id="spaces-空间" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="spaces-空间"><span class="header-section-number">1</span> Spaces 空间</h2>
<ul>
<li><p><strong>Sample Space 样本空间 <img src="https://latex.codecogs.com/png.latex?%5COmega"></strong>: 任何 Set 集合</p>
<ul>
<li>Example: 抛一个骰子的样本空间 <img src="https://latex.codecogs.com/png.latex?%5COmega%20=%20%5C%7B%5Ctext%7B%60%601''%7D,%20%5Ctext%7B%60%602''%7D,%20%5Ctext%7B%60%603''%7D,%20%5Ctext%7B%60%604''%7D,%20%5Ctext%7B%60%605''%7D,%20%5Ctext%7B%60%606''%7D%5C%7D">, 注意集合里面的元素是字符串 (或者其它能代表能抛出的点数的象征符号, 一句话, 一张图片, 一个表情 / 心情都可以), 最好不要理解为数字!</li>
<li><strong>Outcome 实验结果</strong>: 样本空间中的元素. 理解为 <strong>“The result of a single trial of the experiment.”</strong></li>
</ul></li>
<li><p><strong>Event Space 事件空间 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BA%7D"></strong>: Measurable Space 可测空间</p>
<ul>
<li>Example: 抛一个骰子的事件空间 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BA%7D%20=%20%5C%7B%5Ctext%7B%60%601''%7D,%20%5Ctext%7B%60%602''%7D,%20%5Ctext%7B%60%603''%7D,%20%5Ctext%7B%60%604''%7D,%20%5Ctext%7B%60%605''%7D,%20%5Ctext%7B%60%606''%7D,%20%5Ctext%7B%60%601%20or%202''%7D,%20%5Ctext%7B%60%601%20or%203''%7D,%20%5Ccdots,%20%5COmega,%20%5Cvarnothing%5C%7D"></li>
<li><strong>Event 事件</strong>: 可测集, Event Space 中的元素. 理解为 <strong>“A meaningful statement about the experiment.”</strong></li>
<li><strong>Event occurs 事件发生</strong>: 某个 outcome 属于某个 event: <img src="https://latex.codecogs.com/png.latex?A%20%5Cin%20%5Cmathcal%7BA%7D%20%5Ctext%7B%20occurs%20%7D%20:%5Ciff%20%5Ctext%7Boutcome%20%7D%20s%20%5Cin%20A."></li>
</ul></li>
<li><p><strong>Probability Space 概率空间 <img src="https://latex.codecogs.com/png.latex?(%5COmega,%20%5Cmathcal%7BA%7D,%20%5Cmathbb%7BP%7D)"></strong>: Measure Space 测度空间</p>
<ul>
<li><strong>Conditional Probability 条件概率</strong>: 事件 <img src="https://latex.codecogs.com/png.latex?B"> 诱导的概率测度 (<img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_B(A)"> 常记作 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D(A%7CB)">): <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cmathbb%7BP%7D_B%20(A)%20:=%0A%20%20%5Cbegin%7Bcases%7D%20%5Cfrac%7B%5Cmathbb%7BP%7D(A%20%5Ccap%20B)%7D%7B%5Cmathbb%7BP%7D(B)%7D,%20&amp;%20%5Cmathbb%7BP%7D(B)%20%3E%200%20%5C%5C%200,%20&amp;%20%5Cmathbb%7BP%7D(B)%20=%200%20%5Cend%7Bcases%7D%0A%20%20"></li>
</ul></li>
</ul>
</section>
<section id="random-variable-随机变量" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="random-variable-随机变量"><span class="header-section-number">2</span> Random Variable 随机变量</h2>
<ul>
<li><p><strong>RV (Random Variable) 随机变量 <img src="https://latex.codecogs.com/png.latex?X"></strong>: Measurable Mapping 可测映射 (注意并不需要定义概率测度!)</p>
<ul>
<li><p>Motivation: 将陌生的 event space 映射到熟悉的 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> (或 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5En"> 等), 这个映射是可测空间的同态, 信息量只有可能减少不会增加, 这个信息量的减少说明我们希望通过 RV 来量化 event space 中我们关心的部分, 丢弃不关心的部分, 理解为 <strong>“A measurement of interest in the context of the experiment”</strong>, 比如:</p>
<div id="fig-rv" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/probability-thy/rv.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 定义 <img src="https://latex.codecogs.com/png.latex?X_1"> 说明我们关心问题的全貌 (<img src="https://latex.codecogs.com/png.latex?X_1"> 没有损失信息量, 忠实 (<em>faithful</em>) 地表现了抛骰子出现的各种情况); 定义 <img src="https://latex.codecogs.com/png.latex?X_2"> 说明我们只关心抛骰子的点数是奇数还是偶数.
</figcaption>
</figure>
</div></li>
<li><p><strong>Abuse of notation</strong>: <img src="https://latex.codecogs.com/png.latex?X%5E%7B-1%7D(A)"> 常记作 <img src="https://latex.codecogs.com/png.latex?%5C%7B%5Comega%20%5Cin%20%5COmega%20%7C%20X(%5Comega)%20%5Cin%20A%5C%7D">, 比如 <img src="https://latex.codecogs.com/png.latex?X%5E%7B-1%7D(%5Ba,%20b%5D)%20%5Cequiv%20%5C%7B%5Comega%20%5Cin%20%5COmega%20%7C%20X(%5Comega)%20%5Cin%20%5Ba,%20b%5D%5C%7D">.</p></li>
</ul></li>
<li><p><strong>RV 的分类</strong></p>
<ul>
<li><strong>Discrete RV 离散随机变量</strong>: Codomain 是 countable set (<img src="https://latex.codecogs.com/png.latex?%5Caleph_0">) 可数集的 RV.</li>
<li><strong>Random number 随机数</strong>: Codomain 是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> 的 RV.</li>
<li><strong>Random vector 随机向量</strong>: Codomain 是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5En"> 的 RV.</li>
<li><strong>Random matrix 随机矩阵</strong>: Codomain 是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E%7Bm%20%5Ctimes%20n%7D"> 的 RV.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
事件的独立和随机变量的独立
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li><strong>事件的独立</strong>: 事件 <img src="https://latex.codecogs.com/png.latex?A,B%20%5Cin%20%5Cmathcal%7BA%7D"> 独立指 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_A%20=%20%5Cmathbb%7BP%7D_B%20=%20%5Cmathbb%7BP%7D">, 即 A (或 B) 诱导出来的测度不变.
<ul>
<li>事件 <img src="https://latex.codecogs.com/png.latex?A,%20B"> 独立也称他们 <strong>不相关 (uncorrelated)</strong>.</li>
</ul></li>
<li><strong>随机变量的独立</strong>: RV <img src="https://latex.codecogs.com/png.latex?X,%20Y"> 独立指对任意 <img src="https://latex.codecogs.com/png.latex?S,%20T"> (分别是 <img src="https://latex.codecogs.com/png.latex?X,%20Y"> 的 codomain 上的可测集), 事件 <img src="https://latex.codecogs.com/png.latex?X%5E%7B-1%7D(S)"> 和 <img src="https://latex.codecogs.com/png.latex?Y%5E%7B-1%7D(T)"> 独立.
<ul>
<li>注意我们用<strong>任意原像事件的独立性</strong>来定义 RV 独立性.</li>
<li>可以推出 RV 独立性等价于: Joint CDF/PDF 等于各自 CDF/PDF 的乘积 (证明略).</li>
<li>进而可以推出 (不等价!) <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D%5BXY%5D%20=%20%5Cmathbb%7BE%7D%5BX%5D%20%5Cmathbb%7BE%7D%5BY%5D."></li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<section id="algebra-of-rv-代数结构" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="algebra-of-rv-代数结构"><span class="header-section-number">2.1</span> Algebra of RV 代数结构</h3>
<ul>
<li>Codomain 为 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5En"> 的 RV 构成交换代数 (继承了 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5En">).
<ul>
<li><strong>Distribution 分布</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> 推前到 <img src="https://latex.codecogs.com/png.latex?(%5Cmathbb%7BR%7D%5En,%20%5Cmathcal%7BB%7D(%5Cmathbb%7BR%7D%5En))"> 的 Pushforward Measure <img src="https://latex.codecogs.com/png.latex?X_*%20%5Cmathbb%7BP%7D"> (一般记作 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_X">, though).
<ul>
<li><strong>Joint Distribution 联合分布</strong>: 对于多个<strong>相同样本空间</strong><sup>1</sup>!上的 RV 可以定义他们的联合分布. 严谨数学语言较为麻烦 (omitted).</li>
<li><strong>Marginal Distribution 边缘分布</strong>: 联合分布的某些变量的投影 (omitted).</li>
</ul></li>
<li><strong>CDF 累积分布函数 <img src="https://latex.codecogs.com/png.latex?F_X"></strong>: Codomain 有<strong>序结构</strong>即可定义 CDF: <img src="https://latex.codecogs.com/png.latex?F_X(x)%20:=%20%5Cmathbb%7BP%7D_X%20((-%5Cinfty,%20x%5D)."></li>
<li><strong>PDF 概率密度函数 <img src="https://latex.codecogs.com/png.latex?f_X"></strong>: CDF 的 <strong>Radon-Nikodym 导数</strong>, 满足: <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_X(B)%20=%20%5Cint_B%20f_X%20%5Cmathrm%7Bd%7D%20%5Clambda,%20%5Cforall%20B%20%5Cin%20%5Cmathcal%7BB%7D(%5Cmathbb%7BR%7D)."> (<img src="https://latex.codecogs.com/png.latex?%5Clambda"> 是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> 上的 Lebesgue 测度)
<ul>
<li><strong>PMF 概率质量函数</strong>: 离散 RV 的 PDF. <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D_X(A)%20=%20%5Cint_A%20f_X%20%5Cmathrm%7Bd%7D%20%5C#%20=%20%5Csum_%7Bx%20%5Cin%20A%7D%20f_X(x),%20%5Cforall%20A%20%5Cin%20%5Cmathcal%7BP%7D(X)."> (<img src="https://latex.codecogs.com/png.latex?%5C#"> 是离散测度空间的 counting measure)</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Joint RV / distribution: <strong>同一个</strong>样本空间, 不同 codomain, Product measure space: 很多个<strong>不同的</strong>样本空间, 通过 product 操作构造出一个大的空间.</p></div></div><ul>
<li><p><strong>Expectation 期望</strong>: 就是积分 <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cmathbb%7BE%7D%5BX%5D%20:=%20%5Cint_%7B%5COmega%7D%20X%20%5Cmathrm%7Bd%7D%20%5Cmathbb%7BP%7D.%0A%20%20"></p>
<ul>
<li>由积分的性质显然有: <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D%5BaX%20+%20bY%5D%20=%20a%20%5Cmathbb%7BE%7D%5BX%5D%20+%20b%20%5Cmathbb%7BE%7D%5BY%5D."></li>
</ul></li>
<li><p><strong>Inner Product 内积</strong>: (由 Algebra 知 <img src="https://latex.codecogs.com/png.latex?XY"> 也是 RV.) <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Clangle%20X,%20Y%20%5Crangle%20:=%20%5Cmathbb%7BE%7D%5BXY%5D.%0A%20%20"></p>
<ul>
<li><strong>Covariance 协方差</strong>: centered 后的内积, let <img src="https://latex.codecogs.com/png.latex?X_c%20%5Cequiv%20X%20-%20%5Cmathbb%7BE%7D%5BX%5D">, <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bcov%7D(X,%20Y)%20:=%20%5Clangle%20X_c,%20Y_c%20%5Crangle.">
<ul>
<li><strong>Variance 方差</strong>: 自协方差 / center <img src="https://latex.codecogs.com/png.latex?X"> 2-norm 的平方. <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bvar%7D(X)%20:=%20%5Coperatorname%7Bcov%7D(X,%20X)%20=%20%5C%7CX_c%5C%7C_2%5E2."></li>
<li><strong>2nd Moment 二阶矩</strong>: 不 center 的 <img src="https://latex.codecogs.com/png.latex?X"> 2-norm 的平方. <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BE%7D%5BX%5E2%5D%20=%20%5C%7CX%5C%7C_2%5E2."></li>
</ul></li>
<li><strong>Correlation 相关系数</strong>: 归一化后的协方差. <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bcor%7D(X,%20Y)%20:=%20%5Cfrac%7B%5Coperatorname%7Bcov%7D(X,%20Y)%7D%7B%5Csqrt%7B%5Coperatorname%7Bvar%7D(X)%20%5Coperatorname%7Bvar%7D(Y)%7D%7D."></li>
</ul></li>
<li><p><strong>Metric 度量</strong> (注意 <img src="https://latex.codecogs.com/png.latex?t"> 是 <img src="https://latex.codecogs.com/png.latex?%5COmega"> 映到单点集 <img src="https://latex.codecogs.com/png.latex?%5C%7Bt%5C%7D"> 的 <strong>RV</strong> 而不是实数):</p>
<ul>
<li><strong>RMSE (Root Mean Square Error) 均方根度量</strong>: <img src="https://latex.codecogs.com/png.latex?d_2(X,%20t)%20:=%20%5C%7CX%20-%20t%5C%7C_2%20=%20%5Csqrt%7B%5Cmathbb%7BE%7D%5B(X%20-%20t)%5E2%5D%7D."></li>
<li><strong>MAE (Mean Absolute Error) 平均绝对误差度量</strong>: <img src="https://latex.codecogs.com/png.latex?d_1(X,%20t)%20:=%20%5C%7CX%20-%20t%5C%7C_1%20=%20%5Cmathbb%7BE%7D%5B%7CX%20-%20t%7C%5D."></li>
</ul></li>
</ul>
</section>
<section id="series-of-rv-随机变量序列" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="series-of-rv-随机变量序列"><span class="header-section-number">2.2</span> Series of RV 随机变量序列</h3>
<ul>
<li>Convergence 收敛方式: <img src="https://latex.codecogs.com/png.latex?(X_n)"> 可以以下几种方式收敛到 <img src="https://latex.codecogs.com/png.latex?X">:
<ul>
<li><strong>Almost everywhere (a.e.) 几乎处处收敛</strong>: 即 <img src="https://latex.codecogs.com/png.latex?(X_n)"> 几乎处处<strong>逐点</strong>收敛到 <img src="https://latex.codecogs.com/png.latex?X">, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D(%5C%7B%5Comega%20%5Cin%20%5COmega%20:%20%5Clim_%7Bn%20%5Cto%20%5Cinfty%7D%20X_n(%5Comega)%20=%20X(%5Comega)%5C%7D)%20=%201."></li>
<li><strong>In probability 依概率收敛</strong>: 不<strong>一致</strong>收敛的点的测度趋于 0, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D(%5C%7B%5Comega%20%5Cin%20%5COmega%20:%20%7CX_n(%5Comega)%20-%20X(%5Comega)%7C%20%5Cge%20%5Cvarepsilon%5C%7D)%20%5Cto%200,%20%5Cforall%20%5Cvarepsilon%20%3E%200"></li>
<li><strong>In distribution 依分布收敛</strong>: <img src="https://latex.codecogs.com/png.latex?F_%7BX_n%7D"> (在所有 <img src="https://latex.codecogs.com/png.latex?X"> 的 CDF 的连续点上) 逐点收敛到 <img src="https://latex.codecogs.com/png.latex?F_X">, i.e., <img src="https://latex.codecogs.com/png.latex?F_%7BX_n%7D(x)%20%5Cto%20F_X(x),%20%5Cforall%20x%20%5Ctext%7B%20is%20a%20continuity%20point%20of%20%7D%20F_X."></li>
<li><strong><img src="https://latex.codecogs.com/png.latex?L%5Ep"> 收敛</strong>: <img src="https://latex.codecogs.com/png.latex?X_n"> 与 <img src="https://latex.codecogs.com/png.latex?X"> 的 <img src="https://latex.codecogs.com/png.latex?L%5Ep"> 距离趋于 0, i.e., <img src="https://latex.codecogs.com/png.latex?%5C%7CX_n%20-%20X%5C%7C_p%20%5Cto%200."></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
收敛方式的关系
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div id="fig-convergence-relation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-convergence-relation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/probability-thy/convergence-relation.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-convergence-relation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 四种收敛的关系
</figcaption>
</figure>
</div>
<ul>
<li>函数的 pointwise 收敛比 uniform 收敛弱 (Figure&nbsp;3), 但是可测函数的 a.e. 收敛比 依概率收敛强!</li>
</ul>

<div id="fig-ae-prob-cvg" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ae-prob-cvg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/probability-thy/ae-prob-cvg.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ae-prob-cvg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: (1) 几乎每个点最终都进入了 <img src="https://latex.codecogs.com/png.latex?%5Cvarepsilon"> 邻域; (2) 进入 <img src="https://latex.codecogs.com/png.latex?varepsilon"> 的蓝色点集会变化! (当然满足 uniformly cvg 的点集也会变化) 但如果在概率的条件下考虑这个问题, 进入的点集变化地更为疯狂, 以至于可能表面看上去所有的点都进去了, 其实单看每个点只是在极限附近徘徊不定 (不一定是几乎处处的点的)
</figcaption>
</figure>
</div>
<div id="fig-sweep-interval-sequence" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sweep-interval-sequence-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/probability-thy/sweep-interval-sequence.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sweep-interval-sequence-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: 一个经典的依概率收敛而不几乎处处收敛的「扫区间」序列
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div class="callout-2-contents callout-collapse collapse show callout-margin-content">
<div id="fig-pointwise-uniform-cvg" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pointwise-uniform-cvg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/probability-thy/pointwise-uniform-cvg.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pointwise-uniform-cvg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: 逐点收敛的函数列极限可以不连续
</figcaption>
</figure>
</div>
</div></div></section>
<section id="law-of-large-numbers-大数定律" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="law-of-large-numbers-大数定律"><span class="header-section-number">2.3</span> Law of Large Numbers 大数定律</h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
(强) 大数定律
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-strong" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> <img src="https://latex.codecogs.com/png.latex?X_n"> i.i.d. with mean <img src="https://latex.codecogs.com/png.latex?%5Cmu">, then <img src="https://latex.codecogs.com/png.latex?(%5Coverline%7BX_n%7D)%20%5Cxrightarrow%7Ba.e.%7D%20%5Cmu."></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>弱大数定律: 根据 Figure&nbsp;2 改成依概率收敛 (有何意义?)</p></li>
<li><p>注意 <img src="https://latex.codecogs.com/png.latex?(%5Coverline%7BX_n%7D)"> 也是 RV 序列; <img src="https://latex.codecogs.com/png.latex?%5Cmu"> 是单点 RV (而不是单纯的实数)! <strong>不要将 RV 的代数运算结果看成数字!!</strong></p></li>
<li><p>意义: <strong>使得我们可以以任意小的误差测量一个随机实验的均值!</strong> 这个定理过于「显然」以至于我们在不经意间就用到了它, 比如测量抛硬币的均值 (0.5) 时, 我们会很自然地抛很多次硬币获得「结果」然后取均值, 这样测出来的值并不是「抛一次硬币的随机变量」的均值, 而是「抛 <img src="https://latex.codecogs.com/png.latex?n"> 次硬币, 每次的点数相加后除以抛的次数, 这个随机变量坍缩后的值」, 这是完全两个随机变量! 后者坍缩后的值几乎不变, 于是我们将它看作后者随机变量 (并非前者) 的均值. 而正因为有大数定律, 这个值才可以与前者的均值以任意误差接近.</p>
<ul>
<li>In other words, 当一件「随机」的实验被概率建模时, 平行宇宙视角的「均值」(只进行一次实验, 但是在上帝视角收集不同平行宇宙的结果, “ensemble average”) 等于时间平均视角 (让时间流逝, 建立新的样本空间 <img src="https://latex.codecogs.com/png.latex?%5COmega%5E%7B%5Cotimes%20n%7D">, “time average”) 后的「均值」.</li>
</ul></li>
<li><p>允许用 time average 来估计 ensemble average 的随机过程被称为 <strong>ergodic process 遍历过程</strong>, 大数定律是遍历过程的特例.</p></li>
</ul>
</section>
<section id="central-limit-theorem-中心极限定理" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="central-limit-theorem-中心极限定理"><span class="header-section-number">2.4</span> Central Limit Theorem 中心极限定理</h3>
<ul>
<li>中心极限定理还告诉了我们 <img src="https://latex.codecogs.com/png.latex?%5Coverline%7BX_n%7D"> 的形状 (分布): 竟然跟 <img src="https://latex.codecogs.com/png.latex?X_i"> 的分布无关, 都近似于 Gaussian 分布!</li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
中心极限定理
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-clt" class="callout-def theorem">
<p><span class="theorem-title"><strong>Theorem 2</strong></span> (Without loss of generality) (X_n) i.i.d. with mean <img src="https://latex.codecogs.com/png.latex?0"> and variance <img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2">, then <img src="https://latex.codecogs.com/png.latex?%5Coverline%7BX_n%7D%20%5Cxrightarrow%7Bd%7D%20%5Cmathcal%7BN%7D%5Cleft(0,%20%5Cfrac%7B%5Csigma%5E2%7D%7Bn%7D%5Cright)."></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="sec-common-distributions" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="sec-common-distributions"><span class="header-section-number">3</span> Distribution 常见分布</h2>
<ul>
<li><p><strong>Bernoulli</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20%5Coperatorname%7BBer%7D(p)">, 不均匀的硬币.</p></li>
<li><p><strong>Binomial</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20B(n,%20p)">, 固定次数 <img src="https://latex.codecogs.com/png.latex?n"> 看正面数量. E.g., 好评数量.</p>
<ul>
<li><strong>Negative Binomial</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20NB(s,%20p)"> 跟 Binomial 操作相反, 固定正面数量 (s, success) 看总次数.
<ul>
<li><strong>Geometric</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20G(p)">, 特例, <img src="https://latex.codecogs.com/png.latex?s=1">, 第一次出现正面要抛的次数的分布.</li>
</ul></li>
</ul></li>
<li><p><strong>Hypergeometric</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20H(n,%20s,%20f)">, 不放回版本的 Binomial (initial <img src="https://latex.codecogs.com/png.latex?p%20=%20s%20/%20(s+f)">)</p>
<ul>
<li><strong>Negative Hypergeometric</strong>: 跟 Hypergeometric 操作相反 (不常见, 略).</li>
</ul></li>
<li><p><strong>Poisson</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20%5Coperatorname%7BPois%7D(%5Clambda)">, 连续版本的 Binomial (离散化后 <img src="https://latex.codecogs.com/png.latex?%5Clambda"> 退化为 <img src="https://latex.codecogs.com/png.latex?p%20/%20n">). E.g., 单位时间顾客到达数.</p>
<ul>
<li><strong>Exponential</strong>: <img src="https://latex.codecogs.com/png.latex?X%20%5Csim%20%5Coperatorname%7BExp%7D(%5Clambda)">, 跟 Poisson 操作相反. E.g., 顾客到达的时间间隔.</li>
</ul></li>
</ul>


</section>


 ]]></description>
  <category>Analysis</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/probability-thy/</guid>
  <pubDate>Tue, 04 Nov 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/probability-thy/cover.png" medium="image" type="image/png" height="199" width="144"/>
</item>
<item>
  <title>Complement for 3b1b’s Diffusion Models Video 扩散模型学习笔记 (更新中)</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/diffusion/</link>
  <description><![CDATA[ 





<section id="introduction" class="level2 page-columns page-full" data-number="1">

<section id="core-ideas-in-3b1bs-video" class="level3 page-columns page-full" data-number="1.1">

<ul>
<li>引入 <strong>Image Space</strong>, 这个 Space 大部分地方的图片都没有意义, 极少部分地方的图片是有意义的 (3b1b 视频中用 Spiral 来表示)</li>
<li>生成图片的问题可重述为: 从 Image Space 中任意位置出发, 将其移动到有意义的图片位置.</li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-image-space" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-image-space-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/diffusion/image-space.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-image-space-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Image Space 中每个点是有意义图片的概率分布 <span class="citation" data-cites="Welch_Labs_2025_youtube">[1]</span>
</figcaption>
</figure>
</div>
</div></div><ul>
<li>训练范式的思考过程:
<ul>
<li>直接在 Figure&nbsp;1 中<strong>梯度上升</strong>找到有意义的图像. 但如何知道概率标量场 / 梯度场 (“Score function” <span class="citation" data-cites="DBLP:journals/corr/abs-2011-13456">[2]</span>) 呢?</li>
<li>为了学到这个梯度场, 用已知有意义的图片不断加噪声 (相当于该图片点在 Image Space 上做 Brownian Motion), 然后设计一个神经网络来<strong>逐步</strong> (“One-step”) 学习反过来的过程 Figure&nbsp;2 . 但这在<strong>统计意义上</strong>相当于直接用起点和终点来训练 (Figure&nbsp;3), 用起始点而不用中间点来训练的好处是降低了训练数据的 Variance 的影响.</li>
<li>为了学习到 “More refined structure of the spiral”, 不同程度的 Brownian Motion 需要不同的神经网络进行处理, 也可以理解为给神经网络加入 <img src="https://latex.codecogs.com/png.latex?t"> 参数 (表示游走的时间长度) Figure&nbsp;4.</li>
</ul></li>
</ul>
<div class="quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-one-step-training" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-one-step-training-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/diffusion/one-step-training.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-one-step-training-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 即使 Brownian Motion 是随机的, 点的移动是有逐步向外扩散的趋势的, 相当于逆过程有向中心靠拢的趋势, 而神经网络大概率可以学到这种趋势
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-one-step-training-expectation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-one-step-training-expectation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/diffusion/one-step-training-expectation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-one-step-training-expectation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: 利用随机性
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div id="fig-t-parameter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-t-parameter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/diffusion/t-parameter.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-t-parameter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: 给神经网络加入 <img src="https://latex.codecogs.com/png.latex?t"> 参数可以学习到 Spiral 更精细的结构
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="my-question" class="level3" data-number="1.2">

<ul>
<li>如何根据用户的文字描述来生成对应意义的图片? 跟编码和 Cross Attention 有关?</li>
<li>神经网络能学习到 Brownian Motion 的逆过程? Why it works?</li>
<li>“给神经网络加入 <img src="https://latex.codecogs.com/png.latex?t"> 参数”, 具体如何操作?</li>
</ul>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body">
<div id="ref-Welch_Labs_2025_youtube" class="csl-entry">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Labs W (2025) <a href="https://www.youtube.com/watch?v=1pgiu--4W3I">The breakthrough behind modern AI image generators | diffusion models part 1 - YouTube</a></div>
</div>
<div id="ref-DBLP:journals/corr/abs-2011-13456" class="csl-entry">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Song Y, Sohl-Dickstein J, Kingma DP, Kumar A, Ermon S, Poole B (2020) <a href="https://arxiv.org/abs/2011.13456">Score-based generative modeling through stochastic differential equations</a>. CoRR abs/2011.13456</div>
</div>
</div></section></div> ]]></description>
  <category>Machine-Learning</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/diffusion/</guid>
  <pubDate>Sat, 18 Oct 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/diffusion/cover.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>YOPO – You Only Pick Once</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/yopo/</link>
  <description><![CDATA[ 





<section id="objective" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="objective"><span class="header-section-number">1</span> Objective</h2>
<p>The aim is to implement a simple yet effective object tracking algorithm that does not rely on neural networks. We are given several frames from a video of a street, the task is to first pick a car from the first frame, then track the car in the subsequent frames.</p>
</section>
<section id="ideas" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="ideas"><span class="header-section-number">2</span> Ideas</h2>
<p>There are three problems to solve in this task:</p>
<section id="object-changing" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="object-changing"><span class="header-section-number">2.1</span> Object Changing</h3>
<p><strong>Problem</strong>: The shape and color of the object may change over time. If we use a fixed template (from the first frame) to search for the object in all subsequent frames, the matching score will drop significantly and eventually fail to capture the object.</p>
<p><strong>Solution</strong>: <strong><em>Update the template (kernel)</em></strong>. Whenever we find the object with a high confidence, we update the template (also called the kernel) with the newly found object. Therefore making the kernel adaptive to the changing object.</p>
</section>
<section id="high-computational-cost" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="high-computational-cost"><span class="header-section-number">2.2</span> High Computational Cost</h3>
<p><strong>Problem</strong>: If we search for the object in the whole image, the computational cost is exteremely high.</p>
<p><strong>Solution</strong>: <strong><em>Use prior knowledge</em></strong>. In real-world streets, the position (or velocity) and the shape of the car change extremely slowly given a high frame rate. Therefore, we could potentially use the history of the car to predict its position in the next frame, and only search for the car in a small region around the predicted position.</p>
</section>
<section id="finding-matching-score" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="finding-matching-score"><span class="header-section-number">2.3</span> Finding Matching Score</h3>
<p><strong>Problem</strong>: How do you find a “confidence” matching score between the kernel and a candidate region? Using inner products?</p>
<p><strong>Solution</strong>: <strong><em>Normalized Cross-Correlation (NCC)</em></strong>. Inner product is almost the answer except that the outcome is sensitive to brightness. For example, the inner product between the two images in Figure&nbsp;1 and Figure&nbsp;2 is <img src="https://latex.codecogs.com/png.latex?2706529500.0"> and <img src="https://latex.codecogs.com/png.latex?770488300.0"> respectively, though they look exactly the same respectively.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bright" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bright-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/bright.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bright-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Inner product = 2706529500.0
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-dark" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dark-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/dark.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dark-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Inner product = 770488300.0
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Therefore, we need to <strong>normalize</strong> the inner product: Suppose <img src="https://latex.codecogs.com/png.latex?T">, <img src="https://latex.codecogs.com/png.latex?W"> are two images of size <img src="https://latex.codecogs.com/png.latex?h%5Ctimes%20w">. We consider them as a long vector in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E%7Bhw%7D"> instead of matrices. First of all, they are “above the horizon” (non-negative), so we subtract the mean value from each image to make them “zero-mean”:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AT%20&amp;%5Cto%20%5Ctilde%7BT%7D%20=%20T%20-%20%5Cmu_T%20%5Cquad%20%5Cleft(%5Cmu_T%20=%20%5Cfrac%7B1%7D%7Bhw%7D%20%5Csum_%7Bi%7D%20T_i%5Cright)%20%5C%5C%0AW%20&amp;%5Cto%20%5Ctilde%7BW%7D%20=%20W%20-%20%5Cmu_W%20%5Cquad%20%5Cleft(%5Cmu_W%20=%20%5Cfrac%7B1%7D%7Bhw%7D%20%5Csum_%7Bi%7D%20W_i%5Cright)%0A%5Cend%7Baligned%7D%0A"></p>
<p>Then, define the NCC (normalized cross-correlation) between <img src="https://latex.codecogs.com/png.latex?T"> and <img src="https://latex.codecogs.com/png.latex?W"> as the <img src="https://latex.codecogs.com/png.latex?%5Ccos%20%5Cangle%20(%5Ctilde%7BT%7D,%20%5Ctilde%7BW%7D)">, i.e.,</p>
<p><span id="eq-ncc"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Ctext%7BNCC%7D(T,%20W)%20:&amp;=%20%5Cfrac%7B%5Clangle%20%5Ctilde%7BT%7D,%20%5Ctilde%7BW%7D%20%5Crangle%7D%7B%5C%7C%5Ctilde%7BT%7D%5C%7C_2%20%5C%7C%5Ctilde%7BW%7D%5C%7C_2%7D%20%5C%5C%0A&amp;=%20%5Cfrac%7B%5Csum_i%20(T_i%20-%20%5Cmu_T)(W_i%20-%20%5Cmu_W)%7D%7B%5Csqrt%7B%5Csum_i%20(T_i%20-%20%5Cmu_T)%5E2%7D%20%5Csqrt%7B%5Csum_i%20(W_i%20-%20%5Cmu_W)%5E2%7D%7D%20%5C%5C%0A&amp;%5Cin%20%5B-1,%201%5D%0A%5Cend%7Baligned%7D%0A%5Ctag%7B1%7D"></span></p>
</section>
</section>
<section id="methodology" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="methodology"><span class="header-section-number">3</span> Methodology</h2>
<p>The overall algorithm is summarized in the flowchart Figure&nbsp;3, which is explained in detail in the following sections.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-flow-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flow-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/flow-diagram.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flow-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Algorithm Flowchart
</figcaption>
</figure>
</div>
</div></div><section id="sec-mod1" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="sec-mod1"><span class="header-section-number">3.1</span> Predict the Next Search Window Center</h3>
<ul>
<li><p><strong>First frame</strong>: Since the object’s speed and direction are initially unknown, we manually select the object in the first frame and use its center as the initial search location.</p></li>
<li><p><strong>Second frame</strong>: Once we identify the object in the second frame (via Section&nbsp;3.2), we now have two locations, which allows us to compute an initial velocity vector <img src="https://latex.codecogs.com/png.latex?v_1"> (the green arrow in Figure&nbsp;4).</p></li>
<li><p><strong>Third frame</strong>: We directly use <img src="https://latex.codecogs.com/png.latex?v_1"> to predict the center of the search area in the third frame. After finding a best kernel in the third frame, we have another velocity vector <img src="https://latex.codecogs.com/png.latex?v_2">. We then average <img src="https://latex.codecogs.com/png.latex?v_1"> and <img src="https://latex.codecogs.com/png.latex?v_2"> to get a more stable velocity estimate: <img src="https://latex.codecogs.com/png.latex?%0A%20%20v_3%20%5Capprox%20%5Calpha%20v_2%20+%20(1-%5Calpha)%20v_1%20%5Cquad%20(%5Calpha%20%5Cin%20%5B0,1%5D)%0A%20%20"></p></li>
<li><p><strong>Subsequent frames</strong>: Use <img src="https://latex.codecogs.com/png.latex?v_%7Bn-1%7D"> to predict the center of the search area in the <img src="https://latex.codecogs.com/png.latex?(n+1)">-th frame. After finding a best kernel in the <img src="https://latex.codecogs.com/png.latex?(n+1)">-th frame, we have another velocity vector <img src="https://latex.codecogs.com/png.latex?v_n">. We then average <img src="https://latex.codecogs.com/png.latex?v_n"> and <img src="https://latex.codecogs.com/png.latex?v_%7Bn-1%7D"> to get a more stable velocity estimate: <img src="https://latex.codecogs.com/png.latex?%0A%20%20v_%7Bn+1%7D%20%5Capprox%20%5Calpha%20v_%7Bn%7D%20+%20(1-%5Calpha)%20v_%7Bn-1%7D%20%5Cquad%20(%5Calpha%20%5Cin%20%5B0,1%5D)%0A%20%20"></p></li>
</ul>
<div id="fig-moving-avg" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-moving-avg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/moving-avg.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-moving-avg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Motion Prediction
</figcaption>
</figure>
</div>
</section>
<section id="sec-mod2" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="sec-mod2"><span class="header-section-number">3.2</span> Local Search with NCC and Kernel Resizing</h3>
<p>This module receives the predicted search center from Section&nbsp;3.1 and the current kernel image.</p>
<ul>
<li><p><strong>Step 1: Local search window</strong> We define a search window of <img src="https://latex.codecogs.com/png.latex?%5Cpm%203"> pixels vertically and horizontally from the predicted center. For each candidate region, we compute the NCC (Normalized Cross-Correlation) score defined in Equation&nbsp;1.</p></li>
<li><p><strong>Step 2: Kernel resizing</strong> Since the object (a car) may change in size as it moves closer or farther from the camera, we also resize the kernel (both enlarged and shrunk) and repeat the NCC search at each scale.</p></li>
<li><p><strong>Step 3: Best match selection</strong> We now have three sets of NCC scores (one per kernel scale). We select the candidate with the maximum NCC score across all scales, and define that as the detection result for the current frame.</p></li>
<li><p><strong>Step 4: Handoff to next stage</strong> The matched region’s location is used to update the predicted trajectory, and the cropped image may or may not be used as the new kernel — this decision is handled in the next module in Section&nbsp;3.3.</p></li>
</ul>
<div id="fig-best-match" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-best-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/best-match.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-best-match-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: NCC Matching
</figcaption>
</figure>
</div>
</section>
<section id="sec-mod3" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="sec-mod3"><span class="header-section-number">3.3</span> Kernel Updating Rule</h3>
<p>In this module, we address the question: Should we update the kernel image every frame?</p>
<p>Problem with naïve updates: Simply picking the top-matching region as the new kernel in every frame might lead to error accumulation, especially when the background changes or the match is unreliable.</p>
<p>Our key principles are:</p>
<ul>
<li>Always update the kernel’s location, because tracking requires positional accuracy.</li>
<li>Only update the kernel’s image if the match quality is sufficiently high.
<ul>
<li>Threshold-based strategy:
<ul>
<li>Define a threshold for NCC similarity (e.g., <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D_%7B%5Ctext%7Bthres%7D%7D%20=%200.94">).</li>
<li>If the current best match has a <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D%20%3E%200.94">, it means the match is strong — we update both kernel location and image.</li>
<li>If <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D%20%3C%200.94">, the match might be unreliable (e.g., due to a temporary background obstruction like a white pole as shown in Figure&nbsp;6). In this case, we only update the position, and retain the previous kernel image for consistency.</li>
</ul></li>
</ul></li>
<li>Example (Figure&nbsp;6):
<ul>
<li>Frame 1: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D%20=%200.99%20%3E%20%5Ctext%7BNCC%7D_%7B%5Ctext%7Bthres%7D%7D">: update both position and image.</li>
<li>Frame 2: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D%20=%200.89%20%3C%20%5Ctext%7BNCC%7D_%7B%5Ctext%7Bthres%7D%7D">: update only position.</li>
<li>Frame 3: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNCC%7D%20=%200.96%20%3E%20%5Ctext%7BNCC%7D_%7B%5Ctext%7Bthres%7D%7D">: update both.</li>
</ul></li>
</ul>
<p>This adaptive mechanism avoids abrupt kernel drift and helps maintain robustness in challenging tracking conditions.</p>
<div id="fig-mod3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mod3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/mod3.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mod3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Kernel Updating
</figcaption>
</figure>
</div>
</section>
</section>
<section id="results" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="results"><span class="header-section-number">4</span> Results</h2>
<p>As shown in Figure&nbsp;7 and Figure&nbsp;8, our algorithm successfully tracks both a red car and a blue car throughout the video sequence.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-result-red" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-result-red-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/tracking_red.gif" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-result-red-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Red Car Tracking Demo
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-result-blue" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-result-blue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/tracking_blue.gif" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-result-blue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Blue Car Tracking Demo
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-search-red" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-search-red-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/search_space_red.gif" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-search-red-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: NCC scores vs search space (red)
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-search-blue" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-search-blue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/yopo/search_space_blue.gif" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-search-blue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: NCC scores vs search space (blue)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="future-work" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="future-work"><span class="header-section-number">5</span> Future Work</h2>
<ul>
<li><p><strong>Blocking views</strong>: Our current method struggles when the target is briefly occluded (e.g., by other vehicles or obstacles). Future work could integrate motion prediction with re-identification techniques to maintain tracking through occlusion.</p></li>
<li><p><strong>Cumulative error</strong>: Due to the iterative nature of kernel updates and position prediction, small errors may accumulate over time. Incorporating global correction mechanisms (e.g., periodic full-frame verification) could help mitigate this drift.</p></li>
</ul>


</section>

 ]]></description>
  <category>Projects</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/yopo/</guid>
  <pubDate>Wed, 24 Sep 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/yopo/tracking_red.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>IELTS 笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/IELTS/</link>
  <description><![CDATA[ 





<section id="speaking" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="speaking"><span class="header-section-number">1</span> Speaking</h2>
<section id="critiria" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="critiria"><span class="header-section-number">1.1</span> Critiria</h3>
<blockquote class="blockquote">
<p>一下是按照官方的评分标准整理的, 供参考.</p>
</blockquote>
<ul>
<li>Signposting language</li>
<li>logical</li>
<li>avoid repetition of same words</li>
<li>Encourage to use less common words</li>
<li>All tenses should be covered</li>
<li>Pitch should change 语调要改变</li>
<li>Do not rush</li>
<li>I don’t have strong preferences.</li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Provide details:
<ul>
<li>E.g., What do you do? I’m current a 4th year student at …, …</li>
</ul></li>
<li>When you stuck:
<ul>
<li>reasons</li>
<li>effects</li>
<li>comparisons</li>
<li>supporting examples</li>
<li>personal experiences</li>
<li>Speak out your current feelings:
<ul>
<li>It’s difficult to explain how I feel.</li>
<li>I’m not sure about this question, but …</li>
</ul></li>
</ul></li>
<li>Do not
<ul>
<li>Overuse body language</li>
<li>Creative idea</li>
</ul></li>
</ul>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prediction
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Your major
<ul>
<li>My major is Electronic and Computer Engineering, also known as ECE, which is basically about the design, implementation and optimization of electronic systems, both hardware and software.</li>
<li>Why? Well, I found myself a person who enjoys both the theoretical and practical aspects of engineering.</li>
<li>How things are done under the hood.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="topics" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="topics"><span class="header-section-number">1.2</span> Topics</h3>
<ul>
<li><p>Music</p>
<ul>
<li>Listening to Bach’s music is like building a grand architecture masterpiece in my mind. I mean it’s so structured and harmonious, every note has its reason.</li>
<li>emotional / rational music</li>
<li>Bach’s music and Mahler’s music represent two extremes.</li>
<li>Mahler was a late-romantic composer. His music is meant to be not listened to but experienced. Every symphony is like a journey, with ups and downs, twists and turns, from the beginning to the end, so many unexpected moments.</li>
<li>His 1st symphony: tell the story of the birth of a giant, the emergence. You can even hear the giant’s footsteps in the first movement.</li>
<li>2nd: Can be viewed as a continuation of the character in his 1st symphony, I mean it’s quite abundant in musical ideas, but it’s basically about the death and resurrection of the giant.</li>
<li>The curse of the ninth.</li>
<li>vivid, intense, powerful, large scale</li>
<li>It’s like experiencing the big bang.</li>
<li>A symphony must be like the world, it must embrace everything. – Gustav Mahler</li>
<li>Musical qualities: emotional expression, length of the work, size of orchestra, loudness and quietness, pushed through the absolute limits.</li>
<li>They managed to express some kind of world philosophy, someway of looking at, or experiencing the world.</li>
</ul></li>
<li><p>Weather</p>
<ul>
<li>blistering, sweltering, scorching: 炎热的</li>
<li>damp / humid 潮湿的, cloudy 多云的, always drizzling 毛毛雨</li>
</ul></li>
<li><p>Current Affairs</p></li>
<li><p>clothing</p>
<ul>
<li>looks very smart: formal clothing</li>
<li>casual: 休闲</li>
<li>tracksuit: 运动服, hoodie: 连帽衫, sneakers: 运动鞋</li>
<li>loose-fitting: 宽松的</li>
<li>puffer jacket: 羽绒服, sweater: 毛衣, gloves: 手套</li>
</ul></li>
<li><p>food</p>
<ul>
<li>tasty snacks: 零食</li>
<li>Never have I ever gotten drunk before a performance?</li>
<li>tipsy: 微醺</li>
<li>Do you cook often? Following the ingredients.</li>
<li>green tea flavored chocolate</li>
</ul></li>
<li><p>Gardening</p>
<ul>
<li>cactus: 仙人掌</li>
<li>balcony: 阳台, veggie patch: 菜园子, spindly chairs: 长椅</li>
</ul></li>
<li><p>transportation</p>
<ul>
<li>traffic congestion: 交通拥堵</li>
<li>get a cab: 打车</li>
</ul></li>
<li><p>Else</p>
<ul>
<li>I don’t like to do things in a hurry.</li>
<li>oversleep: 睡过头</li>
<li>never do things in a rush.</li>
<li>Also important decisions in life are worth taking time over.</li>
<li>Go off rail</li>
<li>Memory slips</li>
<li>做选择但是选项中没有你想说的: I’d say I actually prefer studying at night because it’s quieter and I can focus better. But if I had to choose between morning and afternoon, I’d go for the afternoon.</li>
</ul></li>
<li><p>Hometown</p>
<ul>
<li>The weather is very nice here, just a little scorching in summer, if you don’t mind the heat. Nanchang is also known for a famous revolutionary event, the Nanchang Uprising. Therefore Nanchang is often referred to as the “Hero City”. The city is well-connected by subways.</li>
<li>Here in Nanchang, we have some iconic landmarks such as the Tengwang Pavilion, one of the four great towers of China, and the Star of Nanchang, a giant Ferris wheel, you can take a ride on it to have a bird’s-eye view of the beautiful city.</li>
<li>Nanchang is also the spiciest city in China. It’s very easy to accidentally order something insanely spicy by the way.</li>
</ul></li>
<li><p>Traveling</p>
<ul>
<li>I rocked up with my luggage and my backpack, super excited.</li>
<li>Sanya, a city on the southern end of Hainan Island of China, which is often referred to as the “Hawaii of China” where you can enjoy the sunshine, the beach, and the sea.</li>
<li>I went there with my family last summer break.</li>
<li>It was one of my best experiences.</li>
<li>I think it was the first time I tried diving.</li>
<li>And I also tried – I’m not sure what’s it called, like a banana boat, where you sit on a banana-shaped inflatable boat and get pulled by a speedboat.</li>
<li>Cool seawater splashes up and hits me right in the face. I can never forget that feeling, it’s like, my hormone level is high above, just refreshing.</li>
<li>breathtaking: 令人惊叹的</li>
</ul></li>
<li><p>Shopping</p>
<ul>
<li>window shopping: 逛街但一般不买东西</li>
<li>buy -&gt; make a purchase</li>
<li>return and get a refund: 退货退款</li>
<li>shipping cost is not a big deal: 运费不是大问题</li>
<li>Shopping mall, tech mall, grocery store, convenience store</li>
</ul></li>
<li><p>Festival</p>
<ul>
<li>CCTV Spring Festival Gala: 春节联欢晚会</li>
</ul></li>
<li><p>Daily routine</p>
<ul>
<li>napping 午睡</li>
<li>bad sleeping habit</li>
<li>For me, <strong>when it comes to</strong> taking a nap, there are only two options: either no nap at all, or I wake up two hours later, not refreshing, but like super groggy and disoriented. And that affects my night sleep as well.</li>
<li><strong>Household necessities</strong>: toothbrush, toothpaste, shampoo, soap, toilet paper, tissues, detergent, etc.</li>
</ul></li>
<li><p>Sports</p>
<ul>
<li>rent a badminton court</li>
<li>play competitively</li>
<li>Badminton is both physically demanding – players must perform quick movements, jumping, rapid directional changes – but you don’t often get injured. That’s an ideal sport for me.</li>
</ul></li>
<li><p>Film</p>
<ul>
<li>Superhero movies, Comedy movies, Action movies, Sci-fi movies</li>
<li>Iron man, the Notebook, Good will hunting, Interstellar.</li>
</ul></li>
<li><p>Book</p>
<ul>
<li>Long science fiction novel, psychology and philosophy books, popular science books</li>
<li>specialized books 专业类书籍</li>
<li>audiobook 有声小说</li>
<li>During the day, I rarely read novels because of my academic schedule. I usually make use of the time before bed at night to listen to podcasts or audiobooks, which I find very relaxing and enjoyable.</li>
<li><em>Three body 三体</em>, <em>The Crowd: A Study of the Popular Mind 乌合之众</em>, <em>Thinking, fast and slow 思考, 快与慢</em> by Daniel Kahneman</li>
</ul></li>
<li><p>Personality</p>
<ul>
<li>perfectionist</li>
<li>I guess I’m not too much of a party person, at least not amounts of people drinking or talking loudly.</li>
</ul></li>
<li><p>Fill-in words:</p>
<ul>
<li>It was one of my best experiences.</li>
<li>I would say that …</li>
<li>Yeah, I do like to …</li>
<li>Yeah, I think so.</li>
<li>I think it would depends on …, if …</li>
<li>I would definitely … / absolutely.</li>
<li>I suppose …</li>
<li>Well, the first thing that comes to my head is …</li>
<li>During this semester (uni times)</li>
<li>That would probably be …</li>
<li>I mean I would probably …</li>
<li>… comes to my mind.</li>
<li>I mean it’s probably really lame, but it’s like just</li>
<li>It used to be …, and now I think it recently changed to …</li>
<li>He’s such a cleshé.</li>
<li>I think it’s gonna be …</li>
</ul></li>
<li><p>Twoset:</p>
<ul>
<li>He’s what our parents wish we were on the violin.</li>
<li>Why are you acting as if I’m gonna be the one punished?</li>
<li>repertoire: 曲目</li>
<li>take a selfie and post it on one of your socials.</li>
<li>There you go.</li>
<li>Sounds pretty right to me.</li>
<li>I’m not used to playing these games where actually having like, good-sounding playing.</li>
<li>When did you last cut your nails?</li>
<li>You could not’ve gone after.</li>
<li>I knew there was like a limit to this.</li>
<li>That was so epic.</li>
<li>I would say that …</li>
<li>Scissors paper rock.</li>
<li>But now I’m questioning myself.</li>
<li>That’s if you can reach the note.</li>
<li>I should’ve just gone for it.</li>
<li>I’m going all out after your bullied my intonation.</li>
<li>Trash talk, it’s all part of it.</li>
<li>Hang on a second, a thought suddenly occurred to me, it’s like, …</li>
<li>Have you not done that?</li>
<li>Secondly I like, smell my breath smell.</li>
<li>This is another one of those things where if I say …</li>
<li>I recently realized that, like, <strong>it’s definitely down to three things</strong> – accountability (问责的), like someone to tell you that, with the stick. The praise, the encouragement. And the third thing is like, a little bit of friendly competition. And then with the three things mixed together, create this perfect, brew of like, learning.</li>
</ul></li>
<li><p>Feeling</p>
<ul>
<li>calm, encouraged, motivated</li>
<li>Embarrassed, desperate, anxious, panic, stressful, complacent (自满的)</li>
<li>To be honest, I had mixed feelings.</li>
</ul></li>
</ul>
</section>
<section id="practicing" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="practicing"><span class="header-section-number">1.3</span> Practicing</h3>
<ul>
<li>Natural talent to improve
<ul>
<li>What it is? Drawing</li>
<li>When you discover it? Reading the book: <em>Thinking, fast and slow</em></li>
<li>How you want to improve it?</li>
</ul></li>
</ul>
</section>
<section id="signposting-language" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="signposting-language"><span class="header-section-number">1.4</span> Signposting Language</h3>
<ul>
<li>In my view</li>
<li>…, in my opinion.</li>
<li>I think we’ll probably see more …</li>
<li>I felt … in retrospect. 事后回想起来</li>
<li>Later on, …</li>
<li>It really depends on the person and the situation.</li>
</ul>
</section>
<section id="alternative-words" class="level3" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="alternative-words"><span class="header-section-number">1.5</span> Alternative Words</h3>
<ul>
<li>like -&gt; into</li>
<li>nowadays -&gt; these days</li>
<li>I think -&gt; I believe</li>
<li>important -&gt; essential / make a huge difference</li>
</ul>
</section>
<section id="how-to-develop" class="level3" data-number="1.6">
<h3 data-number="1.6" class="anchored" data-anchor-id="how-to-develop"><span class="header-section-number">1.6</span> How to develop?</h3>
<ul>
<li>用完整句子回答 yes or no: Yes, I do think it’s quite important.</li>
<li>先让步再陈述观点: Although most people rely on GPS or mobile apps these days, knowing how to read a map is still a valuable skill.</li>
</ul>
</section>
</section>
<section id="reading" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="reading"><span class="header-section-number">2</span> Reading</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>要有明显的证据才行! <strong>如果是推断出来的结论不算</strong> (比如 may switch job 不等于 may demand higher salary).</li>
<li>注意以下句子, 句子一定要看完整, 有时候看起来是相反的其实后面又转折回来了!
<ul>
<li>It’s not … but … (but 后面才是重点)</li>
</ul></li>
<li>填词要填完整 (只要不超过 1/2/3 个词)! (尽量多!!!)</li>
<li><strong>Do not seek for the exact words</strong> cause the they must have changed it for the test.</li>
<li>选项要看完整!! <strong>每个选项的意思和强调的点都要明白</strong>, 对比相似的选项, 哪个最合适?
<ul>
<li>或者从出题人的角度, 误导项会怎么出?</li>
</ul></li>
<li>句子读不懂一般是划分有问题, 比如:
<ul>
<li>a study by David Storey of Warwick University found that in Britain 70% of businesses started by people over 55 survived. (over 55 是形容 people 的).</li>
</ul></li>
<li>选项一般都按照文章的顺序出现.</li>
</ul>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="listening" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="listening"><span class="header-section-number">3</span> Listening</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>注意单复数!!</li>
<li>注意是合起来的一个词还是两个:
<ul>
<li>washbasin (not wash basin)</li>
<li>waterproof (not water-proof)</li>
</ul></li>
<li>答案不一定按顺序出现! 不要听到关键词后再等答案, 有可能答案在前面就出现了! 也尽量不要听关键词, 而是听意思! (因为有可能关键词一直不出现, 已经讲到后面的题目了)
<ul>
<li>如果感觉后面某个空的答案已经出来了, 先记上!</li>
</ul></li>
<li>听力的时候 Mental picture <strong>文章大意结构树</strong>, 要分段明确!</li>
<li>能写两个词就不要写一个!</li>
<li>如果有人名, 一定要听清谁是谁!</li>
</ul>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="writing" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="writing"><span class="header-section-number">4</span> Writing</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>General Requirements:
<ul>
<li>词汇丰富度要高</li>
<li>连贯与衔接 (Coherence and Cohesion)</li>
<li>语法多样性和准确性</li>
</ul></li>
<li>Task 1:
<ul>
<li>不单要描述趋势, 也要描述绝对值、斜率等.</li>
</ul></li>
</ul>
</div>
</div>
<!-- ----------------------------------------- -->
<section id="task-1" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="task-1"><span class="header-section-number">4.1</span> Task 1</h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
模版 (4~5 段)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Introduction</strong>: Paraphrase</p>
<ul>
<li>The table <em>gives information</em> about …</li>
<li>The bar chart <em>compares</em> …</li>
</ul></li>
<li><p><strong>Perceptual Overview</strong>: 总体趋势</p>
<ul>
<li>While the figures for imprisonment fluctuated over the period shown, it is clear that … had the <em>highest</em> number of prisoners overall. …, on the other hand, had the <em>lowest</em> number of prisoners for … . (描述 extreme)</li>
<li>E.g., It is noticeable that levels of poverty were higher for single people than for couples, and people with children were more likely to be poor than those without. Poverty rates were considerably lower among elderly people.</li>
<li>Overall, it is notable that … exhibits significant fluctuations corresponding to changes in …, whereas … demonstrates considerably greater stability. Additionally, … shows the most pronounced deviation from the overall mean.</li>
</ul></li>
<li><p><strong>Details</strong>: 具体数据对比 (注意是对比而不是描述!)</p></li>
<li><p><strong>Conclusion</strong>: 总结 (也可以不写)</p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>Beginning sentence</p>
<ul>
<li>图表类型: Bar chart / histogram / pie chart / line chart / scatter plot / flow chart.</li>
<li>show -&gt; compare / illustrate</li>
<li>E.g., The bar chart compares the total number of trips per year made by children aged 5 to 12 in the UK, using five different modes of transport to travel to and from school, in 1990 and 2010.</li>
<li>简洁开头: It has been observed from the graph that … (Paraphrase)</li>
</ul></li>
<li><p>graph 描述图表:</p>
<ul>
<li>Comparison:
<ul>
<li>in 1990, there was twice (three times) as many students as in 1970.</li>
</ul></li>
<li>Slope:
<ul>
<li>sharply / steadily / progressively / slightly / considerably / dramatically</li>
</ul></li>
<li>Tendency:
<ul>
<li>reached / raised / climb / rise / grow / shot up to a peak of …</li>
<li>Car travel <strong>saw</strong> a dramatic increase / <strong>experienced</strong> significant decline.</li>
<li>fall / drop / decline</li>
<li>dipped slightly / minor drop 稍微下降</li>
<li>halved to … 减半到</li>
<li>the percentage plummeted to a low of … 大幅下降</li>
<li>fluctuated at / hovered around … 波动</li>
<li>most significant volatility 波动最大</li>
<li>连接变化趋势:
<ul>
<li>followed by …</li>
<li>The figure rose to 30% at 8 a.m., <strong>after which</strong> it began to fall.</li>
<li>In/By contrast, …</li>
</ul></li>
</ul></li>
<li>peak:
<ul>
<li>reached a peak of / peaked at / jumped to</li>
<li>spiked at</li>
<li>hit the maximum of</li>
</ul></li>
</ul></li>
<li><p>Process 描述过程:</p>
<ul>
<li>general
<ul>
<li>The process begins / ends with …</li>
<li>The dried bricks are placed onto / send into / transported / transferred to</li>
<li>shaped by …</li>
<li>At the final stage …</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="task-2" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="task-2"><span class="header-section-number">4.2</span> Task 2</h3>
<ul>
<li><strong><em>While / Although</em></strong> early technologies certainly changed the lived of normal people, <strong><em>I believe that</em></strong> recent breakthroughs have had an even greater impact.</li>
</ul>
</section>
</section>
<section id="sep-2-update" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="sep-2-update"><span class="header-section-number">5</span> Sep-2 Update</h2>
<ul>
<li><p>阅读先扫一眼问题, 确定大意, 然后仔细读文章, 每段的大意一定要知道</p></li>
<li><p>听力先看问题, 看的时候一定要会断句, 确定空白的词性, 并预测. 听的时候一定不要只听关键词, 一定要听懂意思 (意思是第一位的)</p>
<ul>
<li>听力尤其是选择题很容易错, 填词倒还好. 而且一般情况下所有的选项都会听到, 千万不要只听关键词!</li>
<li>听的时候要在大脑中分段! 比如 OK, 他说完了一件事情, 开始说下一件事情了, 这个时候一定要缓过神来.</li>
</ul></li>
<li><p>听力的心态: 不要当作考试, 比如询问租房的场景, 要想象成与他进行对话!</p></li>
</ul>
</section>
<section id="sep-8-update" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="sep-8-update"><span class="header-section-number">6</span> Sep-8 Update</h2>
<ul>
<li><p>机考阅读选择题一般都会有两个明显的错误答案, 所以其实每道就是两个选项, 所以一定要回排除法!</p></li>
<li><p>阅读一定要在文章中看完句子, 后面的内容有可能有转折!!!</p></li>
</ul>
</section>
<section id="sep-10-update" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="sep-10-update"><span class="header-section-number">7</span> Sep-10 Update</h2>
<ul>
<li>阅读不一定要读懂文章的意思, 先看题, 然后其实每个选项就考察文章的某个句子, 只要看懂那个句子就行了! 而且一半题目的顺序就是按照文章顺序的!
<ul>
<li>锁定段落后, 一定要把整段都快速扫描一遍, 而不是某个句子的后面!</li>
</ul></li>
<li>阅读填词的时候不要被定语从句干扰, 比如 into the pouch on the belly of their mother, 重点是 pouch 而不是 belly.</li>
</ul>


</section>

 ]]></description>
  <category>English</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/IELTS/</guid>
  <pubDate>Mon, 04 Aug 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/IELTS/cover.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Music Theory Introduction 音乐理论入门</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/music-theory-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p><code>c'</code> 之类的为 <a href="https://abcnotation.com/wiki/abc:standard:v2.1">ABC notation</a>.</p>
</blockquote>
<section id="change-of-mind" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="change-of-mind"><span class="header-section-number">1</span> Change of Mind</h2>
<ul>
<li>音乐中没有绝对, 下文<strong>所有句子</strong>前面都默认加上「<strong>一般情况下</strong>」.</li>
</ul>
</section>
<section id="basic-terms-基础术语" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="basic-terms-基础术语"><span class="header-section-number">2</span> Basic Terms 基础术语</h2>
<ul>
<li><strong>Note 音符</strong>:
<ul>
<li><p><strong>Pitch 音高</strong></p>
<div id="fig-notes-on-piano" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-notes-on-piano-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/music-theory-crash-course/notes-on-piano.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-notes-on-piano-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Pitch on piano
</figcaption>
</figure>
</div></li>
<li><p>时值</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/music-theory-crash-course/music-note.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>音符的时值</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>Clef 谱号</strong>:
<ul>
<li>Treble clef 高音谱号 𝄞</li>
<li>Bass clef 低音谱号 𝄢</li>
<li>Alto clef 中音谱号 𝄡</li>
</ul></li>
</ul>
</section>
<section id="four-part-harmony-四部和声" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="four-part-harmony-四部和声"><span class="header-section-number">3</span> Four-part harmony 四部和声</h2>
<blockquote class="blockquote">
<p>和声写作指的是四部和声写作.</p>
</blockquote>
<section id="声部特征" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="声部特征"><span class="header-section-number">3.1</span> 声部特征</h3>
<ul>
<li><strong>Soprano 高音部 / 女高音</strong>:
<ul>
<li>旋律性, 平稳 (2-3 度, 一般不大跳)</li>
<li>上限: C6 (<code>c'</code>, High C, 参考 Figure&nbsp;1)</li>
</ul></li>
<li><strong>Alto 中音部 / 女中音</strong>:
<ul>
<li>中间声部, 平稳</li>
<li>上限: B4 (<code>B</code>), C5 (<code>c</code>) 可以偶尔使用.</li>
</ul></li>
<li><strong>Tenore 次中音部 / 男高音</strong>:
<ul>
<li>中间声部, 可以大跳</li>
<li>上下限: [D3, F4] ([<code>D</code>, <code>F</code>]), G4 (<code>G</code>) 可以偶尔使用.</li>
</ul></li>
<li><strong>Basso 低音部 / 男低音</strong>:
<ul>
<li>下限: C2 (<code>C,,</code>)</li>
</ul></li>
</ul>
<div id="cooley-music">

</div>
<script>
const cooleys = `X: 1
L:1/4 // 默认音符时值
M:C // 拍号
Q:1/4=76 // tempo
K:C // 调号
%%score (T1 T2) (B1 B2)
V:T1 clef=treble name="Soprano" snm="T.I"
V:T2 clef=treble name="Alto" snm="T.II"
V:B1 clef=bass name="Tenore" snm="B.I"
V:B2 clef=bass name="Basso" snm="B.II"
% 1
[V:T1] e2 z2 ||
[V:T2] G2 z2 ||
[V:B1] C2 z2 ||
[V:B2] C,2 z2 ||`;

const selectedInstrument = 0; // piano
document.addEventListener('DOMContentLoaded', function() {createMusicPlayer('cooley', cooleys, selectedInstrument);}); // Create the music player when page loads
</script>
<!-- Grammar: -->
<!-- ::: {#cooley-music}
:::

<script>
// ABC notation for piano (grand staff) with specified notes: C3, C4, G4, E5
const cooleys = `X: 1
L:1/4
M:4/4
K:C clef=treble
V:RH clef=treble // Right hand
V:LH clef=bass // Left hand
% Grand staff
[V:RH] z2 G E | // z2: 二分休止符
[V:LH] C,, z C, |`;

const selectedInstrument = 0; // Acoustic Grand Piano (General MIDI 1)

document.addEventListener('DOMContentLoaded', function() {createMusicPlayer('cooley', cooleys, selectedInstrument);}); // Create the music player when page loads

</script>
``` -->
<!-- ```{=html}
<script>
// Music data
const cooleys = `X: 1
T: Cooley's // Title
M: 4/4 // 拍号 (meter)
L: 1/8 // Default note length: 四分音符
K: Emin // 调号 (和谱号)
|:D2|"Em"EB{c}BA B2 EB|~B2 AB dBAG|"D"FDAD BDAD|FDAD dAFD|
"Em"EBBA B2 EB|B2 AB defg|"D"afe^c dBAF|"Em"DEFD E2:|
|:gf|"Em"eB B2 efge|eB B2 gedB|"D"A2 FA DAFA|A2 FA defg|
"Em"eB B2 eBgB|eB B2 defg|"D"afe^c dBAF|"Em"DEFD E2:|`;

const selectedInstrument = 73; // flute - change this number to select different instrument

document.addEventListener('DOMContentLoaded', function() {createMusicPlayer('cooley', cooleys, selectedInstrument);}); // Create the music player when page loads
</script>
``` -->


</section>
</section>

 ]]></description>
  <category>Music</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/music-theory-crash-course/</guid>
  <pubDate>Tue, 15 Jul 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/music-theory-crash-course/cover.png" medium="image" type="image/png" height="96" width="144"/>
</item>
<item>
  <title>Touchpad Cannot Use for Ubuntu 24.04 on Thinkbook 16+ Solution</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/ubuntu-touchpad/</link>
  <description><![CDATA[ 





<section id="synaptics-配置文件" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="synaptics-配置文件"><span class="header-section-number">1</span> Synaptics 配置文件</h2>
<p>在 Thinkbook 16+ 2025 上装好 Ubuntu 24.04 后会发现触控板只有右键能用, 不是驱动的问题, 在设置里配置也没有用, 先看看触控板设备的 id 是多少:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> list</span></code></pre></div>
<p>输出类似:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎡</span> Virtual core pointer                          id=2    [master pointer  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎜</span>   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎜</span>   ↳ Logitech G304                             id=8    [slave  pointer  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎜</span>   ↳ GXTP5100:00 27C6:01E9                     id=9    [slave  pointer  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎜</span>   ↳ GXTP5100:00 27C6:01E9                     id=10   [slave  pointer  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">⎣</span> Virtual core keyboard                         id=3    [master keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-7">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Virtual core XTEST keyboard               id=5    [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Video Bus                                 id=6    [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Power Button                              id=7    [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-10">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Ideapad extra buttons                     id=11   [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-11">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Intel HID events                          id=12   [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-12">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Intel HID 5 button array                  id=13   [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-13">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> AT Translated Set 2 keyboard              id=14   [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-14">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">↳</span> Logitech G304                             id=15   [slave  keyboard <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
<p>确认触控板驱动:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> list-props 10 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> synaptics</span></code></pre></div>
<p>输出类似:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Edges <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">351</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>  165, 3984, 115, 2032</span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Finger <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">352</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 0, 0, 0</span>
<span id="cb4-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Tap Time <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">353</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>       180</span>
<span id="cb4-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Tap Move <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">354</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>       205</span>
<span id="cb4-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Tap Durations <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">355</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>  180, 180, 100</span>
<span id="cb4-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> ClickPad <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">356</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>       1</span>
<span id="cb4-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Middle Button Timeout <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">357</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>  0</span>
<span id="cb4-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Two-Finger Pressure <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">358</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>    2204</span>
<span id="cb4-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Two-Finger Width <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">359</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>       7</span>
<span id="cb4-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Scrolling Distance <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">360</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-300,</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-300</span></span>
<span id="cb4-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Edge Scrolling <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">361</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 0, 0, 0</span>
<span id="cb4-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Two-Finger Scrolling <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">362</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   1, 1</span>
<span id="cb4-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Move Speed <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">363</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     1.000000, 1.666667, 0.042817, 0.000000</span>
<span id="cb4-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Off <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">364</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>    0</span>
<span id="cb4-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Locked Drags <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">365</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   0</span>
<span id="cb4-16"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Locked Drags Timeout <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">366</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   5000</span>
<span id="cb4-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Tap Action <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">367</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     2, 3, 0, 0, 1, 3, 2</span>
<span id="cb4-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Click Action <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">368</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   1, 3, 0</span>
<span id="cb4-19"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Circular Scrolling <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">369</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     0</span>
<span id="cb4-20"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Circular Scrolling Distance <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">370</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>    0.100000</span>
<span id="cb4-21"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Circular Scrolling Trigger <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">371</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     0</span>
<span id="cb4-22"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Circular Pad <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">372</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   0</span>
<span id="cb4-23"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Palm Detection <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">373</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 1</span>
<span id="cb4-24"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Palm Dimensions <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">374</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>        10, 200</span>
<span id="cb4-25"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Coasting Speed <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">375</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 20.000000, 50.000000</span>
<span id="cb4-26"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Pressure Motion <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">376</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>        234, 1250</span>
<span id="cb4-27"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Pressure Motion Factor <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">377</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 1.000000, 1.000000</span>
<span id="cb4-28"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Resolution Detect <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">378</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>      1</span>
<span id="cb4-29"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Grab Event Device <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">379</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>      0</span>
<span id="cb4-30"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Gestures <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">380</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>       1</span>
<span id="cb4-31"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Capabilities <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">381</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   1, 0, 0, 1, 1, 1, 0</span>
<span id="cb4-32"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Pad Resolution <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">382</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span> 27, 31</span>
<span id="cb4-33"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Area <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">383</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   0, 0, 0, 0</span>
<span id="cb4-34"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Soft Button Areas <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">384</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>      2074, 0, 1760, 0, 0, 0, 0, 0</span>
<span id="cb4-35"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Synaptics</span> Noise Cancellation <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">385</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>     23, 23</span></code></pre></div>
<p>查看触控板 (例如 <code>GXTP5100:00 27C6:01E9</code>) 的属性:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> list-props <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GXTP5100:00 27C6:01E9"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-E</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(Tapping|Natural|Scrolling|Accel|Click)"</span></span></code></pre></div>
<p>若有多个触控板设备, 则提示:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Warning:</span> There are multiple devices matching <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'GXTP5100:00 27C6:01E9'</span>.</span>
<span id="cb6-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">To</span> ensure the correct one is selected, please use the device ID, or prefix the</span>
<span id="cb6-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">device</span> name with <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pointer:'</span> or <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'keyboard:'</span> as appropriate.</span>
<span id="cb6-4"></span>
<span id="cb6-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">unable</span> to find device GXTP5100:00 27C6:01E9</span></code></pre></div>
<p>可以分别查看他们的属性 (记得把 id 换成你自己的):</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> list-props 9  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># id = 9</span></span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> list-props 10 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># id = 10</span></span></code></pre></div>
<p>选一个改变其参数, 然后试试触控板能不能用, 比如改 <code>id = 10</code> 的属性:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> set-prop 10 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Synaptics Finger"</span> 0 0 0                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 设置触控板压力灵敏度为超轻触, 改完了试试</span></span></code></pre></div>
<p>这里顺带也改了触控板的方向吧, 不然是反着的:</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">xinput</span> set-prop 10 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Synaptics Scrolling Distance"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-300</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-300</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 设置自然/反向滚动 (速度较慢)</span></span></code></pre></div>
<p>但是这样改完了重启电脑后会自动消失, 需要加个配置文件才能永久:</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> mkdir <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /etc/X11/xorg.conf.d</span></code></pre></div>
<p>建立文件 <code>/etc/X11/xorg.conf.d/70-synaptics-touchpad.conf</code>, 加入 (我也顺带改了光标移动速度和 scroll 速度):</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>70-synaptics-touchpad.conf</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="70-synaptics-touchpad.conf" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">Section <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"InputClass"</span></span>
<span id="cb11-2">    Identifier <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"touchpad"</span></span>
<span id="cb11-3">    Driver <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"synaptics"</span></span>
<span id="cb11-4">    MatchIsTouchpad <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"on"</span></span>
<span id="cb11-5">    MatchDevicePath <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/dev/input/event*"</span></span>
<span id="cb11-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enable tapping</span></span>
<span id="cb11-7">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TapButton1"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span></span>
<span id="cb11-8">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TapButton2"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span></span>
<span id="cb11-9">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TapButton3"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span></span>
<span id="cb11-10">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set finger pressure sensitivity (ultra light touch)</span></span>
<span id="cb11-11">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FingerLow"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span></span>
<span id="cb11-12">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FingerHigh"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span></span>
<span id="cb11-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enable natural/reverse scrolling (slower speed)</span></span>
<span id="cb11-14">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VertScrollDelta"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-300"</span></span>
<span id="cb11-15">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HorizScrollDelta"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-300"</span></span>
<span id="cb11-16">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enable two-finger scrolling</span></span>
<span id="cb11-17">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VertTwoFingerScroll"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span></span>
<span id="cb11-18">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HorizTwoFingerScroll"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span></span>
<span id="cb11-19">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Disable edge scrolling (prefer two-finger)</span></span>
<span id="cb11-20">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VertEdgeScroll"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span></span>
<span id="cb11-21">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HorizEdgeScroll"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span></span>
<span id="cb11-22">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enable palm detection</span></span>
<span id="cb11-23">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PalmDetect"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span></span>
<span id="cb11-24">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PalmMinWidth"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"10"</span></span>
<span id="cb11-25">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PalmMinZ"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"200"</span></span>
<span id="cb11-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Mouse movement speed settings</span></span>
<span id="cb11-27">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MinSpeed"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1.5"</span></span>
<span id="cb11-28">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MaxSpeed"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2.5"</span></span>
<span id="cb11-29">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AccelFactor"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.042817"</span></span>
<span id="cb11-30">    Option <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ConstantDeceleration"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1.5"</span></span>
<span id="cb11-31">EndSection</span></code></pre></div>
</div>
<p><code>70-synaptics-touchpad.conf</code> 中的 <code>70</code> 代表优先级, 也可以改成更高的优先级 (比如 <code>30</code>). 各参数作用可自行了解修改.</p>
<p>使其生效:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> chmod 644 /etc/X11/xorg.conf.d/70-synaptics-touchpad.conf</span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart gdm3 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 或者重启电脑</span></span></code></pre></div>
</section>
<section id="optional-安装-libinput10" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="optional-安装-libinput10"><span class="header-section-number">2</span> Optional: 安装 <code>libinput10</code></h2>
<p><code>libinput10</code> 可以让你用 Mac 手势控制电脑. 参考 <a href="https://wayland.freedesktop.org/libinput/doc/latest/index.html">libinput 官方说明</a></p>
<p><strong>注意</strong>: 不要按 <a href="https://medium.com/@dakshin.k1/enable-3-finger-gesture-for-click-and-drag-on-windows-and-linux-cd7165b66851">这里</a> 直接下载编译好的文件, 请自行源码编译! 如果搞爆了, 按 Section&nbsp;2.2 的方法修复.</p>
<section id="开启-ssh" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="开启-ssh"><span class="header-section-number">2.1</span> 开启 SSH</h3>
<p>由于操作可能会导致 GNOME 桌面环境崩溃, 先确保 SSH 已经开启, 以便后续可以远程操作:</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt update</span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install openssh-server</span>
<span id="cb13-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl status ssh <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># check if SSH is running, if not, start it:</span></span>
<span id="cb13-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl start ssh  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># If use `sudo systemctl enable ssh`, SSH will start automatically on boot</span></span></code></pre></div>
<p>获取 IP:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hostname</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I</span></span></code></pre></div>
</section>
<section id="sec-recovery" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="sec-recovery"><span class="header-section-number">2.2</span> 恢复方法</h3>
<p>如果:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ubuntu-touchpad/cover.jpg" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>A problem has occurred and the system can’t recover</figcaption>
</figure>
</div>
<p>别慌, 进入 TTY: Ctrl + Alt + F3 (或 F4/F5), 输入用户名和密码登录 (如果你可以 SSH 上去也可以远程), 然后:</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt-get update</span>
<span id="cb15-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt-get install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--reinstall</span> libinput10</span>
<span id="cb15-3"></span>
<span id="cb15-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 删除你自己 cp 的错误文件（如果还在）</span></span>
<span id="cb15-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> rm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> /usr/lib/x86_64-linux-gnu/libinput.so.10.14.0</span>
<span id="cb15-6"></span>
<span id="cb15-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 删除错误链接（如果它仍然指向 10.14.0）</span></span>
<span id="cb15-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> rm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> /usr/lib/x86_64-linux-gnu/libinput.so.10</span>
<span id="cb15-9"></span>
<span id="cb15-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 手动建立正确的符号链接</span></span>
<span id="cb15-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> ln <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-s</span> libinput.so.10.13.0 /usr/lib/x86_64-linux-gnu/libinput.so.10</span>
<span id="cb15-12"></span>
<span id="cb15-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 刷新链接缓存</span></span>
<span id="cb15-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> ldconfig</span>
<span id="cb15-15"></span>
<span id="cb15-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span> /usr/lib/x86_64-linux-gnu/libinput.so.10<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 确认链接是否正确</span></span>
<span id="cb15-17"></span>
<span id="cb15-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> reboot</span></code></pre></div>


</section>
</section>

 ]]></description>
  <category>Linux</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/ubuntu-touchpad/</guid>
  <pubDate>Sun, 13 Jul 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/ubuntu-touchpad/cover.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>How I Learn 我的学习心得</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/learning-things/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>Directly exported from Notion, may contain some formatting issues.</p>
</blockquote>
<section id="general-spirits" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="general-spirits"><span class="header-section-number">1</span> General Spirits</h2>
<div class="tbl" data-tbl-colwidths="[5, 12, 83]">
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th>No.</th>
<th>Date</th>
<th>Ideas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>41</td>
<td>2025-8-17</td>
<td><strong>Learn by terminology</strong>: 我曾经看轻术语的重要性, 事实上每个术语都有自己的一套哲学在里面, 你需要分辨哪些术语是必要的 (总线、分布式, etc), 哪些是不必要的. 当一个领域所有的资料都以术语的方式呈现时, 你必须先掌握所有的术语的意义, 然后才能理解这些资料. So enjoy the art of terminologing!</td>
</tr>
<tr class="even">
<td>40</td>
<td>2025-8-3</td>
<td>检验一流智力的标准, 就是在头脑中同时存在两种<strong>截然相反的想法</strong>时仍能保持<strong>行动能力</strong>. – F. Scott Fitzgerald</td>
</tr>
<tr class="odd">
<td>39</td>
<td></td>
<td>适当的不合理的假设 (其实就是帮助建立一个模块) 能够帮助快速进展. 一个不合理的假设没有你想象的那么不合理和顽固, 知识本身你都会忘 let alone 不合理的假设.</td>
</tr>
<tr class="even">
<td>38</td>
<td></td>
<td>一个学科形成时的 Paradigm Shift 范式转变: 一个概念的形成需要一条完整的动机链, 其中包含很多个关键的 Paradigm Shift, 学会一个概念很容易, 只需要找到属于你自己的动机链和这些 Paradigm Shift, 你就学会了. 但是也很复杂, 因为这些都要你自己去寻找. 举个栗子: 白云和挂科有什么关系? 只要三个 Paradigm Shift: 白云 -&gt; White Cloud -&gt; WC -&gt; CW -&gt; 挂科. 虽然每个 Paradigm Shift 都是相对显然的. 我不认为一个 new comer 能够「理解」数学里的 Set, Morphism, Limits in categories 抑或者控制系统里的 Phasor, Transfer function, etc. 我也不认为科普文或视频对外行 (或内行) 有任何的实质性帮助.</td>
</tr>
<tr class="odd">
<td>37</td>
<td></td>
<td>The imageries and the method by which we are storing it (knowledge) all and the way we think about it, could be really, if we get to each other’s head, entirely different. – Richard Feynman</td>
</tr>
<tr class="even">
<td>36</td>
<td>2025-3-8</td>
<td>Remember what Richard Feynman thought when he went to the dentist? He thought about the entire process of generating the electricity, from the big wheel in the factory, the transmission lines, to the rotor he’s looking at right now. All of these are one realization of Maxwell’s Equations. Isn’t that amazing? 如果你能这么思考一个领域的内容, 你才真正理解了它! 不过这并不难, know how things work只是人类的本能, 只不过这种本能已经在无数的教育框架和所谓模型中渐渐变成了一种邪教, 使人不加思考地相信他们, 以至于搞懂他们都会被表扬.</td>
</tr>
<tr class="odd">
<td>35</td>
<td>2025-3-8</td>
<td>为什么看懂代码能够让你快速学会一个领域的知识(如ML)? 是因为当你看懂程序并且该程序能够跑出正确的结果的时候, 你的脑袋中就有了Ah, this is <strong>nothing</strong> but …的一句话. 看懂代码是让你得出这句话的很有效的方法, 但或许并不是最高效的方法. 亦或者有更高效率的看懂代码的方法?</td>
</tr>
<tr class="even">
<td>34</td>
<td>2025-3-8</td>
<td>理解了一个问题也就解决了这个问题.</td>
</tr>
<tr class="odd">
<td>33</td>
<td>2025-3-6</td>
<td>阻碍你进行科研的原因之一是你不清楚其问题的抽象程度, 而大多数问题的抽象程度比较高, 不需要你进行很多原理上的了解, 将它变成纯粹的数学问题进行思考. 比如信道的模型你就当作一个“有趣”的结构, 讨论其正确性的工作有别于你现在研究的问题.</td>
</tr>
<tr class="even">
<td>32</td>
<td>2025-1-4</td>
<td>如果把一句话里的关键词换成其他很多词也成立，那么这句话本身就是废话。</td>
</tr>
<tr class="odd">
<td>31</td>
<td>2024-12-21</td>
<td>理解一个东西大致分为：弄懂它讲的是什么、对它建立认知和充分理解。前者需要查阅大量的资料和克服恐惧心理，后者需要充分的独立的自主思考时间。本科科研的本质就是耗费你大量的时间来完成前一个步骤，后一个步骤将很慢地进行。所以有一个shortcut就是通过其他同学来告诉你它是什么、用来干什么的、细节是怎样的。这样你就省去了大量读懂它的时间。</td>
</tr>
<tr class="even">
<td>30</td>
<td>2024-12-4</td>
<td>When you realize that an idea or a subject could’ve been reinvented if it is lost totally, this feeling is very important because you already know the direction of science.</td>
</tr>
<tr class="odd">
<td>29</td>
<td>2024-12-4</td>
<td>Once you know the motivation and the cool aspects of something (like the spirit of phase space), you already possess all of that subject (Everything is just propositions, which will naturally arise with a little bit extra proofs and paper-and-pencil thing. If your brain has enough speed and memory, the whole subject can even appear in your head all of a sudden! Those “propositions” are just used to correct imperfect intuitions!), and you could have brought about the whole scenery yourself, provided that you just know the initial spirit! A new subject is formed exactly when a cool idea is proposed and that idea happens to be true in the most cases and suddenly has rich application for no reason. The rest of the years are just years of proofing and proposition derivations. In other words, a subject is formed right after the axioms are written! By the way, this is how I learn Hamiltonian physics.</td>
</tr>
<tr class="even">
<td>28</td>
<td>2024-11-25</td>
<td>人类学习的特点：只需要<strong>一个</strong>例子、或<strong>一个</strong>类比, 而不需要两个</td>
</tr>
<tr class="odd">
<td>27</td>
<td>2024-11-23</td>
<td>Reinterpreting existing things that no one states like that before <em>is</em> invention.</td>
</tr>
<tr class="even">
<td>26</td>
<td>2024-11-18</td>
<td>当你知道题目是考什么的后，他就变得不再神圣。</td>
</tr>
<tr class="odd">
<td>25</td>
<td></td>
<td>如果你想快速地学好工程中的某个领域，你可以（而且需要）囫囵吞枣，但是你得记得你吞了几个枣。</td>
</tr>
<tr class="even">
<td>24</td>
<td>2024-11-4</td>
<td>Doing the same thing, what’s going on in people’s heads can be completely different! Which means it’s totally possible to fall in love with something that you suck at by change what’s going on in your minds. (for example, programming as another way of thinking, or think about its mathematical essence.)</td>
</tr>
<tr class="odd">
<td>23</td>
<td>2024-10-5</td>
<td>学习能力指学<strong>任何东西</strong>的能力。你一定会低估<strong>任何</strong>这个词所包含的事情，就想你一定会低估阿列夫1比阿列夫0大的程度、一个范畴中可以包含哪些东西一样。</td>
</tr>
<tr class="even">
<td>22</td>
<td></td>
<td>Recognition has a hierarchy.</td>
</tr>
<tr class="odd">
<td>21</td>
<td></td>
<td>There are two things we should never have to chase: true friends, true love.</td>
</tr>
<tr class="even">
<td>20</td>
<td>2024-10-2</td>
<td>Cheap Dopamine.</td>
</tr>
<tr class="odd">
<td>19</td>
<td>2024-9-7</td>
<td>一本书、一系列视频中真正有用的观点其实也就那么几个， take it easy!</td>
</tr>
<tr class="even">
<td>18</td>
<td>2024-6-25</td>
<td>你真的要严格区分your thoughts和政治经济学吗？</td>
</tr>
<tr class="odd">
<td>17</td>
<td>2024-6-20</td>
<td>Now I’m talking like a psychologist, and you know, I know nothing about this. —Richard Feynman</td>
</tr>
<tr class="even">
<td>16</td>
<td>2024-6-20</td>
<td>The problem with the world is that intelligent people are full of doubts and the stupid ones are full of confidence. —Charles Bukowski</td>
</tr>
<tr class="odd">
<td>15</td>
<td>2024-6-20</td>
<td>You don’t have to be focused while studying, you just need to be relaxed, chilled, and enjoy what you are studying. —YouTube comment</td>
</tr>
<tr class="even">
<td>14</td>
<td>2024-6-20</td>
<td>Maybe it’s not that the way to learn math is different from computer science, it’s that you are more interested in math! Math is for me a field where you have to run before you can walk.</td>
</tr>
<tr class="odd">
<td>13</td>
<td></td>
<td>“If all of human knowledge, everything that’s known, is believed to be an enormous hierarchic structure, then the high country of the mind is found at the uppermost reaches of this structure in the most general, the most abstract considerations of all. Few people travel here. There’s no real profit to be made from wandering through it, yet like this high country of the material world all around us, it has its own austere beauty that to some people make the hardships of traveling through it seem worthwhile.” — ROBERT PIRSIG, Zen and the Art of Motorcycle Maintenance (1974)</td>
</tr>
<tr class="even">
<td>12</td>
<td></td>
<td>Find differences first, then find similarities.</td>
</tr>
<tr class="odd">
<td>11</td>
<td></td>
<td>You cannot experience another realm without stepping out of your current zone.</td>
</tr>
<tr class="even">
<td>10</td>
<td></td>
<td>学习的过程本身就是以片面、孤立的视角看问题。</td>
</tr>
<tr class="odd">
<td>9</td>
<td></td>
<td>你的精神寄托可以是马勒、柴可夫斯基，可以是工作、学习，也可以是星辰大海，唯独不能是人，活着的人。——改编自罗翔</td>
</tr>
<tr class="even">
<td>8</td>
<td></td>
<td>从你写下以上这些文字以及实际做出的改变，到对记笔记原则的思考与实际行动，反映出了人真正转变固有思维方式与“信仰”和实际行动比你想象的更难改变.</td>
</tr>
<tr class="odd">
<td>7</td>
<td></td>
<td>记住专有名词还是有必要的 (它不是目的，而是手段), 特别是你想深入理解一个概念之前, 它不仅加速了学习、理解的速率, 给大脑带来间歇性刺激, 也减小了人脑对知识的过拟合.</td>
</tr>
<tr class="even">
<td>6</td>
<td></td>
<td>自发的、清晰表述的问题能够给自己带来不少的潜在价值. ——王木头</td>
</tr>
<tr class="odd">
<td>5</td>
<td></td>
<td>让我们的学习有进展的, 并非正确的知识, 而是能够被自己认可的解释.</td>
</tr>
<tr class="even">
<td>4</td>
<td></td>
<td>我们登上并非我们所选择的舞台, 演出并非我们所选择的剧本.</td>
</tr>
<tr class="odd">
<td>3</td>
<td></td>
<td>Okay, why can’t you learn something new? You are the person who likes systematic learning, which does have benefits, but also has fatal weaknesses: You can’t learn fast. However, the reason behind that is <strong>you don’t have trees of that particular field in your head</strong>, you don’t know where to put newcomers. So build your trees first!</td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td>If you are in the state of learning, you are not in the status of worrying. (NOTE Learning is generalized!)</td>
</tr>
<tr class="odd">
<td>1</td>
<td></td>
<td>知识结构决定学习方法. (如单片机、通信网络这种课非常有别于数学或物理课，其知识有明显的网状特点，应该采用逐步加深而不是扩散的学习方法, 其中逐步加深的过程中出现 “不是很明白” 或 “没有学习的感觉” 的情况是正常的, 要靠时间去磨专业名词等等, 但是一定要花时间去看! 另外这种学科中的实例比定义更有价值!)</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="how-to-learn-math" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="how-to-learn-math"><span class="header-section-number">2</span> How to Learn Math</h2>
<div class="tbl" data-tbl-colwidths="[5, 12, 83]">
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th>No.</th>
<th>Date</th>
<th>Ideas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>184</td>
<td>2025-6-30</td>
<td>我发现好像名词的定义不再神圣了. 重要的是一个概念的动机和结论.</td>
</tr>
<tr class="even">
<td>183</td>
<td>2025-5-10</td>
<td>currying 是 “<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BHom%7D"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cotimes"> 的伴随性”的程序员版本！</td>
</tr>
<tr class="odd">
<td>182</td>
<td>2025-5-7</td>
<td>你真的懂得方程思想吗 – 大胆假设未知的量或函数, 然后列出他们满足的方程!!!!!</td>
</tr>
<tr class="even">
<td>181</td>
<td>2025-4-7</td>
<td>When visualizing things, you should be clear what space you are looking at, it could be a different space than what you think. (For example, in stereographics projection, what you are looking at is the projective space, not the common complex space.)</td>
</tr>
<tr class="odd">
<td>180</td>
<td>2025-3-30</td>
<td>You should always think about a homomorphism whenever there is a quotient.</td>
</tr>
<tr class="even">
<td>179</td>
<td>2025-3-30</td>
<td>The quotient of a group <img src="https://latex.codecogs.com/png.latex?G"> by a normal subgroup <img src="https://latex.codecogs.com/png.latex?N"> is a means of organizing the group elements according to how they fail—or don’t fail—to satisfy the property required to belong to <img src="https://latex.codecogs.com/png.latex?N">. Think about <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BZ%7D/5%5Cmathbb%7BZ%7D">.</td>
</tr>
<tr class="odd">
<td>178</td>
<td>2025-3-10</td>
<td>The second order derivative commutes is called the Levi-Civita connection!</td>
</tr>
<tr class="even">
<td>177</td>
<td>2025-1-31</td>
<td>I would rather have questions that can’t be answered than answers that can’t be questioned. —Richard Feynman</td>
</tr>
<tr class="odd">
<td>176</td>
<td>2025-1-31</td>
<td>Science is the belief in the ignorance of experts.</td>
</tr>
<tr class="even">
<td>175</td>
<td>2025-1-31</td>
<td>Physics is to math what sex is to masturbation. Sure it might give some practical results but that’s not why we do it. — Richard Feynman</td>
</tr>
<tr class="odd">
<td>174</td>
<td>2025-1-5</td>
<td>之前你经常听到群描述了某种对称性，今天通过strongly symmetric channel的概念终于理解了这句话。对称性就是某个群作用到某个集合上，关于这个集合的某个函数不变（G-invariant）。</td>
</tr>
<tr class="even">
<td>173</td>
<td>2025-1-5</td>
<td>Gaussian 分布在连续意义上是一种“最混乱”的分布，Uniform 分布在离散意义上是一种“最混乱”的分布。</td>
</tr>
<tr class="odd">
<td>172</td>
<td>2025-1-5</td>
<td>你要分清哪些是数学上tedious的证明，哪些是关键的思想。往往一个理论的思想只有一两个，其他的只是因为人脑的内存不足以至于不能一眼就看出来结论（所以如果人脑推理速度很快的话，这些结论没有很多的价值，比如熵是凸函数就是这样一个结论）。</td>
</tr>
<tr class="even">
<td>171</td>
<td>2025-1-3</td>
<td><img src="https://latex.codecogs.com/png.latex?(u,v)"> 在某些情况下可以写成 <img src="https://latex.codecogs.com/png.latex?u+iv">, 其中u和v是某个向量空间中的元素。</td>
</tr>
<tr class="odd">
<td>170</td>
<td>2025-1-2</td>
<td>Hermitian 性总是和实数性联系在一起：<img src="https://latex.codecogs.com/png.latex?x(t)%20%5Cin%20%5Cmathbb%7BR%7D%20%5Ciff%20H(-f)%20=%20H%5E*(f)%20%5C%5C%20S(f)%20%5Cin%20%5Cmathbb%7BR%7D%20%5Ciff%20R(-t)%20=%20R%5E*(t)"> 但是如何统一 <img src="https://latex.codecogs.com/png.latex?f"> is <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BP.D.%7D%20%5Ciff"> induced matrix F is Hermitian <img src="https://latex.codecogs.com/png.latex?%5Ciff"> spectrum of <img src="https://latex.codecogs.com/png.latex?F"> is real?</td>
</tr>
<tr class="even">
<td>169</td>
<td>2025-1-2</td>
<td>傅立叶变换是伸缩的积分变换；卷积是平移的积分变换。</td>
</tr>
<tr class="odd">
<td>168</td>
<td>2025-1-2</td>
<td>Hilbert transform is unique in some sense. (The only one singular integral in dimension 1)</td>
</tr>
<tr class="even">
<td>167</td>
<td>2025-1-2</td>
<td>当你觉得你学的某个知识是某种东西的特例的时候，你将感到很快乐。</td>
</tr>
<tr class="odd">
<td>166</td>
<td>2025-1-1</td>
<td>为什么我们不能将一个概念向别人解释地很清楚？一个很重要的点是我们会忘记当时我们怎么学会的（包括参考资料、视频等），当我们向别人解释时，我们大脑里呈现的是那个例子，但是我们并没有把这个例子告诉对方</td>
</tr>
<tr class="even">
<td>165</td>
<td>2025-1-1</td>
<td>entropy是分布的函数而不是随机变量的函数 (similar to moments) (The random variable does not contain the information on its own distribution, so it is impossible to define the entropy of the distribution —or any moments of the distribution — purely as a function of the random variable!)</td>
</tr>
<tr class="odd">
<td>164</td>
<td>2024-12-28</td>
<td>定理的条件是如何诞生的：先是有一个新颖的观点，然后通过直觉驱动的不严谨的推导，得出一个很有可能正确的结论（这里需要正确的数学审美素养）。然后为了论述这个结论，加上了很多分析限制（比如局部紧的）。产出论文时，把这些限制写在论文开头来防止你很快地看懂你浅陋的思维。</td>
</tr>
<tr class="even">
<td>163</td>
<td>2024-12-26</td>
<td>Hermitian 跟实数总是有一定的关系！比如 Hermitian 矩阵的特征值值一定是实数，实信号的 Fourier 变换具有 Hermitian 性，那内积、相关函数好像也具有 Hermitian 性，其“实数”性体现在哪呢？跟 Positive definite 有关？</td>
</tr>
<tr class="odd">
<td>162</td>
<td></td>
<td>随机信号过的不是线性系统，而是线性系统在 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BHom%7D(%5COmega,%20-)"> 函子下的像！！</td>
</tr>
<tr class="even">
<td>161</td>
<td>2024-12-17</td>
<td>如果你要求一个函数或数列，不要想办法求出具体的某一项，而是先写出<strong>整个</strong>函数或数列要满足的方程！！</td>
</tr>
<tr class="odd">
<td>160</td>
<td>2024-12-16</td>
<td>When you have uncertain things, just think of one of the possible explanations and believe it is true.</td>
</tr>
<tr class="even">
<td>159</td>
<td>2024-12-14</td>
<td>“Kernel” also means weighted sum (or integral).</td>
</tr>
<tr class="odd">
<td>158</td>
<td>2024-12-3</td>
<td>Fourier transform is a group algebra homomorphism between the group algebra and endomorphisms of the direct sum of irreducible representations</td>
</tr>
<tr class="even">
<td>157</td>
<td>2024-12-2</td>
<td>Whenever a mathematical statement looks magical, it never actually is.</td>
</tr>
<tr class="odd">
<td>156</td>
<td>2024-11-20</td>
<td>Dynamical system is a concept in math, not physics. (But yeah you are right if you disagree) There are two versions of ergodicity, using measuring-preserving transformations, and in the language of stochastic process.</td>
</tr>
<tr class="even">
<td>155</td>
<td>2024-11-20</td>
<td>Symplectic manifolds provide the generalized setting for classical mechanics, where the motion of a mechanical system is described by a geodesic.</td>
</tr>
<tr class="odd">
<td>154</td>
<td>2024-11-19</td>
<td>free这个概念和形式定义相关。形式定义是切入一个概念的重要方法。</td>
</tr>
<tr class="even">
<td>153</td>
<td>2024-11-19</td>
<td>线性变换的性质已经完美地融合在了矩阵的运算中，但是这种融合过于完美，以至于大多数人都不能从其中抽取出一条适合于人类大脑线性思维的学习轨迹。（矩阵运算的各个理解方式都对应了一些及其重要的性质！）</td>
</tr>
<tr class="odd">
<td>152</td>
<td>2024-11-1</td>
<td>You should be aware of <strong>how</strong> we <strong>model</strong> real-world things. (how do we think of information sources? —Stochastic processes; how do we imagine channel? —Just a little conditional probability matrix.)</td>
</tr>
<tr class="even">
<td>151</td>
<td>2024-10-23</td>
<td>It’s a funny thing about square matrices: they can represent several very different things, especially two–linear transformations from a space to itself and bilinear forms.</td>
</tr>
<tr class="odd">
<td>150</td>
<td>2024-10-20</td>
<td>数学家想用最高的抽象性描述尽可能多的事物，然而最后描述出来的却没想象的那么多，这不是数学的问题，而是挖掘的问题（我在避免用application这个词，因为人类已经对它麻木了）</td>
</tr>
<tr class="even">
<td>149</td>
<td>2024-10-20</td>
<td>分布的函数和随机变量的函数是不一样的。</td>
</tr>
<tr class="odd">
<td>148</td>
<td>2024-10-17</td>
<td>It seems that some genius people talking about a very visual problem (say a random walk), what’s going on in their heads is totally different from what he describes. There will always be some abstraction and soul of this particular subject in his head simultaneously, but it’s hard to speak them out. (For example, a sum in a random process is not just adding numbers but random variables.) The described version is always a special case of a more generalized problem.</td>
</tr>
<tr class="even">
<td>147</td>
<td>2024-10-15</td>
<td>很多概念的学习顺序其实没你想的那么重要，不同的教材中介绍他们的顺序都不一样，你要做的不是去找一个通用的学习顺序，而是去揣摩作者这样写的目的。（比如KL散度和Mutual information 哪个先介绍好一点？）但是往往概念有很多等价的定义，有必要清楚你认为哪一个是出发点！</td>
</tr>
<tr class="odd">
<td>146</td>
<td>2024-10-14</td>
<td>一本好的书应该给你足够的心理准备，即使他没有给你，你自己也应该做好某种心理准备来应对可能的难于理解的问题，关键词：“只不过是”.</td>
</tr>
<tr class="even">
<td>145</td>
<td></td>
<td>OK there are several things in math that make you feel uncomfortable: repetitive proofs, intimidating notations, lack of motivation for new concepts, etc. Now stop worrying and fix them!</td>
</tr>
<tr class="odd">
<td>144</td>
<td></td>
<td>Changing perspective is both essential in math and life.</td>
</tr>
<tr class="even">
<td>143</td>
<td></td>
<td>你要相信你独立发现的数学结构之间的相似性一定是一门学问的有效动机！</td>
</tr>
<tr class="odd">
<td>142</td>
<td>2024-10-5</td>
<td>理解一个概念只需要一个例子！你一定会低估你理解一个概念所需要的例子数量！但是这个例子需要足够的surprising, 并且多余的结构越少越好！</td>
</tr>
<tr class="even">
<td>141</td>
<td></td>
<td>确实你有必要刻意地区分一下随机变量、观测值、样本的区别了。</td>
</tr>
<tr class="odd">
<td>140</td>
<td></td>
<td>我不认为说一个东西没有意义有任何的好处。</td>
</tr>
<tr class="even">
<td>139</td>
<td>2024-9-25</td>
<td>如何听课？“这个时刻的值是随机的”，当老师说这句话时，没必要去为严谨性去反驳，当我自己尝试严谨地表达我头脑中理解的画面时，我发现只能这么表达了。然而这句话的背后蕴含了大量对学科本质及思想的理解。</td>
</tr>
<tr class="odd">
<td>138</td>
<td>2024-9-25</td>
<td>是谁改变了你对数学的看法？Feynman. (你真的要区分应用数学和纯数吗，what is understanding?, 数学真的是过剩的，任何一个将纯数理论用在其他领域的人都是里程碑式的人物，比如纤维丛，然而他们只是<strong>理解</strong>了这个数学概念，没有那么伟大，他们也不会认为自己很伟大、亦或是有多天才)</td>
</tr>
<tr class="even">
<td>137</td>
<td>2024-9-21</td>
<td>GPT在学习数学中的作用——强化萌生的观点。</td>
</tr>
<tr class="odd">
<td>136</td>
<td>2024-9-18</td>
<td>认识到你学的东西知识一个宏图的局部是一件很难的事情。（比如香农熵只是One of the methods）</td>
</tr>
<tr class="even">
<td>135</td>
<td></td>
<td>当你在学所谓的“严格数学”时，很容易就忘记这样做背后的指导思想，它是什么东西的抽象？定理填补了哪个<strong>直觉漏洞</strong>？代数是直觉的量化、是为了避免大脑内存溢出时做的信息压缩。万不得已才做代数推导。</td>
</tr>
<tr class="odd">
<td>134</td>
<td></td>
<td>内秉是学习几何的指导思想。</td>
</tr>
<tr class="even">
<td>133</td>
<td>2024-9-13</td>
<td>寻求本质的过程就是抽象的过程。</td>
</tr>
<tr class="odd">
<td>132</td>
<td></td>
<td>人的学习和机器的学习差别之一在于人只要少量甚至一个例子就会觉得自己学会了。（这既是人的优点也是人的缺点，但是往往理解就发生于一个非平凡的例子中（如有理数不完备这个事实其实是你对完备性的唯一认识，但是你会觉得你理解了完备性这个概念，而且大多数时候这个理解也够用了，之所以说大多数是因为我没碰到过反例，而且我崇尚认知的最高指导思想））</td>
</tr>
<tr class="even">
<td>131</td>
<td></td>
<td>如果你认为范性质是特殊的，你也应该立即觉得特殊的东西也许满足范性质。</td>
</tr>
<tr class="odd">
<td>130</td>
<td>2024-9-10</td>
<td>When you thought two things are <strong>analogous</strong>, that’s what a normal person should’ve noticed. You should step further by considering their <strong>difference</strong>.</td>
</tr>
<tr class="even">
<td>129</td>
<td>2024-8-25</td>
<td>知道对什么的抽象比知道抽象本身更有意义。</td>
</tr>
<tr class="odd">
<td>128</td>
<td>2024-8-25</td>
<td>作为一个数学民科，你要做的不是会证明一个定理，而是看着一个定理而觉得它很显然。（如果觉得不是很显然，找到为什么觉得不显然具体的原因，然后在证明中找到对应的那一步）</td>
</tr>
<tr class="even">
<td>127</td>
<td>2024-8-21</td>
<td>如果你只知道一个概念的范畴语言定义，那你完全没有理解它。范畴语言的好处在于你可以将不同概念的交换图进行比较从而对比他们的相似之处。（比如张量积的范性质定义）</td>
</tr>
<tr class="odd">
<td>126</td>
<td>2024-8-13</td>
<td>You are learning the story not part of the story.</td>
</tr>
<tr class="even">
<td>125</td>
<td>2024-8-10</td>
<td>再多的抽象语言不如否定一个trivial的例子（信号，“有某种意义的下降”）</td>
</tr>
<tr class="odd">
<td>124</td>
<td>2024-8-5</td>
<td>Let I be an interval in the real line. —-think about the worst condition of I, not the nicest!</td>
</tr>
<tr class="even">
<td>123</td>
<td>2024-7-15</td>
<td>I keep iterating that when you define some structure such as a group or vector space, you should always immediately look for functions that preserve that structure. –All Angles youtube</td>
</tr>
<tr class="odd">
<td>122</td>
<td></td>
<td>Young man, in mathematics you don’t understand things. You just get used to them. —John von Neumann</td>
</tr>
<tr class="even">
<td>121</td>
<td></td>
<td>Consider things at the highest abstract layer. (Help to find the essence of it, e.g.&nbsp;摩尔条纹)</td>
</tr>
<tr class="odd">
<td>120</td>
<td></td>
<td>Lie groups are kind of “continuous” groups (which can be thought of as a curved surface, or a manifold), and Lie algebra is at the tangent space at the identity of the Lie group, with the “additional bilinear-ish operation” Lie brackets.</td>
</tr>
<tr class="even">
<td>119</td>
<td></td>
<td>知识间的连接比知识本身的内容更重要</td>
</tr>
<tr class="odd">
<td>118</td>
<td></td>
<td>A formal definition is needed when dealing <strong>abstractly</strong> with sequences. —-Jeremy Orloff</td>
</tr>
<tr class="even">
<td>117</td>
<td></td>
<td>表面上对样本值进行的操作其实背后是对概率密度函数进行对应的操作。（如加法对应卷积）–Frequentist</td>
</tr>
<tr class="odd">
<td>116</td>
<td></td>
<td>数学发现往往不是靠逻辑完成的（而是对称性、灵感、延拓：如实数域扩展到复数域，然后借用复数域中的结论来反映某种现实意义），靠逻辑完成的是严格化过程。</td>
</tr>
<tr class="even">
<td>115</td>
<td></td>
<td>数学中引入“space”的原因之一是提供了一个<strong>全局的、广阔的</strong>的视角来观察所有元素。（如probability space中的sigma algebra归纳列举了所有可测集，top space中的topology归纳列举了所有开集）</td>
</tr>
<tr class="odd">
<td>114</td>
<td></td>
<td>Inspiration is cheap, but rigor is expensive. –Cassie Kozyrkov</td>
</tr>
<tr class="even">
<td>113</td>
<td></td>
<td>It’s always easy to learn a thing when you first have the map, the big picture on your hand, just don’t be overwhelmed by the details.</td>
</tr>
<tr class="odd">
<td>112</td>
<td></td>
<td>Mathematics is a lattice, not a ladder. –Marcus Pivato</td>
</tr>
<tr class="even">
<td>111</td>
<td></td>
<td>It is entirely possible that future generations will look back, from the vantage point of view of a more sophisticated theory, and wonder how we could have so gullible. –David J. Griffiths</td>
</tr>
<tr class="odd">
<td>110</td>
<td></td>
<td>你的概率论打开方式不对。</td>
</tr>
<tr class="even">
<td>109</td>
<td></td>
<td>旋转是缩放的高维延拓。</td>
</tr>
<tr class="odd">
<td>108</td>
<td></td>
<td>数学语言不应是你掩饰无知的工具。</td>
</tr>
<tr class="even">
<td>107</td>
<td></td>
<td>看山是山，看水是水；看山不是山，看水不是水；看山还是山，看水还是水。（从解构和建构）</td>
</tr>
<tr class="odd">
<td>106</td>
<td></td>
<td>You gotta have taste! —杨振宁</td>
</tr>
<tr class="even">
<td>105</td>
<td></td>
<td>如果你发现了好的学习资料，应该感到悲哀，因为你可能因此少了很多独立发现规律的机会与兴奋感。</td>
</tr>
<tr class="odd">
<td>104</td>
<td></td>
<td>概率应该叫做归一测度，随机变量应该叫做归一映射，期望应该叫做一阶原点矩，方差应该叫做二阶中心距，总之概率的一切命名都应该听起来与概率无任何关系！</td>
</tr>
<tr class="even">
<td>103</td>
<td>2023-11-7</td>
<td>今天（11-7-2023）我打算采用一个看上去很有希望的思考方式：用封闭性和映射来思考一切事物（注意是一切！）</td>
</tr>
<tr class="odd">
<td>102</td>
<td></td>
<td>如果你发现初学符号体系或概念非常不可理解（如vector和covector的指标规定），则他一定是对数学体系的高瞻远瞩。</td>
</tr>
<tr class="even">
<td>101</td>
<td></td>
<td>有些概念是以你目前的阅历难以理解的，那么先让它随风去吧。你不是天才，只是一个追求知识的普通人。</td>
</tr>
<tr class="odd">
<td>100</td>
<td></td>
<td>Don’t be lost in math!!</td>
</tr>
<tr class="even">
<td>99</td>
<td></td>
<td>The trick is to learn as much math as possible, without becoming a mathematician. (Haha, that’s really accurate!!!) —Jonathan Gardner</td>
</tr>
<tr class="odd">
<td>98</td>
<td></td>
<td>The derivative is the opposite (or dual) of the boundary!!!!!</td>
</tr>
<tr class="even">
<td>97</td>
<td></td>
<td>能定义自然数结构的系统，具有个体对整体进行概括和抽象的能力。——王木头</td>
</tr>
<tr class="odd">
<td>96</td>
<td></td>
<td>教材是偏序的。——Maki</td>
</tr>
<tr class="even">
<td>95</td>
<td></td>
<td>以<strong>教学</strong>为目的的学习总是好的。(注意不是以学习为目的，具体方法是写讲义)——Maki</td>
</tr>
<tr class="odd">
<td>94</td>
<td></td>
<td>数学家只需要纸和笔，不需要电脑。</td>
</tr>
<tr class="even">
<td>93</td>
<td></td>
<td>其实大部分的概念你感觉理解了，实际上只是<strong>熟悉</strong>了它的使用（“磨”，“be comfortable with the idea”）。</td>
</tr>
<tr class="odd">
<td>92</td>
<td></td>
<td>平均值与采样方法有关！</td>
</tr>
<tr class="even">
<td>91</td>
<td></td>
<td>将直线投影到圆上，感觉上原本均匀分布的点不再均匀了，这种感觉就是“非线性”，其中局部的密度之比便是导数。(所谓的对某某量进行微分，d theta, dl)</td>
</tr>
<tr class="odd">
<td>90</td>
<td></td>
<td>Math is not just about solving problems. It’s about gaining insight, finding connections, and explanations. –Terence Tao</td>
</tr>
<tr class="even">
<td>89</td>
<td></td>
<td>差生文具多。</td>
</tr>
<tr class="odd">
<td>88</td>
<td></td>
<td>纯数学是为了提升我们对数学本身的认识；应用数学是利用数学去提升我们对其他学科的认识。</td>
</tr>
<tr class="even">
<td>87</td>
<td></td>
<td>Don’t be intimated by the math jargon – I just want to get a point across, so bear with this bit. Still, it is very important to see the big picture first, and care about those little details later.</td>
</tr>
<tr class="odd">
<td>86</td>
<td></td>
<td>阅读数学书要揣摩作者这样安排概念、定理的理由，寻找a chain that connect them together.</td>
</tr>
<tr class="even">
<td>85</td>
<td></td>
<td>The simpler, the better. (任何让你感觉很痛苦的事一定是你没有在恰当的地方认识他，如Lagrange’s Thm, 国内的任何一本抽代教材，去s吧！TM看了一天的国内视频，还没最后youtube10分钟学的多！！！我***)</td>
</tr>
<tr class="odd">
<td>84</td>
<td></td>
<td>你要发挥双语者在学习数学中的优势。（我想强调的是对于每一个英文数学概念，如果有的话，尽量要知道其中文名称）</td>
</tr>
<tr class="even">
<td>83</td>
<td></td>
<td>你无需保证第一次学的东西就是正确的。一个相对符合直觉的陈述比一个正确的理论往往在一开始更有价值。</td>
</tr>
<tr class="odd">
<td>82</td>
<td></td>
<td>每当事实与直觉相悖时，不要惊慌，务必弄清 where is the point?? What’s wrong <strong>exactly</strong> with your intuition??（e.g.&nbsp;生日悖论）</td>
</tr>
<tr class="even">
<td>81</td>
<td></td>
<td>当你用图形思考数学时，要考虑其最大<strong>失效</strong>程度是多少。（如用图论中的Cycle思考循环群的失效程度比用开区间理解拓扑空间的失效程度低很多）</td>
</tr>
<tr class="odd">
<td>80</td>
<td></td>
<td><strong>自学要假装是在上讨论班</strong>（用语言尝试表达出来，毕竟人类文明进化程度太低，对事物的理解还是大部分建立在语言上的）（事实证明这样能极大提高自学效率）</td>
</tr>
<tr class="even">
<td>79</td>
<td></td>
<td>多线程学习+定义链逻辑梳理</td>
</tr>
<tr class="odd">
<td>78</td>
<td></td>
<td>If that doesn’t blow your mind, I don’t know what will. (de Rham cohomology)</td>
</tr>
<tr class="even">
<td>77</td>
<td></td>
<td>如何理解定义？——What do you want it to behave?</td>
</tr>
<tr class="odd">
<td>76</td>
<td></td>
<td>Be humble.</td>
</tr>
<tr class="even">
<td>75</td>
<td></td>
<td>学任何的数学都需要从直观走向严格。（注意是先直观）</td>
</tr>
<tr class="odd">
<td>74</td>
<td></td>
<td>理解一个概念时（如Topological Space），尽量用接近这个定义的例子来理解（如如果用R来理解就会不完善，因为R不光有拓扑结构，还有序结构、几何结构）</td>
</tr>
<tr class="even">
<td>73</td>
<td></td>
<td>向量是向量，面积可以是向量，线性泛函也可能是向量。</td>
</tr>
<tr class="odd">
<td>72</td>
<td></td>
<td>你不一定要知道会证明每一个定理、推论或引理，但你需要一种安全感并且认识到他们不是魔法。</td>
</tr>
<tr class="even">
<td>71</td>
<td></td>
<td>离开实践的认识是不可能的。——毛泽东《实践论》</td>
</tr>
<tr class="odd">
<td>70</td>
<td></td>
<td>教会别人往往不能从完全“正确”的理论开始，而是从不正确到正确，从直觉到严格的过程（教会自己也是同理）（如光滑流形，叶状结构流形的可积性严格化过程）(Accepting some of the mathematics behind the pictures but not enough to overwhelm you with theoretical details. –Fortney Manifolds)</td>
</tr>
<tr class="even">
<td>69</td>
<td></td>
<td>数学喜欢给不同的事物相同的名字，也喜欢给相同的事物不同的名字。（对应一般化思想和不同的数学分支）</td>
</tr>
<tr class="odd">
<td>68</td>
<td></td>
<td>一本书只能从头开始读是非常可悲的</td>
</tr>
<tr class="even">
<td>67</td>
<td></td>
<td>定义链是很有必要研究的（不论是数学还是物理）</td>
</tr>
<tr class="odd">
<td>66</td>
<td></td>
<td>OMG, I just found that Feynman had said the same thing: What I cannot create, I do not understand. Know how to solve <strong>every</strong> problem that has been solved. (知识的本体不是书上写的文字)</td>
</tr>
<tr class="even">
<td>65</td>
<td></td>
<td>You actually learned something as if you invented them. (You’d be confident using them)</td>
</tr>
<tr class="odd">
<td>64</td>
<td></td>
<td>数学对象都在自己的独立空间中，置身与他们自己的空间，设身处地为他们着想（如向量在切空间中，不在光滑流形之中；1-form在余切空间中，不在切空间中）</td>
</tr>
<tr class="even">
<td>63</td>
<td></td>
<td>Reading a book is nothing more than buying vegetables, you <strong>check</strong> them carefully first, <strong>package</strong> what you want, <strong>take away</strong> the packages, and <strong>digest</strong> them afterwards. (NOTE I wanna say the process of <strong><em>packaging</em></strong> is especially important)</td>
</tr>
<tr class="odd">
<td>62</td>
<td></td>
<td>要有宏观意识，知道学这个他在试着告诉你什么，它是一些技巧还是核心思想，还是一些不显然的结论，它能否通过计算机技术代替手工解决？</td>
</tr>
<tr class="even">
<td>61</td>
<td></td>
<td>注重它给你带来的feeling，而不是具体细节，细节应当能通过它给你的feeling推自然导出。</td>
</tr>
<tr class="odd">
<td>60</td>
<td></td>
<td>It takes a lot of imagination.</td>
</tr>
<tr class="even">
<td>59</td>
<td></td>
<td>学习的饱和现象：当学习一门新技术达到一定广度（或深度）时，总有几个问题无法完全理解，这时需要学习更深入的知识才能打破这种状况。</td>
</tr>
<tr class="odd">
<td>58</td>
<td></td>
<td>If you cannot “think something in one way”, then learn something else!</td>
</tr>
<tr class="even">
<td>57</td>
<td></td>
<td>数学是一门赋予不同事物相同名字的艺术，而数学家的这个做法会让学生理所应当地认为他们是一样的，然而他们确实是一样的。（e.g.&nbsp;向量空间上的乘法和数域上的乘法）(Original: Mathematics is the art of giving the same name to different things. –Henry Poincare)</td>
</tr>
<tr class="odd">
<td>56</td>
<td></td>
<td>数学中过多的对称性正在阻碍你的理解</td>
</tr>
<tr class="even">
<td>55</td>
<td></td>
<td>在好教材泛滥的世界中如何生存？选一本形象、严谨、全面的教材作为<strong>主要参考资料</strong>，其他的books作为补充（快速了解目录结构，<strong>直接</strong>跳到想要看的地方学习，看不懂再去看前面）</td>
</tr>
<tr class="odd">
<td>54</td>
<td></td>
<td>独立调研和思考探索的价值远远高于任何形式的资料（包括好的教材）。</td>
</tr>
<tr class="even">
<td>53</td>
<td></td>
<td>数学基础课程必备：线性代数，傅立叶分析，复变函数，概率论，信息论，随机过程，微分几何，数值分析，微分方程，场论，离散数学，最优化理论</td>
</tr>
<tr class="odd">
<td>52</td>
<td></td>
<td>快速入手一样你不太敢下手的学科：干它（直接做题），再学习概念，形成正反馈</td>
</tr>
<tr class="even">
<td>51</td>
<td></td>
<td>系统性的学习可能不是最有效的（从一本书的中间开始学看起来很扯，而且容易强迫症，但往往这种方法最符合大脑的学习模式）</td>
</tr>
<tr class="odd">
<td>50</td>
<td></td>
<td>一门新的学科就是一种全新的思考方式</td>
</tr>
<tr class="even">
<td>49</td>
<td></td>
<td>参数化的本质是转为独立变量（usu. 单变量或双变量）的积分，因为只有这样才能积出来</td>
</tr>
<tr class="odd">
<td>48</td>
<td></td>
<td>理解的代价是不会写证明，说出这句话的人对“理解”这个概念的理解有待提高</td>
</tr>
<tr class="even">
<td>47</td>
<td></td>
<td>牛顿发明的那套好像很喜欢处理加权和似的</td>
</tr>
<tr class="odd">
<td>46</td>
<td></td>
<td>几重积分其实是看有几个自由度</td>
</tr>
<tr class="even">
<td>45</td>
<td></td>
<td>不要试图脱离三维空间来理解高维或抽象空间，恰恰相反，对这些抽象空间的理解一定建立在欧几里得空间中的几何直观（但是事后一定要尝试脱离三维欧式空间来进行思考！）</td>
</tr>
<tr class="odd">
<td>44</td>
<td></td>
<td>当你觉得一个概念无法理解时（无法理解它的动机，表达了什么），那么暂时先忽视它（假设没有发明这个概念），再通过实际问题体会为什么要有这个概念</td>
</tr>
<tr class="even">
<td>43</td>
<td></td>
<td>场论是另一种看待存在的方式</td>
</tr>
<tr class="odd">
<td>42</td>
<td></td>
<td>Good explanation&gt;symbolic proof</td>
</tr>
<tr class="even">
<td>41</td>
<td></td>
<td>It seems almost cruel of the universe to fill its language with riddles that we either can’t solve, or where we know that any solution would be useless for long-term prediction anyway. It is cruel, but then again, it should also be reassuring. It gives some hope, that the complexity we see in the world can be studied somewhere in this math, and that it’s not hidden away in the mismatch between model and reality.</td>
</tr>
<tr class="odd">
<td>40</td>
<td></td>
<td>同一词汇在不同领域内的应用要做区分（如数学上的维度和物理上的维度，权重矩阵和对象矩阵）</td>
</tr>
<tr class="even">
<td>39</td>
<td></td>
<td>不是系统学习才叫学习，以<strong>需求</strong>为导向的学习才是（如果学一个孤立于应用范围之外的知识，只会增大精神内耗）</td>
</tr>
<tr class="odd">
<td>38</td>
<td></td>
<td>如何判断数学书质量高？有习题答案，习题精炼（数量少），文本中的例子数量较多，文本分段，有严格定义和证明，有图。</td>
</tr>
<tr class="even">
<td>37</td>
<td></td>
<td>Perhaps, there isn’t the definition of a matrix, but only, interpretations of the matrices. —See Matrices</td>
</tr>
<tr class="odd">
<td>36</td>
<td></td>
<td>学习是为了增强泛化能力，是为了解决<strong>从未见过的情况</strong>而进行的思维网络构建</td>
</tr>
<tr class="even">
<td>35</td>
<td></td>
<td>要注意知识的输入范围和输出范围（<strong>直接上手解题</strong>可以增强这种泛化能力，因为学习过程中往往只能碰到用这种方法<strong>能</strong>解决的问题，这些问题有什么共同特征却被忽略了，用这种方法不能解决的问题也非常有思考价值）</td>
</tr>
<tr class="odd">
<td>34</td>
<td></td>
<td>指令学习和归纳学习并重（先指令学习构建“底稿”，防止过拟合，再用归纳学习建立知识的网状结构，大脑的潜意识会自动拟合，大量的例子来体会知识非常重要！）</td>
</tr>
<tr class="even">
<td>33</td>
<td></td>
<td>学习任何一样东西，都要有<strong>方法论</strong>！</td>
</tr>
<tr class="odd">
<td>32</td>
<td></td>
<td>连接词很重要（引入的过程比知识本身更重要，“good teacher”的本质区别, “motivation”）</td>
</tr>
<tr class="even">
<td>31</td>
<td></td>
<td>明确输入输出</td>
</tr>
<tr class="odd">
<td>30</td>
<td></td>
<td>将要做的课后习题<strong>提前</strong>打勾</td>
</tr>
<tr class="even">
<td>29</td>
<td></td>
<td>先把书读厚，再把书读薄。——华罗庚</td>
</tr>
<tr class="odd">
<td>28</td>
<td></td>
<td>如果你不能用简单的语言描述你所学的东西，你就没有真正学会它。——费曼</td>
</tr>
<tr class="even">
<td>27</td>
<td></td>
<td>有时我们只知道了知识的内容，而忘记了它的motivation</td>
</tr>
<tr class="odd">
<td>26</td>
<td></td>
<td>对于数学，学什么都不过分</td>
</tr>
<tr class="even">
<td>25</td>
<td></td>
<td>一个清晰问题表述的形成所需的时间可能不亚于解决它所花的时间</td>
</tr>
<tr class="odd">
<td>24</td>
<td></td>
<td>一个事物没有本身的样子，只有你看见它的样子</td>
</tr>
<tr class="even">
<td>23</td>
<td></td>
<td>有时候数学也要先会用，再理解。（“如果我早看到这个视频…”–你也不一定能学好！）</td>
</tr>
<tr class="odd">
<td>22</td>
<td></td>
<td>维度是数学概念而不是物理概念</td>
</tr>
<tr class="even">
<td>21</td>
<td></td>
<td>The primary reason that you don’t understand a book is that you are not aware of what the writers said. You may be aware of what others have <strong>told</strong> you, and that’s the very great significance of discussion.</td>
</tr>
<tr class="odd">
<td>20</td>
<td></td>
<td>当你觉得问题很多，想不清或提不出<strong>明确</strong>的问题时，你就该做题了（看看stack exchange上的提问就知道什么是“明确”了，与知乎没法比）</td>
</tr>
<tr class="even">
<td>19</td>
<td></td>
<td>数学没有物理是瞎子，物理没有数学是跛子</td>
</tr>
<tr class="odd">
<td>18</td>
<td></td>
<td>数值计算要检验现实性！</td>
</tr>
<tr class="even">
<td>17</td>
<td></td>
<td>一个等式(关系式)正向、逆向都成立!</td>
</tr>
<tr class="odd">
<td>16</td>
<td></td>
<td>以有崖随无涯，殆已！（此无涯非彼无涯）</td>
</tr>
<tr class="even">
<td>15</td>
<td></td>
<td>分而治之：化指数复杂度为线性复杂度</td>
</tr>
<tr class="odd">
<td>14</td>
<td></td>
<td>“学会”概念的最高境界：Aware of it’s motivation and intuition(sometime loose).</td>
</tr>
<tr class="even">
<td>13</td>
<td></td>
<td>人类永远无法“了解”知识，知识在更高的维度上，我们学到的，只是那个抽象形象的投影(例如用open set来理解topological space)，学到的投影越多，就越能体会知识的结构以及其哲学含义。</td>
</tr>
<tr class="odd">
<td>12</td>
<td></td>
<td>Images of knowledge in your brain are built through examples.(对一个抽象知识的理解<strong>一定</strong>建立在已经存在的具体物质之上，比如理解int U, ext U)</td>
</tr>
<tr class="even">
<td>11</td>
<td></td>
<td>imagination. –Feynman</td>
</tr>
<tr class="odd">
<td>10</td>
<td></td>
<td>知识结构决定学习方法</td>
</tr>
<tr class="even">
<td>9</td>
<td></td>
<td>若一个概念有多种定义，态度：先确定一个定义，另一个定义用“碰巧成立”（happen to hold）.</td>
</tr>
<tr class="odd">
<td>8</td>
<td></td>
<td>You can learn anything, right now!</td>
</tr>
<tr class="even">
<td>7</td>
<td></td>
<td>对某些方法，思想，定理的重要性非常 <strong>aware</strong></td>
</tr>
<tr class="odd">
<td>6</td>
<td></td>
<td>数学是优美的，数学是自然的，数学是严格的</td>
</tr>
<tr class="even">
<td>5</td>
<td></td>
<td>你要知道你在做什么</td>
</tr>
<tr class="odd">
<td>4</td>
<td></td>
<td>我相信如果抛开数学符号，有关数学定理的理解会容易一半</td>
</tr>
<tr class="even">
<td>3</td>
<td></td>
<td>有目的的学习</td>
</tr>
<tr class="odd">
<td>2</td>
<td></td>
<td>intuition and axiom are both important!</td>
</tr>
<tr class="even">
<td>1</td>
<td></td>
<td>A good question is far more valuable than it’s Sol.</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="how-to-learn-physics" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="how-to-learn-physics"><span class="header-section-number">3</span> How to Learn Physics</h2>
<div class="tbl" data-tbl-colwidths="[5, 12, 83]">
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th>No.</th>
<th>Date</th>
<th>Ideas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>34</td>
<td>2025-4-22</td>
<td>Hamiltonian mechanics is the conservation of information entropy. — Assumptions of Physics</td>
</tr>
<tr class="even">
<td>33</td>
<td>2025-4-9</td>
<td>直觉是需要修正的。 —杨振宁</td>
</tr>
<tr class="odd">
<td>32</td>
<td></td>
<td>光子数对应的波动物理量是电场的最大振幅！</td>
</tr>
<tr class="even">
<td>31</td>
<td></td>
<td>你看到的、经历的每一件事都对应一个动力学方程，hence对应一个电路。（这是多么令人振奋的消息！爱情变化-混沌电路，弹簧振子-震荡电路等等）</td>
</tr>
<tr class="odd">
<td>30</td>
<td></td>
<td>Control Theory: 弹簧-电容，质量-电感，阻尼-电阻；弹性势能-电场能，动能-磁场能，阻力系数（damping coeff）-电阻</td>
</tr>
<tr class="even">
<td>29</td>
<td></td>
<td>动量是空间平移的生成元。</td>
</tr>
<tr class="odd">
<td>28</td>
<td></td>
<td>我们的科学竟然对想像提出如此可怕的要求。——Feynman</td>
</tr>
<tr class="even">
<td>27</td>
<td></td>
<td>No writing, No Reading!</td>
</tr>
<tr class="odd">
<td>26</td>
<td></td>
<td>No Reading, No learning!</td>
</tr>
<tr class="even">
<td>25</td>
<td></td>
<td>伤其十指不如断其一指！You gotta have <strong>taste</strong>! –杨振宁，张颢</td>
</tr>
<tr class="odd">
<td>24</td>
<td></td>
<td>不要想在不清楚<strong>事实</strong>的条件下尝试研究问题！</td>
</tr>
<tr class="even">
<td>23</td>
<td></td>
<td>看视频记得跳着看（无论那个视频讲的多么好，如3b1b的同理），连着看容易obsessed by details or kidnapped locally. 看视频不要一次性看懂，要留一些小的空隙，让大脑主动把他们连接起来。</td>
</tr>
<tr class="odd">
<td>22</td>
<td></td>
<td>Think of the same thing in multiple different ways! That’s how you understand things.</td>
</tr>
<tr class="even">
<td>21</td>
<td></td>
<td>The electric field is the time version of the magnetic field. Energy is the time version of momentum.</td>
</tr>
<tr class="odd">
<td>20</td>
<td></td>
<td>物理是试图建立一套简单符号逻辑体系，解释并预言复杂客观世界的学科。</td>
</tr>
<tr class="even">
<td>19</td>
<td></td>
<td>要注意你对这个世界的认识有没有实质性的进展（如Physics I中的光的衍射等，只需知道光是波就能推导出所有结论，等于没有实质性进展）</td>
</tr>
<tr class="odd">
<td>18</td>
<td></td>
<td>Physics works, and I’m still alive.</td>
</tr>
<tr class="even">
<td>17</td>
<td></td>
<td>You’d better have a picture of each physical quantities in which you can be free to analyse then, and the picture should be able to contain as much quantities as possible.(Set up relationships)</td>
</tr>
<tr class="odd">
<td>16</td>
<td></td>
<td>物理中cos里面的东西是现实量与抽象量的映射，由于cos能够接受的量只能是角度，现实量一般不会带有角度，所以在转化时一般会乘上带有 <img src="https://latex.codecogs.com/png.latex?2%5Cpi"> 的量（角空间中的量，如 <img src="https://latex.codecogs.com/png.latex?%5Comega,%20k">）</td>
</tr>
<tr class="even">
<td>15</td>
<td></td>
<td>Ideal Lab中的规则：只要理论上能测出的物理量都能被精确测出（如1ns通过某微小界面的氧分子数量）</td>
</tr>
<tr class="odd">
<td>14</td>
<td></td>
<td>每个物理量都要有“直观的认识”（即要清楚物理意义），这些物理量能够在Ideal Lab里被测出。</td>
</tr>
<tr class="even">
<td>13</td>
<td></td>
<td>理解的本质是找到了知识本身与现实物体的相似性（映射）。但这种映射<strong>一定</strong>是片面的，我们之所以感觉到“理解”了某个知识，是因为偏差很小以至于可以忽略。然而对于某些抽象知识（如微观粒子的行为），可能不存在足够精确的映射以至于人类无法“理解”它们，我们能做的，就是针对它们不同的行为应用不同的映射来进行研究和尝试理解，这样做的后果是某些映射相互矛盾（常识层面上）。</td>
</tr>
<tr class="odd">
<td>12</td>
<td></td>
<td>物理建模时要区分哪些是事实，哪些是假设，哪些是简化</td>
</tr>
<tr class="even">
<td>11</td>
<td></td>
<td>学习的时候可以适当放宽逻辑，比如为什么在研究复摆的时候可以只分析质心？但事后一定要 “complete the story”.</td>
</tr>
<tr class="odd">
<td>10</td>
<td></td>
<td>It’s nice to do a quick <strong>gut check</strong> that our formula makes physical sense. (符合: That checks out)</td>
</tr>
<tr class="even">
<td>9</td>
<td></td>
<td>开拓型学习和扩张型学习（开拓型指<strong>已有的知识</strong>不断扩张，已达到学习新知识的效果；扩张型指每个知识范畴在幼年时期都是<strong>较为独立的孤岛</strong>，学习过程中不同大小的孤岛不断扩张，从而建立知识之间的联系），事实证明扩张型的学习更为有效和高效。</td>
</tr>
<tr class="odd">
<td>8</td>
<td></td>
<td>某种理论既然能解释某些问题，证明它肯定存在<strong>某种</strong>真理，我们要读懂的就是这<strong>某种</strong>真理，而非其他。（波恩看到海森堡的论文能解释一维谐振子问题，他的理论肯定在<strong>某种</strong>角度来说是对的）（《一个人两个人三个人的文章》）</td>
</tr>
<tr class="even">
<td>7</td>
<td></td>
<td>从可观测的量出发。——海森堡（小方格子力学），原子光谱可观测，而原子轨道无法观测</td>
</tr>
<tr class="odd">
<td>6</td>
<td></td>
<td>It takes a lot of imagination. —Feynman</td>
</tr>
<tr class="even">
<td>5</td>
<td></td>
<td>什么叫了解一门学科？我不知道怎么做，但我知道一定<strong>存在</strong>某种方法可以解决</td>
</tr>
<tr class="odd">
<td>4</td>
<td></td>
<td>世上本没有动能，自从有人类以后，才有的动能</td>
</tr>
<tr class="even">
<td>3</td>
<td></td>
<td>Stand back and look at what you’re doing, that’s when you get an understanding of it.</td>
</tr>
<tr class="odd">
<td>2</td>
<td></td>
<td><strong>总是</strong>用离散的思想思考，这既具有普适性，又尊重了思维的自然性和牛顿深刻的哲学思想。（离散体模型与连续统模型）</td>
</tr>
<tr class="even">
<td>1</td>
<td></td>
<td>物理学本质上是对宇宙的一种总结和不完全归纳，假设这个宇宙是定域的、物质的（这个假设也使物理学脱离了神学），那么物理学被要求能够自洽地解释人能够感知的外界变化、预测下一个能被人类感知的运动、并追求大道至简。这决定了物理学是一门以实验为基础的科学。</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>


</section>

 ]]></description>
  <category>Thoughts</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/learning-things/</guid>
  <pubDate>Wed, 09 Jul 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/learning-things/cover.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>DSP Crash Course 数字信号处理速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/dsp-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>本笔记是本人电子科技大学格院大三《数字信号处理》课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 不保证严谨性和绝对正确性.</p>
</blockquote>
<section id="fft-快速傅里叶变换" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="fft-快速傅里叶变换"><span class="header-section-number">1</span> FFT 快速傅里叶变换</h2>
</section>
<section id="fourier-transform-傅里叶变换" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="fourier-transform-傅里叶变换"><span class="header-section-number">2</span> Fourier Transform 傅里叶变换</h2>
</section>
<section id="complex-analysis-basics-复变函数基础" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="complex-analysis-basics-复变函数基础"><span class="header-section-number">3</span> Complex Analysis Basics 复变函数基础</h2>
</section>
<section id="mathcalz-变换-mathcall-变换" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="mathcalz-变换-mathcall-变换"><span class="header-section-number">4</span> <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D"> 变换, <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D"> 变换</h2>
<blockquote class="blockquote">
<p>在傅立叶分析中我们用 <strong>线性空间和内积</strong> 的思维框架来处理信号, 但是在 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D"> 变换和 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D"> 变换中, 一般用 <strong>级数</strong> 来思考.</p>
</blockquote>
<section id="动机-复频率的引入" class="level3 page-columns page-full" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="动机-复频率的引入"><span class="header-section-number">4.1</span> 动机: 复频率的引入</h3>
<blockquote class="blockquote">
<p>动机很重要, 它决定了今后你对 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D"> 变换和 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D"> 变换的 Mental picture.</p>
</blockquote>
<p><img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D"> 变换和 <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D"> 变换初看有点不自然, 是因为复频率的引入经历了以下几个重要的数学思想:</p>
<ul>
<li><p><strong>不妨都在复数域上看一看</strong>: 这导致了 <strong>Complexification 复化</strong> (见 <a href="../../posts/em-crash-course/index.html#tbl-field-representation">EM Crash Course</a>) 这个概念. 这将从 “研究复信号的实部” 到 “研究复信号本身”.</p></li>
<li><p><strong>复频率的引入</strong>: 由于指数信号和正弦信号都长这样 <img src="https://latex.codecogs.com/png.latex?e%5E%7Bs%20t%7D"> (<img src="https://latex.codecogs.com/png.latex?s"> 是实数或纯虚数的区别), 我们发现指数增长和振荡的本质在复信号看来是一样的, 干脆让 <img src="https://latex.codecogs.com/png.latex?s"> 为复数, 它的:</p>
<ul>
<li>实部 <img src="https://latex.codecogs.com/png.latex?%5CRe(s)"> 代表指数增长</li>
<li>虚部 <img src="https://latex.codecogs.com/png.latex?%5CIm(s)"> 代表振荡</li>
</ul>
<p>称 <img src="https://latex.codecogs.com/png.latex?x(t)"> 在 <img src="https://latex.codecogs.com/png.latex?e%5E%7Bs%20t%7D"> 基上的 Fourier 变换为 <strong>Laplace 变换</strong>. (要注意内积的话要取共轭 <img src="https://latex.codecogs.com/png.latex?e%5E%7B-st%7D">)</p></li>
<li></li>
<li><p><strong>动机</strong>: 我们可以将「频率 <img src="https://latex.codecogs.com/png.latex?%5Comega">」这个概念推广到 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D"> 上!</p>
<ul>
<li>如果是离散时间信号, <strong>频率一定限制在 <img src="https://latex.codecogs.com/png.latex?%5B0,%202%5Cpi%5D"> 之间</strong>, 一个很自然的想法是用一个复数 <img src="https://latex.codecogs.com/png.latex?z"> 的:
<ul>
<li>角度 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 来表示频率</li>
<li>模长 <img src="https://latex.codecogs.com/png.latex?r"> 来表示指数衰减</li>
</ul>
所以</li>
</ul></li>
<li><p><strong><img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D">-Transform</strong>: 我们可以将每一个离散时间信号 <img src="https://latex.codecogs.com/png.latex?x%5Bn%5D"> 都对应一个复变函数 <img src="https://latex.codecogs.com/png.latex?X(z)">: <span id="eq-z-transform"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20%20%20X(z)%20:=%20%5Csum_%7Bn=-%5Cinfty%7D%5E%7B+%5Cinfty%7D%20x%5Bn%5D%20z%5E%7B-n%7D.%0A%20%20%20%20%20%20%20%5Ctag%7B1%7D"></span> 即将 <img src="https://latex.codecogs.com/png.latex?x%5Bn%5D"> 作为一个 Laurent 级数的系数. 称 <img src="https://latex.codecogs.com/png.latex?X(z)"> 为 <img src="https://latex.codecogs.com/png.latex?x%5Bn%5D"> 的 <strong><img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BZ%7D"> 变换</strong>.</p>
<ul>
<li>使 Equation&nbsp;1 收敛的 <img src="https://latex.codecogs.com/png.latex?z"> 的集合称为 <strong>ROC (收敛域)</strong>.</li>
<li>任何一个复变函数<sup>1</sup> <img src="https://latex.codecogs.com/png.latex?X(z)"> 在单位圆上的取值即为 其 Laurent 级数的系数 Fourier 变换的结果.</li>
<li>由对偶性知: 任何一个复变函数 <img src="https://latex.codecogs.com/png.latex?X(z)"> 在单位圆上取值的 Fourier 变换的结果即为 其 Laurent 级数的系数.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;这个复变函数应该在包含单位圆的一个 Annulus 上解析 (holomorphic).</p></div></div><ul>
<li><p><strong><img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D">-Transform</strong>: 多一个对数映射, 单位圆变成了虚轴: <span id="eq-l-transform"><img src="https://latex.codecogs.com/png.latex?%20X(s)%20:=%20%5Cint_%7B-%5Cinfty%7D%5E%7B+%5Cinfty%7D%20x(t)%20e%5E%7B-st%7D%20dt.%20%20%5Ctag%7B2%7D"></span></p>
<ul>
<li>使 Equation&nbsp;2 收敛的 <img src="https://latex.codecogs.com/png.latex?s"> 的集合称为 <strong>ROC (收敛域)</strong>.</li>
<li><img src="https://latex.codecogs.com/png.latex?X(s)"> 在虚轴上的取值即为 <img src="https://latex.codecogs.com/png.latex?x(t)"> 的 Fourier 变换的结果.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/dsp-crash-course/s2z.png" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?z%20=%20e%5Es"></figcaption>
</figure>
</div></li>
</ul>
<!-- <figure>
<iframe width="748" height="388" src="https://www.youtube.com/embed/EuZv229Yf54" title="Visualizing Euler&#39;s formula." frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<figcaption style="text-align:center">指数函数的 Mental picture</figcaption>
</figure> -->
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" data-startfrom="80" data-source-offset="-0" style="background: #f1f3f5;"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 79;"><span id="cb1-80"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> {PlotContext<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> ComplexVariable<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> DomainColoringLayer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> glslFunctionMapping} <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"39fe342decb60c30"</span></span>
<span id="cb1-81"></span>
<span id="cb1-82">viewof expr <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Inputs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">text</span>({</span>
<span id="cb1-83">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">label</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Function f(z)="</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-84">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">value</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(z-0.5)*(z+0.7)/((z+0.4*i)*(z-0.4*i))"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-85">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">placeholder</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"e.g. (z-i)/(z+1)"</span></span>
<span id="cb1-86">})</span>
<span id="cb1-87"></span>
<span id="cb1-88">domainColoringConfig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ({</span>
<span id="cb1-89">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">phaseColoring</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-90">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">phaseShading</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-91">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">magnitudeShading</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb1-92">})</span>
<span id="cb1-93"></span>
<span id="cb1-94">plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PlotContext</span>({</span>
<span id="cb1-95">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">xrange</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.4</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-96">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">yrange</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-97">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">width</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>width<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-98">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">height</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Math</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">Math</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(width <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>))</span>
<span id="cb1-99">})</span>
<span id="cb1-100"></span>
<span id="cb1-101"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>([<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">DomainColoringLayer</span>(expr<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"z"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> domainColoringConfig)])</span></code></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="roc-region-of-convergence-收敛域" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="roc-region-of-convergence-收敛域"><span class="header-section-number">4.2</span> ROC (Region of Convergence) 收敛域</h3>
<ul>
<li><p>关键信息:</p>
<ul>
<li><strong>包不包含单位圆</strong>: 包含 -&gt; BIBO Stable</li>
<li><strong>向外还是向内</strong>:
<ul>
<li>外 -&gt; Right-sided</li>
<li>内 -&gt; Left-sided</li>
<li>环 -&gt; Finite-length</li>
</ul></li>
<li>Causal 是 Right-sided 的特例, 仅看 ROC 不能判断 causal.</li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?s"> 平面<strong>右侧</strong> 和 <img src="https://latex.codecogs.com/png.latex?z"> 平面<strong>圆外</strong> 为 原信号乘上<strong>衰减</strong>的指数信号后 Fourier 变换的结果.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?s"> 平面<strong>左侧</strong> 和 <img src="https://latex.codecogs.com/png.latex?z"> 平面<strong>圆内</strong> 为 原信号乘上<strong>增长</strong>的指数信号后 Fourier 变换的结果.</p></li>
<li><p><strong>ROC 的边界一定有 pole! ROC 的内部一定不包含 pole!</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/dsp-crash-course/roc-z-domain.png" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?z"> 平面的 ROC</figcaption>
</figure>
</div></li>
</ul>
</section>
</section>
<section id="transfer-function-的分类" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="transfer-function-的分类"><span class="header-section-number">5</span> Transfer Function 的分类</h2>
<section id="time-时间上" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="time-时间上"><span class="header-section-number">5.1</span> Time 时间上</h3>
<ul>
<li>FIR</li>
<li>IIR</li>
</ul>
</section>
<section id="freq-频域上" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="freq-频域上"><span class="header-section-number">5.2</span> Freq 频域上</h3>
<ul>
<li>幅度 <img src="https://latex.codecogs.com/png.latex?%7CH%7C">:
<ul>
<li>理想滤波器: Passband, Stopband (涉及的概念)</li>
<li><strong>BR (Bounded Real)</strong>: 因果、稳定、实系数系统, <img src="https://latex.codecogs.com/png.latex?%7CH%7C%20%5Cleq%201">, 由 Parseval’s 定理知: 能量减少 $ |Y|^2 |X|^2 $ <strong>Passive structure</strong>.</li>
<li><strong>LBR (Lossless BR)</strong>: 因果、稳定、实系数系统, <img src="https://latex.codecogs.com/png.latex?%7CH%7C%20=%201">. 能量无损耗.</li>
<li><strong>All pass 全通</strong>: 仅仅是 <img src="https://latex.codecogs.com/png.latex?%7CH%7C%20=%201,%20%5Cforall%20%5Comega">.
<ul>
<li><strong>Mirror-image Polynomial 镜像多项式</strong>: 比如以下两个多项式互为镜像:<img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7DD_3(z)%20&amp;=%201%20+%202z%5E%7B-1%7D%20+%203z%5E%7B-2%7D%20+%204z%5E%7B-3%7D%20%5C%5C%20D_3%5E%7B%5Ccirc%7D(z)%20&amp;=%204%20+%203z%5E%7B-1%7D%20+%202z%5E%7B-2%7D%20+%20z%5E%7B-3%7D%20%5Cend%7Baligned%7D"></li>
<li>实系统 <img src="https://latex.codecogs.com/png.latex?H(z)%20=%20%5Cfrac%7BB(z)%7D%7BA(z)%7D"> all-pass <img src="https://latex.codecogs.com/png.latex?%5Ciff"> <img src="https://latex.codecogs.com/png.latex?B(z)"> 与 <img src="https://latex.codecogs.com/png.latex?A(z)"> 互为镜像.</li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
PROOF: 实系统全通等价于分子与分母互为镜像
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>我们知道对于<strong>实系统</strong> <img src="https://latex.codecogs.com/png.latex?H(e%5E%7Bj%20%5Comega%7D)">, <img src="https://latex.codecogs.com/png.latex?%0AH%5E*(e%5E%7Bj%20%5Comega%7D)%20=%20H(e%5E%7B-j%20%5Comega%7D).%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>相位 <img src="https://latex.codecogs.com/png.latex?%5Cangle%20H">:</p>
<ul>
<li><strong>Group Delay 群延迟</strong>: <img src="https://latex.codecogs.com/png.latex?%5Comega"> 的频率成分通过系统后延迟了多少秒. 反过来思考, 我们知道延迟 <img src="https://latex.codecogs.com/png.latex?%5Ctau"> 会导致不同的频点有<strong>不同</strong>的相位变化 (乘了 <img src="https://latex.codecogs.com/png.latex?e%5E%7B-j%5Comega%20%5Ctau%7D">), 相位变化为 <img src="https://latex.codecogs.com/png.latex?-%5Comega%20%5Ctau">. 那对于一般的系统, 在频点 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 的相位变化就是 <img src="https://latex.codecogs.com/png.latex?%5Cangle%20H(%5Comega)">, 如何从中获取 <img src="https://latex.codecogs.com/png.latex?%5Ctau">? <img src="https://latex.codecogs.com/png.latex?%20%5Ctau_g%20(%5Comega)%20=%20-%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20(-%5Comega%20%5Ctau)%7D%7B%5Cmathrm%7Bd%7D%20%5Comega%7D%20=%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cangle%20H(%5Comega)%7D%7B%5Cmathrm%7Bd%7D%20%5Comega%7D.%20"></li>
<li><strong>Zero-Phase 零相位系统</strong>: <img src="https://latex.codecogs.com/png.latex?H%20%5Cin%20%5Cmathbb%7BR%7D"> 且 <img src="https://latex.codecogs.com/png.latex?%7CH%7C%20%5Cge%200">. <strong>注意幅值也要非负!</strong> 对因果系统不存在??</li>
<li><strong>Linear-Phase 线性相位系统</strong>: 就是时域延迟系统 (群延迟为常数), i.e., 波通过系统后在 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 频点上的相位变化 <img src="https://latex.codecogs.com/png.latex?%5Cpropto%20%5Comega">, 正比系数就是 <img src="https://latex.codecogs.com/png.latex?%5Ctau">, 表现为信号延迟了 <img src="https://latex.codecogs.com/png.latex?%5Ctau"> 秒.</li>
<li><strong>Minimum Phase 最小相位系统</strong>: <img src="https://latex.codecogs.com/png.latex?H"> 的 zeros 都在单位圆内.</li>
<li><strong>Maximum Phase 最大相位系统</strong>: <img src="https://latex.codecogs.com/png.latex?H"> 的 zeros 都在单位圆外.</li>
<li><strong>Mixed Phase 混合相位系统</strong>: <img src="https://latex.codecogs.com/png.latex?H"> 的 zeros 在单位圆内外都有.</li>
</ul></li>
</ul>
</section>
</section>
<section id="digital-filter-数字滤波器" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="digital-filter-数字滤波器"><span class="header-section-number">6</span> Digital Filter 数字滤波器</h2>
<ul>
<li><p><strong>dB 分贝</strong>: 人类的构造决定了感知物理量 (声音、光强等) 是对数的, 我们引入 <strong>dB 分贝</strong>: <img src="https://latex.codecogs.com/png.latex?%20(-)%20%5Cquad%2010%20%5Clg%20%7CH%7C%5E2.%20"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?10"> 表示 <strong>d</strong>, 平方表示功率.</li>
<li>放大 <img src="https://latex.codecogs.com/png.latex?-0.1%20%5Ctext%7B%20dB%7D"> 也称 <strong>attenuate <img src="https://latex.codecogs.com/png.latex?0.1%20%5Ctext%7B%20dB%7D"></strong>, 包含负号.</li>
</ul></li>
</ul>
<section id="characteristics-数字滤波器指标" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="characteristics-数字滤波器指标"><span class="header-section-number">6.1</span> Characteristics 数字滤波器指标</h3>
<p>以 LPF 为例, 关键参数:</p>
<ul>
<li><strong>Tolerance 容差</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cdelta_p,%20%5Cdelta_s">.</li>
<li><strong>Edge Frequency 边界频率</strong>: <img src="https://latex.codecogs.com/png.latex?%5Comega_p,%20%5Comega_s">.
<ul>
<li>若不在 <img src="https://latex.codecogs.com/png.latex?%5B0,%20%5Cpi%5D"> 内, 则需要 <strong>数字归一化</strong>: <img src="https://latex.codecogs.com/png.latex?%5Comega_p%20=%202%5Cpi%20%5Cfrac%7BF_p%7D%7BF_%7B%5Ctext%7Bsample%7D%7D%7D."></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 边界频率的归一化
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Let the specified passband and stopband edge frequencies of a digital highpass filter operating at a sampling rate of <img src="https://latex.codecogs.com/png.latex?25%20%5Ctext%7B%20kHz%7D"> be <img src="https://latex.codecogs.com/png.latex?7%20%5Ctext%7B%20kHz%7D"> and <img src="https://latex.codecogs.com/png.latex?3%20%5Ctext%7B%20kHz%7D">, respectively. We determine the corresponding band edge frequencies of the <em>digital filter</em>: <img src="https://latex.codecogs.com/png.latex?%0A%5Comega_p%20=%20%5Cfrac%7B2%5Cpi%20(7%20%5Ctimes%2010%5E3)%7D%7B25%20%5Ctimes%2010%5E3%7D%20=%200.56%5Cpi,%20%5Cquad%0A%5Comega_s%20=%20%5Cfrac%7B2%5Cpi%20(3%20%5Ctimes%2010%5E3)%7D%7B25%20%5Ctimes%2010%5E3%7D%20=%200.24%5Cpi.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p><strong>Peak Passband Ripple 峰值通带波纹</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Calpha_p%20=%20-20%20%5Clg%20(1-%20%5Cdelta_p)%7D">, 越小越好.</p></li>
<li><p><strong>Minimum Stopband Attenuation 最小阻带衰减</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Calpha_s%20=%20-20%20%5Clg%20%5Cdelta_s%7D">, 越大越好.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/dsp-crash-course/LPF.png" class="img-fluid figure-img"></p>
<figcaption>Characteristics of a LPF</figcaption>
</figure>
</div></li>
</ul>
</section>
<section id="design-数字滤波器设计" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="design-数字滤波器设计"><span class="header-section-number">6.2</span> Design 数字滤波器设计</h3>
<ul>
<li><strong>Objective</strong>: 设计出来的必须是 causal 和 stable 的. IIR 和 FIR 的优缺点:
<ul>
<li><strong>IIR</strong>: 一般 lower order, 计算复杂度低, 但要确保稳定. 可想象成反馈系统.</li>
<li><strong>FIR</strong>: 一般 higher order, 计算复杂度高, 一定稳定. 可想象成开环系统.</li>
</ul></li>
</ul>
<section id="iir-数字滤波器设计" class="level4" data-number="6.2.1">
<h4 data-number="6.2.1" class="anchored" data-anchor-id="iir-数字滤波器设计"><span class="header-section-number">6.2.1</span> IIR 数字滤波器设计</h4>
<ul>
<li><strong>步骤</strong>
<ul>
<li>Convert the digital filter specifications into analog lowpass prototype one. (因为 analog filter 的设计方法有很多表可以查, 更成熟)</li>
<li>Determine the analog lowpass filter <img src="https://latex.codecogs.com/png.latex?H_a(s)"> meeting these specifications.</li>
<li>Transform it into the desired digital filter transfer function <img src="https://latex.codecogs.com/png.latex?G(z)">. (涉及到 <img src="https://latex.codecogs.com/png.latex?s"> 域到 <img src="https://latex.codecogs.com/png.latex?z"> 域的变换)
<ul>
<li><strong>Impulse Invariance Method 脉冲不变法</strong>: 数字系统的冲激响应是模拟系统冲激响应在采样点处的取值. (会发生混叠 aliasing)</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/dsp-crash-course/Impulse-Invariance-Method.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>EXAMPLE: 脉冲不变法举例</figcaption>
</figure>
</div>
<ul>
<li><strong>Bilinear Transformation 双线性变换</strong>:</li>
</ul></li>
</ul></li>
</ul>


</section>
</section>
</section>


 ]]></description>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/dsp-crash-course/</guid>
  <pubDate>Sat, 28 Jun 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/dsp-crash-course/cover.png" medium="image" type="image/png" height="57" width="144"/>
</item>
<item>
  <title>Electromagnetism Crash Course 电磁场与波速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/em-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p><strong>宇宙安全声明</strong>: 本笔记是本人电子科技大学格院大三《电磁场与波》课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性. 框中的公式比较重要. 本文有较多超出考试范围的内容, 仅供参考.</p>
</blockquote>
<blockquote class="blockquote">
<p>本文 <strong>All Right Reserved 保留所有权利</strong>, 禁止商用和任何形式的转载!</p>
</blockquote>
<section id="change-of-mind-这个可能有用" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="change-of-mind-这个可能有用"><span class="header-section-number">1</span> Change of Mind 这个可能有用</h2>
<blockquote class="blockquote">
<p>“我们永远无法认识事物本身 (Ding an sich), 我们只能认识它在我们感官和理解结构下所呈现的现象.” — 康德《纯粹理性批判》</p>
</blockquote>
<ul>
<li><strong>电磁场从来都不会「传播」</strong>: 电磁场本身就是空间中每个点都对应一个矢量, 而且这些矢量会随着时间摇摆, 用二维来做比喻, 就像是风吹过一片草坪, 草坪上每个点的草构成一个时变矢量场, 但草本身并没有「传播」. 我们感觉波在传播是因为波恰好就被画成了<strong>空间域周期性</strong>的样子, 而且它碰巧又是在<strong>时域周期性</strong>运动, 当我们一眼看过去的时候, 我们大脑被欺骗地认为是一个波正在往前运动, <strong>But there is nothing moving!</strong> <strong>波的速度需要人为定义!!!</strong>
<ul>
<li><p>当波是时空域正弦的时候, 它的移动方向和速度所有人都觉得一样, 但是:</p></li>
<li><p>如果波是 Figure&nbsp;1 的样子呢? 有些人会觉得它速度快, 有些人会觉得它速度慢, 甚至移动的方向每个人看起来都不一样! 所以我们引入了<strong>群速度</strong>和<strong>相速度</strong>两个速度来描述波「传播」的快慢.</p></li>
<li><p>能流密度的定义是把波的速度当作了相速度时的定义 (所以能量才有了「流动」的概念).</p>
<div id="fig-group-phase-velocity" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-group-phase-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/group-phase-velocity.gif" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-group-phase-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 群速度与相速度
</figcaption>
</figure>
</div></li>
</ul></li>
<li>波的行为<strong>完全</strong>由一组偏微分方程 (Maxwell 方程组) 描述
<ul>
<li>电场和磁场为什么会传播? 因为求解偏微分方程后得到的是空间二阶导与时间二阶导 (而不是一阶导) 的方程, 这决定了这两个场的行为是「传播」而不是「扩散」(如果是时间一阶导, 则是扩散, 比如热量).</li>
<li>电磁波为什么会反射和折射? 当你写下 Maxwell 方程组的那一刻, 它定义的对象 (电磁波) 就已经会反射和折射了. 设想你轻轻摇动一根绳子, 左行波和右行波 (还有无数其它奇形怪状的波) 都满足振动方程. 如果没有边界条件, 就用右行波当作这个情形的 mental picture 吧. 若将绳子的另一头固定在墙上, 单独一个右行波并不能保证满足这个边界条件, 所以再叠加一个左行波试试, 诶已经可以满足边界条件了! 这个左行波就是反射波, 它完全就是为了满足边界条件而引入的. 所以 <strong>反射的本质是为了让偏微分方程的解满足边界条件而引入的修正项</strong> (<img src="https://latex.codecogs.com/png.latex?E_r%20e%5E%7Bjkz%7D">).</li>
</ul></li>
<li>电磁波不需要一定是一个正弦波的样子, 可以是任何随时间变化的场, 只要满足 Maxwell 方程组就行. 就像水面的波纹也是由一个偏微分方程所描述的, 但水波微澜不定，自有万千形态.
<ul>
<li>那为什么我们好像指讨论过正弦波? 因为正弦波是 Maxwell 方程组的<strong>特征解</strong>, 其他的解都是特征解的线性组合. 所以只需要研究特征解就行了, 而 Maxwell 方程组的 Phasor 表示就是专门描述特征解的, 所以只需要研究 Phasor 表示就足够.</li>
</ul></li>
<li>要优雅地理解电磁场理论, 必须引入狭义相对论、四元数 (或 Maxwell 电磁张量). 在经典力学中, 比较难看清电磁场的本质.</li>
</ul>
</section>
<section id="vector-analysis-向量分析" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="vector-analysis-向量分析"><span class="header-section-number">2</span> Vector Analysis 向量分析</h2>
<section id="vector-operations-向量运算" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="vector-operations-向量运算"><span class="header-section-number">2.1</span> Vector operations 向量运算</h3>
<ul>
<li><p><strong>Mixed product 混合积</strong>: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cmathbf%7Ba%7D%20%5Ccdot%20(%5Cmathbf%7Bb%7D%20%5Ctimes%20%5Cmathbf%7Bc%7D)%20=%20%5Cmathbf%7Bb%7D%20%5Ccdot%20(%5Cmathbf%7Bc%7D%20%5Ctimes%20%5Cmathbf%7Ba%7D)%20=%20%5Cmathbf%7Bc%7D%20%5Ccdot%20(%5Cmathbf%7Ba%7D%20%5Ctimes%20%5Cmathbf%7Bb%7D)%0A%20%20"></p></li>
<li><p><strong>BAC-CAB rule 三叉乘 BACK-CAB 规则</strong>: <img src="https://latex.codecogs.com/png.latex?%20%5Cbegin%7Baligned%7D%20%5Cmathbf%7Ba%7D%20%5Ctimes%20(%5Cmathbf%7Bb%7D%20%5Ctimes%20%5Cmathbf%7Bc%7D)%20&amp;=%20%5Cmathbf%7Bb%7D%20(%5Cmathbf%7Ba%7D%20%5Ccdot%20%5Cmathbf%7Bc%7D)%20-%20%5Cmathbf%7Bc%7D%20(%5Cmathbf%7Ba%7D%20%5Ccdot%20%5Cmathbf%7Bb%7D)%20%5C%5C%20%5Cnabla%20%5Ctimes%20(%5Cnabla%20%5Ctimes%20%5Cmathbf%7BA%7D)%20&amp;=%20%5Cnabla%20(%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D)%20-%20%5Cnabla%5E2%20%5Cmathbf%7BA%7D%20%5C%5C%20%5Cend%7Baligned%7D"></p>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Ba%7D%20%5Ctimes%20(%5Cmathbf%7Bb%7D%20%5Ctimes%20%5Cmathbf%7Bc%7D)"> 的结果在 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Ba%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bb%7D"> 的平面内.</p></li>
<li><p>三叉乘操作等价于先投影 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Ba%7D"> 再旋转 <img src="https://latex.codecogs.com/png.latex?90%5E%5Ccirc">: <img src="https://marcobisky.github.io/posts/em-crash-course/bac-cab.png" id="fig-bac-cab" class="img-fluid" style="width:50.0%"></p></li>
<li><p><strong>空间二阶导算子 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"></strong></p>
<ul>
<li>当 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 作用在标量场 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 上时, <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2%20%5Cpsi%20%5Cequiv%20%5Cnabla%20%5Ccdot%20%5Cnabla%20%5Cpsi">.</li>
<li>当 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 作用在向量场上时, 约定为 <strong>作用在向量场的每个分量上</strong> (相当于三个标量场). 注意这个时候 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2%20%5Cneq%20%5Cnabla%20%5Ctimes%20%5Cnabla%20%5Cneq%20%5Cnabla%20%5Ccdot%20%5Cnabla">.</li>
<li>引入 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 是因为 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 是<strong>二阶导</strong>的自然高维推广 (而不是 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes%20%5Cnabla">). 用 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 列出的方程的每个分量一般就是二阶一维 PDE. 所以涉及到 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 的方程我们都 component-wise 地求解.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-vector-fields" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="sec-vector-fields"><span class="header-section-number">2.2</span> Vector fields 向量场</h3>
<ul>
<li><p><strong>约定</strong>: 标量场是 <img src="https://latex.codecogs.com/png.latex?0">-form, 向量场是 <img src="https://latex.codecogs.com/png.latex?1">-form, 只考虑三维向量场 <img src="https://latex.codecogs.com/png.latex?%5Comega:%20%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BR%7D%5E3">.</p></li>
<li><p><strong>Gradient, curl, divergence 梯度, 旋度, 散度</strong>: 都可看作某种导数:「外微分算子」. <img src="https://marcobisky.github.io/posts/em-crash-course/exterior-derivative.png" class="img-fluid"></p>
<ul>
<li><p>旋度计算: 用 symbolic 叉乘 (“掐头去尾取中间”, 见 Figure&nbsp;2).</p>
<div id="fig-cross-product-calculation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cross-product-calculation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/cross-product-calculation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cross-product-calculation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 叉乘的计算技巧
</figcaption>
</figure>
</div></li>
</ul></li>
<li><p>外微分算子的 <strong>Exact 正和性</strong> 与 <strong>Poincaré’s lemma 庞加莱引理</strong>:</p>
<ul>
<li><p><strong>Exact 正和性</strong> <img src="https://latex.codecogs.com/png.latex?%5Cmathrm%7Bd%7D%5E2%20=%200">: <strong>梯度无旋, 旋度无散</strong>. <img src="https://marcobisky.github.io/posts/em-crash-course/long-exact-sequence.png" class="img-fluid" alt="外微分算子的长正和列"></p></li>
<li><p><strong>Poincaré’s lemma 庞加莱引理</strong>: <strong>闭形式一定是恰当形式</strong>, 即无旋场一定是梯度场, 无散场一定是旋度场.</p></li>
<li><p><strong>Potential 势函数</strong>:</p>
<ul>
<li>若恰当形式 <img src="https://latex.codecogs.com/png.latex?%5Calpha%20=%20%5Cmathrm%7Bd%7D%5Cbeta">, 则称 <img src="https://latex.codecogs.com/png.latex?%5Cbeta"> 是 <img src="https://latex.codecogs.com/png.latex?%5Calpha"> 的 <strong>(矢)势</strong> (比如磁场, <img src="https://latex.codecogs.com/png.latex?%5Calpha%20=%20%5Cmathbf%7BB%7D">, <img src="https://latex.codecogs.com/png.latex?%5Cbeta%20=%20%5Cmathbf%7BA%7D">)</li>
<li>若恰当形式 <img src="https://latex.codecogs.com/png.latex?%5Calpha%20=%20-%5Cmathrm%7Bd%7D%5Cbeta">, 则称 <img src="https://latex.codecogs.com/png.latex?%5Cbeta"> 是 <img src="https://latex.codecogs.com/png.latex?%5Calpha"> 的 <strong>(标量)势</strong> (比如电场, <img src="https://latex.codecogs.com/png.latex?%5Calpha%20=%20%5Cmathbf%7BE%7D">, <img src="https://latex.codecogs.com/png.latex?%5Cbeta%20=%20%5Cvarphi">)</li>
</ul></li>
<li><p><strong>恰当形式是不唯一的</strong>, 不同的恰当形式之间相差一个 <strong>Gauge</strong>:</p>
<ul>
<li>若 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BB%7D%20=%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BA%7D">, 则 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D%20+%20%5Cnabla%20%5Cpsi"> 也是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BB%7D"> 的磁势.</li>
<li>若 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D%20=%20-%5Cnabla%20%5Cvarphi">, 则 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi%20+%20c"> 也是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 的电势.</li>
<li>不同的 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 和 <img src="https://latex.codecogs.com/png.latex?c"> 称为不同的 <strong>Gauge</strong> (e.g.&nbsp;Coulomb gauge, Lorenz gauge).</li>
</ul></li>
</ul></li>
<li><p><strong>Stokes’ theorem 广义斯托克斯定理</strong>: 即 <strong>Newton–Leibniz theorem 牛顿-莱布尼茨定理</strong> 的推广, <img src="https://latex.codecogs.com/png.latex?%5Comega"> 在流形 <img src="https://latex.codecogs.com/png.latex?M"> 边界上的积分等于 <img src="https://latex.codecogs.com/png.latex?%5Cmathrm%7Bd%7D%5Comega"> 在 <img src="https://latex.codecogs.com/png.latex?M"> 内部的积分: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cint_%7B%5Cpartial%20M%7D%20%5Comega%20=%20%5Cint_M%20%5Cmathrm%7Bd%7D%5Comega%0A%20%20"></p>
<ul>
<li>特例: <strong>Gauss’s 定理</strong> 和 <strong>Green’s 定理</strong>.</li>
<li>Stokes’ 定理可从积分形式的 Maxwell 方程推导出其微分形式, 反之亦然.</li>
</ul></li>
</ul>
</section>
</section>
<section id="magnetostatics-静磁学" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="magnetostatics-静磁学"><span class="header-section-number">3</span> Magnetostatics 静磁学</h2>
<section id="conduction-current-传导电流" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="conduction-current-传导电流"><span class="header-section-number">3.1</span> Conduction current 传导电流</h3>
<ul>
<li>因电荷运动产生的电流. 每秒通过指定截面的电荷量<sup>1</sup> <img src="https://latex.codecogs.com/png.latex?I%20=%20%5Cfrac%7B%5Cmathrm%7Bd%7Dq%7D%7B%5Cmathrm%7Bd%7Dt%7D."></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;这不是 <img src="https://latex.codecogs.com/png.latex?I"> 的定义! 国际上用力定义了电流, 再用电流定义了电荷量.</p></div></div><ul>
<li><p><strong>Current density 电流密度</strong>: 每秒通过单位截面的电荷量 <img src="https://latex.codecogs.com/png.latex?%7C%5Cmathbf%7Bj%7D%7C%20:=%20%5Cfrac%7BI%7D%7BA%7D."></p></li>
<li><p>传导电流产生静磁场, 可由以下关系描述:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%20%20%20%20%5Cmathbf%7BB%7D(%5Cmathbf%7Br%7D)%20&amp;=%20%5Cfrac%7B%5Cmu_0%7D%7B4%5Cpi%7D%20%5Cint%20%5Cfrac%7B%5Cmathbf%7BI%7D%20%5Ctimes%20%5Cmathbf%7B%5Chat%7Br%7D%7D%7D%7Br%5E2%7D%20%5Cmathrm%7Bd%7Dl'%20%5Cquad%20&amp;%5Ctext%7B(Biot-Savart%20law)%7D%20%5C%5C%0A%20%20%20%20%20%20%5Coperatorname%7BFlow%7D_C%20(%5Cmathbf%7BB%7D)%20&amp;=%20%5Cmu_0%20I_%7B%5Ctext%7Benc%7D%7D%20%5Cquad%20&amp;%5Ctext%7B(Amp%C3%A8re's%20law)%7D%20%5C%5C%0A%20%20%20%20%20%20%5Cmathbf%7B%5Cnabla%7D%20%5Ctimes%20%5Cmathbf%7BB%7D%20&amp;=%20%5Cmu_0%20%5Cmathbf%7BJ%7D%20+%20%5Cmu_0%20%5Cvarepsilon_0%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%7D%20%5Cquad%20&amp;%5Ctext%7B(Amp%C3%A8re's%20law)%7D%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p></li>
</ul>
</section>
<section id="displacement-current-位移电流" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="displacement-current-位移电流"><span class="header-section-number">3.2</span> Displacement current 位移电流</h3>
<ul>
<li>因电场 (电位移矢量) 的变化</li>
</ul>
</section>
</section>
<section id="capacitance-inductance-电容与电感" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="capacitance-inductance-电容与电感"><span class="header-section-number">4</span> Capacitance &amp; Inductance 电容与电感</h2>
<p>Omitted.</p>
</section>
<section id="mathbfd-和-mathbfh-的引入" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="mathbfd-和-mathbfh-的引入"><span class="header-section-number">5</span> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BD%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 的引入</h2>
<blockquote class="blockquote">
<p><strong>动机</strong>: 静电场和静磁场分别由电荷和恒定电流产生, 而介质中这两者会由于 <strong>极化</strong> 和 <strong>磁化</strong> 而发生变化 (激发出额外的 <strong>感应电荷 <img src="https://latex.codecogs.com/png.latex?%5Crho_b"></strong> 和 <strong>磁化等效电流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_b"></strong>), 而我们并不关心感应出来的量的变化, 只关心本来的电荷和电流 (称为 <strong>自由电荷 <img src="https://latex.codecogs.com/png.latex?%5Crho_f"></strong> 和 <strong>自由电流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_f"></strong>). 我们将他们的变化融入 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BB%7D">, 得到新的量 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BD%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D">.</p>
</blockquote>
<blockquote class="blockquote">
<p>本章假设存在磁单极子.</p>
</blockquote>
<blockquote class="blockquote">
<p>本章可能有错误, 请谨慎阅读!</p>
</blockquote>
<ul>
<li><strong>Dipole 偶极子</strong>
<ul>
<li><strong>Electric Dipole 电偶极子</strong>: <strong>一正一负两个电荷 <img src="https://latex.codecogs.com/png.latex?q"> 组成的整体</strong> 或 <strong>环形磁流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BI%7D_m"></strong>
<ul>
<li><p><strong>Electric Dipole Moment 电偶极矩 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D"></strong>: <span id="eq-e-pole-moment"><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D%20:=%20q%20%5Cmathbf%7Bd%7D%20%5Ctag%7B1%7D"></span> 其中 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bd%7D"> 的方向由负电荷指向正电荷. 这样定义是为了方便计算作用在 dipole 上的力矩: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5Ctau%7D%20=%20%5Cmathbf%7Bp%7D%20%5Ctimes%20%5Cmathbf%7BE%7D"></p></li>
<li><p><strong>磁流版本的电偶极矩 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D_e"></strong><sup>2</sup>: 磁单极子的流动可等效于极化电荷: <span id="eq-e-current-moment"><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D_e%20:=%20I_m%20%5Cmathbf%7BA%7D%20%5Ctag%7B2%7D"></span> 其中 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 是环形磁流的面积向量, <img src="https://latex.codecogs.com/png.latex?I_m"> 是磁流大小. 注意 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D_e"> 不是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D">, 而是差一个常数: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D%20=%20%5Cepsilon_0%20%5Cmathbf%7Bm%7D_e"></p></li>
<li><p><strong>Generalized Electric Dipole Moment 广义电偶极矩</strong>: 区域 <img src="https://latex.codecogs.com/png.latex?V_0"> 内的 <strong>任意</strong>连续电荷分布 <img src="https://latex.codecogs.com/png.latex?%5Crho(x,y,z)"> 的 电偶极矩 或 任意连续磁流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_m(x,y,z)"> 版本: <span id="eq-e-generalized-dipole-moment"><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%5Cmathbf%7Bp%7D%20&amp;:=%20%5Cint_%7BV_0%7D%20%5Crho%20%5Cmathbf%7Br%7D%20~%5Cmathrm%7Bd%7DV%20%5C%5C%20%5Cmathbf%7Bm%7D_e%20&amp;:=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cint_%7BV_0%7D%20%5Cmathbf%7Br%7D%20%5Ctimes%20%5Cmathbf%7Bj%7D_m%20~%5Cmathrm%7Bd%7DV%20%5Cend%7Baligned%7D%20%5Ctag%7B3%7D"></span></p></li>
<li><p><strong>Electric Dipole Moment Density 电偶极矩密度</strong>: 即 Equation&nbsp;3 在某点的密度: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BP%7D%20:=%20%5Clim_%7BV_0%20%5Cto%200%7D%20%5Cfrac%7B%5Cmathbf%7Bp%7D%7D%7BV_0%7D,%20%5Cmathbf%7BM%7D_e%20:=%20%5Clim_%7BV_0%20%5Cto%200%7D%20%5Cfrac%7B%5Cmathbf%7Bm%7D_e%7D%7BV_0%7D"> 因而 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D%20=%20%5Cint_%7BV_0%7D%20%5Cmathbf%7BP%7D%20~%5Cmathrm%7Bd%7DV,%20%5Cmathbf%7Bm%7D_e%20=%20%5Cint_%7BV_0%7D%20%5Cmathbf%7BM%7D_e%20~%5Cmathrm%7Bd%7DV"></p></li>
</ul></li>
<li><strong>Magnetic Dipole 磁偶极子</strong>: <strong>一正一负两个磁荷 <img src="https://latex.codecogs.com/png.latex?q_m"> 组成的整体</strong> 或 <strong>环形电流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BI%7D"></strong>, 所有的概念跟上面是完全对称的, 直接给出:
<ul>
<li><p><strong>Magnetic Dipole Moment 磁偶极矩 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D"></strong>: <span id="eq-m-pole-moment"><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%5Cmathbf%7Bp%7D_m%20&amp;:=%20q_m%20%5Cmathbf%7Bd%7D%20%5C%5C%20%5Cmathbf%7B%5Ctau%7D%20&amp;=%20%5Cmathbf%7Bp%7D_m%20%5Ctimes%20%5Cmathbf%7BH%7D%0A%20%20%5Cend%7Baligned%7D%20%5Ctag%7B4%7D"></span></p></li>
<li><p><strong>电流版本的磁偶极矩 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D"></strong>: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%5Cmathbf%7Bm%7D%20&amp;:=%20I%20%5Cmathbf%7BA%7D%20%5C%5C%20%5Cmathbf%7Bp%7D_m%20&amp;=%20%5Cmu_0%20%5Cmathbf%7Bm%7D%5Cend%7Baligned%7D"></p></li>
<li><p><strong>Generalized Magnetic Dipole Moment 广义磁偶极矩</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%5Cmathbf%7Bp%7D_m%20&amp;:=%20%5Cint_%7BV_0%7D%20%5Crho_m%20%5Cmathbf%7Br%7D%20~%5Cmathrm%7Bd%7DV%20%5C%5C%20%5Cmathbf%7Bm%7D%20&amp;:=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cint_%7BV_0%7D%20%5Cmathbf%7Br%7D%20%5Ctimes%20%5Cmathbf%7Bj%7D%20~%5Cmathrm%7Bd%7DV%20%5Cend%7Baligned%7D">{#eq-m-generalized-dipole-moment}.</p></li>
<li><p><strong>Magnetic Dipole Moment Density 磁偶极矩密度</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BP%7D_m%20:=%20%5Clim_%7BV_0%20%5Cto%200%7D%20%5Cfrac%7B%5Cmathbf%7Bp%7D_m%7D%7BV_0%7D,%20%5Cmathbf%7BM%7D%20:=%20%5Clim_%7BV_0%20%5Cto%200%7D%20%5Cfrac%7B%5Cmathbf%7Bm%7D%7D%7BV_0%7D"> 因而 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D_m%20=%20%5Cint_%7BV_0%7D%20%5Cmathbf%7BP%7D_m%20~%5Cmathrm%7Bd%7DV,%20%5Cmathbf%7Bm%7D%20=%20%5Cint_%7BV_0%7D%20%5Cmathbf%7BM%7D%20~%5Cmathrm%7Bd%7DV"></p></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;为了对偶我自己发明的词.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
广义电偶极子的引入动机与定义公式的原因
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p><strong>动机</strong>: 其实就是解决如何定义电偶极矩密度的问题, 偶极子本身就是用<strong>点电荷</strong>定义的, 密度肯定要用连续电荷分布来定义, 如果电荷是连续的, 还有偶极子吗?</p>
</blockquote>
<ul>
<li><p>所以我们引入了 <strong>Generalized Dipole 广义偶极子</strong><sup>3</sup>: 广义电偶极子不再是两个正负电电荷的组合或环形磁流, 而是<strong>任意 (连续的也行) 的电荷分布 或 磁流 (不需要是环形的) 分布</strong>!</p></li>
<li><p>然后为了推广 Equation&nbsp;1 到这个广义偶极子上, 有两个问题要解决:</p>
<ul>
<li>任意离散电荷分布的情况, 电荷没有想电偶极子那样<strong>两两配对</strong>, 如何定义 <img src="https://latex.codecogs.com/png.latex?q"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bd%7D">?
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bd%7D"> 可以看作 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Br_1%7D%20-%20%5Cmathbf%7Br_2%7D"></li>
</ul></li>
<li>连续的情况怎么处理?
<ul>
<li><img src="https://latex.codecogs.com/png.latex?q"> 可以看作 <img src="https://latex.codecogs.com/png.latex?%5Crho%20~%5Cmathrm%7Bd%7DV"></li>
</ul></li>
<li>最终, <span id="eq-e-pole-moment-2"><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D%20:=%20%5Cint_%7BV_0%7D%20%5Crho%20%5Cmathbf%7Br%7D%20~%5Cmathrm%7Bd%7DV%20%5Ctag%7B5%7D"></span></li>
</ul>
<div id="fig-dipole-density" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dipole-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/dipole-density.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dipole-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: 电偶极矩的推广
</figcaption>
</figure>
</div></li>
<li><p>为了推广 Equation&nbsp;2 到这个广义偶极子上</p>
<ul>
<li><p>我们先对面积 <img src="https://latex.codecogs.com/png.latex?A"> 用以下方法重新表示 (符号见 Figure&nbsp;4): <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cmathbf%7BA%7D%20&amp;=%20%5Csum_i%20A_i%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Br%7D'%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20(%5Cmathbf%7Ba%7D-%5Cmathbf%7Bb%7D)%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Ba%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20-%20%5Cunderbrace%7B%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Bb%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%7D_%7B=0%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Ba%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20(%5Cmathbf%7Br%7D%20-%20%5Cmathbf%7Bh%7D)%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Br%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%20-%20%5Cunderbrace%7B%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Bh%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%7D_%7B=0%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Br%7D%20%5Ctimes%20~%5Cmathrm%7Bd%7D%20%5Cmathbf%7Bl%7D%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p>
<div id="fig-area-cts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-area-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/area-cts.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-area-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: 面积的连续化
</figcaption>
</figure>
</div></li>
<li><p>所以 Equation&nbsp;2 变成了: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D_e%20=%20I_m%20%5Cmathbf%7BA%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Coint%20%5Cmathbf%7Br%7D%20%5Ctimes%20%5Cmathbf%7BI%7D_m%20~%5Cmathrm%7Bd%7Dl"></p></li>
<li><p>直接把去掉环路积分, 把 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BI%7D_m"> 改成 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_m"> 就是广义偶极子的磁流形式: <span id="eq-generalized-dipole-moment-2"><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bm%7D_e%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cint_%7BV_0%7D%20%5Cmathbf%7Br%7D%20%5Ctimes%20%5Cmathbf%7Bj%7D_m%20~%5Cmathrm%7Bd%7DV%20%5Ctag%7B6%7D"></span></p></li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;为了逻辑的顺畅自己起的名字.</p></div></div><ul>
<li><strong>Electric Displacement 电位移矢量</strong>
<ul>
<li><p><strong>Dipole Moment 电偶极矩</strong>: 为了研究 dipole 偶极子在均匀电场中的转动, 如果引入电偶极矩: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bp%7D%20:=%20q%20%5Cmathbf%7Bd%7D"> (<img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bd%7D"> 的方向由负电荷指向正电荷), 作用在 dipole 上的力矩将会变得很方便记忆和计算: <span id="eq-dipole-torque"><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5Ctau%7D%20=%20%5Cmathbf%7Bp%7D%20%5Ctimes%20%5Cmathbf%7BE%7D%20%5Ctag%7B7%7D"></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/em-crash-course/dipole-rotate.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>电偶极矩的引入最初仅仅是为了让力矩的计算 (Equation&nbsp;7) 变得方便</figcaption>
</figure>
</div></li>
<li><p>感应电荷在介质内部的体密度 <img src="https://latex.codecogs.com/png.latex?%5Crho_b"> 和 介质边界的面密度 <img src="https://latex.codecogs.com/png.latex?%5Crho_%7Bbs%7D"> 可以被 <strong>Dipole Moment Density 偶极矩密度</strong><sup>4</sup> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BP%7D"> 表示:</p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;也叫 <strong>Polarization Density 极化密度</strong>.</p></div></div></section>
<section id="electromagnetic-induction-电磁感应" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="electromagnetic-induction-电磁感应"><span class="header-section-number">6</span> Electromagnetic Induction 电磁感应</h2>
<section id="faradays-law-法拉第定律" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="faradays-law-法拉第定律"><span class="header-section-number">6.1</span> Faraday’s Law 法拉第定律</h3>
<ul>
<li><p>两种完全不同的机制 Figure&nbsp;5 <span class="citation" data-cites="griffiths_2017_introduction">[1]</span>:</p>
<ul>
<li><ol type="a">
<li><strong>Lorentz force 洛伦兹力</strong> (「切割磁感线」): <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cmathbf%7BF%7D%20&amp;=%20q%20%5Cmathbf%7Bv%7D%20%5Ctimes%20%5Cmathbf%7BB%7D%20%5C%5C%0A%20%20&amp;=%20q%20%5Cmathbf%7BE%7D%20%5C%5C%0A%20%20%5Cimplies%20%5Cmathcal%7BE%7D%20&amp;=%20%5Coint%20%5Cmathbf%7BE%7D%20%5Ccdot%20%5Cmathrm%7Bd%7D%5Cmathbf%7Bl%7D%20=%20BLv%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></li>
</ol></li>
<li><ol start="2" type="a">
<li><ol start="3" type="a">
<li><strong>Induced electric field 感应电场</strong>: <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bcurl%7D%20%5Cmathbf%7BE%7D%20=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BB%7D%7D%7B%5Cpartial%20t%7D."></li>
</ol></li>
</ol></li>
</ul>
<div id="fig-faraday" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-faraday-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/faraday.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-faraday-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: 法拉第做的三个实验
</figcaption>
</figure>
</div></li>
<li><p>但这两种机制都产生了 <strong>EMF</strong>, 且都可以用「磁通量的变化」来描述: <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BE%7D%20=%20%5Coperatorname%7BFlow%7D_C%20(%5Cmathbf%7BE%7D)%20=%20-%5Cfrac%7B%5Cmathrm%7Bd%7D%5CPhi%7D%7B%5Cmathrm%7Bd%7Dt%7D."> 这个巧合直接导致了<strong>狭义相对论</strong>的出现!</p></li>
</ul>
</section>
</section>
<section id="complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量" class="level2 page-columns page-full" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量"><span class="header-section-number">7</span> Complexification, Phasor and Jones Vector 场的复化, 相量和琼斯矢量</h2>
<ul>
<li><strong>简要动机</strong>
<ul>
<li><strong>Field 场</strong>: 空间每一点都附加三个实数 (<img src="https://latex.codecogs.com/png.latex?E%5Ex,%20E%5Ey,%20E%5Ez">), 且可以随时间变化.</li>
<li><strong>Complexification 复化</strong>: 场在某一点的每个分量都可以看作一个<strong>旋转</strong><sup>5</sup>的复数的实部. 以 <img src="https://latex.codecogs.com/png.latex?E%5Ex"> 为例: <img src="https://latex.codecogs.com/png.latex?E%5Ex%20=%20%5CRe%20(E%5Ex_m%20e%5E%7Bj%20%5Cvarphi(t)%7D)"> 其中 <img src="https://latex.codecogs.com/png.latex?E%5Ex_m"> 是 <img src="https://latex.codecogs.com/png.latex?E%5Ex"> 的最大值, <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(t)"> 定义了这个复数如何旋转.</li>
<li><strong>Phasor 相量</strong>: 如果场是时谐的 (即每一点的每个分量都是正弦的), 则 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(t)%20=%20%5Comega%20t">, 可以将这部分剥离出来, 剩下的称为<strong>Phasor 相量</strong>.</li>
<li><strong>Jones Vector 琼斯矢量</strong>: 如果场是不仅是时谐, 还是<strong>空谐</strong>的, 则可以继续将 <img src="https://latex.codecogs.com/png.latex?e%5E%7B-jkz%7D"> 剥离出来 (假设波沿 <img src="https://latex.codecogs.com/png.latex?-z"> 方向传播), 剩下的称为<strong>Jones 矢量</strong>.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;不能伸缩, 所以要取 <img src="https://latex.codecogs.com/png.latex?E%5Ex"> 的最大值作为复数的模长.</p></div></div><ul>
<li><strong>表格总结</strong><sup>6</sup></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;以电场为例.</p></div></div><div id="tbl-field-representation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-field-representation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: 场的表示, 导数算子在各表示中的形式
</figcaption>
<div aria-describedby="tbl-field-representation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 14%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Electric Field</th>
<th>Complexified Field</th>
<th>Phasor Field</th>
<th>Jones Vector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Description</strong></td>
<td>Original field</td>
<td>Real part of this is the original field</td>
<td>Only record the phase at <img src="https://latex.codecogs.com/png.latex?t=0"></td>
<td>Only record the phase at <img src="https://latex.codecogs.com/png.latex?t=0,%20z=0"></td>
</tr>
<tr class="even">
<td><strong>Notation</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D=%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20%5C%5C%20E%5Ez%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cunderline%7B%5Cmathbf%7BE%7D%7D=%5Cbegin%7Bpmatrix%7D%20%5Cunderline%7BE%7D%5Ex%20%5C%5C%20%5Cunderline%7BE%7D%5Ey%20%5C%5C%20%5Cunderline%7BE%7D%5Ez%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cmathbf%7BE%7D%7D=%5Cbegin%7Bpmatrix%7D%20%5Ctilde%7BE%7D%5Ex%20%5C%5C%20%5Ctilde%7BE%7D%5Ey%20%5C%5C%20%5Ctilde%7BE%7D%5Ez%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?J_E=%5Cbegin%7Bpmatrix%7D%20J_E%5Ex%20%5C%5C%20J_E%5Ey%20%5C%5C%20J_E%5Ez%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
</tr>
<tr class="odd">
<td><strong>Math Nature</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BR%7D%5E3%20%5Ctimes%20%5Cmathbb%7BT%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BC%7D%5E3%20%5Ctimes%20%5Cmathbb%7BT%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BC%7D%5E3"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"></td>
</tr>
<tr class="even">
<td><strong>Relation</strong></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D%20=%20%5CRe%7B(%5Cunderline%7B%5Cmathbf%7BE%7D%7D)%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cunderline%7B%5Cmathbf%7BE%7D%7D%20=%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20e%5E%7Bj%20%5Comega%20t%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20=%20J_E%20e%5E%7B-jkz%7D"></td>
</tr>
<tr class="odd">
<td><strong>Example</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20%5Csin(%5Comega%20t%20-%20kz%20-%5Cfrac%7B%5Cpi%7D%7B4%7D)%20%5C%5C%20%5Ccos(%5Comega%20t%20-%20kz%20-%5Cfrac%7B%5Cpi%7D%7B4%7D)%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20-j%20e%5E%7Bj(%5Comega%20t%20-%20kz%20-%20%5Cfrac%7B%5Cpi%7D%7B4%7D)%7D%20%5C%5C%20e%5E%7Bj(%5Comega%20t%20-%20kz%20-%20%5Cfrac%7B%5Cpi%7D%7B4%7D)%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20-je%5E%7Bj(-kz%20-%20%5Cfrac%7B%5Cpi%7D%7B4%7D)%7D%20%5C%5C%20e%5E%7Bj(-kz%20-%20%5Cfrac%7B%5Cpi%7D%7B4%7D)%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20-j%20e%5E%7B-j%20%5Cfrac%7B%5Cpi%7D%7B4%7D%7D%20%5C%5C%20e%5E%7B-j%20%5Cfrac%7B%5Cpi%7D%7B4%7D%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cequiv%20%5B-j:1%5D"></td>
</tr>
<tr class="even">
<td><strong>Time Derivative</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?j%20%5Comega%20%5Ccdot"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bid%7D(%5Ccdot)"></td>
</tr>
<tr class="odd">
<td></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%5E2%7D%7B%5Cmathrm%7Bd%7Dt%5E2%7D"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?-%5Comega%5E2%20%5Ccdot"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bid%7D(%5Ccdot)"></td>
</tr>
<tr class="even">
<td><strong>Space Derivative</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bid%7D(%5Ccdot)"></td>
</tr>
<tr class="odd">
<td></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes"></td>
<td>-</td>
</tr>
<tr class="even">
<td></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ccdot"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ccdot"></td>
<td>-</td>
</tr>
<tr class="odd">
<td><img src="https://latex.codecogs.com/png.latex?%5CBox%5E2"></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%7D%7B%5Cpartial%20t%5E2%7D"></td>
<td>-</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2%20+%20k_c%5E2,%20%5Cquad%20k_c%20=%20%5Comega%20%5Csqrt%7B%5Cepsilon%20%5Cmu%7D"></td>
<td>-</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
详细动机
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p><strong>Phasor 相量</strong></p>
<ul>
<li><strong>Time-harmonic 时谐波</strong>: 固定<strong>空间</strong>的任意一点, 这一点的 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 的三个分量都是<strong>时间</strong>的正弦函数.
<ul>
<li>没有说空间上是周期性的!</li>
</ul></li>
<li><strong>Phasor 相量</strong>:
<ul>
<li><strong>固定角频率 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 的正弦波集合 在向量空间的意义上 同构于复数域 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D"></strong>, 对应的复数称为 <strong>Phasor 相量</strong></li>
<li>为何同构? 每个正弦波只与初始状态有关, 每个初始状态与一个复数一一对应.</li>
<li>为何固定角频率? 因为很多系统 (RC 电路, 弹簧振子, etc.) 在正弦输入下所有的物理量 (电压, 电流, 位移, 速度, etc.) 时间上一定是<strong>同频</strong>的.</li>
<li>相量 <img src="https://latex.codecogs.com/png.latex?Ae%5E%7Bj%5Ctheta_0%7D"> 中没有时间信息!</li>
</ul></li>
<li>对于时谐 EM 波, 我们只关心初始状态, 即<strong>相量场</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cmathbf%7BE%7D%7D:%20%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BC%7D%5E3"> (<strong>三维空间的每个点上在三个方向上各有一个相量</strong>).
<ul>
<li>E.g., 时谐场与相量的转化: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5Ccos(%5Comega%20t%20-%20z)%20%5C%5C%20E%5Ey%20%5Csin(%5Comega%20t%20-%20z)%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cxrightarrow%7B%5Ctext%7Bcomplexification%7D%7D%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20e%5E%7Bj(-z)%7D%20e%5E%7Bj%5Comega%20t%7D%20%5C%5C%20E%5Ey%20(-j)%20e%5E%7Bj(-z)%7D%20e%5E%7Bj%5Comega%20t%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cxrightarrow%7B%5Ctext%7Bphasor%7D%7D%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20e%5E%7Bj(-z)%7D%20%5C%5C%20E%5Ey%20%5Cboxed%7B(-j)%7D%20e%5E%7Bj(-z)%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D"></li>
<li><img src="https://latex.codecogs.com/png.latex?%5Csin"> 为什么是 <img src="https://latex.codecogs.com/png.latex?-j">? (<img src="https://latex.codecogs.com/png.latex?%5Csin"> 可以看作 <img src="https://latex.codecogs.com/png.latex?%5Ccos"> 的求导的相反数, 而求导操作是直接乘 <img src="https://latex.codecogs.com/png.latex?j">)</li>
</ul></li>
</ul></li>
<li><p><strong>Jones vector 琼斯矢量</strong></p>
<ul>
<li><strong>动机</strong>: 在时谐波的相量表示里, 我们不关心波的频率, 只关心波的初始状态, 所以在相量里我们省略了时间信息 (<img src="https://latex.codecogs.com/png.latex?%5Comega%20t">), 只保留了波在每一点的初始相位 (<strong>时间意义上</strong>的初始), 通过观察这个相位的周期性变化, 所以我们仍然可以在相量中获取波长信息. 但是为了分类<strong>偏振状态</strong>, 我们也并不关心这个波长信息. 所以我们进一步省略了波长信息, 进一步简化了波的初始状态 (<strong>空间意义上</strong>的初始), 得到的矢量称为 <strong>Jones vector 琼斯矢量</strong>.
<ul>
<li>不失一般性, 先要取坐标系使得<strong>波沿 <img src="https://latex.codecogs.com/png.latex?+z"> 传播</strong> (所以如果是 <img src="https://latex.codecogs.com/png.latex?-z"> 方向, <strong>所有结论都要取反!!!</strong>)</li>
<li>Jones 矢量不再是一个场, 而是<strong>一个</strong> (复二维) 向量 (由于我们已经让波沿 <img src="https://latex.codecogs.com/png.latex?+z"> 传播, 所以 <img src="https://latex.codecogs.com/png.latex?z"> 分量为 <img src="https://latex.codecogs.com/png.latex?0">, 后面我们会看到, 其实不止一个复二维向量可以对应一种极化方式, 要模掉他们, 得到的是 <strong>Spinors 旋量</strong>).</li>
<li>E.g., 时谐场与 Jones 矢量的转化: <span id="eq-jones-vector-example"><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5Ccos(%5Comega%20t%20-%20z)%20%5C%5C%20E%5Ey%20%5Csin(%5Comega%20t%20-%20z)%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cxrightarrow%7B%5Ctext%7Bphasor%7D%7D%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20e%5E%7Bj(-z)%7D%20%5C%5C%20E%5Ey%20%5Cboxed%7B(-j)%7D%20e%5E%7Bj(-z)%7D%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cxrightarrow%7B%5Ctext%7BJones%7D%7D%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20(-j)%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Ctag%7B8%7D"></span></li>
</ul></li>
<li><strong>Jones 矢量在 Poincaré Sphere 庞加莱球上<sup>7</sup></strong>
<ul>
<li><strong>动机</strong>: 我们已经知道一种极化方式可以用一个复二维向量表示, 但是我们会发现, 这种表示并不是唯一的. 所以, 对每一种表示, 我们都只留下一个矢量 (模掉一个等价关系 <img src="https://latex.codecogs.com/png.latex?%5Csim">), 得到的空间为 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E2%20/%20%5Csim">, 其中的元素才是真正的 Jones 矢量 (也称旋量).</li>
<li><strong>等价关系</strong>: 两个 Jones 矢量 <img src="https://latex.codecogs.com/png.latex?J_1%20%5Csim%20J_2%20:%5Ciff%20J_1%20=%20%5Calpha%20J_2"> for some <img src="https://latex.codecogs.com/png.latex?%5Calpha%20=%20A%20e%5E%7Bj%5Ctheta%7D%20%5Cin%20%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D">. 其物理意义是:
<ul>
<li>不关心空间初始相位: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20(-j)%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Csim%20e%5E%7Bj%5Ctheta%7D%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20(-j)%20%5C%5C%5Cend%7Bpmatrix%7D,%20%5Cquad%20%5Cforall%20%5Ctheta%20%5Cin%20%5B0,%202%5Cpi)"></li>
<li>不关心电磁波的振幅: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20(-j)%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Csim%20A%20%5Cbegin%7Bpmatrix%7D%20E%5Ex%20%5C%5C%20E%5Ey%20(-j)%20%5C%5C%5Cend%7Bpmatrix%7D,%20%5Cquad%20%5Cforall%20A%20%5Cin%20%5Cmathbb%7BR%7D%5E%7B%5Ctimes%7D"></li>
</ul></li>
<li><strong>这正是 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> 的定义! Surprise!!!</strong></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;名字很多: Riemann Sphere (通用), Bloch Sphere (一般在量子力学中), Poincaré Sphere (电磁学), Complex Projective Line <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> (数学中), Extended Complex numbers <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7B%5Chat%7BC%7D%7D">. 其中的元素也叫 <strong>Spinors 旋量</strong>.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Table&nbsp;1 内容的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>不失一般性, 大部分 Claim 只需证明其中一个分量即可.</p>
<ul>
<li><p><strong>Lemma 1</strong>: The conjugation operation <img src="https://latex.codecogs.com/png.latex?%5E*"> distributes over <img src="https://latex.codecogs.com/png.latex?+"> and <img src="https://latex.codecogs.com/png.latex?%5Ccdot">, i.e.,<img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%20(z+w)%5E*%20&amp;=%20z%5E*%20+%20w%5E*%20%5C%5C%20(zw)%5E*%20&amp;=%20z%5E*%20w%5E*%20%5Cend%7Baligned%7D"></p>
<p><strong>Pf.</strong> 这是显然的.</p></li>
<li><p><strong>Lemma 2</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D"> 与 <img src="https://latex.codecogs.com/png.latex?%5E*"> 可交换, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5Ccirc%20%5E*%20=%20%5E*%20%5Ccirc%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D"></p>
<p><strong>Pf.</strong> 设 <img src="https://latex.codecogs.com/png.latex?z(t)%20=%20a(t)%20+%20jb(t)%20%5Cin%20%5Cmathbb%7BC%7D">, <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20z%5E*(t)%20&amp;=%20a(t)%20-%20jb(t)%20%5C%5C%0A%20%20%5Cimplies%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20z%5E*(t)%20&amp;=%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20(a(t)%20-%20jb(t))%20=%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20a(t)%7D%7B%5Cmathrm%7Bd%7Dt%7D%20-%20j%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20b(t)%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5C%5C%0A%20%20&amp;=%20%5Cleft(%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20z(t)%5Cright)%5E*%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p>
<p>Q.E.D. (同理可证 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20x%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5E*"> 也可交换)</p></li>
<li><p><strong>Lemma 3</strong>: <img src="https://latex.codecogs.com/png.latex?%5CRe"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D"> 可交换, i.e., <img src="https://latex.codecogs.com/png.latex?%5CRe%20%5Ccirc%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20=%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5Ccirc%20%5CRe"></p>
<p><strong>Pf.</strong> <img src="https://latex.codecogs.com/png.latex?%5CRe"> 是 <img src="https://latex.codecogs.com/png.latex?+"> 和 <img src="https://latex.codecogs.com/png.latex?%5Ccdot"> 的组合, 由 Lemma 1 和 Lemma 2 易证.</p></li>
<li><p><strong>Claim 1</strong>: <img src="https://latex.codecogs.com/png.latex?~%5Ctilde%7B%7D~"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D"> 可交换, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cwidetilde%7B%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20E%5Ex%7D%20=%20j%20%5Comega%20%5Ctilde%7BE%5Ex%7D"></p>
<p><strong>Pf.</strong> 时谐波一定满足: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20E%5Ex%20&amp;=%20%5CRe%7B(%5Ctilde%7BE%7D%5Ex%20e%5E%7Bj%20%5Comega%20t%7D)%7D%20%5C%5C%0A%20%20%5Cimplies%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20E%5Ex%20&amp;=%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5CRe%7B(%5Ctilde%7BE%7D%5Ex%20e%5E%7Bj%20%5Comega%20t%7D)%7D%20%5C%5C%0A%20%20&amp;=%20%5CRe%7B(%5Ctilde%7BE%7D%5Ex%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20e%5E%7Bj%20%5Comega%20t%7D)%7D%20%5C%5C%0A%20%20&amp;=%20%5CRe%7B(%5Ctilde%7BE%7D%5Ex%20j%20%5Comega%20e%5E%7Bj%20%5Comega%20t%7D)%7D%20%5C%5C%0A%20%20%5Cimplies%5Cwidetilde%7B%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20E%5Ex%7D%20&amp;=%20j%20%5Comega%20%5Ctilde%7BE%7D%5Ex%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p>
<p>Q.E.D. (同理可证 <img src="https://latex.codecogs.com/png.latex?~%5Ctilde%7B%7D~"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20x%7D"> 也可交换)</p></li>
<li><p><strong>Claim 2</strong>: <img src="https://latex.codecogs.com/png.latex?~%5Ctilde%7B%7D~"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 可交换, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cwidetilde%7B%5Cnabla%5E2%20E%5Ex%7D%20=%20%5Cnabla%5E2%20%5Ctilde%7BE%7D%5Ex"></p>
<p><strong>Pf.</strong> <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2"> 是 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20x%7D,%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20y%7D,%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20z%7D"> 的复合和线性组合, 由 Claim 1 可证.</p>
<p>Q.E.D. (同理可证 <img src="https://latex.codecogs.com/png.latex?~%5Ctilde%7B%7D~"> 与 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ccdot"> 也可交换)</p></li>
</ul>
<p><strong>另外注意</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cwidetilde%7BE%20%5Ctimes%20H%7D%20%5Cneq%20%5Ctilde%7BE%7D%20%5Ctimes%20%5Ctilde%7BH%7D"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="maxwells-equations-麦克斯韦方程组" class="level2 page-columns page-full" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="maxwells-equations-麦克斯韦方程组"><span class="header-section-number">8</span> Maxwell’s Equations 麦克斯韦方程组</h2>
<section id="without-magnetic-monopoles-无磁单极子" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="without-magnetic-monopoles-无磁单极子"><span class="header-section-number">8.1</span> Without magnetic monopoles 无磁单极子</h3>
<p><span id="eq-maxwell-1"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20=%20%5Crho_f%0A%5Ctag%7B9%7D"></span> <span id="eq-maxwell-2"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20=%200%0A%5Ctag%7B10%7D"></span> <span id="eq-maxwell-3"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D%20=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BB%7D%7D%7B%5Cpartial%20t%7D%0A%5Ctag%7B11%7D"></span> <span id="eq-maxwell-4"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20%5Ctimes%20%5Cmathbf%7BH%7D%20=%20%5Cmathbf%7Bj%7D_f%20+%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BD%7D%7D%7B%5Cpartial%20t%7D%0A%5Ctag%7B12%7D"></span></p>
<ul>
<li><strong>Source-free 无源</strong>: 没有自由电荷, i.e., <img src="https://latex.codecogs.com/png.latex?%5Crho_f%20=%200">.</li>
<li><strong>Lossless 无损</strong>: 当 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 存在时不会产生电流, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_f%20=%200"> or <img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%200">.
<ul>
<li>Source-free Lossless Maxwell’s equations 无源无损介质的麦克斯韦方程组: <span id="eq-maxwell-source-free"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D%20&amp;=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BB%7D%7D%7B%5Cpartial%20t%7D%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BH%7D%20&amp;=%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BD%7D%7D%7B%5Cpartial%20t%7D%20%5C%5C%0A%20%20%5Cend%7Bcases%7D%0A%20%20%20%5Ctag%7B13%7D"></span></li>
</ul></li>
<li><strong>Ideal conductor 理想导体</strong>: 当 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 存在时, 电流无穷大 (所以不能存在 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D">), i.e., <img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%20%5Cinfty">.</li>
</ul>
</section>
<section id="with-magnetic-monopoles-有磁单极子" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="with-magnetic-monopoles-有磁单极子"><span class="header-section-number">8.2</span> With magnetic monopoles 有磁单极子</h3>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%0A%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20&amp;=%20%5Crho_f%20%5C%5C%0A%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20&amp;=%20%5Crho_%7Bmf%7D%20%5C%5C%0A%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D%20&amp;=%20-%5Cmathbf%7Bj%7D_%7Bmf%7D%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BB%7D%7D%7B%5Cpartial%20t%7D%20%5C%5C%0A%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BH%7D%20&amp;=%20%5Cmathbf%7Bj%7D_f%20+%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BD%7D%7D%7B%5Cpartial%20t%7D%20%5C%5C%0A%5Cend%7Bcases%7D%0A"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Crho_%7Bmf%7D">: 自由磁荷密度, <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_%7Bmf%7D">: 自由磁流密度</li>
</ul>
</section>
<section id="potential-functions-势函数的麦克斯韦方程组" class="level3 page-columns page-full" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="potential-functions-势函数的麦克斯韦方程组"><span class="header-section-number">8.3</span> Potential functions 势函数的麦克斯韦方程组</h3>
<ul>
<li><p>我们希望通过引入<strong>势函数</strong>来将 Maxwell 方程变成只有两个 (称为 <strong>D’Alembert 方程</strong>).</p></li>
<li><p>我们拿出 Maxwell 方程组的中间两个 (Equation&nbsp;10 和 Equation&nbsp;11) 来定义<sup>8</sup> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi">: <span id="eq-potential-def"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D%20&amp;=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BB%7D%7D%7B%5Cpartial%20t%7D%0A%20%20%5Cend%7Bcases%7D%0A%20%20%5Cimplies%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cmathbf%7BB%7D%20&amp;=:%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BA%7D%20%5C%5C%0A%20%20%20%20%20%20%5Cmathbf%7BE%7D%20&amp;=:%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cvarphi%0A%20%20%5Cend%7Bcases%7D%0A%20%20%7D%0A%20%20%20%5Ctag%7B14%7D"></span></p>
<ul>
<li>由 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BB%7D"> 的无散性 (Equation&nbsp;10) 可引入<strong>磁势</strong> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D">.</li>
<li>代入到 Equation&nbsp;11 由 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D+%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D"> 的无旋性可引入<strong>电势</strong> <img src="https://latex.codecogs.com/png.latex?%5Cvarphi">.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;说是定义, 其实没有 well-defined, 因为对于给定的 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BB%7D">, 有无数个磁势 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 可以选择 (通过不同的 Gauge). 但是一旦选择了 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 的 Gauge, 由 Equation&nbsp;14 中右边的第二个式子可知 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 是关联在一起的, 所以 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 的 Gauge 也就随之确定了 (这叫做 <strong>Gauge 变换</strong>).</p></div></div><ul>
<li><strong>Gauge 变换</strong>: 由 Section&nbsp;2.2 有关 Gauge 的介绍可知: <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 都不是唯一的, 他们可以分别选择各自的 Gauge 吗? 不能! 由 Equation&nbsp;14 知: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 是关联在一起的, 当 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 变化时, <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 必须跟着变, 稍加推导可得: <span id="eq-gauge-transform"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20A%20%5Cto%20A%20+%20%5Cnabla%20%5Cpsi%20%5C%5C%0A%20%20%5Cvarphi%20%5Cto%20%5Cvarphi%20-%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D%0A%20%20%5Cend%7Baligned%7D%0A%20%20%20%5Ctag%7B15%7D"></span></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gauge 变换 (Equation&nbsp;15) 的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>两个势 (<img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi">) 由以下式子相关联: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbf%7BE%7D%20=:%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cvarphi%0A"></p>
<p>当 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 变化成 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D%20+%20%5Cnabla%20%5Cpsi"> 时, 假设 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 变成了 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi'">. 不管 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D">, <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 怎么变, <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 都不能变, 即: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cvarphi%20&amp;=%20-%5Cfrac%7B%5Cpartial%20(%5Cmathbf%7BA%7D%20+%20%5Cnabla%20%5Cpsi)%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cvarphi'%20%5C%5C%0A&amp;=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20%5Cvarphi'%20%5C%5C%0A&amp;=%20-%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cnabla%20(%5Cvarphi'%20+%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D)%20%5C%5C%0A%5Cimplies%20%5Cvarphi%20&amp;=%20%5Cvarphi'%20+%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D%20%5C%5C%0A%5Cimplies%20%5Cvarphi'%20&amp;=%20%5Cvarphi%20-%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Q.E.D.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>我们把剩下两个方程 (Equation&nbsp;9 和 Equation&nbsp;12) 用 Equation&nbsp;14 中的 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 替换掉, 得到 <strong>D’Alembert 方程</strong>: <span id="eq-d-alembert"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20&amp;=%20%5Crho_f%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%20%5Ctimes%20%5Cmathbf%7BH%7D%20&amp;=%20%5Cmathbf%7Bj%7D_f%20+%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BD%7D%7D%7B%5Cpartial%20t%7D%0A%20%20%5Cend%7Bcases%7D%0A%20%20%5Cimplies%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cvarphi%7D%7B%5Cpartial%20t%5E2%7D%20-%20%5Cnabla%5E2%20%5Cvarphi%20&amp;=%20%5Cfrac%7B1%7D%7B%5Cepsilon%7D%20%5Crho_f%20%5C%5C%0A%20%20%20%20%20%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BA%7D%7D%7B%5Cpartial%20t%5E2%7D%20-%20%5Cnabla%5E2%20%5Cmathbf%7BA%7D%20&amp;=%20%5Cmu%20%5Cmathbf%7Bj%7D_f%20-%20%5Cnabla%20(%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cvarphi%7D%7B%5Cpartial%20t%7D)%0A%20%20%5Cend%7Bcases%7D%0A%20%20%20%5Ctag%7B16%7D"></span></p>
<ul>
<li><strong>D’Alembert 算子</strong>: 这个算子经常以整体出现, 是 Minkowski 时空 上的 Laplace 算子<sup>9</sup>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5CBox%5E2%20%5Cequiv%20%5Cnabla%5E2%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%7D%7B%5Cpartial%20t%5E2%7D%7D"></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn9"><p><sup>9</sup>&nbsp;有地方也省略平方, 或定义为相反数 (sign convention)</p></div></div><ul>
<li><p>Equation&nbsp;16 几乎快要对称<sup>10</sup>了, 但是第二个式子过于魔怔, 我们希望通过<strong>选择一个合适的 Gauge</strong>, 使后面的 <img src="https://latex.codecogs.com/png.latex?-%20%5Cnabla%20(%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cvarphi%7D%7B%5Cpartial%20t%7D)"> 消失掉.</p>
<ul>
<li><p><strong>Lorenz gauge 洛伦兹规范</strong><sup>11</sup>: <span id="eq-l-gauge"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cvarphi%7D%7B%5Cpartial%20t%7D%20=%200%7D%20%5Ctag%7B17%7D"></span> Equation&nbsp;16 变为 (<img src="https://latex.codecogs.com/png.latex?4"> 维 Poisson 方程, 非常 nice!): <span id="eq-lorenz"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5CBox%5E2%20%5Cvarphi%20=%20-%20%5Cfrac%7B1%7D%7B%5Cepsilon%7D%20%5Crho_f%20%5C%5C%0A%20%20%20%20%20%20%5CBox%5E2%20%5Cmathbf%7BA%7D%20=%20-%20%5Cmu%20%5Cmathbf%7Bj%7D_f%0A%20%20%5Cend%7Bcases%7D%0A%20%20%7D%0A%20%20%20%5Ctag%7B18%7D"></span></p></li>
<li><p><strong>Coulomb gauge 库伦规范</strong>: <span id="eq-c-gauge"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%20=%200%7D%20%5Ctag%7B19%7D"></span> Equation&nbsp;16 变为: “<em>rubbish</em>” ╯°Д°）╯ <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5CBox%5E2%20%5Cvarphi%20=%20-%5Cfrac%7B1%7D%7B%5Cepsilon%7D%20%5Crho_f%20%5C%5C%0A%20%20%20%20%20%20%5CBox%5E2%20%5Cmathbf%7BA%7D%20=%20%5Cnabla%20(%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cvarphi%7D%7B%5Cpartial%20t%7D)%20-%20%5Cmu%20%5Cmathbf%7Bj%7D_f%0A%20%20%5Cend%7Bcases%7D%0A%20%20"></p></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;为什么这里的 <img src="https://latex.codecogs.com/png.latex?%5Cmu"> 好像对应的是 <img src="https://latex.codecogs.com/png.latex?1/%5Cepsilon">? 不是说 <img src="https://latex.codecogs.com/png.latex?%5Cmu"> 应该对应 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon"> 吗? 原因是 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BA%7D"> 就不是「对应」的. <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> 用来定义了 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D">, 照理来说 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 对应 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D">, 所以应该定义 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes%20%5Cmathbf%7BA%7D%20:=%20%5Cmathbf%7BH%7D">, 但没这么做, 导致这个地方没有完全对称.</p></div><div id="fn11"><p><sup>11</sup>&nbsp;此 Lorenz 非彼 Lorentz (. 而且这个式子并没有显式地给出 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 是什么, 事实上能不能这样做是需要验证的, 如果存在合法的 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 才能这么做! 所以我们后面对其进行了合法性验证.</p></div></div><div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lorenz gauge 和 Coulomb gauge 的合法性验证
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>我们需要证明 Equation&nbsp;17 和 Equation&nbsp;19 中确实定义了 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> (也许没有唯一定义, 但我们至少得证明存在一个合法的 <img src="https://latex.codecogs.com/png.latex?%5Cpsi">).</p>
<ul>
<li><p>Equation&nbsp;17 的合法性验证:</p>
<p>将 Equation&nbsp;15 代入 Equation&nbsp;17, 得到: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cnabla%20%5Ccdot%20(%5Cmathbf%7BA%7D%20+%20%5Cnabla%20%5Cpsi)%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20(%5Cvarphi%20-%20%5Cfrac%7B%5Cpartial%20%5Cpsi%7D%7B%5Cpartial%20t%7D)%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cunderbrace%7B%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cvarphi%7D%7B%5Cpartial%20t%7D%7D_%7B0%7D%20+%20%5Cnabla%20%5Ccdot%20%5Cnabla%20%5Cpsi%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cpsi%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cnabla%5E2%20%5Cpsi%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cpsi%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5CBox%5E2%20%5Cpsi%20&amp;=%200%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p>
<p>所以这样的 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 肯定是存在的, 只要满足 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5CBox%5E2%20%5Cpsi%20=%200%7D"> 所以 Equation&nbsp;17 是合法的.</p></li>
<li><p>Equation&nbsp;19 的合法性验证:</p>
<p>将 Equation&nbsp;15 代入 Equation&nbsp;19, 得到: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cnabla%20%5Ccdot%20(%5Cmathbf%7BA%7D%20+%20%5Cnabla%20%5Cpsi)%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cunderbrace%7B%5Cnabla%20%5Ccdot%20%5Cmathbf%7BA%7D%7D_%7B0%7D%20+%20%5Cnabla%5E2%20%5Cpsi%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cnabla%5E2%20%5Cpsi%20&amp;=%200%0A%20%20%5Cend%7Baligned%7D%0A%20%20"></p>
<p>同理, 这样的 <img src="https://latex.codecogs.com/png.latex?%5Cpsi"> 肯定也是存在的, 只要满足 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cnabla%5E2%20%5Cpsi%20=%200%7D"> 所以 Equation&nbsp;19 也是合法的.</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="phasor-representation-相量麦克斯韦方程组special-case" class="level3 page-columns page-full" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="phasor-representation-相量麦克斯韦方程组special-case"><span class="header-section-number">8.4</span> Phasor representation 相量麦克斯韦方程组<sup>12</sup></h3>
<p><span id="eq-maxwell-source-free-phasor"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20&amp;=%20%5Crho_f%20%5C%5C%0A%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20&amp;=%200%20%5C%5C%0A%5Cnabla%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%20-j%20%5Comega%20%5Ctilde%7B%5Cmathbf%7BB%7D%7D%20%5C%5C%0A%5Cnabla%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20&amp;=%20%5Ctilde%7B%5Cmathbf%7Bj%7D%7D_f%20+%20j%20%5Comega%20%5Ctilde%7B%5Cmathbf%7BD%7D%7D%20%5C%5C%0A%5Cend%7Bcases%7D%0A%5Ctag%7B20%7D"></span></p>
<p>由于时谐波的情况下产生的电流 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bj%7D_f"> 一定也是时谐的: <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cmathbf%7Bj%7D%7D_f%20=%20%5Csigma%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D">, 我们代入 Equation&nbsp;20, 得到:</p>
<p><span id="eq-maxwell-source-free-phasor-complex"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%20%5Cnabla%20%5Ccdot%20%5Cmathbf%7BD%7D%20&amp;=%20%5Crho_f%20%5C%5C%0A%5Cnabla%20%5Ccdot%20%5Cmathbf%7BB%7D%20&amp;=%200%20%5C%5C%0A%5Cnabla%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%20-j%20%5Comega%20%5Ctilde%7B%5Cmathbf%7BB%7D%7D%20%5C%5C%0A%5Cnabla%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20&amp;=%20(%5Csigma%20+%20j%20%5Comega%20%5Cepsilon)%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5C%5C%0A&amp;=:%20j%20%5Comega%20%5Cepsilon_c%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5C%5C%0A%5Cend%7Bcases%7D%0A%5Ctag%7B21%7D"></span></p>
<ul>
<li><p><strong>Complex permittivity 复介电常数 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon_c"></strong></p>
<ul>
<li><p><strong>动机</strong>: 由于无损介质 (<img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%200">) 中第四个 Maxwell 方程是 <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ctimes%20%5Cmathbf%7BH%7D%20=%20j%20%5Comega%20%5Cepsilon%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D"> 我们希望在有损介质的情况下也有<strong>形式上完全一样的方程</strong>.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cepsilon_c"> 与频率有关<sup>13</sup>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cepsilon_c%20=%20%5Cepsilon%20-%20j%20%5Cfrac%7B%5Csigma%7D%7B%5Comega%7D%7D"></p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn13"><p><sup>13</sup>&nbsp;就像电容或电感的阻抗 <img src="https://latex.codecogs.com/png.latex?Z"> 也与频率有关.</p></div></div></section>
<div class="no-row-height column-margin column-container"><div id="fn12"><p><sup>12</sup>&nbsp;Phasor representation 只是 Maxwell 方程组在「时谐」下的特例. 但由于 Fourier 变换, 仅仅考虑这种特例已经足够了 (“faithfully”).</p></div></div></section>
<section id="maxwells-equations-solution-麦克斯韦方程组的解" class="level2 page-columns page-full" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="maxwells-equations-solution-麦克斯韦方程组的解"><span class="header-section-number">9</span> Maxwell’s Equations Solution 麦克斯韦方程组的解</h2>
<section id="波在单一无源介质中的传播" class="level3 page-columns page-full" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="波在单一无源介质中的传播"><span class="header-section-number">9.1</span> 波在单一无源介质中的传播</h3>
<section id="mathbfe-和-mathbfh-单独的表现-解耦合" class="level4 page-columns page-full" data-number="9.1.1">
<h4 data-number="9.1.1" class="anchored" data-anchor-id="mathbfe-和-mathbfh-单独的表现-解耦合"><span class="header-section-number">9.1.1</span> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 单独的表现 (解耦合)</h4>
<ul>
<li>Equation&nbsp;11, Equation&nbsp;12 是经典的两个变量的耦合方程, 显然他的解是波动的, 联立它们 (还有 <img src="https://latex.codecogs.com/png.latex?%5Crho_f%20=%200,%20%5Cmathbf%7Bj%7D_f%20=%20%5Csigma%20%5Cmathbf%7BE%7D">), 解耦合得到:
<ul>
<li><strong>时域化简结果</strong>: <span id="eq-time-domain-solution"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20-%20%5Cmu%20%5Csigma%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Cmathbf%7BH%7D%20-%20%5Cmu%20%5Csigma%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BH%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BH%7D%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%0A%20%20%5Cend%7Bcases%7D%0A%20%20%20%5Ctag%7B22%7D"></span></li>
<li><strong>相量域化简结果</strong>: 根据 Table&nbsp;1, 可将 Equation&nbsp;22 转换为相量形式 (也可以直接联立 Equation&nbsp;21): <span id="eq-phasor-domain-solution"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20+%20k_c%5E2%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20+%20k_c%5E2%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20&amp;=%200%0A%20%20%5Cend%7Bcases%7D%0A%20%20%20%5Ctag%7B23%7D"></span> 其中 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bk_c%20=%20%5Comega%20%5Csqrt%7B%5Cepsilon_c%20%5Cmu%7D%7D"> 注意 Equation&nbsp;22 的耗散项 <img src="https://latex.codecogs.com/png.latex?-%5Csigma%20%5Cmu%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%7D"> 融入进了复介电常数 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon_c"> 里面.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equation&nbsp;22 和 Equation&nbsp;23 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>将 Equation&nbsp;11 再套一层旋度, 得到:</p>
<p><span id="eq-maxwell-3-curl"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20%5Ctimes%20(%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D)%20=%20-%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20(%5Cnabla%20%5Ctimes%20%5Cmathbf%7BB%7D)%0A%5Ctag%7B24%7D"></span></p>
<p>无源条件 (<img src="https://latex.codecogs.com/png.latex?%5Cnabla%20%5Ccdot%20%5Cmathbf%7BE%7D%20=%200">) 下,</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Ctext%7BLHS%7D%20&amp;=%20%5Cnabla%20%5Ctimes%20(%5Cnabla%20%5Ctimes%20%5Cmathbf%7BE%7D)%20=%20%5Cnabla%20(%5Cnabla%20%5Ccdot%20%5Cmathbf%7BE%7D)%20-%20%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20=%20-%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20%5C%5C%0A%5Ctext%7BRHS%7D%20&amp;=%20-%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20(%5Cnabla%20%5Ctimes%20%5Cmathbf%7BB%7D)%20=%20-%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20(%5Cmu%20%5Cmathbf%7Bj%7D_f%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20E%7D%7B%5Cpartial%20t%7D)%20=%20-%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20(%5Cmu%20%5Csigma%20%5Cmathbf%7BE%7D%20+%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%20E%7D%7B%5Cpartial%20t%7D)%0A%5Cend%7Baligned%7D%0A"></p>
<p>由 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BLHS%7D%20=%20%5Ctext%7BRHS%7D"> 得到: <span id="eq-E-time-domain-solution"><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20-%20%5Cmu%20%5Csigma%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%5E2%7D%20=%200%0A%5Ctag%7B25%7D"></span></p>
<p>同理可得:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%5E2%20%5Cmathbf%7BH%7D%20-%20%5Cmu%20%5Csigma%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BH%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BH%7D%7D%7B%5Cpartial%20t%5E2%7D%20=%200%0A"></p>
<p>现在推导 Equation&nbsp;23, 有两种方法:</p>
<ul>
<li><p>从 Equation&nbsp;21 开始, 直接联立得到. (Omitted)</p></li>
<li><p>从 Equation&nbsp;25 开始, 用 Table&nbsp;1 将其转换到相量表示: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20-%20%5Cmu%20%5Csigma%20%5Cfrac%7B%5Cpartial%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cnabla%5E2%20-%20%5Cmu%20%5Csigma%20j%20%5Comega%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20-%20%5Cepsilon%20%5Cmu%20(-%5Comega%5E2)%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cnabla%5E2%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20+%20%5Cmu%20%5Comega%5E2%20(%5Cepsilon%20-%20j%20%5Cfrac%7B%5Csigma%7D%7B%5Comega%7D)%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cimplies%20%5Cnabla%5E2%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20+%20%5Cepsilon_c%20%5Cmu%20%5Comega%5E2%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%200%0A%20%20%5Cend%7Baligned%7D%0A%20%20"> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 同理.</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>若<strong>无源无损</strong> (<img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%200">), 则 Equation&nbsp;22 变为:</p>
<ul>
<li><p><strong>时域化简结果</strong>: (右边的是 <img src="https://latex.codecogs.com/png.latex?4"> 维的 Laplace 方程描述) <span id="eq-maxwell-source-free-wave"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Cmathbf%7BE%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BE%7D%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20%20%20%5Cnabla%5E2%20%5Cmathbf%7BH%7D%20-%20%5Cepsilon%20%5Cmu%20%5Cfrac%7B%5Cpartial%5E2%20%5Cmathbf%7BH%7D%7D%7B%5Cpartial%20t%5E2%7D%20&amp;=%200%20%5C%5C%0A%20%20%5Cend%7Bcases%7D%20%5Cquad%20%5Ctext%7Bor%7D%0A%20%20%5Cbegin%7Bcases%7D%0A%20%20%5CBox%5E2%20%5Cmathbf%7BE%7D%20=%200%20%5C%5C%0A%20%20%5CBox%5E2%20%5Cmathbf%7BH%7D%20=%200%20%5C%5C%0A%20%20%5Cend%7Bcases%7D%0A%20%20%7D%0A%20%20%20%5Ctag%7B26%7D"></span></p></li>
<li><p><strong>相量域化简结果</strong>: 与有损介质中的 Equation&nbsp;23 一样 (这就是用复数的好处!), 只不过 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon_c"> 退化为了 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon">: <img src="https://latex.codecogs.com/png.latex?k_c%20=%20%5Comega%20%5Csqrt%7B%5Cepsilon%20%5Cmu%7D"></p></li>
</ul></li>
<li><p><strong>Phase velocity 相速度</strong></p>
<ul>
<li><p>将 Equation&nbsp;26 与波动方程的一般形式比较, 可知<strong>相速度</strong> <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bv%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B%5Cepsilon%20%5Cmu%7D%7D%7D"></p>
<ul>
<li>一般我们说的「波速」就是指相速度. 光在 <img src="https://latex.codecogs.com/png.latex?T"> 时间里刚好走了一个波长 <img src="https://latex.codecogs.com/png.latex?%5Clambda"> (见 Figure&nbsp;6), 所以波速就是: <span id="eq-wave-speed"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bv%20:=%20%5Cfrac%7B%5Clambda%7D%7BT%7D%20=%20%5Clambda%20f%7D%20%5Ctag%7B27%7D"></span></li>
<li><strong>光速</strong>: 真空中的波速. 神说「要有光」:<img src="https://latex.codecogs.com/png.latex?c%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B%5Cepsilon_0%20%5Cmu_0%7D%7D."></li>
<li><strong>特例</strong>: 对于 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon_r,%20%5Cmu_0"> 的介质, 波速为 <img src="https://latex.codecogs.com/png.latex?v%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B%5Cepsilon_r%20%5Cepsilon_0%20%5Cmu_0%7D%7D%20=%20%5Cfrac%7Bc%7D%7B%5Csqrt%7B%5Cepsilon_r%7D%7D"></li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-wave-speed" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wave-speed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/wave-speed.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wave-speed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: 光在 <img src="https://latex.codecogs.com/png.latex?T"> 时间里刚好走了一个波长 <img src="https://latex.codecogs.com/png.latex?%5Clambda">
</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>复值二阶 ODE (Equation&nbsp;23) 解的结构</strong>:</p>
<p>设 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 是平行于 <img src="https://latex.codecogs.com/png.latex?z"> 传播的水平偏振时谐波, <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cmathbf%7BE%7D%7D:%20%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BC%7D%5E3"> 为其相量场, 我们只考虑其 <img src="https://latex.codecogs.com/png.latex?x"> 分量 <img src="https://latex.codecogs.com/png.latex?f%20%5Cequiv%20%5Ctilde%7BE%7D%5Ex:%20%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BC%7D">, 满足: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20%20%20%5Cfrac%7B%5Cpartial%5E2%7D%7B%5Cpartial%20z%5E2%7D%20f%20+%20k_c%5E2%20f%20=%200%0A%20%20%20%20%20%20"> 这是一个<strong>复值二阶 ODE</strong>, 其通解为: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20%20%20f%20=%20%5Cunderbrace%7BA%20e%5E%7Bj%20k_c%20z%7D%7D_%7B-z%20%5Ctext%7B%20direction%7D%7D%20+%20%5Cunderbrace%7BB%20e%5E%7B-j%20k_c%20z%7D%7D_%7B+z%20%5Ctext%7B%20direction%7D%7D%0A%20%20%20%20%20%20"> Let <img src="https://latex.codecogs.com/png.latex?%5Cgamma%20:=%20j%20k_c%20=%20%5Calpha%20+%20j%20%5Cbeta">, 则有: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20%20%20%5Cbegin%7Baligned%7D%0A%20%20%20%20%20%20f%20&amp;=%20A%20e%5E%7B(%5Calpha%20+%20j%20%5Cbeta)%20z%7D%20+%20B%20e%5E%7B-(%5Calpha%20+%20j%20%5Cbeta)%20z%7D%20%5C%5C%0A%20%20%20%20%20%20&amp;=%20A%20e%5E%7B%5Calpha%20z%7D%20e%5E%7Bj%20%5Cbeta%20z%7D%20+%20B%20e%5E%7B-%5Calpha%20z%7D%20e%5E%7B-j%20%5Cbeta%20z%7D%20%5C%5C%0A%20%20%20%20%20%20%5Cend%7Baligned%7D%0A%20%20%20%20%20%20"> 这是一个衰减和一个增大的复指数信号.</p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
复衰减指数信号 (或振荡衰减波) 的参数
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/em-crash-course/complex-exponential-signal.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>各参数的例子和可视化</figcaption>
</figure>
</div>
<p>时域 (或空间域) 复指数信号是形如 <img src="https://latex.codecogs.com/png.latex?e%5E%7B%5Cgamma%20t%7D"> (或 <img src="https://latex.codecogs.com/png.latex?e%5E%7B%5Cgamma%20z%7D">) 的函数, 振荡衰减波是其实部. 其中 <img src="https://latex.codecogs.com/png.latex?%5Cgamma%20=%20%5Calpha%20+%20j%20%5Cbeta"> 是一个复数. 其参数含义如下:</p>
<ul>
<li><p><strong>Phase constant 相位常数</strong> <img src="https://latex.codecogs.com/png.latex?%5Cbeta">: <img src="https://latex.codecogs.com/png.latex?1%20%5Ctext%7B%20s%7D"> (或 <img src="https://latex.codecogs.com/png.latex?1%20%5Ctext%7B%20m%7D">) 内复化波转了多少度. 其实就是角波数<sup>14</sup> <img src="https://latex.codecogs.com/png.latex?k">.</p>
<ul>
<li><strong>Phase factor 相位因子</strong>: <img src="https://latex.codecogs.com/png.latex?e%5E%7Bj%20%5Cbeta%20t%7D"> (或 <img src="https://latex.codecogs.com/png.latex?e%5E%7Bj%20%5Cbeta%20z%7D">)</li>
</ul></li>
<li><p><strong>Attenuation / Decay constant 衰减常数</strong> <img src="https://latex.codecogs.com/png.latex?%5Calpha">: 表示在<strong>任意时间</strong> <img src="https://latex.codecogs.com/png.latex?t"> (或任意位置 <img src="https://latex.codecogs.com/png.latex?z">), 若保持当前的衰减速率, <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20s%7D"> (或 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20m%7D">) 内能够衰减当前数量的多少倍.</p>
<ul>
<li><strong>Attenuation factor 衰减因子</strong>: <img src="https://latex.codecogs.com/png.latex?e%5E%7B-%5Calpha%20t%7D"> (或 <img src="https://latex.codecogs.com/png.latex?e%5E%7B-%5Calpha%20z%7D">)</li>
</ul></li>
<li><p><strong>Time constant 时间常数<sup>15</sup></strong> <img src="https://latex.codecogs.com/png.latex?%5Ctau%20:=%201/%5Calpha">: 表示在<strong>任意时间</strong> <img src="https://latex.codecogs.com/png.latex?t"> (或任意位置 <img src="https://latex.codecogs.com/png.latex?z">), 若保持当前的衰减速率, 衰减完毕所需要的时间 (或空间距离).</p></li>
<li><p><strong>Half life 半衰期</strong> <img src="https://latex.codecogs.com/png.latex?t_%7B1/2%7D%20:=%20%5Cln%202%20%5Ccdot%20%5Ctau">: 表示在<strong>任意时间</strong><sup>16</sup> <img src="https://latex.codecogs.com/png.latex?t"> (或任意位置 <img src="https://latex.codecogs.com/png.latex?z">), 若保持当前的衰减速率, <strong>衰减到一半</strong>所需要的时间 (或空间距离).</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn16"><p><sup>16</sup>&nbsp;这些参数居然跟具体处于什么时间 (或空间) 无关! 比如一堆放射性元素, 刚开始的时候放射性元素很多, 衰减得很快, 以这个速度衰减一半需要的时间是 <img src="https://latex.codecogs.com/png.latex?t_%7B1/2%7D">. 但过一段时间, 放射性元素的数量减少了, 衰减速度变慢了, 但以这个速度衰减一半所需要的时间还是 <img src="https://latex.codecogs.com/png.latex?t_%7B1/2%7D">! 这个性质叫做 <strong>Self-similarity 自相似性</strong>. <img src="https://marcobisky.github.io/posts/em-crash-course/half-life-demo.png" class="img-fluid" alt="半衰期跟测量时间无关"></p></div></div><div class="no-row-height column-margin column-container"><div id="fn15"><p><sup>15</sup>&nbsp;空间的话其实应该叫「空间常数」. 时间常数之于衰减常数如同: 频率 <img src="https://latex.codecogs.com/png.latex?f"> 之于周期 <img src="https://latex.codecogs.com/png.latex?T">, 波长 <img src="https://latex.codecogs.com/png.latex?%5Clambda"> 之于线波数 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cnu%7D">.</p></div></div><div class="no-row-height column-margin column-container"><div id="fn14"><p><sup>14</sup>&nbsp;其实就是角波数 <img src="https://latex.codecogs.com/png.latex?k">.</p></div></div></section>
<section id="mathbfe-和-mathbfh-的关系" class="level4 page-columns page-full" data-number="9.1.2">
<h4 data-number="9.1.2" class="anchored" data-anchor-id="mathbfe-和-mathbfh-的关系"><span class="header-section-number">9.1.2</span> <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 的关系</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>本章只研究<sup>17</sup> 无源介质中向 <img src="https://latex.codecogs.com/png.latex?+z"> 传播的水平偏振 (<img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 只有 <img src="https://latex.codecogs.com/png.latex?x"> 分量) 的时谐平面波.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn17"><p><sup>17</sup>&nbsp;这种波<strong>是</strong> Maxwell 方程组的特殊解, 而且比较常见.</p></div></div></div>
<div id="fig-e-h-lossy" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-e-h-lossy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/e-h-lossy.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-e-h-lossy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: 有损介质中 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D,%20%5Cmathbf%7BH%7D"> 的幅度逐渐减小且<strong>它们的相位不同</strong>
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Intrinsic Impedance 特征阻抗 <img src="https://latex.codecogs.com/png.latex?%5Ceta_c"></strong>: 在这种情况下, <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 始终垂直, 且它们的<strong>相位和幅度</strong>关系由复数 <img src="https://latex.codecogs.com/png.latex?%5Ceta_c"> 衡量: <span id="eq-intrinsic-impedance-complex"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Ceta_c%20:=%20%5Cfrac%7B%5Ctilde%7BE%7D%5Ex%7D%7B%5Ctilde%7BH%7D%5Ey%7D%20=%20%5Csqrt%7B%5Cfrac%7B%5Cmu%7D%7B%5Cepsilon_c%7D%7D%7D%0A%20%20%20%5Ctag%7B28%7D"></span></p>
<ul>
<li><strong><img src="https://latex.codecogs.com/png.latex?%5Ceta_c"> 的单位恰好为 <img src="https://latex.codecogs.com/png.latex?%5COmega"></strong>: <img src="https://latex.codecogs.com/png.latex?E:%20%5B%5Ctext%7BV/m%7D%5D,%20H:%20%5B%5Ctext%7BA/m%7D%5D">.</li>
<li>无损介质中 <img src="https://latex.codecogs.com/png.latex?%5Ceta_c"> 退化为实数, 即 <span id="eq-intrinsic-impedance-real"><img src="https://latex.codecogs.com/png.latex?%5Ceta%20=%20%5Cfrac%7BE%7D%7BH%7D%20=%20%5Csqrt%7B%5Cfrac%7B%5Cmu%7D%7B%5Cepsilon%7D%7D%20%5Ctag%7B29%7D"></span> 表明 <strong>无损介质中 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 是同相的</strong> (见 Figure&nbsp;7). 而且我们有:
<ul>
<li><strong><img src="https://latex.codecogs.com/png.latex?E"> 恰好是 <img src="https://latex.codecogs.com/png.latex?B"> 的波速倍</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cfrac%7BE%7D%7BB%7D%20=%20%5Cfrac%7BE%7D%7B%5Cmu%20H%7D%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B%5Cepsilon%20%5Cmu%7D%7D%20=%20v%7D"></li>
<li><strong>真空中的特征阻抗</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ceta_0%20=%20%5Csqrt%7B%5Cfrac%7B%5Cmu_0%7D%7B%5Cepsilon_0%7D%7D%20%5Capprox%20377%20~%5COmega"> 说明一般情况下 <img src="https://latex.codecogs.com/png.latex?E"> 都要比 <img src="https://latex.codecogs.com/png.latex?H"> 大很多.</li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
特征阻抗 Equation&nbsp;28 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>设该电磁波是:</p>
<ul>
<li>沿 <img src="https://latex.codecogs.com/png.latex?+z"> 方向传播的平面波</li>
<li>水平偏振, 即 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D"> 只有 <img src="https://latex.codecogs.com/png.latex?x"> 分量, <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BH%7D"> 只有 <img src="https://latex.codecogs.com/png.latex?y"> 分量.</li>
<li>时谐, 但随空间指数衰减<sup>18</sup> (因为有损介质 <img src="https://latex.codecogs.com/png.latex?%5Csigma%20%5Cneq%200">).</li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20=%20%5Cbegin%7Bpmatrix%7D%20%5Ctilde%7BE%7D%5Ex%20%5C%5C%200%20%5C%5C%200%20%5Cend%7Bpmatrix%7D,%20%5Cquad%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20=%20%5Cbegin%7Bpmatrix%7D%200%20%5C%5C%20%5Ctilde%7BH%7D%5Ey%20%5C%5C%200%20%5Cend%7Bpmatrix%7D%0A"></p>
<p>代入 Equation&nbsp;11 (或 Equation&nbsp;12, 再用 Table&nbsp;1 翻译成相量表示): <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cnabla%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20&amp;=%20-%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20t%7D%20%5Ctilde%7B%5Cmathbf%7BB%7D%7D%20%5C%5C%0A%5Cimplies%20%5Cbegin%7Bpmatrix%7D%200%20%5C%5C%20(-%20%5Cgamma)%20%5Ctilde%7BE%7D%5Ex%20%5C%5C%200%20%5Cend%7Bpmatrix%7D%20&amp;=%20%5Cbegin%7Bpmatrix%7D%200%20%5C%5C%20(-j%20%5Comega)%20%5Ctilde%7BB%7D%5Ey%20%5C%5C%200%20%5Cend%7Bpmatrix%7D%20%5C%5C%0A%5Cimplies%20%5Cfrac%7B%5Ctilde%7BE%7D%5Ex%7D%7B%5Ctilde%7BB%7D%5Ey%7D%20&amp;=%20%5Cfrac%7Bj%20%5Comega%7D%7B%5Cgamma%7D%20=%20%5Cfrac%7Bj%20%5Comega%7D%7Bj%20k_c%7D%20=%20%5Cfrac%7B%5Comega%7D%7Bk_c%7D%20=%20%5Cfrac%7B%5Comega%7D%7B%5Comega%20%5Csqrt%7B%5Cepsilon_c%20%5Cmu%7D%7D%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B%5Cepsilon_c%20%5Cmu%7D%7D%20%5C%5C%0A%5Cimplies%20%5Cfrac%7B%5Ctilde%7BE%7D%5Ex%7D%7B%5Ctilde%7BH%7D%5Ey%7D%20&amp;=%20%5Cfrac%7B%5Cmu%7D%7B%5Csqrt%7B%5Cepsilon_c%20%5Cmu%7D%7D%20=%20%5Csqrt%7B%5Cfrac%7B%5Cmu%7D%7B%5Cepsilon_c%7D%7D%20=:%20%5Ceta_c%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn18"><p><sup>18</sup>&nbsp;不能假设空谐!</p></div></div><ul>
<li><strong>电磁波的能量密度</strong>: 在无损介质中, 空间中某一点的能量密度有电场和磁场的贡献: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bu%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cepsilon%20E%5E2%20+%20%5Cfrac%7B1%7D%7B2%7D%20%5Cmu%20H%5E2%7D">
<ul>
<li>由 Equation&nbsp;29 可知: <strong>电场和磁场贡献的能量是一样的</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cfrac%7B1%7D%7B2%7D%20%5Cepsilon%20E%5E2%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cmu%20H%5E2%7D"></li>
<li>由于 <img src="https://latex.codecogs.com/png.latex?E"> 和 <img src="https://latex.codecogs.com/png.latex?H"> 在每一点都是不一样的, 假设是时谐波, 我们想求出空间中某一点 <img src="https://latex.codecogs.com/png.latex?u"> 的<strong>时间平均值</strong>. 只考虑电场, 其平均值为 <img src="https://latex.codecogs.com/png.latex?%5Cepsilon%20E_m%5E2/4">, 再乘 <img src="https://latex.codecogs.com/png.latex?2"> 得: <span id="eq-energy-density-average"><img src="https://latex.codecogs.com/png.latex?%5Clangle%20u%20%5Crangle%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cepsilon%20E_m%5E2%20%5Ctag%7B30%7D"></span></li>
<li><strong>Energy Flux Density 能流密度</strong>: 单位时间流过单位面积的能量 (即单位面积的<strong>功率</strong>, 也叫 <strong>Intensity 强度</strong>), 由于 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20s%7D"> 内单位面积吸收了数值上为波速 <img src="https://latex.codecogs.com/png.latex?v"> 长度的能量, 只需要将 Equation&nbsp;30 放大 <img src="https://latex.codecogs.com/png.latex?v"> 倍: <img src="https://latex.codecogs.com/png.latex?I%20:=%20%5Ctext%7BEnergy%20Flux%20Density%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20v%20%5Cepsilon%20E_m%5E2"></li>
<li><strong>Poynting vector <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BS%7D"></strong>: 一个矢量, 我们希望用它的方向表征能量流动的方向, 长度的时间平均代表能流密度. 可以证明以下定义可同时满足这两个需求: <span id="eq-poynting-vector"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cmathbf%7BS%7D%20:=%20%5Cmathbf%7BE%7D%20%5Ctimes%20%5Cmathbf%7BH%7D%7D%20%5Ctag%7B31%7D"></span>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Clangle%20S%20%5Crangle"> 与能流密度的关系: <img src="https://latex.codecogs.com/png.latex?%5Clangle%20S%20%5Crangle%20=%20I%20=%20%5Cfrac%7B1%7D%7B2%7D%20v%20%5Cepsilon%20E_m%5E2"></li>
<li><img src="https://latex.codecogs.com/png.latex?%5Clangle%20%5Cmathbf%7BS%7D%20%5Crangle"> 的相量表示: <span id="eq-poynting-vector-phasor"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Clangle%20%5Cmathbf%7BS%7D%20%5Crangle%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5CRe%20(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*)%7D%20%5Ctag%7B32%7D"></span></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BS%7D"> 为什么这么定义 Equation&nbsp;31?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>首先 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BS%7D"> 的方向肯定是波传播的方向, 我们只需要验证其长度的时间平均值是能流密度.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AS%20&amp;=%20EH%20=%20%5Cfrac%7BE%5E2%7D%7B%5Ceta%7D%20%5C%5C%0A%5Cimplies%20%5Clangle%20S%20%5Crangle%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cfrac%7BE_m%5E2%7D%7B%5Ceta%7D%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Csqrt%7B%5Cfrac%7B%5Cepsilon%7D%7B%5Cmu%7D%7D%20E_m%5E2%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cepsilon%20%5Csqrt%7B%5Cfrac%7B1%7D%7B%5Cepsilon%20%5Cmu%7D%7D%20E_m%5E2%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cepsilon%20v%20E_m%5E2%20=%20%5Ctext%7BEnergy%20Flux%20Density%7D%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equation&nbsp;32 的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Pf.</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cmathbf%7BS%7D%20=%20%5Cmathbf%7BE%7D%20%5Ctimes%20%5Cmathbf%7BH%7D%20&amp;=%20%5CRe%7B(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20e%5E%7Bj%20%5Comega%20t%7D)%20%5Ctimes%20%5CRe%7B(%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20e%5E%7Bj%20%5Comega%20t%7D)%7D%7D%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20e%5E%7Bj%20%5Comega%20t%7D%20+%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%5E*%20e%5E%7B-j%20%5Comega%20t%7D%5Cright)%20%5Ctimes%20%5Cfrac%7B1%7D%7B2%7D%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20e%5E%7Bj%20%5Comega%20t%7D%20+%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%20e%5E%7B-j%20%5Comega%20t%7D%5Cright)%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B4%7D%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20e%5E%7B2%20j%20%5Comega%20t%7D%20+%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%20+%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%5E*%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%20+%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%5E*%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%20e%5E%7B-2%20j%20%5Comega%20t%7D%5Cright)%20%5C%5C%0A%5Cimplies%20%5Clangle%20%5Cmathbf%7BS%7D%20%5Crangle%20=%20%5Clangle%20%5Cmathbf%7BE%7D%20%5Ctimes%20%5Cmathbf%7BH%7D%20%5Crangle%20&amp;=%20%5Cfrac%7B1%7D%7B4%7D%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%20+%20%5Ctilde%7B%5Cmathbf%7BE%7D%7D%5E*%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5Cright)%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B4%7D%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%20+%20%5Cleft(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*%5Cright)%5E*%5Cright)%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5CRe%20(%5Ctilde%7B%5Cmathbf%7BE%7D%7D%20%5Ctimes%20%5Ctilde%7B%5Cmathbf%7BH%7D%7D%5E*)%0A%5Cend%7Baligned%7D%0A"></p>
<p>Q.E.D.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="平面波经过两种介质的界面" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="平面波经过两种介质的界面"><span class="header-section-number">9.2</span> 平面波经过两种介质的界面</h3>
<ul>
<li>一个时谐波 <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BE%7D_i"> 从介质 1 入射 (Incident) 介质 2 时, 会发生反射 (Reflect) 和折射 (继续传播, Transmit), 这两种波的相量与入射波相量和介质的性质有关:
<ul>
<li><strong>Reflection coefficient 反射系数</strong>: <span id="eq-reflection-coefficient"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5CGamma%20:=%20%5Cfrac%7B%5Ctilde%7BE%7D_r%7D%7B%5Ctilde%7BE%7D_i%7D%20=%20%5Cfrac%7B%5Ceta_%7B2c%7D%20-%20%5Ceta_%7B1c%7D%7D%7B%5Ceta_%7B2c%7D%20+%20%5Ceta_%7B1c%7D%7D%7D%20%5Ctag%7B33%7D"></span> 有些地方 (<span class="citation" data-cites="griffiths_2017_introduction">[1]</span>) 把反射系数定义为反射的<strong>能量</strong>占比: <img src="https://latex.codecogs.com/png.latex?R%20:=%20%5Cleft%7C%20%5CGamma%20%5Cright%7C%5E2%20=%20%5Cleft%7C%20%5Cfrac%7B%5Ceta_%7B2c%7D%20-%20%5Ceta_%7B1c%7D%7D%7B%5Ceta_%7B2c%7D%20+%20%5Ceta_%7B1c%7D%7D%20%5Cright%7C%5E2"></li>
<li><strong>Transmission coefficient 透射系数</strong>: <span id="eq-transmission-coefficient"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctau%20:=%20%5Cfrac%7B%5Ctilde%7BE%7D_t%7D%7B%5Ctilde%7BE%7D_i%7D%20=%20%5Cfrac%7B2%20%5Ceta_%7B2c%7D%7D%7B%5Ceta_%7B2c%7D%20+%20%5Ceta_%7B1c%7D%7D%7D%20%5Ctag%7B34%7D"></span> 也可以用能量占比来定义: <img src="https://latex.codecogs.com/png.latex?T%20:=%20%5Cleft%7C%20%5Ctau%20%5Cright%7C%5E2%20=%20%5Cleft%7C%20%5Cfrac%7B2%20%5Ceta_%7B2c%7D%7D%7B%5Ceta_%7B2c%7D%20+%20%5Ceta_%7B1c%7D%7D%20%5Cright%7C%5E2"></li>
<li><strong>能量守恒</strong>: <img src="https://latex.codecogs.com/png.latex?R%20+%20T%20=%201"></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
从边界条件推导反射系数和透射系数
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>利用切向边界条件:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20&amp;%5Cbegin%7Bcases%7D%0A%20%20%20%20%5Ctilde%7BE%7D_%7B1t%7D%20&amp;=%20%5Ctilde%7BE%7D_%7B2t%7D%20%5C%5C%0A%20%20%20%20%5Ctilde%7BH%7D_%7B1t%7D%20&amp;=%20%5Ctilde%7BH%7D_%7B2t%7D%0A%20%20%20%20%5Cend%7Bcases%7D%20%5C%5C%0A%20%20%20%20%5Cimplies%20&amp;%0A%20%20%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%5Ctilde%7BE%7D_i%20+%20%5Ctilde%7BE%7D_r%20&amp;=%20%5Ctilde%7BE%7D_t%20%5C%5C%0A%20%20%20%20%5Ctilde%7BH%7D_i%20-%20%5Ctilde%7BH%7D_r%20&amp;=%20%5Ctilde%7BH%7D_t%0A%20%20%20%20%5Cend%7Bcases%7D%20%5C%5C%0A%20%20%20%20%5Cimplies%20&amp;%0A%20%20%20%20%5Cbegin%7Bcases%7D%0A%20%20%20%20%5Ctilde%7BE%7D_i%20+%20%5Ctilde%7BE%7D_r%20&amp;=%20%5Ctilde%7BE%7D_t%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Ctilde%7BE%7D_i%20-%20%5Ctilde%7BE%7D_r%7D%7B%5Ceta_%7B1c%7D%7D%20&amp;=%20%5Cfrac%7B%5Ctilde%7BE%7D_t%7D%7B%5Ceta_%7B2c%7D%7D%0A%20%20%20%20%5Cend%7Bcases%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>求解即可得到 Equation&nbsp;33 和 Equation&nbsp;34.</p>
<p><strong>反射的本质</strong>是为了让偏微分方程的解满足边界条件而引入的修正项, 如果不引入 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BE%7D_r">, 则由切向边界条件得:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%0A%5Ctilde%7BE%7D_i%20&amp;=%20%5Ctilde%7BE%7D_t%20%5C%5C%0A%5Cfrac%7B%5Ctilde%7BE%7D_i%7D%7B%5Ceta_%7B1c%7D%7D%20&amp;=%20%5Cfrac%7B%5Ctilde%7BE%7D_t%7D%7B%5Ceta_%7B2c%7D%7D%0A%5Cend%7Bcases%7D%0A"></p>
<p>这是无解的.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="harmonic-waves-谐波" class="level2 page-columns page-full" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="harmonic-waves-谐波"><span class="header-section-number">10</span> Harmonic Waves 谐波</h2>
<section id="wave-parameters-波参数" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="wave-parameters-波参数"><span class="header-section-number">10.1</span> Wave parameters 波参数</h3>
<ul>
<li><p>EM 波并不都是 Harmonic 的. 可以在空间上周期, 也可以在时间上周期.</p></li>
<li><p>谐波在 <strong>「空间」</strong> 和 <strong>「时间」</strong> 都是<strong>周期性</strong>的振动, 怎么描述这种振动的快慢呢:</p>
<ul>
<li><p>单位长度 (或 时间) 内振了几下.</p>
<ul>
<li><strong>(linear) wave number 波数</strong> <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cnu%7D">: <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20m%7D"> 内振了几下.</li>
<li><strong>frequency 频率</strong> <img src="https://latex.codecogs.com/png.latex?f">: <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20s%7D"> 内振了几下.</li>
</ul></li>
<li><p>振一下花了多少长度 (或 时间).</p>
<ul>
<li><strong>wavelength 波长</strong> <img src="https://latex.codecogs.com/png.latex?%5Clambda">: 振一下占了多少米.</li>
<li><strong>period 周期</strong> <img src="https://latex.codecogs.com/png.latex?T">: 振一下花了多久.</li>
</ul></li>
<li><p>以上二者度量方法相反, 显然数值上互为倒数: <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cnu%7D%20=%201/%5Clambda,%20f%20=%201/T">.</p></li>
<li><p><strong>角度的世界</strong>: 周期性的东西可以很自然的 wind up to 一个圆上, 度量方式也从「振了几下」变成了「转了多少度」. 每振一下对应 <img src="https://latex.codecogs.com/png.latex?2%5Cpi">. 所以以上四个概念通通可翻译成角度世界的度量: 乘 <img src="https://latex.codecogs.com/png.latex?2%5Cpi">.</p>
<ul>
<li><p><strong>angular wave number 角波数</strong> <img src="https://latex.codecogs.com/png.latex?k">, <strong>angular frequency 角频率</strong> <img src="https://latex.codecogs.com/png.latex?%5Comega">, <strong>angular wavelength 角波长</strong> <img src="https://latex.codecogs.com/png.latex?%5Cbar%7B%5Clambda%7D">, <strong>angular period 角周期</strong> <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BT%7D">.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Ccos"> 里面 还有 <img src="https://latex.codecogs.com/png.latex?e"> 指数 上的量 就是角度世界的生物, 现实世界的量 (<img src="https://latex.codecogs.com/png.latex?%5Ctilde%7B%5Cnu%7D,%20f,%20%5Clambda,%20T">) 不允许不乘 <img src="https://latex.codecogs.com/png.latex?2%5Cpi"> 出现在这些地方. (错误搭配: <img src="https://latex.codecogs.com/png.latex?%5Ccos%20(ft)">, <img src="https://latex.codecogs.com/png.latex?e%5E%7Bj%20%5Ctilde%7B%5Cnu%7D%20x%7D">)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/em-crash-course/wave-properties.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>线性世界中的参数 与 角度世界的参数 的关系</figcaption>
</figure>
</div></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="polarization-极化-偏振" class="level3 page-columns page-full" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="polarization-极化-偏振"><span class="header-section-number">10.2</span> Polarization 极化 (偏振)</h3>
<ul>
<li><p>一束光可以分解一些光波的叠加, 每个光波 (的电场分量) 都只会表现出 Figure&nbsp;8 的三种状态之一, 称为 <strong>Polarization 极化</strong>. 当一束光里面的光波几乎都以相同方式极化时, 这束光就被称为 <strong>Polarized 偏振光</strong>.</p>
<div id="fig-polarization-3-states" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-polarization-3-states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/polarization-3-states.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-polarization-3-states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: 电磁波的三种极化状态
</figcaption>
</figure>
</div></li>
<li><p>圆极化可以进一步分为<strong>右旋圆极化</strong>和<strong>左旋圆极化</strong>.</p>
<ul>
<li><strong>Right-handed 右旋圆极化</strong>: 固定<strong>空间</strong><sup>19</sup>一点, 其电场的随时间旋转方向用右手环绕时, 大拇指指向光波传播方向.</li>
<li><strong>Left-handed 左旋圆极化</strong>: 固定<strong>空间</strong>一点, 其电场的随时间旋转方向用左手环绕时, 大拇指指向光波传播方向.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn19"><p><sup>19</sup>&nbsp;注意一定是固定<strong>空间</strong>而不是<strong>时间</strong>, 不然就搞反了!</p></div></div><div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/em-crash-course/right-polarization.gif" class="img-fluid figure-img"></p>
<figcaption>右旋圆极化</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/em-crash-course/left-polarization.gif" class="img-fluid figure-img"></p>
<figcaption>左旋圆极化</figcaption>
</figure>
</div>
</div>
</div>
</div>
<section id="极化类型的判断" class="level4 page-columns page-full" data-number="10.2.1">
<h4 data-number="10.2.1" class="anchored" data-anchor-id="极化类型的判断"><span class="header-section-number">10.2.1</span> <strong>极化类型的判断</strong>:</h4>
<div id="fig-poincare-ball" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-poincare-ball-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/em-crash-course/poincare-ball.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-poincare-ball-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: 庞加莱球上的每个点代表了一种极化类型
</figcaption>
</figure>
</div>
<ul>
<li>我们知道 <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> 上的点可以用 <strong>Homogeneous coordinates 齐次坐标</strong> <img src="https://latex.codecogs.com/png.latex?%5Bz:1%5D"> 表示 (<img src="https://latex.codecogs.com/png.latex?%5Cinfty"> 用 <img src="https://latex.codecogs.com/png.latex?%5B1:0%5D"> 表示), 如 Figure&nbsp;9:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5B0:1%5D"> <strong>Vertical 垂直极化</strong> (因为水平分量 <img src="https://latex.codecogs.com/png.latex?z%20=%200">)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5B1:0%5D"> <strong>Horizontal 水平极化</strong> (因为垂直分量 <img src="https://latex.codecogs.com/png.latex?1/z%20=%200">)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5B1:1%5D"> <strong>Diagonal 对角极化</strong> (因为水平分量和垂直分量在任意时刻相等)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5B-1:1%5D"> <strong>Anti-diagonal 反对角极化</strong> (因为水平分量和垂直分量在任意时刻相等但符号相反)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Bj:1%5D"> <strong>Right-handed Circular 右旋圆极化</strong><sup>20</sup> (比如在 Equation&nbsp;8 中, 当 <img src="https://latex.codecogs.com/png.latex?E%5Ex%20=%20E%5Ey%20=%201"> 时就是这种极化).</li>
<li><img src="https://latex.codecogs.com/png.latex?%5B-j:1%5D"> <strong>Left-handed Circular 左旋圆极化</strong></li>
</ul></li>
<li>当 <img src="https://latex.codecogs.com/png.latex?E%5Ex%20%5Cneq%20E%5Ey"> 时, 为 <strong>Elliptical 椭圆极化</strong>. 在 Figure&nbsp;9 的 R 半球上则为 <strong>Right-handed Elliptical 右旋椭圆极化</strong>, 在 L 半球上则为 <strong>Left-handed Elliptical 左旋椭圆极化</strong>.</li>
</ul>



<div class="no-row-height column-margin column-container"><div id="fn20"><p><sup>20</sup>&nbsp;记忆方法: 将虚轴 <img src="https://latex.codecogs.com/png.latex?j%5Cmathbb%7BR%7D"> 横过来, <img src="https://latex.codecogs.com/png.latex?j"> 在正半轴 (右边), 所以对应的就是右旋圆极化.</p></div></div></section>
</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body">
<div id="ref-griffiths_2017_introduction" class="csl-entry">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Griffiths DJ (2017) Introduction to electrodynamics. Cambridge University Press</div>
</div>
</div></section></div> ]]></description>
  <category>Physics</category>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/em-crash-course/</guid>
  <pubDate>Thu, 26 Jun 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/em-crash-course/cover.png" medium="image" type="image/png" height="66" width="144"/>
</item>
<item>
  <title>EPMF Crash Course 工程项目管理与财务速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/epmf-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>本笔记是本人电子科技大学格院大三《工程项目管理与财务》课程的期末考试复习笔记.</p>
</blockquote>
<blockquote class="blockquote">
<p>本文 <strong>All Right Reserved 保留所有权利</strong>, 禁止商用和任何形式的转载!</p>
</blockquote>
<section id="dfm-design-for-manufacturing" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="dfm-design-for-manufacturing"><span class="header-section-number">1</span> DFM (Design for Manufacturing)</h2>
<section id="introduction-design-for-sustainability" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="introduction-design-for-sustainability"><span class="header-section-number">1.1</span> Introduction &amp; Design for Sustainability</h3>
<ul>
<li>DFM 最有效的阶段是 初始设计阶段 (<strong>initial design stage</strong>)，因为此时变更代价最低且影响最大
<ul>
<li>产品总制造成本中有 70% 到 80% 是在设计阶段就已经决定了</li>
</ul></li>
<li>DFM 的原则 (<strong>principles</strong>):
<ul>
<li><strong>Simplicity</strong>: 如果插头不能实现正反插就不要设计成对称的</li>
<li><strong>Standardization</strong>: 比如各种USB接口</li>
<li><strong>Tolerance</strong>: 比如电阻的精度, 设计时要考虑到制造误差</li>
<li><strong>Material Selection</strong>: 要考虑材料的强度、耐用性、可加工性等</li>
<li><strong>Automation</strong>: 哪些工序可以自动化?</li>
<li><strong>Process Integration</strong>: 衔接好 product design, manufacturing processes, and quality control.</li>
</ul></li>
<li>DFM 的 <strong>错误说法</strong>:
<ul>
<li>May impose <strong>higher</strong> manufacturing <strong>costs</strong> (应该是<strong>减少</strong>)</li>
<li>May <strong>increase complexity</strong> of manufacturing operations (应该是<strong>减少</strong>)</li>
</ul></li>
<li><strong>Design for Sustainability (DFS)</strong> 可持续性
<ul>
<li>三大支柱 (<strong>pillars</strong>): <strong>Economic, Environmental, Social</strong> (economic growth, environmental care, and social well-being)</li>
<li>可持续设计应 避免 <strong>Design for shorter period of usage</strong> (设计成短周期产品)</li>
<li><strong>4Rs</strong>: <strong>Reduce, Reuse, Repair, Recycle</strong></li>
</ul></li>
</ul>
</section>
<section id="sec-quality-control" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="sec-quality-control"><span class="header-section-number">1.2</span> Quality Control &amp; Cost of Quality</h3>
<ul>
<li><strong>7-QC Tools 7个质量工具</strong>:
<ul>
<li><p><strong>Flowchart</strong>: 用来记录和规划过程</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/flowchart.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Flowchart 例子</figcaption>
</figure>
</div></li>
<li><p><strong>Check sheet</strong>: 用来收集数据, 记录问题发生的频率和类型</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/check-sheet.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Check sheet 例子</figcaption>
</figure>
</div></li>
<li><p><strong>Pareto chart</strong>: 把问题按发生频率排序, 找出最重要的问题</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Pareto-chart.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Pareto chart 例子</figcaption>
</figure>
</div>
<ul>
<li><strong>80/20 Rule 二八定律</strong>: 80% 的投诉来自 20% 的客户, 80% 的利润来自 20% 的产品, 80% 的缺陷来自 20% 的工艺问题</li>
</ul></li>
<li><p><strong>Cause-and-effect diagram 因果图</strong>: 帮我们识别问题的<strong>根本原因 (root causes)</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Cause-and-effect-diagram.png" class="img-fluid figure-img"></p>
<figcaption>Cause-and-effect diagram 例子</figcaption>
</figure>
</div>
<ul>
<li>也叫 <strong>fishbone 鱼骨图</strong>, <strong>Ishikawa diagram</strong></li>
</ul></li>
<li><p><strong>Control chart</strong>: 用来实时检测过程的稳定性和变化.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Control-chart.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Control chart 例子</figcaption>
</figure>
</div>
<ul>
<li><p>也叫 <strong>Shewhart chart</strong></p></li>
<li><p>一般会根据<strong>历史数据</strong>算出三个量:</p>
<ul>
<li><p><strong>Average 平均值</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cbar%7BX%7D%20=%20%5Cfrac%7B1%7D%7BN%7D%20%5Csum_%7Bi=1%7D%5E%7BN%7D%20x_i%7D"></p></li>
<li><p><strong>Upper/Lower Control Limit (UCL/LCL) 上/下控制限</strong>: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7B%5Csigma%7D%20&amp;=%20%5Csqrt%7B%5Cfrac%7B1%7D%7BN-1%7D%20%5Csum_%7Bi=1%7D%5E%7BN%7D%20(x_i%20-%20%5Cbar%7BX%7D)%5E2%7D%20%5C%5C%0A%20%20%5Ctext%7BUCL%7D%20&amp;:=%20%5Cbar%7BX%7D%20+%20A%5Chat%7B%5Csigma%7D%20%5C%5C%0A%20%20%5Ctext%7BLCL%7D%20&amp;:=%20%5Cbar%7BX%7D%20-%20A%5Chat%7B%5Csigma%7D%20%5C%5C%0A%20%20%5Ctext%7BProcess%20Width%7D%20&amp;:=%20%5Ctext%7BUCL%7D%20-%20%5Ctext%7BLCL%7D%0A%20%20%5Cend%7Baligned%7D%7D%0A%20%20"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/A.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>用 <img src="https://latex.codecogs.com/png.latex?A"> 来控制严格程度</figcaption>
</figure>
</div></li>
</ul></li>
<li><p><strong>Instability</strong>: 落在 UCL 和 LCL 之外的点.</p></li>
<li><p><strong>Upper/Lower Specification Limit (USL/LSL) 上/下规格限</strong>: 由客户或产品标准规定, 比 <strong>Process Width</strong> 宽. <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BDesign%20Width%7D%20:=%20%5Ctext%7BUSL%7D%20-%20%5Ctext%7BLSL%7D%7D"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/usl-lsl.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>这是一个 <img src="https://latex.codecogs.com/png.latex?3%5Csigma"> 过程, <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BDesign%20Width%7D%20%3E%20%5Ctext%7BProcess%20Width%7D">, <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BLSL%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BUSL%7D"> 也不一定关于 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BX%7D"> 对称, <img src="https://latex.codecogs.com/png.latex?1,%201.33,%201.67"> 临界值要记住</figcaption>
</figure>
</div></li>
<li><p><strong><img src="https://latex.codecogs.com/png.latex?6%5Csigma"> 过程</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BX%7D%20%5Cpm%206%5Csigma"> 仍在 Process Width 内, 说明设计接近完美.</p>
<ul>
<li>5 phases <strong>(DMAIC model)</strong>: <strong>Define, Measure, Analyze, Improve, Control</strong>.</li>
<li>5 roles:
<ul>
<li><strong>Executive Leadership 高层领导</strong>: CEO, 设方向、资源保障、文化推动.</li>
<li><strong>Champion 主管</strong>: 项目推动者.</li>
<li><strong>Master Black Belts 大师黑带</strong>: 全职从事 Six Sigma, 负责培训和指导.</li>
<li><strong>Black Belts 黑带</strong>: 项目执行者.</li>
<li><strong>Green Belts 绿带</strong>: 打工的.</li>
</ul></li>
</ul></li>
<li><p><strong>Process Capability Index 过程能力指标</strong> (越大越好): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Cbegin%7Baligned%7D%20C_p%20&amp;=%20%5Cfrac%7B%5Ctext%7BDesign%20Width%7D%7D%7B6%5Csigma%7D%20%5C%5C%20C_%7Bpk%7D%20&amp;=%20%5Cmin%5Cleft(%5Cfrac%7B%5Ctext%7BUSL%7D%20-%20%5Cbar%7BX%7D%7D%7B3%5Csigma%7D,%20%5Cfrac%7B%5Cbar%7BX%7D%20-%20%5Ctext%7BLSL%7D%7D%7B3%5Csigma%7D%5Cright)%20%5C%5C%20%5Cend%7Baligned%7D%7D"></p></li>
</ul></li>
<li><p><strong>Histogram</strong></p>
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Histogram.png" class="img-fluid" alt="Histogram 例子">{#width=50%}</p></li>
<li><p><strong>Scatter diagram</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Scatter-diagram.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Scatter diagram 例子</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
</section>
<section id="robust-manufacturing-design" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="robust-manufacturing-design"><span class="header-section-number">1.3</span> Robust Manufacturing Design</h3>
<ul>
<li><strong>Robust Design (R &amp; D) 鲁棒设计</strong>
<ul>
<li><p><strong>动机</strong>: 不是<strong>控制噪声</strong>, 而是<strong>优化系统设计</strong>, 使其对这些“噪声”<strong>不敏感</strong>, 从而提高质量.</p></li>
<li><p><strong>传统观点</strong>: 比如造电阻, 只要电阻值落在目标值的<strong>容差范围</strong> (<img src="https://latex.codecogs.com/png.latex?%5CDelta_0">) 内就算好 (<img src="https://latex.codecogs.com/png.latex?L%20=%200">), 超出就是坏.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/traditional-viewpoint.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>传统观点</figcaption>
</figure>
</div></li>
<li><p><strong>Taguchi观点</strong>: 只有电阻值恰好等于目标值才是好 (<img src="https://latex.codecogs.com/png.latex?L%20=%200">), 偏离越大, 损失以二次函数形式增加 (Figure&nbsp;1).</p>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?k">: <strong>Quality Loss Coefficient</strong>, <img src="https://latex.codecogs.com/png.latex?m">: 目标值.</p>
<div id="fig-taguchi-viewpoint" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-taguchi-viewpoint-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/epmf-crash-course/Taguchi-viewpoint.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-taguchi-viewpoint-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Taguchi观点, <strong>要记住三种曲线的名字</strong>, <img src="https://latex.codecogs.com/png.latex?m"> 是设计值不是样本均值
</figcaption>
</figure>
</div></li>
<li><p><strong>Average Quality Loss</strong>: 如果有很多测量值, 则 Loss 的计算取他们的平均: <span id="eq-average-quality-loss"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BQ%20=%20%5Cfrac%7B1%7D%7BN%7D%20%5Csum_%7Bi=1%7D%5E%7BN%7D%20k(x_i%20-%20m)%5E2%7D%20%5Ctag%7B1%7D"></span></p>
<ul>
<li>若样本 <img src="https://latex.codecogs.com/png.latex?%5C%7By_i%5C%7D_%7Bi=1%7D%5E%7BN%7D"> 的均值和方差为 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7By%7D,%20s%5E2">, 当 <img src="https://latex.codecogs.com/png.latex?N"> 很大时, Equation&nbsp;1 可以写成: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BQ%20=%20k%20%5B(%5Cbar%7By%7D%20-%20m)%5E2%20+%20s%5E2%5D%7D"></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Taguchi 鲁棒设计计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Taguchi-2024.png" class="img-fluid figure-img"></p>
<figcaption>2024年真题</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/Taguchi-2024-answer.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>(i) 的答案为 <img src="https://latex.codecogs.com/png.latex?25"> USD</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><strong>P Diagram</strong>
<ul>
<li><strong>动机</strong>: 有很多因素 (called <strong>parameter or factor</strong>) 会影响产品质量:
<ul>
<li><strong>Signal factors</strong>: 电压、电流、电阻、温度等.</li>
<li><strong>Control factors</strong>: 材料柏松比、制造工艺、测试方法等.</li>
<li><strong>Noise factors</strong>: 分为:
<ul>
<li><strong>External 外界噪声</strong>: 温度、湿度、灰尘、振动.</li>
<li><strong>Unit-to-unit variation</strong>: 所用的电阻的误差.</li>
<li><strong>Deterioration 老化</strong>: 零件老化.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sigma-process-capability" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="sigma-process-capability"><span class="header-section-number">1.4</span> 6-Sigma &amp; Process Capability</h3>
<p>见 Section&nbsp;1.2.</p>
</section>
</section>
<section id="project-management-项目管理" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="project-management-项目管理"><span class="header-section-number">2</span> Project Management 项目管理</h2>
<ul>
<li><strong>Project 项目</strong>
<ul>
<li>有开始和结束时间 (Temporary)</li>
<li>独特 (Unique)，即使包含重复任务</li>
<li>可交付物可以是：
<ul>
<li>有形 (Tangible)：软件、设备</li>
<li>无形 (Intangible)：知识、流程、服务能力等</li>
</ul></li>
</ul></li>
<li>WBS: <strong>Work Breakdown Structure</strong>
<ul>
<li>S 不是 Statement!</li>
</ul></li>
<li>BCR (Benefit-Cost Ratio) 效益成本比: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BBCR%7D%20=%20%5Cfrac%7B%5Ctext%7BTotal%20Benefits%7D%7D%7B%5Ctext%7BTotal%20Costs%7D%7D%7D">
<ul>
<li><strong>分子分母要转换为 PV</strong>.</li>
<li>当 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BBCR%7D%20%5Cle%201%7D"> 时, 项目不可行.</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/project-management-groups.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Project Management Process Groups</figcaption>
</figure>
</div>
<ul>
<li><strong>Standard 标准</strong> 和 <strong>Regulation 法规</strong> 区别: <strong>Regulations are mandatory and standards are optional</strong></li>
</ul>
<section id="project-schedule-management" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="project-schedule-management"><span class="header-section-number">2.1</span> Project Schedule Management</h3>
<ul>
<li><strong>CPM 关键路径法</strong> (Watch <a href="https://www.youtube.com/watch?v=4oDLMs11Exs">this video</a>)
<ul>
<li>Forward Pass: 沿着箭头走, 取最大</li>
<li>Backward Pass: 逆着箭头走, 取最小</li>
<li><strong>Total Float (Slack)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BSlack%7D%20:=%20%5Ctext%7BLS%7D%20-%20%5Ctext%7BES%7D%20=%20%5Ctext%7BLF%7D%20-%20%5Ctext%7BEF%7D%7D"></li>
<li><strong>Critical Path</strong>: 路径上每个节点的 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BSlack%7D%20=%200%7D">.</li>
</ul></li>
</ul>

<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/node.png" class="img-fluid figure-img"></p>
<figcaption>每个任务节点</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Critical Path Method (CPM) 关键路径法
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/CPM-prob.png" class="img-fluid figure-img"></p>
<figcaption>题目</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/CPM-net-diagram.png" class="img-fluid figure-img"></p>
<figcaption>CPM Network Diagram</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/CPM-net-analysis.png" class="img-fluid figure-img"></p>
<figcaption>通过 forward/Backward Pass 分析网络</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="cost-management-成本管理" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="cost-management-成本管理"><span class="header-section-number">2.2</span> Cost Management 成本管理</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>指标</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PV = 400</td>
<td>本来应该做 400 元的活</td>
</tr>
<tr class="even">
<td>EV = 300</td>
<td>实际只完成了 300 元的活 (落后于进度)</td>
</tr>
<tr class="odd">
<td>AC = 500</td>
<td>却花了 500 元 (成本超支)</td>
</tr>
</tbody>
</table>
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/cost-control.png" class="img-fluid" style="width:90.0%"></p>
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/cost-schedule-calculation.png" class="img-fluid" style="width:80.0%"></p>
</section>
<section id="communication-management-沟通管理" class="level3 page-columns page-full" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="communication-management-沟通管理"><span class="header-section-number">2.3</span> Communication Management 沟通管理</h3>
<ul>
<li>Communication Model 的基本组成: <strong>Sender, Receiver, Message</strong>
<ul>
<li>没有: Feedback, Noise, Medium, Interference</li>
<li>Medium: 传递信息的媒介, 如邮件、电话、会议等</li>
</ul></li>
<li>Communication Methods 沟通方式:
<ul>
<li><strong>Push</strong>: 一方向多方传送, 如邮件、报告</li>
<li><strong>Pull</strong>: 自主访问信息, 如网站、数据库 (大数据量的)</li>
<li><strong>Interactive</strong>: 双向交流, 如会议、电话</li>
</ul></li>
<li>Communication Channels 沟通渠道数量 (见 Figure&nbsp;2): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7B%5C#Channels%7D%20=%20%5Cfrac%7Bn(n-1)%7D%7B2%7D%7D">, 其中 <img src="https://latex.codecogs.com/png.latex?n"> 是沟通的参与者数量</li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-number-of-communication-channels" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-number-of-communication-channels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/epmf-crash-course/number-of-communication-channels.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-number-of-communication-channels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 每个节点都与剩下的节点通信, intentionally 算两遍, 最后除以二
</figcaption>
</figure>
</div>
</div></div><ul>
<li><strong>Conflict Management 冲突管理</strong>:
<ul>
<li><strong>Avoiding 回避</strong>: 不解决问题, 但避免冲突</li>
<li><strong>Accommodating 迁就</strong>: 让步</li>
<li><strong>Compromising 妥协</strong>: 双方各让一步</li>
<li><strong>Competing 竞争</strong>: 强硬立场, 争取胜利</li>
<li><strong>Collaborating 合作</strong>: 双方共同解决问题, 达成共识</li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-calculation" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="sec-calculation"><span class="header-section-number">3</span> 计算题</h2>
<ul>
<li><p><strong>Cash Flow 现金流</strong>:</p>
<ul>
<li><p><strong>定义</strong>: 你账本上记录的 Cost 成本 (cash-out), Price 价格 (cash-in), Profit 利润的流动.</p></li>
<li><p><strong>动机</strong>: 为什么要强调 Cash「现金」? 比如你是卖手机的, 你给客户发货了 <img src="https://latex.codecogs.com/png.latex?1000"> 万元的产品, 客户说：“我3个月后再付款”. 这时你账本上有 <img src="https://latex.codecogs.com/png.latex?1000"> 万元的收入, 但实际上你并没有收到钱! 这不是现金流! 如果处理不当, 可能会出现 “账面上赚钱，公司却破产”.</p>
<ul>
<li><strong>Payment Term 帐期</strong>: “3个月”. 包括商家发货 (shipments) 三个月后才收钱 和 客户收到货后三个月才付款 (payment).</li>
</ul></li>
</ul></li>
<li><p><strong>Time Value of Money 时间价值</strong></p>
<ul>
<li><p><strong>动机</strong>: 一般来说, “今天的 100 元” 比 “未来的 100 元” 更值钱, 因为:</p>
<ul>
<li>国家印钱、通货膨胀、经济增长引起的消费增长</li>
<li>投资机会成本 (Opportunity Cost): 如果你把今天的 100 元冻结, 你就失去了投资它的机会 (尽管投资也可能亏损), 机会也是有成本的.</li>
</ul></li>
<li><p><strong>Discounting 折现</strong>: 把未来钱的价值折算成今天的价值 (<strong>Present Value (PV) 现值</strong>).</p></li>
<li><p><strong>Discounted Cash Flow (DCF)</strong>: 折现现金流</p></li>
<li><p><strong>Total Cost of Ownership (TCO)</strong>: 从买到用完这件东西为止，总共要花的钱的<strong>折现</strong>.</p>
<ul>
<li><strong>Projected Costs</strong> 相同的概念, 但不需要折现.</li>
</ul></li>
<li><p><strong>NPV 净现值</strong>: 把未来的每年收益贴现到今天的价值，然后减去初始投资</p></li>
<li><p><strong>Projected Payback Time</strong>: 预测的回本时间, <strong>不需要折现计算</strong></p></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Projected Payback Time, NPV 的计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/ppt-npv.png" class="img-fluid figure-img"></p>
<figcaption>2024 年真题</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/ppt-npv-i.png" class="img-fluid figure-img"></p>
<figcaption>(i)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/ppt-npv-ii.png" class="img-fluid figure-img"></p>
<figcaption>(ii) 注意是除而不是乘</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/ppt-npv-iii.png" class="img-fluid figure-img"></p>
<figcaption>(iii)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Cumulative Cash Flow 累计现金流计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/cumulative-cash-flow.png" class="img-fluid figure-img"></p>
<figcaption>2024年真题</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/cumulative-cash-flow-answer.png" class="img-fluid figure-img"></p>
<figcaption>解答</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="engineering-economics-工程经济学" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="engineering-economics-工程经济学"><span class="header-section-number">4</span> Engineering Economics 工程经济学</h2>
<section id="introduction" class="level3 page-columns page-full" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">4.1</span> Introduction</h3>
<ul>
<li><strong>Evaluating alternatives 分析备选方案</strong>:
<ul>
<li>初始成本 Initial cost</li>
<li>利率 Interest rate（或期望回报）</li>
<li>使用寿命 Anticipated life</li>
<li>年运营成本/收益</li>
<li>设备寿命结束时的残值 Resale or salvage value.</li>
</ul></li>
<li><strong>Statutory Company Reporting 公司法定报告</strong>: 每年必须向政府申报财务状况, 包含:
<ul>
<li><p>资产负债表 (Balance Sheet): 显示公司“某一时点”的经济状况</p>
<ul>
<li><strong>Assets 资产</strong>: 现在有多少现金, 设备, 库存等.</li>
<li><strong>Liabilities 负债</strong>: 欠的钱</li>
<li><strong>Owners’ Equity 所有者权益</strong>: 净资产, 就是上面两个相减.</li>
</ul></li>
<li><p>损益表 (Profit &amp; Loss):</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>项目</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sales</td>
<td>营业收入</td>
</tr>
<tr class="even">
<td>Cost of Sales</td>
<td>成本（含人工、制造成本）</td>
</tr>
<tr class="odd">
<td>Gross Profit</td>
<td>毛利润 = 销售 - 成本</td>
</tr>
<tr class="even">
<td>Other Expenses</td>
<td>其他开销</td>
</tr>
<tr class="odd">
<td>EBITDA<sup>1</sup></td>
<td>税息折旧摊销前利润</td>
</tr>
<tr class="even">
<td>ITDA</td>
<td>利息、税、折旧、摊销</td>
</tr>
<tr class="odd">
<td>Net Income</td>
<td>净利润</td>
</tr>
</tbody>
</table></li>
<li><p>附注 Notes</p></li>
<li><p>董事报告 Director’s Report</p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;<strong>Earning 利润, Interest 利息开支, Taxes 税收, Depreciation 设备折旧, Amortization 无形资产摊销</strong>.</p></div></div></section>
<section id="break-even-analysis" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="break-even-analysis"><span class="header-section-number">4.2</span> Break-even Analysis</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/epmf-crash-course/be-analysis.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>这个图要记住</figcaption>
</figure>
</div>
</section>
<section id="outsourcing-外包" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="outsourcing-外包"><span class="header-section-number">4.3</span> Outsourcing 外包</h3>
<ul>
<li>好处:
<ul>
<li>降低成本</li>
<li>专注核心业务</li>
<li>建立合作关系</li>
</ul></li>
<li>坏处:
<ul>
<li>Out of control 失去控制</li>
<li>Confidentiality and security 泄密和安全</li>
<li>Provider may not understand business environment 沟通问题</li>
</ul></li>
</ul>
</section>
<section id="capex-opex-and-total-cost-of-ownership-tco" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="capex-opex-and-total-cost-of-ownership-tco"><span class="header-section-number">4.4</span> CapEx, OpEx, and Total Cost of Ownership (TCO)</h3>
<ul>
<li><strong>CapEx 资本性支出</strong>: 用于购买长寿命资产 (<img src="https://latex.codecogs.com/png.latex?%3E1">年)
<ul>
<li>例子: 购买设备、建筑物、土地等.</li>
<li>不会一次性计入利润表 (Profit and Loss Statement, P&amp;L), 而是分摊到多个会计期间.</li>
</ul></li>
<li><strong>OpEx 运营性支出</strong>: 用于日常运营的支出
<ul>
<li>例子: 电费、水费、人工费、维修费等.</li>
<li>属于当期费用, 会直接计入利润表.</li>
</ul></li>
<li>TCO 见 Section&nbsp;3.</li>
</ul>
</section>
</section>
<section id="what-is-a-company" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="what-is-a-company"><span class="header-section-number">5</span> What is a Company?</h2>
<ul>
<li>公司的类型:
<ul>
<li><strong>Sole Trader 个体户</strong>: 你开了一家炸鸡店, 赚了钱就是自己的. 可以雇人, 但要对债务负责. 顾客起诉食物中毒, 你就要用自己的积蓄赔 (风险大).</li>
<li><strong>Limited company 有限责任公司</strong>: 赚了钱是公司的而不是自己的, 用公司里的钱赔, 个人不承担责任 (所以叫 <strong>Limited</strong>).
<ul>
<li><strong>Limited by Shares 股份有限公司</strong>:</li>
<li><strong>Limited by Guarantee 担保有限公司</strong>: 慈善机构.</li>
<li><strong>Public Limited Company (PLC) 上市公司</strong>:</li>
</ul></li>
</ul></li>
<li><strong>Company Valuation 公司估值</strong></li>
</ul>


</section>


 ]]></description>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/epmf-crash-course/</guid>
  <pubDate>Sat, 21 Jun 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/epmf-crash-course/cover.png" medium="image" type="image/png" height="37" width="144"/>
</item>
<item>
  <title>CCD Crash Course 通信电路速成笔记</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/ccd-crash-course/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p><strong>宇宙安全声明</strong>: 本笔记是本人电子科技大学格院大三《通信电路设计》2025 年课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性.</p>
</blockquote>
<blockquote class="blockquote">
<p>EXAMPLE 是PPT或往年的经典题目, 框起来的公式<strong>必须记住或独立推导</strong>!!! 概念用<strong>粗体</strong>表示, *号章节了解即可, 其他的<strong>都有可能考</strong>!!!</p>
</blockquote>
<blockquote class="blockquote">
<p>本文 <strong>All Right Reserved 保留所有权利</strong>, 禁止商用和任何形式的转载!</p>
</blockquote>
<section id="sec-change-of-mind" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-change-of-mind"><span class="header-section-number">1</span> Change of Mind 这个可能有用</h2>
<ul>
<li><p><strong>人生苦短, 你还应去仰望深夜星河万顷的浩瀚，去聆听黄昏海风拂面的低语.</strong></p></li>
<li><p>事实证明 <img src="https://latex.codecogs.com/png.latex?5"> 天学完 CCD 是可行的.</p></li>
<li><p><strong>别当数学来学</strong>: 模电里面有很多 abuse of notation (AoN, 比如你看看「增益」这个词在 PLL 里面是怎么用的, dddd) 和抽象指标 (Carson’s rule 首当其冲, Modulation index 等) 和符号, <strong>他们并不值得你品味和推导</strong>, 因为这里面人为的因素太多 (比如规定 <img src="https://latex.codecogs.com/png.latex?-3%5Ctext%7B%20dB%7D"> 就很小了, Carson 频带内包含 <img src="https://latex.codecogs.com/png.latex?98%5C%25"> 的能量等等), 这不是数学, 即使你理解了其推导也没有任何意义.</p></li>
<li><p><strong>不同问题情景下我们大脑中的模型是不一样的</strong>, 比如:</p>
<ul>
<li>普通电路分析中二极管就是单向导通; 但是 BJT 的 DC 分析中, 要用到 <img src="https://latex.codecogs.com/png.latex?0.7%5Ctext%7B%20V%7D"> 的开启电压; 而 AC 分析中由于小信号, <img src="https://latex.codecogs.com/png.latex?0.7%5Ctext%7B%20V%7D"> 这个模型就不能用了, 而要用更复杂的 Shockley 方程.</li>
<li>放大电路中 <img src="https://latex.codecogs.com/png.latex?C,%20L"> 都可以看作理想, 但是在 RLC 电路中 (Section&nbsp;6) 就不行.</li>
<li>适合的模型才是最好的, 不是越复杂越精确越好.</li>
</ul></li>
<li><p>关于「电压」和「电流」, 不要认为电压才是我们可以控制的, 然后再通过给电阻来控制电流. 有些元件 (BJT) 其实本质是通过操控电子的流动趋势来主动操控电流, 电流确定了以后, 再通过加电阻来获得电压.</p></li>
<li><p>关于「背诵」的价值的问题, 有一些是纯 sb (比如某4046的参数, FM 的最大频偏), 还有一些 (IF 放大器比 RF 放大器更不容易发生自激振荡) 这种性质, 如果给足你时间进行分析和实验, 你是可以独立地发现这个结论的. 你不知道这个结论只是时间的问题, 所以你可以非常无负罪感地将它记下来, 因为你明白这不是死记硬背, 而是用前人的经验给自己节约时间<sup>1</sup>.</p></li>
<li><p><strong>考虑负载的习惯</strong>: 往往一个电路的性质 (滤波中心频率, 增益) 不仅取决于电路本身的参数, 还取决于你把它接在什么上面 (经典例子 Section&nbsp;6.4). 你接在了抽象的东西上面, 它的作用也就变了. 这也是引入 「输入阻抗」和 「输出阻抗」 的动机.</p></li>
<li><p>往往一个问题的解决方法的得出会经历<strong>若干个重要思想</strong>, 这些思想:</p>
<ul>
<li>的数量没你想象的多, 可能只有 4-5 个. 以下概念的引入可以称作「思想」:
<ul>
<li><strong>稳态解和瞬态解是完全不同的两个思维角度</strong>: 比如反馈实际上是需要时间的, 输出不断地被送回输入, 然后再改变输出, 再回来改变输入, 这个过程既耗实际时间, 也耗思维时间. 当反馈电路变得很复杂时这个过程几乎不可能被人类的大脑想清楚, 于是我们才用「假设量-列方程」的方法来将这个过程各个量权衡的结果需要满足的关系形式化出来, <strong>我们解方程的过程就已经符号化地完成了整个分析过程</strong>并求出了最终的稳态解.</li>
<li><strong>Phasor</strong>: 正弦波与复数的同构, 接着引入阻抗, 颠覆了我们对信号的 mental picture (“信号是时域的”这种我们自己都无法察觉的直觉).</li>
<li><strong>信号是复值的</strong>: 傅立叶变换的基础思维, 这个思想都没有的话你就完全不理解 Fourier.</li>
<li><strong>传递函数及 <img src="https://latex.codecogs.com/png.latex?s"> 域</strong>: Phasor 只是频谱里的一个频率点了, 频谱甚至可以外延到 <img src="https://latex.codecogs.com/png.latex?s"> 域, 发现系统稳定性等可以在 <img src="https://latex.codecogs.com/png.latex?s"> 域中很好地描述.</li>
<li><strong>信号流图</strong>: 给机械系统、电路系统甚至生物进化等等提供了统一的分析方法, 进而发展出控制论.</li>
</ul></li>
<li>不 trivial, 以至于通过这些思想堆叠出来的解决方法看起来非常不直观和莫名其妙. 但是其实他们就是基于这些思想逻辑推理的自然产物<sup>2</sup>!</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;有些数学家对工程学嗤之以鼻的原因本质上是对「经验主义」的怀疑.</p></div><div id="fn2"><p><sup>2</sup>&nbsp;这一点在纯数上尤为明显.</p></div></div></section>
<section id="transistors-晶体管元件" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="transistors-晶体管元件"><span class="header-section-number">2</span> Transistors 晶体管元件</h2>
<section id="diode-二极管" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="diode-二极管"><span class="header-section-number">2.1</span> Diode 二极管 ★☆☆☆☆</h3>
<p>以下是二极管的三种由简入繁的模型:</p>
<ul>
<li><p><strong>Forward/Reverse Bias 正/反向偏置</strong> <img src="https://marcobisky.github.io/posts/ccd-crash-course/diode-bias.jpg" class="img-fluid"></p></li>
<li><p><strong>Threshold / Barrier potential</strong> 开启电压 <img src="https://latex.codecogs.com/png.latex?V_t"> : PN 结导通所需克服的势垒电压.</p>
<ul>
<li>Silicon 硅管 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_t%20=%200.7%20%5Ctext%7B%20V%7D%7D"> (<strong>默认这个值!</strong>)</li>
<li>Germanium 锗管 <img src="https://latex.codecogs.com/png.latex?V_t%20=%200.3%20%5Ctext%7B%20V%7D"></li>
<li>BJT 的 BE 间在 DC 工作模式下也有这个开启电压.</li>
</ul></li>
<li><p>*<strong>Shockley 二极管方程</strong>: <span id="eq-shockley"><img src="https://latex.codecogs.com/png.latex?%20I_%7B%5Ctext%7BD%7D%7D%20=%20I_%7B%5Ctext%7BS%7D%7D%20%5Cleft(%20e%5E%7B%5Cfrac%7BV_%7B%5Ctext%7BD%7D%7D%7D%7BV_%7B%5Ctext%7BT%7D%7D%7D%7D%20-%201%20%5Cright)%20%5Ctag%7B1%7D"></span></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BS%7D%7D"> 反向饱和电流 (非常小 <img src="https://latex.codecogs.com/png.latex?10%5E%7B-15%7D">)</li>
<li><strong>Thermal Voltage 热电压 <img src="https://latex.codecogs.com/png.latex?V_T"></strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_T%20=%20%5Cfrac%7BkT%7D%7Bq%7D%7D">
<ul>
<li><strong>玻尔兹曼常数</strong>: <img src="https://latex.codecogs.com/png.latex?k%20=%201.38%20%5Ctimes%2010%5E%7B-23%7D%20%5Ctext%7B%20J/K%7D">. <strong>工作温度</strong>: <img src="https://latex.codecogs.com/png.latex?T%20=%20t%20+%20273.15%20%5Ctext%7B%20K%7D">. <strong>电荷量</strong>: <img src="https://latex.codecogs.com/png.latex?q%20=%201.6%20%5Ctimes%2010%5E%7B-19%7D%20%5Ctext%7B%20C%7D">.</li>
<li>室温 <img src="https://latex.codecogs.com/png.latex?20%5E%7B%5Ccirc%7D"> 下: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_%7B%5Ctext%7BT%7D%7D%20=%2025%20%5Ctext%7B%20mV%7D%7D"></li>
</ul></li>
<li>“Diode Mixer”: 用到了这个方程, 见 Section&nbsp;5.1.1.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/shockley.jpg" class="img-fluid figure-img"></p>
<figcaption>二极管的 Shockley 指数性质</figcaption>
</figure>
</div>
</div></div><ul>
<li><strong>Varicap Diode</strong>: 其实是电容, 见 Section&nbsp;7.3.</li>
</ul>
</section>
<section id="mosfet-场效应管" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="mosfet-场效应管"><span class="header-section-number">2.2</span> MOSFET 场效应管 ★☆☆☆☆</h3>
<ul>
<li><p>JFET 可近似看作 depletion-mode MOSFET (Figure&nbsp;1), 因此省略 JFET 的讨论.</p></li>
<li><p>结构: <strong>Gate, Source, Drain 栅极, 源极, 漏极</strong>.</p>
<ul>
<li>S 源极指的是<em>电子</em>的源 而不是<em>电流</em>的源. D 漏极同理.</li>
<li>计算题一般假设 <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BS%7D%7D%20=%20I_%7B%5Ctext%7BD%7D%7D">.</li>
<li>JFET 的 GS 在 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BGS%7D%7D"> 下可能有极微弱的 leakage current<sup>3</sup> <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BGSS%7D%7D">, 造成 <strong>input resistance 输入电阻</strong> (很大): <img src="https://latex.codecogs.com/png.latex?R_%7B%5Ctext%7Bin%7D%7D%20:=%20%5Cleft%5Cvert%20%5Cfrac%7BV_%7B%5Ctext%7BGS%7D%7D%7D%7BI_%7B%5Ctext%7BGSS%7D%7D%7D%20%5Cright%5Cvert"></li>
<li>MOSFET 由于有氧化层隔离, GS 无电流.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/MOSFET-Water.GIF" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>G 闸门, <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BDS%7D%7D"> 水压, <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BD%7D%7D"> 水流</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;AoN, 应该记为 <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BGSL%7D%7D"> (gate-source leakage).</p></div></div><ul>
<li><p>MOSFET 分类:</p>
<div id="fig-mosfet" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mosfet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/mosfet.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mosfet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 箭头 <strong>in</strong> 代表 n-channel
</figcaption>
</figure>
</div>
<ul>
<li><strong>P/N channel 通道</strong>: 根据<strong>沟道</strong>类型 (不是 substrate 类型!), 空穴: P channel, 电子: N channel.</li>
<li><strong>Depletion/Enhancement mode 耗尽/增强型</strong>: 默认 (<strong>GSS</strong>, gate-source short) 闸门的状态, 导通: depletion, 不导通: enhancement (符号上断开).</li>
<li><img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BGS%7D%7D"> 控制闸门的方法是不一样的 (Figure&nbsp;1):
<ul>
<li>P-channel D Mode: 正电压 -&gt; 吸引 n substrate 的电子 -&gt; 中和掉 channel 的空穴 -&gt; 截止</li>
<li>N-channel D Mode: 负电压 -&gt; 吸引 p substrate 的空穴 -&gt; 中和掉 channel 的电子 -&gt; 截止</li>
<li>P-channel E Mode: 负电压 -&gt; 排斥 n substrate 的电子 -&gt; 增加 channel 的空穴 -&gt; 导通</li>
<li>N-channel E Mode: 正电压 -&gt; 排斥 p substrate 的空穴 -&gt; 增加 channel 的电子 -&gt; 导通</li>
</ul></li>
</ul></li>
<li><p>特性:</p>
<ul>
<li>以 S 源极为基准, 我们关心 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BGS%7D%7D,%20V_%7B%5Ctext%7BDS%7D%7D,%20I_%7B%5Ctext%7BD%7D%7D"> 三者的关系 (<img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BD%7D%7D"> 曲面)</li>
<li><strong>Q-point</strong> (Quiescent)<sup>4</sup>: 静态工作点, Figure&nbsp;2 上的每个点都是 Q-point.
<ul>
<li>引入 Q-point 的原因是: 半导体元件在不同的输入<strong>变化频率</strong>下 即使输入的数值相同, 输出会有所差别. Q-point 代表这些点都是在输入变化很慢的情况下测出来的值, 即 <strong>DC 工作点</strong>、稳态值.</li>
<li>所以模拟电路有必要区分 DC 和 AC 分析, 他们是不一样的.</li>
</ul></li>
</ul>
<div id="fig-ID-surface" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ID-surface-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/ID-surface.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ID-surface-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BD%7D%7D"> 曲面
</figcaption>
</figure>
</div>
<ul>
<li><strong>Drain curve 漏极特性曲线</strong>: 固定闸门 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BGS%7D%7D"> 后的 水压与水流的关系.
<ul>
<li><strong>Ohmic region 欧姆区</strong>: 相当于固定电阻. (改变闸门可以充当可变电阻)</li>
<li><strong>Active region 饱和区</strong>: 水流不变了.</li>
<li><strong>Breakdown region 击穿区</strong>: 水压太大, 水管坏了.</li>
<li><strong>Pinch-off</strong> 对应的点是<strong>抛物线</strong>.</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/drain-curve.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Drain curve 漏极特性曲线</figcaption>
</figure>
</div>
<ul>
<li><strong>Transfer curve 转移特性曲线</strong>: 水压足够大时水流和闸门的关系 (<img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BD%7D%7D"> 曲面沿 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BDS%7D%7D"> 轴的投影).
<ul>
<li><strong>抛物线</strong> 关系.</li>
<li><strong>默认饱和电流 <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BDSS%7D%7D"></strong>: Drain to Source current with <em>gate</em> Shorted.</li>
<li><strong>跨导 <img src="https://latex.codecogs.com/png.latex?g_m"></strong> (电阻的倒数): Drain curve 的斜率, 与闸门电压有关.</li>
</ul></li>
</ul>
<div id="fig-transfer-curve" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-transfer-curve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/transfer-curve.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-transfer-curve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Transfer curve 转移特性曲线
</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;这是一个典型的教科书讲不明白的问题.</p></div></div></section>
<section id="bjt-三极管" class="level3 page-columns page-full" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="bjt-三极管"><span class="header-section-number">2.3</span> BJT 三极管 ★★★★☆</h3>
<blockquote class="blockquote">
<p>大写表示 DC 工作模式 (e.g., <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BE%7D%7D,%20%5Cbeta_%7B%5Ctext%7BDC%7D%7D">), 小写表示 AC 工作模式 (e.g., <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7Be%7D%7D,%20%5Cbeta_%7B%5Ctext%7Bac%7D%7D">). <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BI%7D">: phasor, <img src="https://latex.codecogs.com/png.latex?i">: 瞬时值.</p>
</blockquote>
<section id="结构" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="结构"><span class="header-section-number">2.3.1</span> 结构 ★☆☆☆☆</h4>
<div class="quarto-layout-panel" data-layout="[75,25]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 75.0%;justify-content: center;">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/BJT.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/npn.gif" class="img-fluid"></p>
</div>
</div>
</div>
<ul>
<li><p>结构: <strong>Base, Collector, Emitter 基极, 集电极, 发射极</strong>.</p>
<ul>
<li><strong>npn, pnp</strong> 两种, 因 doping 浓度不同而<em>不对称</em> ! npn 性能更好.</li>
</ul></li>
<li><p>模型及可观测参数</p>
<ul>
<li><strong>r Parameters</strong> (resistance): <img src="https://latex.codecogs.com/png.latex?r'_e"> (<strong>最重要</strong>★★★★★), <img src="https://latex.codecogs.com/png.latex?r'_b,%20r'_c,%20%5Calpha_%7B%5Ctext%7Bac%7D%7D,%20%5Cbeta_%7B%5Ctext%7Bac%7D%7D"></li>
</ul>
<div id="fig-r-para" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-r-para-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/r-para.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-r-para-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: 根据 <img src="https://latex.codecogs.com/png.latex?r'_b%20%5Capprox%200"> 和 <img src="https://latex.codecogs.com/png.latex?r'_c%20%5Capprox%20%5Cinfty"> 来简化模型
</figcaption>
</figure>
</div>
<ul>
<li><strong>h Parameters</strong> (hybrid): (Omitted).</li>
</ul></li>
</ul>
</section>
<section id="sec-bjt-properties" class="level4 page-columns page-full" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="sec-bjt-properties"><span class="header-section-number">2.3.2</span> 性质 ★★★★★</h4>
<ul>
<li>特征曲线
<ul>
<li>一般都在 active region 工作区</li>
<li><img src="https://latex.codecogs.com/png.latex?I_C"> 不一定是 <img src="https://latex.codecogs.com/png.latex?I_B"> 的 <img src="https://latex.codecogs.com/png.latex?%5Cbeta_%7B%5Ctext%7BDC%7D%7D"> 倍, 在饱和区就不行 (Figure&nbsp;5).</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-BJT-saturation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BJT-saturation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/BJT-saturation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-BJT-saturation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: 饱和区没有放大
</figcaption>
</figure>
</div>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/BJT-characteristic.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>抽象命名来了, 看看饱和区和工作区是不是你想的那样</figcaption>
</figure>
</div>
<ul>
<li><p>AC &amp; DC 下都有的性质:</p>
<ul>
<li>箭头代表 <strong>总</strong> (E) <strong>电流</strong> 参考方向, 不一定是实际电流方向. 三者满足 KCL: <span id="eq-kcl"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%20I_%7B%5Ctext%7BE%7D%7D%20-%20I_%7B%5Ctext%7BC%7D%7D%20-%20I_%7B%5Ctext%7BB%7D%7D%20=%200%7D%20%20%5Ctag%7B2%7D"></span></li>
</ul></li>
<li><p>DC 工作模式性质:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Calpha,%20%5Cbeta"> 参数:<img src="https://latex.codecogs.com/png.latex?%20%5Calpha_%7B%5Ctext%7BDC%7D%7D%20:=%20%5Cfrac%7BI_%7B%5Ctext%7BC%7D%7D%7D%7BI_%7B%5Ctext%7BE%7D%7D%7D%20%5Capprox%200.99,%20%5Cquad%20h_%7B%5Ctext%7BFE%7D%7D%20=%20%5Cboxed%7B%5Cbeta_%7B%5Ctext%7BDC%7D%7D%20:=%20%5Cfrac%7BI_%7B%5Ctext%7BC%7D%7D%7D%7BI_%7B%5Ctext%7BB%7D%7D%7D%7D%20%5Capprox%2099"></li>
<li>B, E 可看作导通的二极管, PN结之间存在开启电压: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_%7B%5Ctext%7BBE%7D%7D%20=%20V_t%20%5Capprox%200.7%20%5Ctext%7B%20V%7D%7D"></li>
</ul></li>
<li><p>AC 工作模式性质:</p>
<ul>
<li><p>发射极动态电阻 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Br'_e%20%5Capprox%20%5Cfrac%7BV_T%7D%7BI_%7B%5Ctext%7BE%7D%7D%7D%20=%20%5Cfrac%7B25%5Ctext%7B%20mV%7D%7D%7BI_E%7D%7D"></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cbeta"> 参数: <img src="https://latex.codecogs.com/png.latex?%20%5Cbeta_%7B%5Ctext%7Bac%7D%7D%20:=%20%5Cfrac%7B%5CDelta%20I_%7B%5Ctext%7BC%7D%7D%7D%7B%5CDelta%20I_%7B%5Ctext%7BB%7D%7D%7D"></p>
<ul>
<li>造成 <img src="https://latex.codecogs.com/png.latex?%5Cbeta_%7B%5Ctext%7BDC%7D%7D%20%5Cneq%20%5Cbeta_%7B%5Ctext%7Bac%7D%7D"> 的原因是 <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BC%7D%7D">-<img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BB%7D%7D"> 关系是曲线:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/dc-ac-beta.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>DC 模式相当于全局的流形, AC 模式相当于局部的切空间</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
有关 <img src="https://latex.codecogs.com/png.latex?V_T"> 和 <img src="https://latex.codecogs.com/png.latex?V_t">
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Mental picture</strong>: 当我们将信号输入到 BJT 的 Base 时, 几乎就是 DC 信号, 波动幅度非常小!</p>
<p>BJT 正常工作时, 将 BE 看作导通的二极管, 自然有电压 <img src="https://latex.codecogs.com/png.latex?V_t%20%5Capprox%200.7%20%5Ctext%7B%20V%7D">. <img src="https://latex.codecogs.com/png.latex?r'_e"> 不能被 DC 信号感受到, 只有小信号才能感受到. 小信号需要用更精确的模型 Equation&nbsp;1 来计算. Figure&nbsp;6 在 <img src="https://latex.codecogs.com/png.latex?V_%7BBE%7D%20=%200.7%5Ctext%7B%20V%7D"> 处的斜率就是 <img src="https://latex.codecogs.com/png.latex?r'_e"> 的倒数: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7Bslope%7D%7C_%7BV%20=%200.7%5Ctext%7B%20V%7D%7D%20=%20%5Cfrac%7BI_S%7D%7BV_T%7D%20%5Ccdot%20e%5E%7B%5Cfrac%7BV%7D%7BV_T%7D%7D%20=%20%5Cfrac%7B1%7D%7Br'_e%7D%0A"></p>
<p>我们 利用 Equation&nbsp;1 将 <img src="https://latex.codecogs.com/png.latex?e%5E%7B%5Cfrac%7BV%7D%7BV_T%7D%7D"> 用 <img src="https://latex.codecogs.com/png.latex?I_E"> 表示: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7Bslope%7D%7C_%7BI%20=%20I_E%7D%20=%20%5Cfrac%7BI_S%7D%7BV_T%7D%20%5Ccdot%20%5Cleft(%5Cfrac%7BI%7D%7BI_S%7D%20+%201%5Cright)%20=%20%5Cfrac%7BI%7D%7BV_T%7D%20+%20%5Cunderbrace%7B%5Ccancel%7B%5Cfrac%7BI_S%7D%7BV_T%7D%7D%7D_%7B%5Cto%200%7D%20=%20%5Cfrac%7B1%7D%7Br'_e%7D%0A"></p>
<p>求得: <img src="https://latex.codecogs.com/png.latex?%0Ar'_e%20=%20%5Cfrac%7BV_T%7D%7BI%7D%0A"></p>
<p><img src="https://latex.codecogs.com/png.latex?I"> 就是<strong>当前</strong> E 上的直流电流大小!</p>
<div id="fig-VT-Vt" class="quarto-float quarto-figure quarto-figure-center anchored" width="70%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-VT-Vt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/VT-Vt.png" id="fig-VT-Vt" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-VT-Vt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="ce-cc-与-cb" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="ce-cc-与-cb"><span class="header-section-number">2.3.3</span> CE, CC 与 CB</h4>
<ul>
<li>CE (Common Emitter) 共射放大器:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?A_v%20%5Cgg%201,%20A_i%20%5Cgg%201">: 电压、电流增益都很高.</li>
<li>可以推导: Base 输入电阻 <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BR_%7B%5Ctext%7Bin%20(base)%7D%7D%20=%20%5Cbeta_%7B%5Ctext%7Bac%7D%7D%20r'_e%7D"></li>
</ul></li>
<li>CC (Common Collector) 共集放大器:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?A_v%20%5Capprox%201">: 基本不会放大电压, 所以称为 <strong>Emitter Follower 跟随器</strong>.</li>
<li><img src="https://latex.codecogs.com/png.latex?A_i%20%5Cgg%201">: 用于<strong>电流放大</strong>, 而不用于电压放大.</li>
<li>输入阻抗很高.</li>
</ul></li>
<li>CB (Common Base) 共基放大器:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?A_v%20%5Cgg%201">: 电压增益 <img src="https://latex.codecogs.com/png.latex?A_v"> 很高.</li>
<li><img src="https://latex.codecogs.com/png.latex?A_i%20%5Cle%201">: 电流只会减小.</li>
<li>输入阻抗很低.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="network-analysis-网络分析" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="network-analysis-网络分析"><span class="header-section-number">3</span> Network Analysis 网络分析 ★★☆☆☆</h2>
<section id="sec-thevenin-norton" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="sec-thevenin-norton"><span class="header-section-number">3.1</span> Thevenin &amp; Norton 定理</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>任何一个只有电压源、电流源和电阻的二端网络, 都可以等效为 一个有内阻的电压源 或 一个有内阻的电流源<sup>5</sup>.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;任何线性二端网络都可以这么等效, 原因是电源的 <img src="https://latex.codecogs.com/png.latex?V">-<img src="https://latex.codecogs.com/png.latex?I"> graph 是直线! 而有内阻的 电压源 和 电流源 也是直线, 二者自由度都是 <img src="https://latex.codecogs.com/png.latex?2">, 因此相互等价.</p></div></div></div>
<p><span id="eq-thevenin-norton"><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cbegin%7Baligned%7D%0AV_%7B%5Ctext%7BTH%7D%7D%20&amp;=%20V_%7B%5Ctext%7Bopen%7D%7D%20%5C%5C%0AI_%7B%5Ctext%7BN%7D%7D%20&amp;=%20I_%7B%5Ctext%7Bshort%7D%7D%20%5C%5C%0AR_%7B%5Ctext%7BTH%7D%7D%20&amp;=%20R_%7B%5Ctext%7BN%7D%7D%20=%20%5Cfrac%7BV_%7B%5Ctext%7Bopen%7D%7D%7D%7BI_%7B%5Ctext%7Bshort%7D%7D%7D%20%5C%5C%0A%5Cend%7Baligned%7D%0A%7D%0A%5Ctag%7B3%7D"></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/thevenin-norton.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Thevenin 等效 和 Norton 等效</figcaption>
</figure>
</div>
</section>
<section id="input-output-impedance-输入输出阻抗" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="input-output-impedance-输入输出阻抗"><span class="header-section-number">3.2</span> Input &amp; Output Impedance 输入/输出阻抗</h3>
<blockquote class="blockquote">
<p>一个线性网络作为负载时一定可以等效成一个电阻 (输入阻抗), 作为电源时一定可以等效成一个非理想电压源或电流源 (内阻就是输出阻抗).</p>
</blockquote>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?R_%7B%5Ctext%7Bin%7D%7D"> 就是该网络作为负载时两端的电压和电流之比.</li>
</ul>
</section>
<section id="conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输" class="level3 page-columns page-full" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输"><span class="header-section-number">3.3</span> Conjugate Matching &amp; Maximum Power Transfer 匹配负载与最大功率传输</h3>
<blockquote class="blockquote">
<p>阻抗匹配是一个实际中要考虑的问题, 而不是在纯理论层面上的问题, 所以会觉得有点脱节的感觉.</p>
</blockquote>
<ul>
<li><strong>问题建模</strong>: Section&nbsp;3.1 的结论对稳态交流电路同样适用 (见 Figure&nbsp;7)! 任意复杂线性网络:
<ul>
<li>从外面看都只是一个内阻 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BZ%7D_0"> 的电压源 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BV%7D_0"> (相当于 Thevenin 等效).</li>
<li>看外面都是一个阻抗为 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BZ%7D_L"> 的负载.</li>
<li>问: 给定工作频率<sup>6</sup> <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 和 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BV%7D_0">, <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BZ%7D_0,%20%5Ctilde%7BZ%7D_L"> 满足什么的时候负载热功率最大?</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;注意一个匹配电路只在一个工作频率下匹配, 而不是所有频率! 而我们会看到, 匹配后的频率恰好是协振频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0">, 所以用 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 来表示工作频率.</p></div></div><ul>
<li><p>当内外阻抗互为共轭时, 称该电路<strong>阻抗匹配</strong>, 此时<strong>负载热功率<sup>7</sup>达到最大</strong>. <span id="eq-conj-matching"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctilde%7BZ%7D_0%20=%20%5Ctilde%7BZ%7D_L%5E*%7D%20%5Ctag%7B4%7D"></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/conj-match-demo.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>阻抗匹配时相当于只有两个一样的纯电阻</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;稳态电路功率有很多定义 (比如: 有功功率, 无功功率, 视在功率, 热功率等), 这里指<strong>热功率</strong>.</p></div></div><ul>
<li><strong>Reflection Coefficient 反射系数</strong>: 反映了负载阻抗与源阻抗的匹配程度, omitted.</li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
阻抗匹配条件 Equation&nbsp;4 的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-matched-network-demo" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matched-network-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/matched-network-demo.png" class="img-fluid figure-img" style="width:40.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matched-network-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: 问题建模情景
</figcaption>
</figure>
</div>
<p>设 <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BZ%7D_0%20=%20R_0%20+%20jX_0,%20%5Ctilde%7BZ%7D_L%20=%20R_L%20+%20jX_L">, 负载的热功率: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AP_L%20&amp;=%20I_%7B%5Ctext%7Brms%7D%7D%5E2%20R_L%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%7C%5Ctilde%7BI%7D%7C%5E2%20R_L%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cleft%7C%20%5Cfrac%7B%5Ctilde%7BV%7D_0%7D%7B%5Ctilde%7BZ%7D_0%20+%20%5Ctilde%7BZ%7D_L%7D%20%5Cright%7C%5E2%20R_L%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cfrac%7B%7C%5Ctilde%7BV%7D_0%7C%5E2%7D%7B(R_0%20+%20R_L)%5E2%20+%20(X_0%20+%20X_L)%5E2%7D%20R_L%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<p>要 <img src="https://latex.codecogs.com/png.latex?P_L"> 最大, 分母必须最小, 显然当 <img src="https://latex.codecogs.com/png.latex?X_0%20+%20X_L%20=%200"> 时即 Equation&nbsp;4 时取最小.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-matching-network-design" class="level3 page-columns page-full" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="sec-matching-network-design"><span class="header-section-number">3.4</span> Matching Network Design 匹配网络设计</h3>
<blockquote class="blockquote">
<p>有很多种匹配网络可供选择: <img src="https://latex.codecogs.com/png.latex?%5Cpi,%20T"> 形网络等, 本文只考虑 <img src="https://latex.codecogs.com/png.latex?T"> 形网络. 本章重度依赖 Section&nbsp;6.2.2 的结论.</p>
</blockquote>
<ul>
<li>问题描述: 给定 纯电阻内阻 <img src="https://latex.codecogs.com/png.latex?R_0"> 的交流电源 <img src="https://latex.codecogs.com/png.latex?V_0"> 和 纯电阻负载 <img src="https://latex.codecogs.com/png.latex?R_L">, 在它们中间设计一个 <img src="https://latex.codecogs.com/png.latex?T"> 形网络使阻抗匹配.
<ul>
<li>既然是设计匹配网络, 就不能用纯电阻了 (Figure&nbsp;8), 不然能量白白消耗掉了, 只能用<strong>纯电抗 <img src="https://latex.codecogs.com/png.latex?X"> 元件</strong> (<img src="https://latex.codecogs.com/png.latex?X_p,%20X_s"> 都可以是 <img src="https://latex.codecogs.com/png.latex?L"> 或 <img src="https://latex.codecogs.com/png.latex?C">, 一般串联的用 <img src="https://latex.codecogs.com/png.latex?L">, 并联的用 <img src="https://latex.codecogs.com/png.latex?C">), 它们只储能, 不耗能.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-matching-wrong-design" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matching-wrong-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/matching-wrong-design.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matching-wrong-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: 谁教你这样设计网络的?
</figcaption>
</figure>
</div>
</div></div><div id="fig-matching-right-design" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matching-right-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/matching-right-design.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matching-right-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: 根据 <img src="https://latex.codecogs.com/png.latex?R_0,%20R_L"> 的大小结合 Equation&nbsp;9 的结论要设计成不同的 <img src="https://latex.codecogs.com/png.latex?T"> 形网络
</figcaption>
</figure>
</div>
<ul>
<li>解法: ★★★★★
<ul>
<li><strong>根据 <img src="https://latex.codecogs.com/png.latex?R_0,%20R_L"> 的大小选择网络类型</strong>: 见 Figure&nbsp;9.</li>
<li><strong>用电阻之比算 <img src="https://latex.codecogs.com/png.latex?Q"></strong>: Equation&nbsp;9 的第一个公式.</li>
<li><strong>再用 Figure&nbsp;16 的两个公式得出 <img src="https://latex.codecogs.com/png.latex?X_s,%20X_p"></strong>.</li>
<li><strong>最后用 <img src="https://latex.codecogs.com/png.latex?X_s,%20X_p"> 计算出 <img src="https://latex.codecogs.com/png.latex?L,%20C"> 的值</strong>: 一般串联的用 <img src="https://latex.codecogs.com/png.latex?L">, 并联的用 <img src="https://latex.codecogs.com/png.latex?C">.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 匹配网络设计
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/matching-example-problem.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>题目描述</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/matching-example-network.png" class="img-fluid figure-img" style="width:40.0%"></p>
<figcaption>设计图, <img src="https://latex.codecogs.com/png.latex?R_%7B-%7D,%20R_%7B+%7D"> 对应 <img src="https://latex.codecogs.com/png.latex?R_0,%20R_L"></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/matching-example-calculation.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>计算电抗和其对应的 <img src="https://latex.codecogs.com/png.latex?L,%20C"> 值</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="amplifier-circuit-放大电路分析" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="amplifier-circuit-放大电路分析"><span class="header-section-number">4</span> Amplifier Circuit 放大电路分析 ★★★★☆</h2>
<section id="分析纲领" class="level3 page-columns page-full" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="分析纲领"><span class="header-section-number">4.1</span> 分析纲领 ★★★★★</h3>
<blockquote class="blockquote">
<p>一个放大电路对 DC 和 AC 的作用是单独的, 我们先分开分析, 实际上的情况是两个分析结果的叠加!</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/capacitor-mental-picture.jpg" class="img-fluid figure-img"></p>
<figcaption>电容通交隔直</figcaption>
</figure>
</div>
</div></div><ul>
<li><p>DC 和 AC 的情况下, 放大电路的等效电路是不一样的.</p></li>
<li><p>我们只需要考虑<strong>等效电路</strong>, 电容和电感在等效电路中是不存在的.</p>
<ul>
<li><strong>DC 分析</strong>:
<ul>
<li><p>电容开路, 电感短路<sup>8</sup>.</p></li>
<li><p>画 <strong>Thevenin 等效电路</strong></p>
<div id="fig-Theveninising" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Theveninising-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Theveninising.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Theveninising-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: DC等效电路 及其Thevenin等效
</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>AC 分析</strong>:
<ul>
<li>电容短路, 电感开路.</li>
<li><img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BCC%7D%7D"> 相当于接地 (任何不变的信号都相当于接地)</li>
<li>电压、电流默认取 RMS <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7Brms%7D%7D"> 计算 (峰值也行其实), <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_p%20=%20%5Csqrt%7B2%7D%20V_%7B%5Ctext%7Brms%7D%7D%7D"></li>
<li><strong>Bypass Capacitor</strong>: 与某个电阻 <img src="https://latex.codecogs.com/png.latex?R"> 并联的电容, 使得交流信号在至少 <img src="https://latex.codecogs.com/png.latex?f_%7B%5Cmin%7D"> 频率下看起来无阻抗, <img src="https://latex.codecogs.com/png.latex?C"> 必须足够大 (<img src="https://latex.codecogs.com/png.latex?X_C"> 必须足够小): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BX_C%20%5Cle%20%5Cfrac%7BR%7D%7B10%7D%7D"></li>
</ul></li>
<li>将等效电路中的 BJT 换成 Figure&nbsp;4 (b) 中的模型, 然后当作正常电路分析即可.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;理想电容记为 <img src="https://latex.codecogs.com/png.latex?C_%7B%5Cinfty%7D">, 理想电感记为 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRFC%7D"> (Radio Frequency Choke).</p></div></div><ul>
<li>最后 DC 和 AC 的结果叠加起来, 注意 <strong>这时候 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7BCC%7D%7D"> 不能接地了</strong><sup>9</sup>, 所有元件都正常.</li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn9"><p><sup>9</sup>&nbsp;特别是在分析为什么 Common Emitter 相位是 180 度的时候, <img src="https://latex.codecogs.com/png.latex?V_%5Ctext%7BC%7D%20=%20V_%7B%5Ctext%7BCC%7D%7D%20-%20I_%5Ctext%7BC%7D%20R_%5Ctext%7BC%7D">, <img src="https://latex.codecogs.com/png.latex?V_B%20%5Cuparrow%20%5Cimplies%20I_B%20%5Cuparrow%20%5Cimplies%20I_C%20%5Cuparrow%20%5Cimplies%20V_%5Ctext%7BC%7D%20%5Cdownarrow"></p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Thevenin 等效电路
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/dc-example.png" class="img-fluid figure-img"></p>
<figcaption>求解 Figure&nbsp;10</figcaption>
</figure>
</div>
<p>Figure&nbsp;10 中 <img src="https://latex.codecogs.com/png.latex?A"> 点电压不能直接分压求解! 虽然 <img src="https://latex.codecogs.com/png.latex?I_%7B%5Ctext%7BA%7D%7D"> 很小: <img src="https://latex.codecogs.com/png.latex?%20V_A%20%5Cneq%20%5Cfrac%7BR_2%7D%7BR_1%20+%20R_2%7D%20V_%7B%5Ctext%7BCC%7D%7D"></p>
<p>要用 Thevenin 等效电路求解!</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Bypass Capacitor 大小的计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/bypass-capacitor.png" class="img-fluid figure-img"></p>
<figcaption>Bypass Capacitor 大小的计算</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ### Common Emitter (CE) 共射放大器 -->
</section>
</section>
<section id="mixer-circuit-混频电路" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="mixer-circuit-混频电路"><span class="header-section-number">5</span> Mixer Circuit 混频电路 ★★★☆☆</h2>
<ul>
<li>目的: 其实就是完成了<strong>调制和解调</strong>的时候将两个正弦信号 <img src="https://latex.codecogs.com/png.latex?v_1,%20v_2"> 乘在一起的过程
<ul>
<li><img src="https://latex.codecogs.com/png.latex?v_1%20=%20V_1%20%5Ccos(%5Comega_1%20t),%20v_2%20=%20V_2%20%5Ccos(%5Comega_2%20t)"></li>
<li>一般要结合滤波器保留需要的频率成分 (上边带 <img src="https://latex.codecogs.com/png.latex?%5Comega_1%20+%20%5Comega_2"> 或 下边带 <img src="https://latex.codecogs.com/png.latex?%7C%5Comega_1%20-%20%5Comega_2%7C">, 为了区分 <strong>Rejection 滤波</strong>, 姑且叫做 <strong>“Second” 滤波</strong><sup>10</sup>).</li>
</ul></li>
<li>由于产生了新的频率成分, 需要引入二极管之类的<strong>非线性元件</strong>.</li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;我自己起的名字, 只是因为他在 Rejection 滤波器之后.</p></div></div><section id="sec-common-mixer" class="level3 page-columns page-full" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="sec-common-mixer"><span class="header-section-number">5.1</span> Common Mixer 常见混频器</h3>
<section id="sec-diode-mixer" class="level4 page-columns page-full" data-number="5.1.1">
<h4 data-number="5.1.1" class="anchored" data-anchor-id="sec-diode-mixer"><span class="header-section-number">5.1.1</span> Diode Mixer 二极管混频器</h4>
<div id="fig-diode-mixer" class="quarto-float quarto-figure quarto-figure-center anchored" width="60%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-diode-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/diode-mixer.png" id="fig-diode-mixer" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-diode-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11
</figcaption>
</figure>
</div>
<ul>
<li>Figure&nbsp;11 1 点电压 <img src="https://latex.codecogs.com/png.latex?V_1%20=%20(v_1+v_2)/2">, 相当于两个交流电压源 <img src="https://latex.codecogs.com/png.latex?v_1,%20v_2"> 串联.</li>
<li>Diode Mixer 要求 <img src="https://latex.codecogs.com/png.latex?v_1,%20v_2"> 很小 (所以 <img src="https://latex.codecogs.com/png.latex?i_D"> 也很小), 二极管要用 <strong>Shockley 方程</strong> 来建模!</li>
<li>由 Taylor 展开 Shockley 方程, <img src="https://latex.codecogs.com/png.latex?i_D"> 有 <img src="https://latex.codecogs.com/png.latex?v_D,%20v_D%5E2,%20v_D%5E3,%20%5Ccdots"> 成分, 分别对应:
<ul>
<li>一次谐波: <img src="https://latex.codecogs.com/png.latex?%5Comega_1,%20%5Comega_2"></li>
<li>二次谐波: <img src="https://latex.codecogs.com/png.latex?2%20%5Comega_1,%202%20%5Comega_2,%20%5Comega_1%20+%20%5Comega_2,%20%7C%5Comega_1%20-%20%5Comega_2%7C"></li>
<li>更高次谐波 …</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/diode-freq.png" class="img-fluid figure-img"></p>
<figcaption>二极管混频器输出的频谱</figcaption>
</figure>
</div>
</div></div></section>
<section id="bjt-jfet-mixer-晶体管混频器" class="level4" data-number="5.1.2">
<h4 data-number="5.1.2" class="anchored" data-anchor-id="bjt-jfet-mixer-晶体管混频器"><span class="header-section-number">5.1.2</span> BJT &amp; JFET Mixer 晶体管混频器</h4>
<div id="fig-bjt-mixer" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bjt-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/BJT-mixer.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bjt-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: 以 BJT Mixer 为例
</figcaption>
</figure>
</div>
<ul>
<li>BJT 的 B, E 间其实是隐藏的二极管 (见 Section&nbsp;2.3.2)</li>
<li>BJT Mixer 自带放大效果 (输出的电流可以比较大).</li>
<li>Figure&nbsp;12 的 <img src="https://latex.codecogs.com/png.latex?L,%20C"> 是带通滤波器 (<strong>“Second” 滤波</strong>)</li>
<li>若换成 JFET Mixer, 不再满足 Shockley 方程, 而是 Transfer curve 的<strong>二次关系</strong> (Figure&nbsp;3), 没有高次谐波成分了, nice!</li>
</ul>
</section>
<section id="dual-gate-mosfet-mixer" class="level4" data-number="5.1.3">
<h4 data-number="5.1.3" class="anchored" data-anchor-id="dual-gate-mosfet-mixer"><span class="header-section-number">5.1.3</span> Dual-Gate MOSFET Mixer</h4>
<p>(Omitted)</p>
</section>
<section id="sec-ring-modulator" class="level4" data-number="5.1.4">
<h4 data-number="5.1.4" class="anchored" data-anchor-id="sec-ring-modulator"><span class="header-section-number">5.1.4</span> Diode Ring Modulator 环形调制器</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Ring-modulator.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>环形调制器输入 <img src="https://latex.codecogs.com/png.latex?e_i"> 输出 DSB-SC 调制信号, 载波一般用矩形波</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-image-frequency" class="level3 page-columns page-full" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="sec-image-frequency"><span class="header-section-number">5.2</span> Image Frequency 镜像频率</h3>
<ul>
<li><p>混频器输出的二次谐波里的 <img src="https://latex.codecogs.com/png.latex?%7C%5Comega_1%20-%20%5Comega_2%7C"> 项不仅有希望的 <img src="https://latex.codecogs.com/png.latex?f_%7B%5Ctext%7BRF%7D%7D"> 频率, 还有可能存在的 <strong>镜像频率</strong> <img src="https://latex.codecogs.com/png.latex?f_%7B%5Ctext%7Bimage%7D%7D">.</p></li>
<li><p><strong>Image frequency rejection</strong>: 当我们 mixing 后需要保留 <img src="https://latex.codecogs.com/png.latex?%7C%5Comega_1%20-%20%5Comega_2%7C"> 成分时, 我们不希望受到 <img src="https://latex.codecogs.com/png.latex?f_%7B%5Ctext%7Bimage%7D%7D"> 的干扰, 所以加一个 BPF 来滤掉它 (Figure&nbsp;13)</p></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-rejection-filter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rejection-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/rejection-filter.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rejection-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Rejection 滤波器例子
</figcaption>
</figure>
</div>
</div></div><div id="fig-image-rejection" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-image-rejection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/image-rejection.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-image-rejection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: 用带通滤波器滤掉可能存在的镜像频率, 定量分析见 Section&nbsp;6.3, <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BIF%7D%7D"> 见 Section&nbsp;8.3.2
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-rlc-filter" class="level2 page-columns page-full" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="sec-rlc-filter"><span class="header-section-number">6</span> RLC 电路作为滤波器</h2>
<blockquote class="blockquote">
<p>这门课中 含有 RLC 这个电路整体的地方包括: <strong>Image Rejection 滤波器, 振荡器的反馈电路, PLL 的 loop filter 低通滤波</strong>, 我们单独来看一看.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>High Frequency Effects/Parasitic Effects 高频/寄生效应</strong>: <img src="https://latex.codecogs.com/png.latex?R,%20L,%20C"> 元件甚至导线在高频时表现不再理想, 都有了<strong>寄生电容</strong>和<strong>寄生电感</strong>. 但这超出了电路的集总 (lumped) 假设, 一般不讨论.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/parasitic-effect.png" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?L"> 在高频下变成 <img src="https://latex.codecogs.com/png.latex?RLC"> 电路了</figcaption>
</figure>
</div>
</div></div><section id="resonance-协振" class="level3 page-columns page-full" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="resonance-协振"><span class="header-section-number">6.1</span> Resonance 协振</h3>
<ul>
<li><p><strong>Tank circuit</strong>: 并联 <img src="https://latex.codecogs.com/png.latex?LC"> 电路中是有储存的能量的, 所以称为 Tank.</p></li>
<li><p><strong>Flywheel effect</strong>: <img src="https://latex.codecogs.com/png.latex?LC"> 电路中 <img src="https://latex.codecogs.com/png.latex?L"> 和 <img src="https://latex.codecogs.com/png.latex?C"> 之间有能量交换 (用弹簧振子类比, 弹性势能和动能之间的交换).</p></li>
<li><p>协振时 <img src="https://latex.codecogs.com/png.latex?LC"> 串联电路相当于短路, <img src="https://latex.codecogs.com/png.latex?LC"> 并联电路相当于断路. 即电路表现为<strong>纯电阻</strong>, 即: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5CIm%7B(Z)%7D%20=%200,%20%5Cquad%20%5Ctext%7Bor%20%7D%20%5CIm%7B(Y)%7D%20=%200%7D"></p>
<ul>
<li>对 <img src="https://latex.codecogs.com/png.latex?LC"> 电路, <span id="eq-resonance"><img src="https://latex.codecogs.com/png.latex?%5CIm%20(Z)%20=%20%5CIm%20%5Cleft(%5Cfrac%7B1%7D%7BCj%5Comega_0%7D%20+%20Lj%5Comega_0%5Cright)%20=%200%20%5Cimplies%20%5Cboxed%7B%5Comega_0%20=%20%5Csqrt%7B%5Cfrac%7B1%7D%7BCL%7D%7D%7D%20%5Ctag%7B5%7D"></span></li>
<li>对 <img src="https://latex.codecogs.com/png.latex?RLC"> 电路 (Figure&nbsp;15), 算 <img src="https://latex.codecogs.com/png.latex?Y"> 更方便: <img src="https://latex.codecogs.com/png.latex?%5CIm%20(Y)%20=%20%5CIm%20%5Cleft(%5Cfrac%7B1%7D%7BR%20+%20Lj%20%5Comega_0%7D%20+%20Cj%20%5Comega_0%5Cright)%20=%200%20%5Cimplies%20%5Comega_0%20=%20%5Csqrt%7B%5Cfrac%7B1%7D%7BCL%7D-%5Cfrac%7BR%5E2%7D%7BL%5E2%7D%7D"></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-RLC-resonance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RLC-resonance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/RLC-resonance.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RLC-resonance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: 对于 <img src="https://latex.codecogs.com/png.latex?Q%3E10"> 的 <img src="https://latex.codecogs.com/png.latex?RLC"> 电路可以忽略 <img src="https://latex.codecogs.com/png.latex?R">
</figcaption>
</figure>
</div>
</div></div></section>
<section id="q-factor-品质因数" class="level3 page-columns page-full" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="q-factor-品质因数"><span class="header-section-number">6.2</span> Q-factor 品质因数</h3>
<blockquote class="blockquote">
<p>Q-factor 在一阶系统和二阶系统都有定义, 但不太一样. 先是在二阶系统上定义, 再<strong>形式化</strong>地迁移到了一阶系统上.</p>
</blockquote>
<section id="二阶系统-c-l-都存在" class="level4 page-columns page-full" data-number="6.2.1">
<h4 data-number="6.2.1" class="anchored" data-anchor-id="二阶系统-c-l-都存在"><span class="header-section-number">6.2.1</span> 二阶系统 (<img src="https://latex.codecogs.com/png.latex?C,%20L"> 都存在)</h4>
<blockquote class="blockquote">
<p>Q-factor 衡量了一个二阶电路的滤波品质. <img src="https://latex.codecogs.com/png.latex?Q"> 越大, 滤波器的频率选择性越好.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Q-factor-demo.png" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?Q"> 越大, 滤波器的频率选择性越好</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Dissipation</strong> <img src="https://latex.codecogs.com/png.latex?D%20:=%201/Q."></p></li>
<li><p>等价定义(或推论):</p>
<ul>
<li><p>二阶系统 (如弹簧振子模型) <strong>在共振(协振 resonance)条件下</strong> (<img src="https://latex.codecogs.com/png.latex?%5Comega_0">), 系统储存的能量与一个周期内消耗的能量 (在 <img src="https://latex.codecogs.com/png.latex?R"> 上) 之比, 的 <img src="https://latex.codecogs.com/png.latex?2%5Cpi"> 倍: <img src="https://latex.codecogs.com/png.latex?%20Q%20:=%202%5Cpi%20%5Ccdot%20%5Cfrac%7B%20%5Ctext%7BEnergy%20stored%7D%7D%7B%5Ctext%7BEnergy%20dissipated%20in%20one%20period%7D%7D"> 这是其定义式, 但不会用它来计算, 可以由这个式子推出所有以下结论:</p></li>
<li><p>串联协振 (记忆: 串联电流主导, <img src="https://latex.codecogs.com/png.latex?R"> 在分母, <img src="https://latex.codecogs.com/png.latex?R"> 越大越耗能, <img src="https://latex.codecogs.com/png.latex?Q"> 越小): <span id="eq-serial-Q"><img src="https://latex.codecogs.com/png.latex?%20%5Cboxed%7BQ%20=%20%5Cfrac%7B%5Comega_0%20L%7D%7BR%7D%20=%20%5Cfrac%7B1%7D%7B%5Comega_0%20C%20R%7D%7D%20%5Ctag%7B6%7D"></span> 并联协振 (记忆: 并联电压主导, <img src="https://latex.codecogs.com/png.latex?R"> 在分子, <img src="https://latex.codecogs.com/png.latex?R"> 越大泻能越慢, <img src="https://latex.codecogs.com/png.latex?Q"> 越大): <span id="eq-parallel-Q"><img src="https://latex.codecogs.com/png.latex?%20%5Cboxed%7BQ%20=%20%5Cfrac%7BR%7D%7B%5Comega_0%20L%7D%20=%20%5Comega_0%20C%20R%7D%20%5Ctag%7B7%7D"></span> 这两个式子在 Section&nbsp;6.2.2 被形式化地迁移到了一阶系统上, 在匹配网络设计 (Section&nbsp;3.4) 中频繁用到!</p></li>
<li><p>不管串/并联协振, <img src="https://latex.codecogs.com/png.latex?Q"> 都可由 中心频率和 <img src="https://latex.codecogs.com/png.latex?-3%5Ctext%7B%20dB%7D"> 带宽之比来表示 : <span id="eq-q-center-over-bandwidth"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BQ%20=%20%5Cfrac%7B%5Comega_0%7D%7B%5CDelta%20%5Comega%7D%7D,%20%5CDelta%20%5Comega%20=%20%5Comega_2-%5Comega_1,%20%5Cquad%20%5Ctext%7Bwhen%20%7D%2020%5Clg%7CH(%5Comega_%7B1,2%7D)%7C%20=%20-3%5Ctext%7B%20dB%7D%20%5Ctag%7B8%7D"></span></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 是 <img src="https://latex.codecogs.com/png.latex?%5Comega_1"> 和 <img src="https://latex.codecogs.com/png.latex?%5Comega_2"> 的几何平均: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Comega_0%5E2%20=%20%5Comega_1%20%5Comega_2%7D"> 但是实际上很接近算数平均, 所以可以这样算截止频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_1,%20%5Comega_2">: <img src="https://latex.codecogs.com/png.latex?%20%5Cbegin%7Bcases%7D%20%5Comega_1%20&amp;%5Capprox%20%5Comega_0%20-%20%5Cfrac%7B%5CDelta%20%5Comega%7D%7B2%7D%20%5C%5C%20%5Comega_2%20&amp;%5Capprox%20%5Comega_0%20-%20%5Cfrac%7B%5CDelta%20%5Comega%7D%7B2%7D%5Cend%7Bcases%7D"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/RLC-BPF.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 是 <img src="https://latex.codecogs.com/png.latex?%5Comega_1"> 和 <img src="https://latex.codecogs.com/png.latex?%5Comega_2"> 的几何平均, 但计算时可用算数平均来近似计算</figcaption>
</figure>
</div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>「半功率」点 <img src="https://latex.codecogs.com/png.latex?-3%5Ctext%7B%20dB%7D"> 对应的 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 叫 <strong>截止频率</strong>, <img src="https://latex.codecogs.com/png.latex?%7CH%7C%5E2%20=%200.5">.</p>
</div></div></section>
<section id="sec-q-factor-1st-order" class="level4" data-number="6.2.2">
<h4 data-number="6.2.2" class="anchored" data-anchor-id="sec-q-factor-1st-order"><span class="header-section-number">6.2.2</span> 一阶系统 (<img src="https://latex.codecogs.com/png.latex?RC"> 或 <img src="https://latex.codecogs.com/png.latex?RL"> 电路)</h4>
<blockquote class="blockquote">
<p>直接将 Equation&nbsp;6 和 Equation&nbsp;7 的 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> <strong>形式化</strong>地替换成当前的频率 <img src="https://latex.codecogs.com/png.latex?%5Comega">, 所以一阶电路的 <img src="https://latex.codecogs.com/png.latex?Q"> 不再固定, <strong>跟工作频率有关</strong>.</p>
</blockquote>
<div id="fig-Q-factor-1st-order" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Q-factor-1st-order-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Q-factor-1st-order.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Q-factor-1st-order-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: 电容和电感可以进一步抽象为纯虚数的电抗 <img src="https://latex.codecogs.com/png.latex?X">, <img src="https://latex.codecogs.com/png.latex?s,%20p"> 代表 series, parallel
</figcaption>
</figure>
</div>
<ul>
<li><strong>Serial-Parallel Conversion</strong>
<ul>
<li><strong>动机</strong>: Figure&nbsp;16 中两种电路的总体来说就是一个阻抗 <img src="https://latex.codecogs.com/png.latex?Z_s,%20Z_p">, <strong>给定频率 <img src="https://latex.codecogs.com/png.latex?%5Comega"></strong>, <img src="https://latex.codecogs.com/png.latex?R_s,%20R_p"> 和 <img src="https://latex.codecogs.com/png.latex?X_s,%20X_p"> 要满足什么条件他们可以完全等效? i.e., <img src="https://latex.codecogs.com/png.latex?Z_s%20=%20Z_p">.</li>
<li><strong>结论</strong>: 等效时, <strong>并联</strong>的电阻和电抗都要大一些: <span id="eq-q-factor-serial-parallel-conversion"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cfrac%7BR_p%7D%7BR_s%7D%20&amp;=%201+Q%5E2%20%5C%5C%0A%20%20%5Cfrac%7BX_p%7D%7BX_s%7D%20&amp;=%201+%5Cfrac%7B1%7D%7BQ%5E2%7D%0A%20%20%5Cend%7Baligned%7D%7D%0A%20%20%20%5Ctag%7B9%7D"></span></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equation&nbsp;9 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Figure&nbsp;16 中串联和并联的阻抗 <img src="https://latex.codecogs.com/png.latex?Z_s,%20Z_p"> 为: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AZ_s%20&amp;=%20R_s%20+%20j%20X_s%20%5C%5C%0A%5Cfrac%7B1%7D%7BZ_p%7D%20&amp;=%20%5Cfrac%7B1%7D%7BR_p%7D%20+%20%5Cfrac%7B1%7D%7Bj%20X_p%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>令 <img src="https://latex.codecogs.com/png.latex?Z_s%20=%20Z_p">, 实部与虚部分别相等, 再代入 Figure&nbsp;16 中的公式 (由于等效, 串联和并联的电路的 <img src="https://latex.codecogs.com/png.latex?Q"> 肯定一样, <img src="https://latex.codecogs.com/png.latex?Q%20%5Cequiv%20%5Cfrac%7BX_s%7D%7BR_s%7D%20=%20%5Cfrac%7BR_p%7D%7BX_p%7D">) 即可: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A&amp;%5Cfrac%7B1%7D%7BR_s%20+%20j%20X_s%7D%20=%20%5Cfrac%7B1%7D%7BR_p%7D%20+%20%5Cfrac%7B1%7D%7Bj%20X_p%7D%20%5C%5C%0A%5Cimplies%20&amp;%5Cfrac%7BR_s%20-%20jX_s%7D%7BR_s%5E2%20+%20X_s%5E2%7D%20=%20%5Cfrac%7B1%7D%7BR_p%7D%20-%20j%20%5Cfrac%7B1%7D%7BX_p%7D%20%5C%5C%0A%5Cimplies%20&amp;%5Cbegin%7Bcases%7D%20%5CRe%20=%20%5Cfrac%7BR_s%7D%7BR_s%5E2%20+%20X_s%5E2%7D%20=%20%5Cfrac%7B1%7D%7BR_p%7D%20%5Cimplies%20%5Cfrac%7BR_p%7D%7BR_s%7D%20=%201%20+%20%5Cfrac%7BX_s%5E2%7D%7BR_s%5E2%7D%20=%201%20+%20Q%5E2%20%5C%5C%20%5CIm%20=%20%5Cfrac%7BX_s%7D%7BR_s%5E2%20+%20X_s%5E2%7D%20=%20%5Cfrac%7B1%7D%7BX_p%7D%20%5Cimplies%20%5Cfrac%7BX_p%7D%7BX_s%7D%20=%201%20+%20%5Cfrac%7BR_s%5E2%7D%7BX_s%5E2%7D%20=%201+%5Cfrac%7B1%7D%7BQ%5E2%7D%20%5Cend%7Bcases%7D%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="sec-rlc-rejection-filter" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="sec-rlc-rejection-filter"><span class="header-section-number">6.3</span> RLC 电路作为 Image Rejection 滤波器</h3>
<p>将 Figure&nbsp;13 作为一个整体, 其 admittance (<a href="https://en.wikipedia.org/wiki/Admittance">导纳</a>) <img src="https://latex.codecogs.com/png.latex?Y"> 跟输入频率有关, 算出来是: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%7CY%7C%20=%20Y_0%20%5Csqrt%7B1+(%5Cdelta%20Q)%5E2%7D%0A%7D%0A"> 其中 <img src="https://latex.codecogs.com/png.latex?Y_0"> 是电路在协振 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 时的导纳. <img src="https://latex.codecogs.com/png.latex?%5Cdelta%20:=%20%5Cfrac%7B%5Comega%7D%7B%5Comega_0%7D%20-%20%5Cfrac%7B%5Comega_0%7D%7B%5Comega%7D">, <img src="https://latex.codecogs.com/png.latex?Q"> 是品质因数.</p>
<p>给 <img src="https://latex.codecogs.com/png.latex?a,%20b"> 输入相同的电流 phasor <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BI%7D">, <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BV%7D_%7Bab%7D"> 的长度代表了滤波后的电压信号振幅, 由 <img src="https://latex.codecogs.com/png.latex?%7C%5Ctilde%7BV%7D_%7Bab%7D%7C%20=%20%7C%5Ctilde%7BI%7D%7C%20/%20%7CY%7C"> 知: 滤波器的输出<strong>反比</strong>于 <img src="https://latex.codecogs.com/png.latex?%7CY%7C">.</p>
<p>以 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 点为参考, 定义滤波器在 Figure&nbsp;14 的 任意频率 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 上的 <strong>attenuation</strong> <img src="https://latex.codecogs.com/png.latex?%7CA_r%7C"> 为 (一般还要化成 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D"> 单位): <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%7CA_r%7C%20:=%20%5Cleft%7C%5Cfrac%7B%5Ctilde%7BV%7D_%5Comega%7D%7B%5Ctilde%7BV%7D_%7B%5Comega_0%7D%7D%5Cright%7C%20=%20%5Cfrac%7BY_0%7D%7BY%7D%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B1+(%5Cdelta%20Q)%5E2%7D%7D%0A%7D%0A"></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: RLC Rejection 滤波器 attenuation 的定量分析
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/RLC-rejection-example.png" class="img-fluid"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-rlc-oscillator" class="level3 page-columns page-full" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="sec-rlc-oscillator"><span class="header-section-number">6.4</span> RLC 电路作为振荡器的反馈电路 ★★★★★ (See Section&nbsp;7.2)</h3>
<section id="phase-shift-oscillator-只有-rc-的反馈" class="level4" data-number="6.4.1">
<h4 data-number="6.4.1" class="anchored" data-anchor-id="phase-shift-oscillator-只有-rc-的反馈"><span class="header-section-number">6.4.1</span> Phase-shift oscillator 只有 <img src="https://latex.codecogs.com/png.latex?RC"> 的反馈</h4>
<blockquote class="blockquote">
<p>Figure&nbsp;17 结构的振荡器输出的中心振荡频率 <span id="eq-pso-omega0"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Comega_0%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B6%7DRC%7D%7D%20%5Ctag%7B10%7D"></span></p>
</blockquote>
<div id="fig-phase-shift-osc-struct" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-phase-shift-osc-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Phase-shift-osc-struct.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-phase-shift-osc-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17: Phase-shift oscillator 的反馈电路结构
</figcaption>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equation&nbsp;10 推导过程
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-phase-shift-osc-derive" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-phase-shift-osc-derive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Phase-shift-osc-derive.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-phase-shift-osc-derive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18: Phase-shift oscillator 的中心频率的推导过程
</figcaption>
</figure>
</div>
<p>注意: <strong>不能用三个 <img src="https://latex.codecogs.com/png.latex?RC"> LPF 的连级来计算!</strong>, 因为每加一个 <img src="https://latex.codecogs.com/png.latex?RC"> 就相当于加了负载 (这个思想见 Section&nbsp;1), 会影响之前的电路的滤波性质:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/RC-with-buffer.png" class="img-fluid figure-img"></p>
<figcaption>加 Buffer 才能用连级的思想</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 用 Equation&nbsp;10 来计算输出频率
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/phase-shift-osc-calculation.png" class="img-fluid"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-tapped-network" class="level4 page-columns page-full" data-number="6.4.2">
<h4 data-number="6.4.2" class="anchored" data-anchor-id="sec-tapped-network"><span class="header-section-number">6.4.2</span> Tapped network 含 <img src="https://latex.codecogs.com/png.latex?RLC"> 的反馈</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p><strong>Tapped network</strong>: 一个电路从中间某两个部分引出两条线<sup>11</sup> (称为 “tap”) 分别作为输入和输出后形成的二端网络.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn11"><p><sup>11</sup>&nbsp;比如滑动变阻器的滑片可称为 “tap”.</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-tapped-network" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tapped-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/tapped-network.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tapped-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19: Tapped network 例子
</figcaption>
</figure>
</div>
</div></div><ul>
<li><p>根据所用的不同 Tapped network (Figure&nbsp;19), 给振荡器起了不同名字 (仅仅是起个名字): <strong>Hartley, Colpitts, Clapp</strong>, etc.</p></li>
<li><p><strong>这里题目一般只会叫你算中心频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0">, 只要将他给的电路进行 AC 等效, 然后与 Figure&nbsp;22 进行对比找出 <img src="https://latex.codecogs.com/png.latex?%5Cbeta(s)"> 的部分, 这个部分是一个 <img src="https://latex.codecogs.com/png.latex?LC"> 协振电路, 是一个 BPF, 所以其协振频率就是振荡器的输出频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0">!<sup>12</sup></strong></p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn12"><p><sup>12</sup>&nbsp;这也是为什么协振频率和振荡器的输出频率是都用 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 表示的原因.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 找出下面振荡器的反馈部分 并算出其输出频率
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Hartley1.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Hartley: <img src="https://latex.codecogs.com/png.latex?%5Comega_0%20=%201/%5Csqrt%7B(L_1+L_2)C%7D"></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Hartley2.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Hartley: 跟左边一样</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="fig-Colpitts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Colpitts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Colpitts.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Colpitts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;20: Colpitts: <img src="https://latex.codecogs.com/png.latex?%5Comega_0%20=%201/%5Csqrt%7B%5BC_1C_2/(C_1+C_2)%5DL_1%7D">
</figcaption>
</figure>
</div>
<p>注意上面的 BJT 的 Base 上并不是没有输入, 而是省略了正向开启电压提供电路.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="sec-rc-pll" class="level3 page-columns page-full" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="sec-rc-pll"><span class="header-section-number">6.5</span> <img src="https://latex.codecogs.com/png.latex?RC"> 电路作为 PLL 的 Loop Filter</h3>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-rc-filter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rc-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/RC-filter.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rc-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;21: <img src="https://latex.codecogs.com/png.latex?RC"> 低通滤波器
</figcaption>
</figure>
</div>
</div></div><ul>
<li>Figure&nbsp;21 的传递函数为: <img src="https://latex.codecogs.com/png.latex?F(s)%20=%20%5Cfrac%7B1%7D%7B1+RCs%7D"> 其 <strong>截止频率</strong> <img src="https://latex.codecogs.com/png.latex?%5Comega_p"> 来自「半功率」点: <img src="https://latex.codecogs.com/png.latex?%7CF(s)%7C%5E2%20=%20%5Cfrac%7B1%7D%7B1+(RC%5Comega_p)%5E2%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cimplies%20%5Cboxed%7B%5Comega_p%20=%20%5Cfrac%7B1%7D%7BRC%7D%7D"></li>
</ul>
</section>
</section>
<section id="oscillator-circuit-振荡器" class="level2 page-columns page-full" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="oscillator-circuit-振荡器"><span class="header-section-number">7</span> Oscillator Circuit 振荡器 ★★★☆☆</h2>
<blockquote class="blockquote">
<p>程序的执行需要时钟, 我们需要一个电路, 它可以<strong>自发持续稳定</strong> (而不是像 <img src="https://latex.codecogs.com/png.latex?LC"> 电路被动地) 地输出一个周期信号 (e.g., 正弦波), 称为<strong>振荡器</strong>. 如果频率还能调整的话就更好 (VCO, Voltage Controlled Oscillator).</p>
</blockquote>
<section id="电路振荡要满足的条件" class="level3 page-columns page-full" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="电路振荡要满足的条件"><span class="header-section-number">7.1</span> 电路振荡要满足的条件</h3>
<div id="fig-osc-feedback" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-osc-feedback-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/positive-feedback.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-osc-feedback-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;22: 用正反馈来产生自发振荡, 振荡的根源在于内部的热噪声
</figcaption>
</figure>
</div>
<ul>
<li>为什么会自发震荡? (热噪声见 Section&nbsp;8.3.3)
<ul>
<li><strong>热噪声不可避免</strong></li>
<li><strong>热噪声为白噪声 (频谱中含有所有的频率)</strong>, 通过线性系统有制造出任意想要的频率的潜力.</li>
<li>我们希望小噪声在正反馈系统里不断被「放大」<sup>13</sup> (用 <img src="https://latex.codecogs.com/png.latex?A(s)">), 而且能够筛选出我们想要的频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> (用 <img src="https://latex.codecogs.com/png.latex?%5Cbeta(s)">, <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 是振荡器的自发频率, 称为<strong>中心频率或工作频率</strong>, 是反馈 <img src="https://latex.codecogs.com/png.latex?LC"> 电路中的协振频率).</li>
</ul></li>
<li><strong>Barkhausen Stability Criterion 巴克豪森准则</strong>: Figure&nbsp;22 要振荡, 必须满足 (但不保证振荡): <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cbegin%7Bcases%7D%20%7CA%20%5Cbeta%7C%20%5Cge%201%20%5C%5C%20%5Cangle%20(A%20%5Cbeta)%20=%200%20%5Cend%7Bcases%7D%0A%7D%0A"></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn13"><p><sup>13</sup>&nbsp;在 Section&nbsp;1 中我们提到过「信号是复值的」, 这意味着「放大」这个词不一定代表指数增长的信号, 也代表正弦信号, 指数信号和正弦信号的在复数看来本质是一样的.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Barkhausen 准则的理解
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>一个小噪声在 <img src="https://latex.codecogs.com/png.latex?%5Comega"> 频点每经过一次系统回来后都被「放大」了: <img src="https://latex.codecogs.com/png.latex?%0AH(j%20%5Comega)%20=%20A(j%20%5Comega)%20%5Cbeta(j%20%5Comega)%0A"></p>
<p>那这个信号一遍又一遍经过系统出来以后被「放大」了: <span id="eq-geometric-series"><img src="https://latex.codecogs.com/png.latex?%0A1%20+%20H(j%20%5Comega)%20+%20H(j%20%5Comega)%5E2%20+%20H(j%20%5Comega)%5E3%20+%20%5Ccdots%0A%5Ctag%7B11%7D"></span></p>
<p>这是一个等比数列, 要想震荡, 这个值一定不能收敛, 也就是公比不能太小: <img src="https://latex.codecogs.com/png.latex?%0A%7CH(j%20%5Comega)%7C%20%5Cge%201%0A"></p>
<p>另外回来的相位必须跟原来同向 (相位差是零, <img src="https://latex.codecogs.com/png.latex?%5Cangle(A%20%5Cbeta)%20=%200">), 不然 Equation&nbsp;11 的每一项就会均匀分布在复平面上, 会被平均掉.</p>
<p>真实的过程就是 Equation&nbsp;11 的求和是很快地一项一项求和 (因为<strong>反馈是需要时间的</strong>, 如果反馈不需要时间就不会震荡了, 如果宇宙是计算机的话, 直接 run time error), 如果发散的话就一直来回变化怎么也停不下来, 也就是在时间上震荡, 如果我们直接列方程求解的话是想一步到位求出稳态 (见 Section&nbsp;1), 但是它收敛不了, 最后的结果就是无穷大.</p>
<p>如果我们要输出固定的频率的话, 只需要在反馈的过程中让 <img src="https://latex.codecogs.com/png.latex?%5Cbeta(s)"> 筛选出我们想要的频率就行了 (BPF).</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-design-positive-feedback" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="sec-design-positive-feedback"><span class="header-section-number">7.2</span> 设计正反馈电路</h3>
<blockquote class="blockquote">
<p>现在要设计 Figure&nbsp;22 中的反馈电路 <img src="https://latex.codecogs.com/png.latex?%5Cbeta(s)">, 目标是要跟 <img src="https://latex.codecogs.com/png.latex?A(s)"> 一起满足 Barkhausen 准则, 而且要滤出所需震荡频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0">. 简单起见, 就用 <img src="https://latex.codecogs.com/png.latex?LC"> 电路吧.</p>
</blockquote>
<ul>
<li>这个正反馈电路可以只含有 <img src="https://latex.codecogs.com/png.latex?RC"> 元件, 也可以利用 <img src="https://latex.codecogs.com/png.latex?RLC"> 的协振, 所有内容见 Section&nbsp;6.4.</li>
</ul>
</section>
<section id="sec-vco" class="level3 page-columns page-full" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="sec-vco"><span class="header-section-number">7.3</span> VCO (Voltage Controlled Oscillator) 电压控制振荡器</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>VCO 接收一个电压<sup>14</sup> <img src="https://latex.codecogs.com/png.latex?V_o">, 输出一个频率与之 近似线性 的周期信号.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn14"><p><sup>14</sup>&nbsp;Notation 开始变得抽象了, 用 <img src="https://latex.codecogs.com/png.latex?V_o"> 是因为 PLL 里面 VCO 的输入是 LPF 的输出, 所以用 out.</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-VCO-plot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-VCO-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/VCO-plot.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-VCO-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;23: VCO 输入输出近似线性 (见 Equation&nbsp;13)
</figcaption>
</figure>
</div>
</div></div><ul>
<li><strong>Varicap (Varactor) diode 可变电容</strong>: 这种电容的电容值 <img src="https://latex.codecogs.com/png.latex?C_D"> 可通过外界输入的电压 <img src="https://latex.codecogs.com/png.latex?V_D"> 来调节 (<img src="https://latex.codecogs.com/png.latex?C_0%20%5Capprox%2018%5Ctext%7B%20pF%7D"> 是 <img src="https://latex.codecogs.com/png.latex?V_D"> 等于零的电容值): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BC_D%20=%20%5Cfrac%7BC_0%7D%7B%5Csqrt%7B1%20+%20%5Cfrac%7B%7CV_D%7C%7D%7B0.5%7D%7D%7D%7D">
<ul>
<li>VCO 就是用了 varicap diode 的自发 oscillator, 通过输入电压, 改变电容值, 进而通过 Equation&nbsp;5 改变振荡频率.</li>
</ul></li>
</ul>
</section>
<section id="pll-phase-locked-loops-锁相环" class="level3 page-columns page-full" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="pll-phase-locked-loops-锁相环"><span class="header-section-number">7.4</span> PLL (Phase Locked Loops) 锁相环 ★★★★★</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>锁相环可以看作 VCO 的应用, 它接收一个周期信号, 输出一个与之相位同步 (当然频率也要一样) 的周期信号 (正弦波或方波)<sup>15</sup>.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn15"><p><sup>15</sup>&nbsp;这样做看起来没啥意义? 其实可以改装 PLL 造出电脑里那么高的时钟频率发生器, 也可以让单片机的定时器可以定到宇宙毁灭. (用 frequency multipler 的连级! 见 Figure&nbsp;24 和 Figure&nbsp;35).</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-PLL-freq-mult" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL-freq-mult-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/PLL-freq-mult.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL-freq-mult-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;24: PLL 甚至可以把 frequency divider 变成 frequency multipler
</figcaption>
</figure>
</div>
</div></div><div id="fig-PLL-struct" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/PLL-struct.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;25: PLL 都有的结构, LPF 也叫 <strong>Loop Filter</strong>
</figcaption>
</figure>
</div>
<ul>
<li>PLL 工作的几个阶段 Stages:
<ul>
<li><strong>Free running</strong>: 没有输入, PLL 也会有输出, 频率是 VCO 的中心频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0">.</li>
<li><strong>Capture</strong>: 突然输入一个周期信号, 只有当这个信号的频率接近 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 时 (具体来说, 要在 <strong>Capture range 捕获范围</strong>内, 见 Figure&nbsp;26), 输出才能锁定到输入.</li>
<li><strong>Lock</strong>: 输出锁定到输入. 而且我们可以改变输入频率, 但是不能超过 <strong>Lock range 锁定范围</strong> (大于捕获范围!), 不然失去锁定.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-capture-lock-range" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-capture-lock-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/capture-lock-range.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-capture-lock-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;26: PLL 的锁定范围大于捕获范围
</figcaption>
</figure>
</div>
</div></div><ul>
<li>Figure&nbsp;25 中模块的细节<sup>16</sup>:
<ul>
<li><strong>Phase Detector 鉴相器 (PD)</strong>: 输入两个周期信号 (<img src="https://latex.codecogs.com/png.latex?v_i(t),%20v_%7B%5Ctext%7Bosc%7D%7D(t)">), 输出他们的某种运算后的信号 <img src="https://latex.codecogs.com/png.latex?v_%7B%5Cvarphi%7D(t)"> (一般是乘积 (用 Mixer), 或 <img src="https://latex.codecogs.com/png.latex?XOR">)
<ul>
<li><strong>Phase Detector Gain 鉴相器增益<sup>17</sup></strong>: <span id="eq-pd-gain"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BV_o%20=%20%5Ctextcolor%7Bgreen%7D%7B%7BK_D%7D%7D%20%5CDelta%20%5Cvarphi%7D%20%5Ctag%7B12%7D"></span></li>
<li><img src="https://latex.codecogs.com/png.latex?K_D">: 增益, <img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Cvarphi">: PD 输入的两路信号的相位差.</li>
</ul></li>
<li><strong>Loop Filter 低通滤波器</strong>: 对 <img src="https://latex.codecogs.com/png.latex?v_%7B%5Cvarphi%7D(t)"> 进行平滑 (滤波), 变成近似直流信号 <img src="https://latex.codecogs.com/png.latex?V_o">, 这个电压反应了 <img src="https://latex.codecogs.com/png.latex?v_i(t)"> 和 <img src="https://latex.codecogs.com/png.latex?v_%7B%5Ctext%7Bosc%7D%7D(t)"> 的相位差. (具体电路见 Section&nbsp;6.5)</li>
<li><strong>VCO</strong>
<ul>
<li><strong>Frequency sensitivity (gain) 频率灵敏度 (增益)<sup>18</sup></strong>: <span id="eq-vco-linear"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Comega_%7B%5Ctext%7Bosc%7D%7D%20=%20%5Comega_0%20+%20%5Ctextcolor%7Bgreen%7D%7BK_O%7D%20V_o%7D%20%5Ctag%7B13%7D"></span></li>
<li><img src="https://latex.codecogs.com/png.latex?K_O">: 频率灵敏度</li>
<li>输入为 <img src="https://latex.codecogs.com/png.latex?0"> 时也有频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> (Figure&nbsp;23).</li>
</ul></li>
<li><strong>Loop Gain 总增益</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctextcolor%7Bgreen%7D%7B%7BK_V%7D%7D%20:=%20%5Ctextcolor%7Bgreen%7D%7B%7BK_D%20K_O%7D%7D%7D"></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn16"><p><sup>16</sup>&nbsp;抽象 Notation 来了, 大家坐稳.</p></div><div id="fn17"><p><sup>17</sup>&nbsp;准确来说应该是 PD 和 LPF 的组合增益. 这个组合的输入「被隐性地认为」是相位差 (而不是输入信号本身), 输出就是正常的电压.</p></div><div id="fn18"><p><sup>18</sup>&nbsp;开始 AoN 了, 如果 VCO 的输入是电压, 输出是正弦波, 增益应该是输出比输入, 但 <img src="https://latex.codecogs.com/png.latex?K_O"> 的定义中输出好像变成了频率而不是信号值本身了. 这样的 AoN 在 PLL 中很多, 要注意说增益的时候输入、输出「被隐性地认为」到底什么: 信号值, 频率还是相位?!</p></div></div><section id="pll" class="level4 page-columns page-full" data-number="7.4.1">
<h4 data-number="7.4.1" class="anchored" data-anchor-id="pll"><span class="header-section-number">7.4.1</span> 4046 PLL</h4>
<div id="fig-PLL4046" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL4046-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/PLL4046.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL4046-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;27: 4046 PLL 是一种只能输入和输出<strong>方波</strong>的锁相环 (因为用了 <img src="https://latex.codecogs.com/png.latex?XOR"> 做 PD)
</figcaption>
</figure>
</div>
<ul>
<li>Figure&nbsp;27 中的VCO 增益可以通过 <img src="https://latex.codecogs.com/png.latex?C_1,%20R_1,%20R_2"> 来调节:
<ul>
<li>为了正常工作, 必须满足<sup>19</sup>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B100%5Ctext%7B%20pF%7D%5Cle%20C_1%20%5Cle%20100%5Ctext%7B%20nF%7D,%2010%5Ctext%7B%20k%7D%5COmega%20%5Cle%20R_%7B1,2%7D%20%5Cle%201%5Ctext%7B%20M%7D%5COmega%7D"></li>
<li>Figure&nbsp;27 VCO 的 <code>in</code> 的电压 和 <code>out</code> 的频率分别对应 Figure&nbsp;23 中的 <img src="https://latex.codecogs.com/png.latex?V_0"> 和 <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7Bosc%7D%7D">. 调整 <img src="https://latex.codecogs.com/png.latex?C_1,%20R_1,%20R_2"> 也可以改变<sup>20</sup> <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Cmin%7D"> 和 <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Cmax%7D">: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cboxed%7B%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Comega_%7B%5Cmin%7D%20&amp;=%20%5Cfrac%7B1%7D%7BR_2(C_1%20+%2032%5Ctext%7B%20pF%7D)%7D%20%5C%5C%0A%20%20%5Comega_%7B%5Cmax%7D%20-%20%5Comega_%7B%5Cmin%7D%20&amp;=%20%5Cfrac%7B1%7D%7BR_1(C_1%20+%2032%5Ctext%7B%20pF%7D)%7D%0A%20%20%5Cend%7Baligned%7D%0A%20%20%7D%0A%20%20"></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn19"><p><sup>19</sup>&nbsp;这 sb 玩意儿都要背, 真是佛了.</p></div><div id="fn20"><p><sup>20</sup>&nbsp;ppt 上写的是 <img src="https://latex.codecogs.com/png.latex?f"> 而不是 <img src="https://latex.codecogs.com/png.latex?%5Comega">, 但用 <img src="https://latex.codecogs.com/png.latex?f"> 明显单位不对啊, 牛魔的.</p></div></div></section>
</section>
</section>
<section id="modulation-demodulation-调制解调" class="level2 page-columns page-full" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="modulation-demodulation-调制解调"><span class="header-section-number">8</span> Modulation &amp; Demodulation 调制解调 ★★★★★</h2>
<blockquote class="blockquote">
<p><strong>Modulation 调制</strong>是用某个高频 (e.g., <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20GHz%7D">) 的 <strong>carrier 载波信号</strong> 的某个特性 (幅度, 频率, 相位) 来表示一个低频 (<img src="https://latex.codecogs.com/png.latex?200%5Csim%203%5Ctext%7B%20kHz%7D">) 的 <strong>intelligence / message 信息信号</strong> 的过程.</p>
</blockquote>
<ul>
<li>不调制的问题:
<ul>
<li>信号频率都相近, 信号间会 interference 干扰.</li>
<li>低频信号传输需要几千米长的天线</li>
</ul></li>
<li><strong><em>!!!!!!!!!!!!!!!!!! Notation 符号声明 !!!!!!!!!!!!!!!!!!</em></strong>
<ul>
<li><strong>Intelligence 信息信号</strong><sup>21</sup>: <img src="https://latex.codecogs.com/png.latex?e_i%20=%20E_i%20%5Ccos(%5Comega_i%20t)"> (若不是正弦信号, 则约定 <img src="https://latex.codecogs.com/png.latex?E_i%20:=%20%7C%5Cmin(e_i)%7C">, 调制指数要用.)</li>
<li><strong>Carrier 载波信号</strong><sup>22</sup>: <img src="https://latex.codecogs.com/png.latex?e_c%20=%20%5Ccos(%5Comega_c%20t)"></li>
<li><strong>Modulated 调制 (后的) 信号</strong>: <img src="https://latex.codecogs.com/png.latex?e"></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn21"><p><sup>21</sup>&nbsp;注意跟 modulated 调制 (前的) 信号区分开来.</p></div><div id="fn22"><p><sup>22</sup>&nbsp;这里用 normalized 归一化的载波信号, PPT 上是 <img src="https://latex.codecogs.com/png.latex?e_c%20=%20E_c%20%5Ccos(%5Comega_c%20t)">, 但是后面乘载波的时候又用的是 <img src="https://latex.codecogs.com/png.latex?%5Ccos(%5Comega_c%20t)">, 回字的四种写法, 研究这个没有意义.</p></div></div><section id="am-调幅" class="level3 page-columns page-full" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="am-调幅"><span class="header-section-number">8.1</span> AM 调幅</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>AM 调制的信息在调制信号的幅度里面. 而且有很多种 AM 的方法<sup>23</sup>: <strong>DSB-SC, DSB-WC, SSB, VSB</strong>, etc.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn23"><p><sup>23</sup>&nbsp;Abbr. Double/Single/Vestigial (残留) Sideband- Suppressed/With Carrier.</p></div></div></div>
<section id="am-方法1-dsb-sc" class="level4" data-number="8.1.1">
<h4 data-number="8.1.1" class="anchored" data-anchor-id="am-方法1-dsb-sc"><span class="header-section-number">8.1.1</span> AM 方法1: DSB-SC</h4>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DSB-SC 调制框图古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-dsb-sc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dsb-sc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/DSB-SC.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dsb-sc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;28: DSB-SC 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li>Figure&nbsp;28 中的乘法器一般用 <strong>Ring Modulator 环形调制器</strong> (见 Section&nbsp;5.1.4).
<ul>
<li>生成 SC 调制信号的调制器都叫 <strong>Balanced Modulator 平衡调制器</strong>, Ring Modulator 是 Balanced Modulator 的一种.</li>
</ul></li>
</ul>
</section>
<section id="am-方法2-dsb-wc" class="level4 page-columns page-full" data-number="8.1.2">
<h4 data-number="8.1.2" class="anchored" data-anchor-id="am-方法2-dsb-wc"><span class="header-section-number">8.1.2</span> AM 方法2: DSB-WC</h4>
<blockquote class="blockquote">
<p>目标: 调制信号的 <strong>包络</strong> 要能还原原始信息信号的波形.</p>
</blockquote>
<div id="fig-dsb-wc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dsb-wc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/DSB-WC.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dsb-wc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;29: DSB-WC 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
<ul>
<li><p>DSB-WC (Double Sideband With Carrier) 调制出来的信号: <img src="https://latex.codecogs.com/png.latex?e(t)%20=%20(e_i(t)%20+%20E_c)%20%5Ccdot%20e_c(t)"></p></li>
<li><p><strong>Modulation Index 调制指数</strong><sup>24</sup>: (见 Figure&nbsp;29 红色框框, <img src="https://latex.codecogs.com/png.latex?E_i"> 的定义见符号声明!) <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bm_a%20:=%20%5Cfrac%7BE_i%7D%7BE_c%7D%7D"></p>
<ul>
<li><strong>Under-modulation</strong>: <img src="https://latex.codecogs.com/png.latex?m_a%20%5Cle%201">, 有效的调制.</li>
<li><strong>Over-modulation</strong>: <img src="https://latex.codecogs.com/png.latex?m_a%20%3E%201">, 包络会被削顶, 无法还原原始信息信号的波形.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn24"><p><sup>24</sup>&nbsp;这是一个典型的工程上一拍脑袋想出来的鸡肋度量, 三种调制都有这个概念, 但都不能用统一起来, 极不富有美感. 但根据 <a href="https://en.wikipedia.org/wiki/Frequency_modulation#Modulation_index">Wiki</a> 的说法: “The modulation index indicates by how much the modulated variable varies around its unmodulated level”, 还是有点道理的.</p></div><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/mod-index.gif" class="img-fluid figure-img"></p>
<figcaption>不同的调制指数</figcaption>
</figure>
</div>
</div></div>
<ul>
<li><strong>Transmitted Power 传输功率</strong>: 当 <img src="https://latex.codecogs.com/png.latex?e_i"> 为正弦信号 (a.k.a. 单音信号) 时我们有: <span id="eq-am-power"><img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BP_t%20=%20P_c%20%5Cleft(1%20+%20%5Cfrac%7Bm%5E2%7D%7B2%7D%20%5Cright)%7D%20%5Ctag%7B14%7D"></span>
<ul>
<li>载波信号的功率 <img src="https://latex.codecogs.com/png.latex?P_c%20=%20E_c%5E2/2"></li>
<li><strong>传输载波的功率至少占了 <img src="https://latex.codecogs.com/png.latex?2/3"></strong> (<img src="https://latex.codecogs.com/png.latex?m%20=%201"> 时).</li>
<li>若将 <img src="https://latex.codecogs.com/png.latex?e_c"> 和 <img src="https://latex.codecogs.com/png.latex?e"> 功率信号分别接到天线 (视为一个电阻 <img src="https://latex.codecogs.com/png.latex?R">) 上, 分别产生了电流 <img src="https://latex.codecogs.com/png.latex?I_c,%20I_t">. 由 <img src="https://latex.codecogs.com/png.latex?P%20=%20I%5E2%20R%20=%20V%5E2/R"> 知, 功率大的信号 <img src="https://latex.codecogs.com/png.latex?e_c"> 产生了更大的电流和电压 (正比于幅值 <img src="https://latex.codecogs.com/png.latex?E">): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BI_t%20=%20I_c%20%5Csqrt%7B1%20+%20%5Cfrac%7Bm%5E2%7D%7B2%7D%7D,%20%5Cquad%20E_t%20=%20E_c%20%5Csqrt%7B1%20+%20%5Cfrac%7Bm%5E2%7D%7B2%7D%7D%7D"></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equation&nbsp;14 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Figure&nbsp;29 中调制信号 <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Ae%20&amp;=%20(e_i%20+%20E_c)e_c%20%20%5C%5C%0A&amp;=%20E_c%20(m%20%5Ccos(%5Comega_i%20t)%20+%201)%20%5Ccdot%20%5Ccos(%5Comega_c%20t)%20%5C%5C%0A&amp;=%20%5Cunderbrace%7BE_c%20%5Ccos(%5Comega_c%20t)%7D_%7BP_1=%5Cfrac%7BE_c%5E2%7D%7B2%7D%7D%20+%20%5Cunderbrace%7B%5Cfrac%7BE_c%20m%7D%7B2%7D%20%5Cleft%5B%5Ccos((%5Comega_c%20+%20%5Comega_m)t)%20+%20%5Ccos((%5Comega_c%20-%20%5Comega_m)t)%5Cright%5D%7D_%7BP_2=%5Cleft(%5Cfrac%7BE_c%20m%7D%7B2%7D%5Cright)%5E2%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>总传输功率 <img src="https://latex.codecogs.com/png.latex?%0AP_t%20=%20P_1%20+%20P_2%20=%20%5Cfrac%7BE_c%5E2%7D%7B2%7D%20%5Cleft(1+%5Cfrac%7Bm%5E2%7D%7B2%7D%5Cright)%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/High-level-modulation.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Low-level-modulation.png" class="img-fluid"></p>
</div>
</div>
</div>
<ul>
<li><p><strong>High / Low Level Modulation 高/低电平调制</strong>: 实际调制过程中 在输入和调制信号发射之间 肯定包含信号的放大 (Figure&nbsp;29 省略了), 是先调制再放大 还是 先放大再调制呢? (都可以)</p>
<ul>
<li><strong>High Level Modulation</strong>: 先放大再调制 (在 High 功率 Level 调制), 适合高功率要求<sup>25</sup>, 如 radio broadcasting 广播塔台.</li>
<li><strong>Low Level Modulation</strong>: 先调制再放大 (在 Low 功率 Level 调制), 适合功耗低、低功率要求, 如通信模块.
<ul>
<li>要求后续的放大器是线性的 (不能用 Class C 了)!</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn25"><p><sup>25</sup>&nbsp;为什么不能都用这种调制方法? 有一类放大器 (<a href="https://en.wikipedia.org/wiki/Power_amplifier_classes#Class_C">Class C</a>) 对纯载波 <img src="https://latex.codecogs.com/png.latex?e_c"> 的功率放大效果非常好, 但是是非线性的, 所以不能用于放大 <img src="https://latex.codecogs.com/png.latex?e">.</p></div></div></section>
<section id="am-方法3-ssb" class="level4 page-columns page-full" data-number="8.1.3">
<h4 data-number="8.1.3" class="anchored" data-anchor-id="am-方法3-ssb"><span class="header-section-number">8.1.3</span> AM 方法3: SSB ★★★★★</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>动机: 我们发现 (Figure&nbsp;29) 在 DSB 中调制信号的频谱上有两份原始信息, 为了减小带宽资源, 可以用 SSB Generator<sup>26</sup> 只传输一份 (USB 或 LSB<sup>27</sup>, 见 Figure&nbsp;30) 就可以了, 这就是单边带调制.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn26"><p><sup>26</sup>&nbsp;SSB Generator 的实现方法包括: phase shift, <strong>selective filtering</strong> (包括 One-step 和 Two-step 版本), Weaver’s method (“Third Method”), etc.</p></div><div id="fn27"><p><sup>27</sup>&nbsp;Abbr. Upper/Lower Sideband.</p></div></div></div>
<div id="fig-ssb" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/SSB.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;30: SSB <strong>简化的</strong>调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
<ul>
<li><strong>SSB 与 SSB-SC</strong><sup>28</sup>: SSB 不传输载波, 但 SSB-SC 传输一个微弱载波! 我没写反.
<ul>
<li>Suppressed Carrier 又称 <strong>Pilot Carrier</strong> (导频载波), 可进行同步.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn28"><p><sup>28</sup>&nbsp;这样命名是生怕老子学会吗, 不知道你佛不佛, 反正我是佛的.</p></div></div><ul>
<li><strong>SSB 的优点</strong>:
<ul>
<li>节省了传输<strong>载波</strong>和<strong>其中一个边带</strong>的功率</li>
<li><strong>接收端噪声能量少</strong>. 因为 SSB 的带宽小, 接收端滤波器带宽也会小, 而噪声功率 <img src="https://latex.codecogs.com/png.latex?%5Cpropto"> 带宽.</li>
<li><strong>抗选择性衰落 (Selective Fading)</strong>. Figure&nbsp;28 双边带解调端信号的重建用到两个边带的叠加, 不同频的边带从电离层 (ionosphere) 反射回来后折射角和路径不同 (选择性衰落), 使得两个边带不对称, 重建信号失真. 而 SSB 只用一个边带, 不受选择性衰落影响.</li>
</ul></li>
<li><strong>SSB Selective Filtering</strong>:
<ul>
<li>是 SSB Generator 的其中一种实现方法.</li>
<li>原始信号必须要有 <strong>Band Gap</strong> <img src="https://latex.codecogs.com/png.latex?%5CDelta%20f">. (比如人声音一般大于 <img src="https://latex.codecogs.com/png.latex?100%5Ctext%7B%20Hz%7D">, 所以人声信号 <img src="https://latex.codecogs.com/png.latex?%5CDelta%20f%20=%20200%5Ctext%7B%20Hz%7D">, 见 Figure&nbsp;32)</li>
<li>需要一个高 roll-off 的滤波器 (<strong>原因是 Band Gap 很小</strong>), 其 <img src="https://latex.codecogs.com/png.latex?Q">-factor 为: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BQ%20=%20%5Cfrac%7Bf_c%20%5Csqrt%7B%7CH%7C%7D%7D%7B4%20%5CDelta%20f%7D%7D"> 其中 <img src="https://latex.codecogs.com/png.latex?%7CH%7C"> 是该滤波器的传递函数在 Rejected Sideband 上的取值 (一般告诉你多少 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D">, 代入公式时不能用 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D">).</li>
<li><strong>(Two-step) SSB Transmitter 发射机</strong>:
<ul>
<li><p>动机: <strong>截止频率很高的滤波器很难有很高的 roll-off.</strong> 传输的频率一般要达到 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BMHz%7D">, 如果将 <img src="https://latex.codecogs.com/png.latex?e_i"> 直接搬移到这个频率, 很难造出高 roll-off 的滤波器进行 SSB filtering. <strong>但是低截止、高 roll-off 的滤波器还是有的</strong>. 所以我们先将 <img src="https://latex.codecogs.com/png.latex?e_i"> 用这个滤波器搬移到一个低的频段, 用低截止高 roll-off 的滤波器滤波 (相当于增大 Band Gap, 见 Figure&nbsp;33), 再用一个高截止低 roll-off 的滤波器进行真正的 SSB Filtering. 即<strong>先增大 Band Gap, 再 SSB Filtering.</strong></p>
<div id="fig-ssb-modulation-block-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-modulation-block-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/SSB-modulation-block-diagram.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-modulation-block-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;31: SSB “Two-step Method” 调制过程, 信号频谱变化见 Figure&nbsp;33
</figcaption>
</figure>
</div></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: SSB Selective Filter 的 <img src="https://latex.codecogs.com/png.latex?Q"> 计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-ssb-selective-q" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-selective-q-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/SSB-selective-Q.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-selective-q-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;32: <img src="https://latex.codecogs.com/png.latex?%5Clog%5E%7B-1%7D%20x%20=%2010%5Ex"> 抽象符号
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Two-step SSB 调制框图 (Figure&nbsp;31) 详细过程古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-ssb-two-step" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-two-step-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/SSB-two-step.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-two-step-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;33: Two-step SSB 调制信号图
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Two-step 方法中第二个滤波器的 <img src="https://latex.codecogs.com/png.latex?Q">-factor 计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>HINT: 用 Equation&nbsp;8 来算 <img src="https://latex.codecogs.com/png.latex?Q">. 说实话说这个中心频率应该取 <img src="https://latex.codecogs.com/png.latex?3.1%5Ctext%7B%20MHz%7D"> 或 <img src="https://latex.codecogs.com/png.latex?2.9%5Ctext%7B%20MHz%7D">, 这道题不好</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Q-factor-two-step.png" class="img-fluid figure-img"></p>
<figcaption>“In the previous slide” 指 Figure&nbsp;31</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="am-方法4-vsb" class="level4" data-number="8.1.4">
<h4 data-number="8.1.4" class="anchored" data-anchor-id="am-方法4-vsb"><span class="header-section-number">8.1.4</span> *AM 方法4: VSB</h4>
<blockquote class="blockquote">
<p>VSB 提供了针对 SSB 中高截止、高 roll-off 的滤波器难以实现的问题, VSB 滤波器不要求高 roll-off, 只需满足一些条件 (易于满足, 见 Figure&nbsp;34) 即可. SSB 可看作 VSB 的特例.</p>
</blockquote>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
VSB 调制框图古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>VSB 很聪明地利用了解调的时候两边的频谱会合起来的特点, 不需要他们完全不重合, 只需要他们重合的部分加起来刚好是原来的频谱就行.</p>
<div id="fig-vsb" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-vsb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/VSB.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-vsb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;34: VSB 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="pm-fm-角度调制" class="level3 page-columns page-full" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="pm-fm-角度调制"><span class="header-section-number">8.2</span> PM &amp; FM 角度调制</h3>
<blockquote class="blockquote">
<p>我们会看到 (Equation&nbsp;15, Equation&nbsp;16) PM 和 FM 不能说一模一样, 只能说完全没区别. 这是因为 frequency 和 phase 是密切相关的, 频率是相位的导数, <strong>FM 调 <img src="https://latex.codecogs.com/png.latex?e_i"> 相当于 PM 调 <img src="https://latex.codecogs.com/png.latex?e_i"> 的积分; PM 调 <img src="https://latex.codecogs.com/png.latex?e_i"> 相当于 FM 调 <img src="https://latex.codecogs.com/png.latex?e_i"> 的微分</strong>, 所以它们统称为<strong>角度调制</strong>.</p>
</blockquote>
<ul>
<li>Let <img src="https://latex.codecogs.com/png.latex?e(t)%20=%20%5Ccos%20(%5Cvarphi(t))">, (e.g., <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(t)%20=%20%5Comega%20t%20+%20%5Ctheta">)
<ul>
<li>称 <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(t)"> 为 <strong>Phase 相位</strong>.</li>
<li>称 <img src="https://latex.codecogs.com/png.latex?%5Cmathrm%7Bd%7D%20%5Cvarphi%20/%20%5Cmathrm%7Bd%7D%20t"> 为 <strong>Instantaneous frequency 瞬时频率</strong>.</li>
</ul></li>
</ul>
<section id="pm-调制" class="level4" data-number="8.2.1">
<h4 data-number="8.2.1" class="anchored" data-anchor-id="pm-调制"><span class="header-section-number">8.2.1</span> PM 调制</h4>
<ul>
<li><strong>目标</strong>: 让 <img src="https://latex.codecogs.com/png.latex?e(t)"> 与 <img src="https://latex.codecogs.com/png.latex?e_c(t)"> 的 <strong>相位差</strong> 正比于 <img src="https://latex.codecogs.com/png.latex?e_i(t)"> 的幅度: <span id="eq-pm-phase"><img src="https://latex.codecogs.com/png.latex?%5Cvarphi(t)%20=%20%5Comega_c%20t%20+%20%5Cunderbrace%7Bk_p%20e_t(t)%7D_%7B%5CDelta%20%5Cvarphi%7D%20%5Ctag%7B15%7D"></span>
<ul>
<li><strong>Modulation Index 调制指数</strong>: 调制信号 <img src="https://latex.codecogs.com/png.latex?e"> 的最大相移 (<img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Cvarphi%20:=%20%5Cvarphi_e%20-%20%5Cvarphi_c">, 调制信号 <img src="https://latex.codecogs.com/png.latex?%5Ccos"> 里面的东西减掉载波 <img src="https://latex.codecogs.com/png.latex?%5Ccos"> 里面的东西): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bm_p%20:=%20(%5CDelta%20%5Cvarphi)_%7B%5Cmax%7D%7D"></li>
</ul></li>
</ul>
</section>
<section id="fm-调制" class="level4 page-columns page-full" data-number="8.2.2">
<h4 data-number="8.2.2" class="anchored" data-anchor-id="fm-调制"><span class="header-section-number">8.2.2</span> FM 调制</h4>
<ul>
<li><p><strong>目标</strong>: 让 <img src="https://latex.codecogs.com/png.latex?e(t)"> 与 <img src="https://latex.codecogs.com/png.latex?e_c(t)"> 的 <strong>瞬时频率差</strong> 正比于 <img src="https://latex.codecogs.com/png.latex?e_i(t)"> 的幅度: <span id="eq-fm-phase"><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Baligned%7D%0A%20%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20%5Cvarphi(t)%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20&amp;=%20%5Comega_c%20+%20%5Cunderbrace%7Bk_f%20e_t(t)%7D_%7B%5CDelta%20%5Comega%7D%20%5C%5C%0A%20%20%5Cimplies%20%5Cvarphi(t)%20&amp;=%20%5Comega_c%20t%20+%20%5Cunderbrace%7Bk_f%20%5Cint_%7B-%5Cinfty%7D%5E%7Bt%7D%20e_t(%5Ctau)%20%5Cmathrm%7Bd%7D%20%5Ctau%7D_%7B%5CDelta%20%5Cvarphi%7D%0A%20%20%5Cend%7Baligned%7D%0A%20%20%20%5Ctag%7B16%7D"></span></p>
<ul>
<li><strong>Deviation Ratio (DR) 偏差比</strong>: 调制信号 <img src="https://latex.codecogs.com/png.latex?e"> 的最大频偏 <img src="https://latex.codecogs.com/png.latex?(%5CDelta%20f_e)_%7B%5Cmax%7D"> 与 信息信号 <img src="https://latex.codecogs.com/png.latex?e_i"> 最大频率 <img src="https://latex.codecogs.com/png.latex?(f_i)_%7B%5Cmax%7D"> 之比: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BDR%7D%20:=%20%5Cfrac%7B(%5CDelta%20f_e)_%7B%5Cmax%7D%7D%7B(f_i)_%7B%5Cmax%7D%7D%7D">
<ul>
<li><strong>Modulation Index 调制指数</strong>: 是 DR 的特例, 即当 <img src="https://latex.codecogs.com/png.latex?E_i"> 是单音信号时的 DR: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7Bm_f%20:=%20%5Cfrac%7B(%5CDelta%20f_e)_%7B%5Cmax%7D%7D%7Bf_i%7D%7D"></li>
<li>广播 FM 最大频偏默认值: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B(%5CDelta%20f_e)_%7B%5Cmax%7D%20=%20%5Cpm%2075%5Ctext%7B%20kHz%7D%7D"></li>
<li><strong>Wideband 宽带 FM</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BDR%7D%5Cge%201%7D">, 反之为 <strong>Narrowband 窄带 FM</strong>.</li>
</ul></li>
</ul></li>
<li><p><strong>Carson’s Rule 卡森规则</strong> ★★★★★</p>
<ul>
<li><p>引入动机: <strong><img src="https://latex.codecogs.com/png.latex?e(t)"> 的瞬时频率范围 <img src="https://latex.codecogs.com/png.latex?%5Cneq"> <img src="https://latex.codecogs.com/png.latex?e(t)"> 的频谱带宽!!!</strong> (<img src="https://latex.codecogs.com/png.latex?e(t)"> 的带宽比 瞬时频率范围 要宽)</p></li>
<li><p>对于 FM, <img src="https://latex.codecogs.com/png.latex?e"> 的 <strong>非负频率带宽</strong> 大致为 <img src="https://latex.codecogs.com/png.latex?m_f"> 的分子分母加起来 (的两倍): <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BB%20=%202%20%5Cleft((%5CDelta%20f_e)_%7B%5Cmax%7D%20+%20(f_i)_%7B%5Cmax%7D%20%5Cright)%7D"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Carson-rule.png" class="img-fluid figure-img" style="width:55.0%"></p>
<figcaption>FM 调制信号 <img src="https://latex.codecogs.com/png.latex?e(t)"> 的频谱: <img src="https://latex.codecogs.com/png.latex?(%5Cpm)%20(%5CDelta%20f_e)_%7B%5Cmax%7D"> 是 Max Frequency Deviation 最大频偏, 瞬时频率范围的一半</figcaption>
</figure>
</div></li>
<li><p><strong>若后续有 <img src="https://latex.codecogs.com/png.latex?N"> 倍频器, 则 frequency deviation 也会放大 <img src="https://latex.codecogs.com/png.latex?N"> 倍</strong> (见 Figure&nbsp;35).</p></li>
<li><p>对于 PM, 相当于对 <img src="https://latex.codecogs.com/png.latex?e_i"> 的导数进行 FM 调制.</p></li>
<li><p><strong>Bessel 函数</strong>: 可用于定量计算单音信号 <img src="https://latex.codecogs.com/png.latex?e_i%20=%20%5Ccos(%5Comega_i%20t)"> 的频谱 (注意只是单音信号). 由计算<sup>29</sup>可知单音信号的 FM 调制波的频谱是离散的, 第 <img src="https://latex.codecogs.com/png.latex?n"> 个 频点上的幅度正比于 第一类 Bessel 函数的系数 <img src="https://latex.codecogs.com/png.latex?J_n(%5Cbeta)">.</p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn29"><p><sup>29</sup>&nbsp;Jacobi–Anger 展开: <img src="https://latex.codecogs.com/png.latex?%5Ccos%5Cleft(%5Comega_c%20t%20+%20%5Cbeta%20%5Csin%20%5Comega_m%20t%5Cright)%20=%20%5Csum_%7Bn=-%5Cinfty%7D%5E%7B%5Cinfty%7D%20J_n(%5Cbeta)%20%5Ccdot%20%5Ccos%5Cleft%5B(%5Comega_c%20+%20n%5Comega_m)%5C,t%5Cright%5D"></p></div></div><ul>
<li>FM 调制器电路:
<ul>
<li><strong>Varactor Modulators</strong>: 其实就是直接用 VCO 来当调制器, 比如用 Figure&nbsp;20, 把其中一个电容换成 <img src="https://latex.codecogs.com/png.latex?e_i"> 控制的 varicap diode 就行. (PPT 上的图在 Figure&nbsp;36.)
<ul>
<li>缺点: 当没输入 (<img src="https://latex.codecogs.com/png.latex?e_i%20=%200">) 的时候, 这种用 <img src="https://latex.codecogs.com/png.latex?LC"> 当反馈的 VCO 甚至不能输出精确稳定的载波频率! 所以我们会用 <strong>晶振 (Crystal Oscillator)</strong> 来产生精确的载波频率:</li>
</ul></li>
<li><strong>Crystal Oscillator Modulators</strong>: 用晶振来产生精确的载波频率. 由于 <strong>晶振的频率可以被跟其串联的电容稍稍改变</strong>, 所以我们可以用一个 varicap diode 作这个电容, 再用 <img src="https://latex.codecogs.com/png.latex?e_i"> 来控制这个 varicap diode.
<ul>
<li>优点: 用晶振来产生载波非常精确, 且受温度影响小.</li>
<li>问题: 晶体的频率调节范围非常小 (<img src="https://latex.codecogs.com/png.latex?100%5Ctext%7B%20Hz%7D">), 但 FM 的频偏最好要达到 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BkHz%7D"> (<img src="https://latex.codecogs.com/png.latex?75%5Ctext%7B%20kHz%7D">), 所以要用 <strong>Frequency Multiplier 倍频器</strong> 来增大频率 (<strong>frequency deviation 也会等比增大</strong>).</li>
</ul>
<div id="fig-CO-modulator" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-CO-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/CO-modulator.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-CO-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;35: Crystal Oscillator Modulators: 用晶振 + Multipler 的组合来产生 FM 调制信号
</figcaption>
</figure>
</div></li>
<li><strong>10-GHz SiGe integrated VCO</strong>: 看不懂, 见 Figure&nbsp;37, omitted.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-Varactor-modulator" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Varactor-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Varactor-modulator.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Varactor-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;36: PPT 上的 Varactor Modulators 电路, 本人太菜, 实在没看出当 <img src="https://latex.codecogs.com/png.latex?e_i"> 为 <img src="https://latex.codecogs.com/png.latex?0"> 时为啥会振荡, 哪里有反馈?
</figcaption>
</figure>
</div>
</div><div class="">
<div id="fig-SiGe" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SiGe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/SiGe.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-SiGe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;37: 10-GHz SiGe integrated VCO 电路
</figcaption>
</figure>
</div>
</div></div>
<ul>
<li>FM 解调器电路:
<ul>
<li><p><strong>Slope Detector + Envelope Detector 方法</strong>: 利用一个频率响应是线性的滤波器 (Slope Detector, 比如 Figure&nbsp;40 中的 <img src="https://latex.codecogs.com/png.latex?LC"> 并联电路) 将 FM 信号转换为 AM 信号, 再用 DSB-WC 的方法 (Envelope Detector) 解调 (Figure&nbsp;40).</p>
<ul>
<li>由于 Figure&nbsp;40 以载波频率为中心 <img src="https://latex.codecogs.com/png.latex?2(%5CDelta%20f_e)_%7B%5Cmax%7D"> 的范围内输出幅度没有很线性, 所以这种方法不适用与频偏范围过大的 FM 信号.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/slope-detector.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>先用 Slope Detector 转为 AM 信号, 再直接用 DSB-WC 的方法解调</figcaption>
</figure>
</div></li>
<li><p><strong>Pulse-Averaging Discriminators</strong>: 注意到 FM 的幅度其实没有携带信息, 只需要观察 FM 信号 <strong>在时间轴上的交点的密集程度</strong> 就可以判断瞬时频率了:</p>
<div id="fig-Pulse-Averaging" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Pulse-Averaging-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Pulse-Averaging.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Pulse-Averaging-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;38: Pulse-Averaging Discriminator: 不用多说, 看图
</figcaption>
</figure>
</div></li>
<li><p><strong>Quadrature Detectors 正交解调器</strong>: 用 Figure&nbsp;39 将频率信息转为相位差 <img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Cvarphi"> 信息 (调整 <img src="https://latex.codecogs.com/png.latex?C_2,%20L"> 的值使其协振频率恰为载波频率 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 就可以使: 当 <img src="https://latex.codecogs.com/png.latex?e(t)"> 的频率恰为 <img src="https://latex.codecogs.com/png.latex?%5Comega_0"> 时 <img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Cvarphi%20=%2090%5E%5Ccirc"> (所以叫 “Quadrature”); 当 <img src="https://latex.codecogs.com/png.latex?e(t)"> 有频偏 <img src="https://latex.codecogs.com/png.latex?%5CDelta%20f"> 时 <img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Cvarphi"> 会随之线性变化), 然后用一个 PD 和 LPF 的组合 (比如 Figure&nbsp;39 中的 <img src="https://latex.codecogs.com/png.latex?XOR"> 和 <img src="https://latex.codecogs.com/png.latex?RC"> 电路, 增益用 Equation&nbsp;12 算) 来将这个相位差信息正比地转换为 DC 电压信息.</p>
<div id="fig-Quadrature-Detector-XOR" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Quadrature-Detector-XOR-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Quadrature-Detector-XOR.png" class="img-fluid figure-img" style="width:85.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Quadrature-Detector-XOR-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;39: 一种用 <img src="https://latex.codecogs.com/png.latex?XOR"> 作为 PD 的正交解调器, IF input 为 Figure&nbsp;38 的 B 点信号
</figcaption>
</figure>
</div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-slope-detector-bpf" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-slope-detector-bpf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/slope-detector-bpf.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-slope-detector-bpf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;40: <img src="https://latex.codecogs.com/png.latex?LC"> 电路作为 Slope Detector: 利用频率响应近似线性的特性将 FM 信号转换为 AM 信号
</figcaption>
</figure>
</div>
</div></div></section>
</section>
<section id="rf-接收机与解调" class="level3 page-columns page-full" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="rf-接收机与解调"><span class="header-section-number">8.3</span> RF 接收机与解调</h3>
<blockquote class="blockquote">
<p>这一章最难学. RF 接收机的任务就是在空气中提取我们要的信号频率成分, 并恢复原始信号. 这不就是解调吗? 并不是, 在解调之前, 还有一个 “前端电路” , 要解决以下问题: 要根据不同调制方法 (AM, FM) 适配, 必须能调谐 (tune, 俗称调台). 为了保留动机, 我们将从简单到复杂介绍.</p>
</blockquote>
<ul>
<li>RF 接收机的特性参数: (概念定义见 Section&nbsp;8.3.3, 可视化见 Figure&nbsp;41)
<ul>
<li><strong>Selectivity 选择性</strong>: 接收机能否精准地选出我们要听的台 (BPF 的 <img src="https://latex.codecogs.com/png.latex?Q">-factor 越大越好).</li>
<li><strong>Sensitivity 灵敏度</strong>: 接收机能听到的最小的信号功率, 等于<strong>实际 Noise Floor 乘期待的 SNR</strong>, 在对数层面上是加: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BS_n%20=%20%5Csum%20P_n%20+%20%5Ctext%7BSNR%7D_%7B%5Ctext%7Bdesired%7D%7D%20~%5B%5Ctext%7BdB%7D%5D%7D"></li>
<li><strong>Dynamic Range (DR) 动态范围<sup>30</sup></strong>: 接收机能处理多大范围的输入信号强度, 一般用 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D"> 度量.
<ul>
<li>一般定义为: 放大器能放大的最大信号功率 (用 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20dB%7D"> 点来定义<sup>31</sup>) 与 接收机能听到的最小信号功率 (就是灵敏度!) 之比, 在对数层面上是减: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BDR%7D%20=%20P_%7B1%5Ctext%7B%20dB%7D%7D%20-%20S_n%20~%5B%5Ctext%7BdB%7D%5D%7D"></li>
<li>如果题目告诉你最小最大的信号对应的电平是 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20mV%7D"> 和 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20V%7D">, 则: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BDR%7D%20=%2020%20%5Clg%20%5Cleft(%5Cfrac%7B1%7D%7B0.001%7D%5Cright)%20=%2060%5Ctext%7B%20dB%7D."></li>
</ul></li>
<li><strong>Fidelity 保真度</strong>: 接收机输出的波形是否与原始调制信号一致.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn30"><p><sup>30</sup>&nbsp;“Dynamic” 在音乐上是 “强弱” 的意思, 跟这里的意思一样.</p></div><div id="fn31"><p><sup>31</sup>&nbsp;你可能会问: 放大器能一直线性放大信号吗? 肯定不是的! 那什么时候不能放大了? 我们规定: <strong>当放大器输出的信号小于期待值 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20dB%7D"> 的时候</strong>, 此时的 <strong>输入信号功率</strong> 是该放大器能有效放大的最高功率信号, 称为 <strong>1dB Compression Point <img src="https://latex.codecogs.com/png.latex?P_%7B1%5Ctext%7B%20dB%7D%7D"></strong>. <img src="https://marcobisky.github.io/posts/ccd-crash-course/compression-point-1db.png" class="img-fluid" alt="S_{\text{in}} 是该放大器的 1dB Compression Point"></p></div></div><div id="fig-RF-metrics" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RF-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/RF-metrics-summarize.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RF-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;41: 部分 RF 接收机的特性参数的总结 (这图挺好的)
</figcaption>
</figure>
</div>
<section id="trf-tuned-radio-frequency-接收机" class="level4 page-columns page-full" data-number="8.3.1">
<h4 data-number="8.3.1" class="anchored" data-anchor-id="trf-tuned-radio-frequency-接收机"><span class="header-section-number">8.3.1</span> TRF (Tuned Radio Frequency) 接收机</h4>
<div id="fig-TRF" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TRF-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/TRF.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-TRF-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;42: TRF 的三个 stage, <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BRF%7D%7D"> 是我们想听的台的频率
</figcaption>
</figure>
</div>
<ul>
<li>三个 Stage<sup>32</sup>: <strong>RF stage, Detector stage, Audio stage</strong>.
<ul>
<li>其实这就比解调器多了一个 RF stage (也称 <strong>Pre-selector</strong>) 的频率选择, 即可以 “调台” 了.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn32"><p><sup>32</sup>&nbsp;命名挺抽象的.</p></div></div><ul>
<li><strong>当频率很高时 (RF)</strong>, 会有如下问题:
<ul>
<li><strong>低 Selectivity 选择性</strong>: 会接收到很多其他的台.</li>
<li><strong>不稳定, 容易自激振荡</strong>: 这样接收器就变成振荡器了哈哈. 一般是由 parasitic capacitance (寄生电容) 导致的.</li>
</ul></li>
</ul>
</section>
<section id="sec-heterodyne" class="level4" data-number="8.3.2">
<h4 data-number="8.3.2" class="anchored" data-anchor-id="sec-heterodyne"><span class="header-section-number">8.3.2</span> Heterodyne Receiver 外差接收机</h4>
<blockquote class="blockquote">
<p>既然直接处理射频频率太高了, 那就先降下来呗. Heterodyne 的核心思想就是把各种射频信号 (RF) “变频”成一个<strong>固定</strong>的<strong>中频</strong> (<strong>IF</strong>) 信号后再去处理. 其实就在 TRF 的 Stage 1,2 之间加了一个 <strong>IF Section</strong>. 这样既解决了频率太高的问题, 又让后续的电路只要处理一个<strong>固定的</strong> IF 频率就行了.</p>
</blockquote>
<div id="fig-Heterodyne" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Heterodyne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Heterodyne.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Heterodyne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;43: Heterodyne 比 TRF 多了一个中频率转换, 包含一个 Mixer 和一个 BPF, LNA 只是用来放大的 (见 Section&nbsp;8.3.3)
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Superheterodyne Receiver 超外差接收机</strong>: 有两个或更多的 IF Section.</p></li>
<li><p><strong>IF 中频</strong>: 调节 LO 的频率可以使得 IF 的频率固定: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Comega_%7B%5Ctext%7BIF%7D%7D%20:=%20%7C%5Comega_%7B%5Ctext%7BRF%7D%7D%20-%20%5Comega_%7B%5Ctext%7BLO%7D%7D%7C%7D"> 由于取了绝对值, 引申出了以下概念:</p>
<ul>
<li><strong>Image Frequency 镜像频率</strong>:
<ul>
<li>有一个不是 <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BRF%7D%7D"> 频率的信号 (<img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7Bimage%7D%7D">) 也混进来了 (见 Section&nbsp;5.2).</li>
<li>是 Mixer 的常见问题, Figure&nbsp;14 中 BPF 就是 RF stage 的 Pre-selector, 目的就是尽可能地减小 <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7Bimage%7D%7D">.</li>
</ul></li>
<li><strong>注入类型</strong>:
<ul>
<li><strong>High Side Injection 高侧注入</strong>: <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BLO%7D%7D%20%3E%20%5Comega_%7B%5Ctext%7BRF%7D%7D"></li>
<li><strong>Low Side Injection 低侧注入</strong>: <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BLO%7D%7D%20%3C%20%5Comega_%7B%5Ctext%7BRF%7D%7D"></li>
</ul></li>
</ul></li>
<li><p><strong>AGC (Automatic Gain Control) 自动增益控制</strong>: 输入接收机信号的强度可能会像 Gustav Mahler 的交响曲一样忽大忽小, 造成解调失败. AGC 就是帮你 “平衡音量”, 缩小响度范围的.</p></li>
<li><p><strong>Harmonic distortion 谐波失真</strong>: 由于我们的 Mixer 不是理想的, 在混频过程中会产生高次谐波 (见 Section&nbsp;5.1).</p>
<ul>
<li><strong>Total Harmonic Distortion (THD) 总谐波失真</strong>: 衡量谐波失真的程度. 设基波与高次谐波的幅度为: <img src="https://latex.codecogs.com/png.latex?V_1,%20V_2,%20V_3,%20%5Cldots">, THD 定义为<strong>所有高次波与基波功率的比例</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BTHD%7D%20:=%20%5Csqrt%7B%5Cfrac%7BV_2%5E2%20+%20V_3%5E2%20+%20%5Ccdots%7D%7BV_1%5E2%7D%7D%7D"></li>
</ul></li>
</ul>
</section>
<section id="sec-noise" class="level4 page-columns page-full" data-number="8.3.3">
<h4 data-number="8.3.3" class="anchored" data-anchor-id="sec-noise"><span class="header-section-number">8.3.3</span> Thermal Noise 热噪声</h4>
<blockquote class="blockquote">
<p>区别于外界的噪声, 热噪声是<strong>系统本身</strong>的电信号<strong>白噪声</strong> (每个频率上的能量密度是均匀的), 由于系统中电阻里的电子会因为温度而发生热运动, 故称为热噪声. 它正是振荡器起振的种子.</p>
</blockquote>
<ul>
<li><p><strong>(导线) 热噪声功率</strong>: (不考虑器件热噪声)</p>
<ul>
<li>正比于<strong>温度和带宽</strong> <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BP_n%20=%20kTB%7D">
<ul>
<li><img src="https://latex.codecogs.com/png.latex?k">: <strong>Boltzmann constant 玻尔兹曼常数</strong>: <img src="https://latex.codecogs.com/png.latex?1.38%20%5Ctimes%2010%5E%7B-23%7D%20%5Ctext%7B%20J/K%7D">, <img src="https://latex.codecogs.com/png.latex?T">: 系统的温度 (单位为 K), <img src="https://latex.codecogs.com/png.latex?B">: 带宽 (单位为 Hz)</li>
<li>为什么跟带宽有关? 因为 “每个频率上的能量密度是均匀的”.</li>
<li><strong>Noise Floor</strong>: 单位带宽 (<img src="https://latex.codecogs.com/png.latex?B=1%5Ctext%7B%20Hz%7D">) 上的热噪声功率. <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNoise%20Floor%7D%20=%20kT">
<ul>
<li>当 <img src="https://latex.codecogs.com/png.latex?T%20=%20290%5Ctext%7B%20K%7D,%20%5Cboxed%7B%5Ctext%7BNoise%20Floor%7D%20=%20-174%20%5Ctext%7B%20dBm/Hz%7D%7D%20=%20-204%20%5Ctext%7B%20dBW/Hz%7D">.</li>
<li>为什么功率的单位是 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D">? 因为这里是用了<strong>以 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20W%7D"> 和 <img src="https://latex.codecogs.com/png.latex?1%5Ctext%7B%20mW%7D"> 为基准的功率度量</strong>:<img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%20%5Ctext%7BdBW%7D%20&amp;:=%2010%20%5Clog_%7B10%7D%5Cleft(%20%5Cfrac%7BP%7D%7B1~%5Ctext%7BW%7D%7D%20%5Cright)%20%5C%5C%20%5Ctext%7BdBm%7D%20&amp;:=%2010%20%5Clog_%7B10%7D%5Cleft(%20%5Cfrac%7BP%7D%7B1~%5Ctext%7BmW%7D%7D%20%5Cright)%20%5Cend%7Baligned%7D"></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>(器件) 热噪声因子 Noise factor (<img src="https://latex.codecogs.com/png.latex?F">)</strong>:</p>
<div id="fig-noise-factor" class="quarto-float quarto-figure quarto-figure-center anchored" width="70%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-noise-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/noise-factor.png" id="fig-noise-factor" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-noise-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;44
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>定义</strong>: 一个放大器输入信号的信噪比 (SNR) 与输出信号的 SNR 的比值: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BF%20:=%20%5Cfrac%7B%5Ctext%7BSNR%7D_%7B%5Ctext%7Bin%7D%7D%7D%7B%5Ctext%7BSNR%7D_%7B%5Ctext%7Bout%7D%7D%7D%20=%20%5Cfrac%7BS_i%20/%20N_i%7D%7BS_i%20G%20/%20((N_i%20+%20N_a)%20G)%7D%20=%201+%5Cfrac%7BN_a%7D%7BN_i%7D%7D"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?N_a">: 归一化 <img src="https://latex.codecogs.com/png.latex?G"> 引入的噪声<sup>33</sup></li>
<li><strong>Noise Figure (<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNF%7D">)</strong>: 仅仅是化成 <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BdB%7D">, 注意 <img src="https://latex.codecogs.com/png.latex?F"> 本来就是功率比了 (而不是幅值比), 所以用 <img src="https://latex.codecogs.com/png.latex?10"> 当系数: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Ctext%7BNF%7D%20:=%2010%20%5Clg%20F%7D"></li>
<li>由于所有放大器都可能有热噪声 (<img src="https://latex.codecogs.com/png.latex?N_a%20%5Cge%200">), 所以 <img src="https://latex.codecogs.com/png.latex?F%20%5Cge%201,%20%5Ctext%7BNF%7D%20%5Cge%200">.</li>
</ul></li>
<li><p><strong>Friis Formula</strong>: 用来计算连级放大器的总噪声因子, 稍微算一算, 结果是这个: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BF_%7B%5Ctext%7Btotal%7D%7D%20=%20F_1%20+%20%5Cfrac%7BF_2%20-%201%7D%7BG_1%7D%20+%20%5Cfrac%7BF_3%20-%201%7D%7BG_1%20G_2%7D%20+%20%5Cfrac%7BF_4%20-%201%7D%7BG_1%20G_2%20G_3%7D%20+%20%5Ccdots%7D"></p>
<div id="fig-friis-cascade" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-friis-cascade-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/friis-cascade.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-friis-cascade-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;45: Friis Formula 用来计算连级放大器的总噪声因子, <img src="https://latex.codecogs.com/png.latex?G%20=%20G_1G_2G_3G_4">
</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn33"><p><sup>33</sup>&nbsp;这个概念跟 <a href="https://en.wikipedia.org/wiki/Noise_figure#Noise_factor_as_a_function_of_additional_noise">Wiki</a> 的定义不一样, Wiki 上没有归一化 <img src="https://latex.codecogs.com/png.latex?G">.</p></div></div><ul>
<li><strong>总热噪声功率</strong>
<ul>
<li>在 Noise Floor 的基础上, 我们还要乘上<strong>带宽 <img src="https://latex.codecogs.com/png.latex?B"> 和放大器增强的倍数 <img src="https://latex.codecogs.com/png.latex?F"></strong>, 在 <img src="https://latex.codecogs.com/png.latex?%5Clog"> 层面体现为加和: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5Csum%20P_n%20=%20%20-174%20+%2010%20%5Clg%20B%20+%20%5Ctext%7BNF%7D%20~%5B%5Ctext%7BdBm%7D%5D%7D">
<ul>
<li>这是一个电路最低的噪声功率, 也称 <strong>True (实际) Noise Floor</strong>.</li>
</ul></li>
</ul></li>
<li><strong>Low Noise Amplifier LNA 低噪声放大器</strong>: 一个以 <img src="https://latex.codecogs.com/png.latex?%5Comega_%7B%5Ctext%7BRF%7D%7D"> 为中心频率的放大器. 由于 RF 信号本身很弱, 后续电路听不到 (而 RF stage 只有选择作用而没有放大作用), 所以加一个放大器用来放大微弱的 RF 信号.
<ul>
<li>叫做 “低噪声” 是因为一般的放大器在放大信号的同时会引入很多的<strong>热噪声</strong> (系统本身的噪声, 不是外界的!), 而 LNA 本身的热噪声很小.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="a-d-模数转换" class="level2 page-columns page-full" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="a-d-模数转换"><span class="header-section-number">9</span> A &amp; D 模数转换 ★★★★★</h2>
<section id="op-amp-运算放大器" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="op-amp-运算放大器"><span class="header-section-number">9.1</span> Op-amp 运算放大器</h3>
<blockquote class="blockquote">
<p>运算放大器用了反馈电路来实现放大, 微分, 积分等运算. <strong>这些你都不需要会</strong>, 这些反馈最后的结果就是下面的模型, 用他们对付模数转换足够. (这个思想见 Section&nbsp;1)</p>
</blockquote>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cbegin%7Baligned%7D%0AI_%7BR_1%7D%20&amp;=%20I_%7BR_2%7D%20%5C%5C%0A%5Cimplies%20%5Cfrac%7BV_%7B%5Ctext%7Bin%7D%7D%7D%7BR_1%7D%20&amp;=%20-%5Cfrac%7BV_%7B%5Ctext%7Bout%7D%7D%7D%7BR_2%7D%0A%5Cend%7Baligned%7D%0A%7D%0A"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/op-amp.png" class="img-fluid figure-img"></p>
<figcaption>用跷跷板来思考 Op-amp, <img src="https://latex.codecogs.com/png.latex?+"> 接地相当于 <img src="https://latex.codecogs.com/png.latex?-"> 接地</figcaption>
</figure>
</div>
</section>
<section id="adc" class="level3 page-columns page-full" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="adc"><span class="header-section-number">9.2</span> ADC</h3>
<ul>
<li>步骤
<ul>
<li><strong>Sampling &amp; Holding 采样保持</strong>: 时域离散化 (<strong>信号值还是模拟的</strong>)
<ul>
<li><p><strong>Nyquist-Shannon 采样定理</strong>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/Nyquist-Thm.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Nyquist 采样定理<sup>34</sup>: 如果你看到的版本是用时域诠释的, 我很好奇你是怎么理解的</figcaption>
</figure>
</div>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?2f_0">: 采样频率的最小值, 称为 <strong>Nyquist rate</strong></li>
<li><strong>Aliasing 混叠</strong>: <img src="https://latex.codecogs.com/png.latex?f_s%20%5Cle%202f_0">, 由于在频域上频谱重叠在了一起, 所以称为混叠. 这时无法复原原始信号.
<ul>
<li><strong>Bandlimiting 带限化</strong>: 此时可对原始信息做一点牺牲, 在采样前用 <strong>Anti-aliasing filter 反混叠滤波器</strong> 将原信号的频谱缩小到满足 Nyquist 采样定理的范围内.</li>
</ul></li>
</ul></li>
<li><p>3 种方法采样后的波形: <strong>Ideal, Natural, Flattop</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/sampling-methods.png" class="img-fluid figure-img"></p>
<figcaption>3 种方法采样后的波形</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>Quantization &amp; Encoding 量化编码</strong>: 信号值也离散化
<ul>
<li>采样保持的输出是 <img src="https://latex.codecogs.com/png.latex?%5BV_%7B%5Cmin%7D,%20V_%7B%5Cmax%7D%5D"> 之间的电压信号, 用 <img src="https://latex.codecogs.com/png.latex?n">-bit ADC 对其进行均匀分割成 <img src="https://latex.codecogs.com/png.latex?2%5En"> 个 <strong>量化区间</strong> (称为<strong>量化</strong>), 再给每个<strong>区间</strong>一串二进制数 (称为<strong>编码</strong>).</li>
<li><strong>Resolution 分辨率</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7B%5CDelta%20:=%20%5Cfrac%7BV_%7B%5Cmax%7D%20-%20V_%7B%5Cmin%7D%7D%7B2%5En%7D%7D"></li>
<li><strong>Quantization Error 量化误差信号</strong>: 是一个电压噪声, (Figure&nbsp;46). 当我们用每个量化区间中点代表量化后的信号时, 这个噪声的功率达到最小 (所以以后都用区间中点吧).</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn34"><p><sup>34</sup>&nbsp;如果时间上只取部分点的话 (Sampling), 怎么可能复原原来的信号? 其实 Nyquist 采样定理应该反过来理解: <strong>如果只取部分点都能复原原来的信号的话, 那么这个信号一定是被 <img src="https://latex.codecogs.com/png.latex?%5Cge%202f_0"> 的采样频率采样过的.</strong></p></div><div class="">
<div id="fig-quantization-error" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quantization-error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/Quantization-error.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quantization-error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;46: 不用区间中点时的量化误差信号
</figcaption>
</figure>
</div>
</div></div>
<ul>
<li>电路实现
<ul>
<li><strong>Successive Approximation ADC</strong></li>
<li><strong>Dual Slope (aka Integrating) ADC</strong></li>
<li><strong>Flash ADC</strong>: 速度最快.</li>
</ul></li>
</ul>
</section>
<section id="dacdac-ppt" class="level3 page-columns page-full" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="dacdac-ppt"><span class="header-section-number">9.3</span> DAC<sup>35</sup></h3>
<ul>
<li>为什么需要 DAC? (数字信号的局限性<sup>36</sup>)
<ul>
<li>我们 percept 到的信号是模拟的 (比如声音)</li>
<li>世界是模拟的, 只有模拟信号才能跟他们 interact (DAC as a bridge)</li>
<li>数字化的过程中有信息损失</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn36"><p><sup>36</sup>&nbsp;资产阶级的局限性 (幻视</p></div></div><ul>
<li>电路实现
<ul>
<li><p><strong>Weighted Resistor DAC</strong></p>
<div id="fig-weighted-register-dac" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-weighted-register-dac-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/weighted-register-dac.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weighted-register-dac-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;47: Weighted Resistor DAC: 通过调整 <img src="https://latex.codecogs.com/png.latex?R_1"> 来实现 DAC, 用导纳思考更好, 一般情况下 <img src="https://latex.codecogs.com/png.latex?R_f%20=%20R">
</figcaption>
</figure>
</div>
<ul>
<li>Motivation: 一个很自然的想法是利用 Op-amp, 通过数字输入 <img src="https://latex.codecogs.com/png.latex?D%20=%20%5BD_3:D_0%5D"> 来控制接入电阻的数量, 进而控制 <img src="https://latex.codecogs.com/png.latex?R_1"> 的大小, 我们期待 <img src="https://latex.codecogs.com/png.latex?D"> 越大, <img src="https://latex.codecogs.com/png.latex?R_1"> 越小, 这样 <img src="https://latex.codecogs.com/png.latex?V_%7B%5Ctext%7Bout%7D%7D"> 就会越大, 即 <img src="https://latex.codecogs.com/png.latex?R_1"> 的导纳满足: <img src="https://latex.codecogs.com/png.latex?Y_1%20%5Cpropto%20D_0+2D_1+4D_2+8D_3"></li>
<li><img src="https://latex.codecogs.com/png.latex?Y_1"> 和 <img src="https://latex.codecogs.com/png.latex?D"> 的关系: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BY_1%20=%20%5Cfrac%7B1%7D%7BR%7D%5Cleft(%5Cfrac%7BD_0%7D%7B8%7D%20+%20%5Cfrac%7BD_1%7D%7B4%7D%20+%20%5Cfrac%7BD_2%7D%7B2%7D%20+%20D_3%5Cright)%7D"></li>
<li>局限性: 电阻随比特数指数级增大, 需要精确的电阻</li>
</ul></li>
<li><p><strong>R-2R Ladder DAC</strong><sup>37</sup></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/ccd-crash-course/R-2R-ladder.png" class="img-fluid figure-img"></p>
<figcaption>R-2R Ladder DAC: 用电流思考而不是等效电阻 <img src="https://latex.codecogs.com/png.latex?R_1">, 一般情况下 <img src="https://latex.codecogs.com/png.latex?R_f%20=%20R"></figcaption>
</figure>
</div>
<ul>
<li>这个结构要论证叠加的话别看等效电阻 <img src="https://latex.codecogs.com/png.latex?R_1">, 看电流, 电流满足叠加定理.</li>
<li>推导可用 Figure&nbsp;48 树结构思考. 先只考虑单独接通一个节点 (注意没接通的节点是接地而不是浮空!!) 上面的节点接通电流最大, 从上到下指数减小, 因此上面节点是 <img src="https://latex.codecogs.com/png.latex?D"> 的高位.</li>
<li><img src="https://latex.codecogs.com/png.latex?Y_1"> 和 <img src="https://latex.codecogs.com/png.latex?D"> 的关系: <img src="https://latex.codecogs.com/png.latex?%5Cboxed%7BY_1%20=%20%5Cfrac%7B1%7D%7BR%7D%5Cleft(%5Cfrac%7BD_0%7D%7B16%7D%20+%20%5Cfrac%7BD_1%7D%7B8%7D%20+%20%5Cfrac%7BD_2%7D%7B4%7D%20+%20%5Cfrac%7BD_3%7D%7B2%7D%5Cright)%7D"></li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn37"><p><sup>37</sup>&nbsp;这个结构真是太精妙了, 很难说它是怎么想出来的.</p></div><div class="">
<div id="fig-R-2R-ladder-explain" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-R-2R-ladder-explain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/ccd-crash-course/R-2R-ladder-explain.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-R-2R-ladder-explain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;48: 每根线段代表 <img src="https://latex.codecogs.com/png.latex?R">, 电阻树的简化涉及<strong>电阻等效</strong>和<strong>电源等效</strong>, 两个节点同时接入电流满足叠加定理
</figcaption>
</figure>
</div>
</div></div>
<!-- 
#| label: fig-polar
#| fig-cap: "A line plot on a polar axis"

import numpy as np
import matplotlib.pyplot as plt

r = np.arange(0, 2, 0.01)
theta = 2 * np.pi * r
fig, ax = plt.subplots(
  subplot_kw = {'projection': 'polar'} 
)
ax.plot(theta, r)
ax.set_rticks([0.5, 1, 1.5, 2])
ax.grid(True)
plt.show()
``` -->


</section>
<div class="no-row-height column-margin column-container"><div id="fn35"><p><sup>35</sup>&nbsp;我只想说 PPT 这一章可真够啰嗦的.</p></div></div></section>


 ]]></description>
  <category>Circuit</category>
  <category>Crash-Course</category>
  <category>CN-blogs</category>
  <guid>https://marcobisky.github.io/posts/ccd-crash-course/</guid>
  <pubDate>Mon, 16 Jun 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/ccd-crash-course/cover.png" medium="image" type="image/png" height="52" width="144"/>
</item>
<item>
  <title>Solving Laplace’s Equation using Separation of Variables</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/pde-solve-laplace-equation/</link>
  <description><![CDATA[ 





<section id="takeaway" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="takeaway">Takeaway</h2>
</section>
<section id="problem-formulation" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="problem-formulation"><span class="header-section-number">1</span> Problem Formulation</h2>
<p>Suppose we have a rectangular sheet of steel sized <img src="https://latex.codecogs.com/png.latex?p%20%5Ctimes%20q">. We somehow force the temperature on the boundary of the sheet to be some deterministic function <img src="https://latex.codecogs.com/png.latex?f,%20g,%20h,%20w"> shown in Figure&nbsp;1. When the system settles stablely, what is the temperature distribution <img src="https://latex.codecogs.com/png.latex?v(x,%20y)"> inside the sheet?</p>
<div id="fig-problem-formulation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-problem-formulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/problem-formulation.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-problem-formulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: How to solve the temperature distribution given boundary condition?
</figcaption>
</figure>
</div>
<p>Since the steady heat distribution is governed by the Laplace’s equation. The problem is basically to:</p>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>Solve the Laplace’s equation given a (Dirichlet) boundary condition<sup>1</sup> (temperature functions):<img src="https://latex.codecogs.com/png.latex?%20%5Cnabla%5E2%20v%20=%200.%20"></p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;See <a href="https://en.wikipedia.org/wiki/Boundary_value_problem#Examples">here</a> for different types of boundary conditions.</p></div></div></div>
</section>
<section id="existence-and-uniqueness-of-solutions" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="existence-and-uniqueness-of-solutions"><span class="header-section-number">2</span> Existence and uniqueness of solutions</h2>
<p>It’s good habit to always check the <strong>existence</strong> and <strong>uniqueness</strong> of a mathematical object.</p>
<ol type="1">
<li><p><strong>Existence</strong>: Does the solution exist?</p>
<p>In this case, one can guess by life experience that the solution exists since no matter how we force the temperature on the boundary, there must be a temperature distribution inside the sheet.</p></li>
<li><p><strong>Uniqueness</strong>: Does the temperature distribution settles to a unique solution?</p>
<p>This is not immediately obvious<sup>2</sup>. Could there exist two different stable temperature distributions? The answer is no.</p></li>
</ol>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Not every PDE has a unique solution. For example, the uniqueness of the famous <a href="https://en.wikipedia.org/wiki/Navier–Stokes_existence_and_smoothness"><em>Navier-Stokes equation</em></a> is still unsolved.</p></div></div></section>
<section id="linearity-simplifies-the-problem" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="linearity-simplifies-the-problem"><span class="header-section-number">3</span> Linearity simplifies the problem</h2>
<p>Stare Figure&nbsp;2 for a while, you will find we just need to solve the steady heat distribution <img src="https://latex.codecogs.com/png.latex?F(x,%20y)"> with an easier boundary condition: <span id="eq-BC"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign%7D%0AF(0,%20y)%20&amp;=%200,%20&amp;%20y%20%5Cin%20%5B0,%20q%5D%20%5Ctag%7BBC1%7D%20%5C%5C%0AF(0,%20y)%20&amp;=%200,%20&amp;%20y%20%5Cin%20%5B0,%20q%5D%20%5Ctag%7BBC2%7D%20%5C%5C%0AF(x,%200)%20&amp;=%200,%20&amp;%20x%20%5Cin%20%5B0,%20p%5D%20%5Ctag%7BBC3%7D%20%5C%5C%0AF(x,%20q)%20&amp;=%20f(x),%20&amp;%20x%20%5Cin%20%5B0,%20p%5D%20%5Ctag%7BBC4%7D%0A%5Cend%7Balign%7D%0A%5Ctag%7B1%7D"></span></p>
<div id="fig-linearity-simplifies" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-linearity-simplifies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/linearity-simplifies.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-linearity-simplifies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Linearity of Laplace’s equation simplifies the boundary condition
</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/cover.gif" class="img-fluid figure-img"></p>
<figcaption><a href="https://visualpde.com/sim/?options=N4IgRgqiBcIMYHsC2YEgDTgE4xABgDoAmDeAZylgCEEAXW5aAAgBEBLLNuACwBsBTWkwC8TPAG4mAGX4AzWs3aceAoaIlMASmwDm3Baw5c+gkWMkAVBAAdFRladEBmAFQAKQgBYXZNgDs3azYXAA8mAHomAFYASiYAWjFiH383byDQiOi4xMIARhSAgA4XDLDI2KYAaiSiQrc8gDZS4PLsmPFSABMIShA87oA1Qdw8boB1cdHuvpJMLrJcKO7aGEI8PCJMOD6xzCR-AA1pzD8YPNOLc8xrXABhAFcyBiRSaywEMH4AMQez2CuNw+Xxkfh0tG4MCcG0wWF2pCwI1gexAWCmyNIZFuyIIeU8nkx-xAgJAADcYABtUAAQywHwA7ncELwEA8cNBGlEok4ophaQyWPw-L5aABPNYEXkgfkIemg8HcACy1JCuAGfLpsoAynBqQJcNSHgxSDL6cdYFIAPohcJEBJMVUahkATVwVtFtvt4r5RoQWsETJZbM01LB-Bgsj1ZH422pSH4WGpFm4gmpULwsfjiYACtw2OnMwnqQAtBDICVFbbM1lYJDU7EgWhs1CkRBBrBgWkRqMx+AIPwMNmLaCR3jRqsDmuBmtrCeDrAAUWsvhZ-3WFz7k7ZADkHq9oFK4E8Xlq2ZG4OGRz3MPwUAgyMPR+OQLfUA+AIIoNhC1bQQhS197zIdhZFkJ5L0IRobzvB9c3zaA8klAB2PBKxfGCyC1PM-HFBCM3Qt9MKQMsIT8fgHwlLYCKArVrH4I9eC7P9iGgwjk1TCUkKKKJPEwWReDYaw6K6ac2TrbEn17ASyPGNgughRUHl4a4QDrEJRMRPUHkvfoCBRA4-A0wYtJ09ZSAQUkE0Y3DJMwCyrOpUUNNnEB7KwaylxXfsJQ2KU3I8kJ3jVczLPcxypH8fhZPkpUlJU6wWVoCxRTo3AEtDcMgU+fwdG7Mde3eT4fj+XASUKkEhQVdN8PK-hktS2B-FofgdETZSsq+c18DeYF+FdDFMDIM9qQvX4iRRCEsH4fgWAACX4XR9B1PUIIIJDMEsuAGCwb5v14Lo8ufeluGpJKEGzRLStIPw4x0gASCw7pAABfdAaU1RlqzZGBOW5KVTUFYU2DFCV-o++UFJVUY9IJJ1tV1fVYCmxjaDYSyTQ+rr4gsa0MZdXBsctb1pV9f1aA0kMw0O3tdSzJMU1oNNoGhQsczzAt4FuxNS3LZi0LbGtxNwCEEzrdq+3bTt2Vszd50fa9ZanL72XwxAt0XZc2FXHyNzV+dd33Q9j2QU8sHPS8ZcAiir3y1igM-MBvwHUG7YfECwOjCUoOo2D2YQ5DUNdzDsNwvJ8KtoiSO4MjrcIKiI9o+ilKYuOg-YxnOO43iQH4wThI0oXoFoLBtMwaSorkhS4oQ-YVSMky1T00gDPr3htOhlF-Mc6m7NC6znL-XuHNFTyte85jfKHsKR8C9l+hC4eIpkyvYuUmuQASuh6p09KyJ67KwR7jferGq6Ov4CHIWZmFj6K7fcCalq2v3zqTlvr5+u6wbhtGkqBsbbgU0ZrzUWrQZaiNCDrTJPRbau1+D7RgMXUuIBjqnSsBdOgZ8QA3XjLgB6d0mChi6EwO6AAdUhN0wCMSYI9F6ABdTA9IDoAlIPSBsJJfBIAsMDRGIB5qnSYPwAAjg8U6bBvLPSAA">Simulate</a> the subproblem</figcaption>
</figure>
</div>
</section>
<section id="separation-of-variables-sov" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="separation-of-variables-sov"><span class="header-section-number">4</span> Separation of variables (SoV)</h2>
<p>Suppose <img src="https://latex.codecogs.com/png.latex?F(x,y)"> could be written as: <span id="eq-SoV"><img src="https://latex.codecogs.com/png.latex?%0AF(x,y)%20=%20A(x)B(y)%0A%5Ctag%7B2%7D"></span></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Uniqueness legitimize seperation of variables!
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-uniqueness-importance" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> Equation&nbsp;2 is such a bold and unreasonable assumption. Why is that??</p>
<blockquote class="blockquote">
<p>It <em>literally</em> doesn’t make any sense, until it indeed gives a solution!</p>
</blockquote>
<p>The seperation of variables is just a guess. You will later find that if we continue reasoning using this assumption, we will eventually arrive at a solution that satisfies both the Laplace’s equation and the boundary condition.</p>
<p>Here is the point: The <strong>uniqueness</strong> theorem guarantees that the solution is unique!, which means the solution we just got is the only solution, though we have no fluent logic to derive it! This is sort of like:</p>
<p>Imagine your primary school teacher ask you to solve the equation: <span id="eq-2x31"><img src="https://latex.codecogs.com/png.latex?%0A2x%20+%203%20=%201.%0A%5Ctag%7B3%7D"></span></p>
<p>You have no idea how to solve it, but you guess that <img src="https://latex.codecogs.com/png.latex?x"> satisfies: <img src="https://latex.codecogs.com/png.latex?%0Ax%20+%201%20=%200,%0A"> and you get <img src="https://latex.codecogs.com/png.latex?x%20=%20-1">, which indeed satisfies Equation&nbsp;3. By <a href="https://en.wikipedia.org/wiki/Fundamental_theorem_of_algebra#:~:text=The%20fundamental%20theorem%20of%20algebra,at%20least%20one%20complex%20root."><strong>Fundamental theorem of algebra</strong></a>, Equation&nbsp;3 has and only has one solution. Therefore, its solution is <img src="https://latex.codecogs.com/png.latex?x%20=%20-1">. This is a valid reasoning!!</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Then we plugin Equation&nbsp;2 into the Laplace’s equation: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%5Cnabla%5E2%20(AB)%20=%200%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cfrac%7B%5Cpartial%5E2%20(AB)%7D%7B%5Cpartial%20x%5E2%7D%20+%20%5Cfrac%7B%5Cpartial%5E2%20(AB)%7D%7B%5Cpartial%20y%5E2%7D%20=%200%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;A_%7Bxx%7D(x)B(y)%20+%20A(x)B_%7Byy%7D(y)%20=%200%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cunderbrace%7B%5Cfrac%7BA_%7Bxx%7D(x)%7D%7BA(x)%7D%7D_%7B%5Ctext%7Bfunction%20of%20%7Dx%7D%20=%20%5Cunderbrace%7B-%5Cfrac%7BB_%7Byy%7D(y)%7D%7BB(y)%7D%7D_%7B%5Ctext%7Bfunction%20of%20%7Dy%7D,%20%5Cquad%20%5Cforall%20(x,%20y)%20%5Cin%20%5B0,%20p%5D%20%5Ctimes%20%5B0,%20q%5D.%0A%5Cend%7Balign*%7D%0A"></p>
<p>Now here is a very important step, for all point in the rectangle, a function of <img src="https://latex.codecogs.com/png.latex?x"> equals a function of <img src="https://latex.codecogs.com/png.latex?y">, always. This means they must be constant functions as shown in Figure&nbsp;3.</p>
<p><span id="eq-lambda"><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cfrac%7BA_%7Bxx%7D(x)%7D%7BA(x)%7D%20=%20-%5Cfrac%7BB_%7Byy%7D(y)%7D%7BB(y)%7D%20=%20%5Ctext%7Bconst%7D%20%5Cequiv%20%5Clambda.%0A%7D%0A%5Ctag%7B4%7D"></span></p>
<p>If we denote the constant as <img src="https://latex.codecogs.com/png.latex?%5Clambda">, <strong>this is actually problematic</strong> because <img src="https://latex.codecogs.com/png.latex?%5Clambda"> could be different numbers as long as <img src="https://latex.codecogs.com/png.latex?A_%7Bxx%7D(x)/A(x)"> and <img src="https://latex.codecogs.com/png.latex?-B_%7Byy%7D(y)/B(y)"> are equal. We will later see that there are countably <img src="https://latex.codecogs.com/png.latex?%5Clambda"> values that are available and we shall use <strong>series</strong> to represent the solution.</p>
<div id="fig-function-of-x-equals-function-of-y" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-function-of-x-equals-function-of-y-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/function-of-x-equals-function-of-y.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-function-of-x-equals-function-of-y-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: A function of <img src="https://latex.codecogs.com/png.latex?x"> equals a function of <img src="https://latex.codecogs.com/png.latex?y"> pointwise forces them constant functions
</figcaption>
</figure>
</div>
<p>Now we get two ODEs from Equation&nbsp;4: <span id="eq-system-of-ODEs"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%20A_%7Bxx%7D%20=%20%5Clambda%20A%20%5C%5C%0AB_%7Byy%7D%20=%20-%5Clambda%20B%0A%5Cend%7Bcases%7D%0A%5Ctag%7B5%7D"></span></p>
<p>Refer to Section&nbsp;7 for the solution of this kind of ODE.</p>
</section>
<section id="boundary-conditions-applied" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="boundary-conditions-applied"><span class="header-section-number">5</span> Boundary conditions applied</h2>
<section id="determine-the-sign-of-lambda" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="determine-the-sign-of-lambda"><span class="header-section-number">5.1</span> Determine the sign of <img src="https://latex.codecogs.com/png.latex?%5Clambda"></h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Claim
</div>
</div>
<div class="callout-body-container callout-body">
<div id="prp-lambda-claim" class="callout-prp theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1</strong></span> We claim that: <img src="https://latex.codecogs.com/png.latex?%0A%5Clambda%20%5Cle%200.%0A"></p>
</div>
<p>This is because if <img src="https://latex.codecogs.com/png.latex?%5Clambda%20%3E%200">, <img src="https://latex.codecogs.com/png.latex?%0AA(x)%20%5Cin%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5C%7B%5Ccosh(%5Csqrt%7B%5Clambda%7D%20x),%20%5Csinh(%5Csqrt%7B%5Clambda%7D%20x)%5C%7D.%0A"> But hyperbolic functions look like the right graph of Figure&nbsp;5, there is no element in <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5C%7B%5Ccosh(%5Csqrt%7B%5Clambda%7D%20x),%20%5Csinh(%5Csqrt%7B%5Clambda%7D%20x)%5C%7D"> that equals <img src="https://latex.codecogs.com/png.latex?0"> at both ends of the rectangle. Only periodic sinusoidal functions can do that.</p>
</div>
</div>
<!-- ----------------------------------------- -->
<p>From Proposition&nbsp;1, Equation&nbsp;5 implies <span id="eq-system-of-ODEs-solution"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%20A(x)%20%5Cin%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5C%7B%5Ccos(%5Comega%20x),%20%5Csin(%5Comega%20x)%5C%7D%20%5Ccup%20%5C%7B%5Calpha_1%20x%20+%20%5Cbeta_1%5C%7D%20%5C%5C%0AB(y)%20%5Cin%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5C%7B%5Ccosh(%5Comega%20y),%20%5Csinh(%5Comega%20y)%5C%7D%20%5Ccup%20%5C%7B%5Calpha_2%20y%20+%20%5Cbeta_2%5C%7D%0A%5Cend%7Bcases%7D%0A%5Ctag%7B6%7D"></span> where <img src="https://latex.codecogs.com/png.latex?-%5Clambda%20=%20%5Comega%5E2"></p>
</section>
<section id="determine-valid-lambda-values" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="determine-valid-lambda-values"><span class="header-section-number">5.2</span> Determine valid <img src="https://latex.codecogs.com/png.latex?%5Clambda"> values</h3>
<section id="left-and-right-boundary-conditions" class="level4" data-number="5.2.1">
<h4 data-number="5.2.1" class="anchored" data-anchor-id="left-and-right-boundary-conditions"><span class="header-section-number">5.2.1</span> Left and right boundary conditions</h4>
<p>Let’s start with the easier boundary conditions <span class="citation" data-cites="BC1">@BC1</span> and <span class="citation" data-cites="BC2">@BC2</span>.</p>
<p><img src="https://latex.codecogs.com/png.latex?A(x)"> in Equation&nbsp;6 are just sinusoidal functions or linear functions. If we force it to be zero on the edges, all of a sudden <img src="https://latex.codecogs.com/png.latex?%5Calpha_1"> and <img src="https://latex.codecogs.com/png.latex?%5Cbeta_1"> should be both zero, and the coefficients before <img src="https://latex.codecogs.com/png.latex?%5Ccos(%5Comega%20x)"> also must be zero, otherwise the function will never be zero at the line <img src="https://latex.codecogs.com/png.latex?x=0">. Also the horizontal length <img src="https://latex.codecogs.com/png.latex?p"> must be integer multiple of half period of <img src="https://latex.codecogs.com/png.latex?%5Csin(%5Comega%20x)">, i.e., <img src="https://latex.codecogs.com/png.latex?%0An%20%5Ccdot%20%5Cfrac%7B%5Cpi%7D%7B%5Comega%7D%20=%20p,%20%5Cquad%20n%20=%201,%202,%203,%20%5Ccdots.%0A"></p>
<p>Therefore, there are only countably many valid <img src="https://latex.codecogs.com/png.latex?%5Comega">, hence countably many valid <img src="https://latex.codecogs.com/png.latex?%5Clambda">: <img src="https://latex.codecogs.com/png.latex?%0A%5Clambda%20=%20-%5Comega%5E2%20%5Cin%20%5Cleft%5C%7B%20-%5Cfrac%7Bn%5E2%20%5Cpi%5E2%7D%7Bp%5E2%7D%20%5Cright%5C%7D_%7Bn=1%7D%5E%5Cinfty.%0A"></p>
<p>So <img src="https://latex.codecogs.com/png.latex?A(x)"> in Equation&nbsp;6 is in a subspace: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0AA(x)%20%5Cin%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5Cleft%5C%7B%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20x%5Cright)%5Cright%5C%7D%7D%0A"></p>
<p>As shown in Figure&nbsp;4, <img src="https://latex.codecogs.com/png.latex?A(x)"> is like the <strong>harmonics</strong> on a string.</p>
<div id="fig-mental-picture-A-B" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mental-picture-A-B-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/mental-picture-A-B.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mental-picture-A-B-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Mental picture for <img src="https://latex.codecogs.com/png.latex?A(x)"> and <img src="https://latex.codecogs.com/png.latex?B(y)">
</figcaption>
</figure>
</div>
</section>
<section id="top-and-bottom-boundary-conditions" class="level4" data-number="5.2.2">
<h4 data-number="5.2.2" class="anchored" data-anchor-id="top-and-bottom-boundary-conditions"><span class="header-section-number">5.2.2</span> Top and bottom boundary conditions</h4>
<p>On top and bottom edges, we have the boundary condition (BC3) and (BC4) in Equation&nbsp;1.</p>
<p><img src="https://latex.codecogs.com/png.latex?B(y)"> in Equation&nbsp;6 must obey these boundary conditions. (BC3) in Equation&nbsp;1 forces <img src="https://latex.codecogs.com/png.latex?%5Cbeta_2%20=%200">, and the coefficients before <img src="https://latex.codecogs.com/png.latex?%5Ccosh(%5Comega%20y)"> to be zero. So <img src="https://latex.codecogs.com/png.latex?B(y)"> in Equation&nbsp;6 is in a subspace: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0AB(y)%20%5Cin%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BR%7D%5Cleft%5C%7B%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20y%5Cright)%5Cright%5C%7D%20%5Ccup%20%5C%7B%5Calpha_2%20y%5C%7D%7D%0A"></p>
</section>
</section>
<section id="fourier-series-for-the-undetermined-coefficients" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="fourier-series-for-the-undetermined-coefficients"><span class="header-section-number">5.3</span> Fourier series for the undetermined coefficients</h3>
<p>We have not used the boundary condition (BC4) in Equation&nbsp;1 yet. Actually, it leads to the introduction to <strong>Fourier series</strong>! Let’s write what does <img src="https://latex.codecogs.com/png.latex?F(x,y)"> looks like up to now: <span id="eq-Fxy"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AF(x,%20y)%20&amp;=%20A(x)B(y)%20%5C%5C%0A&amp;=%20c%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20x%5Cright)%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20y%5Cright)%20%5C%5C%0A%5Ctext%7Bor%20%7D%20&amp;=%20c'%200%20%5Ccdot%20y%0A%5Cend%7Baligned%7D%0A%5Ctag%7B7%7D"></span> where <img src="https://latex.codecogs.com/png.latex?c"> depends on the choice of <img src="https://latex.codecogs.com/png.latex?n">, <img src="https://latex.codecogs.com/png.latex?n"> can be any positive integer. Now we have a very important claim:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Claim
</div>
</div>
<div class="callout-body-container callout-body">
<div id="prp-sum-claim" class="callout-prp theorem proposition">
<p><span class="theorem-title"><strong>Proposition 2</strong></span> If we add these valid <img src="https://latex.codecogs.com/png.latex?F"> together, the sum is still valid: <span id="eq-Fxy-sum"><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0AF(x,y)%20=%20%5Csum_%7Bn=1%7D%5E%5Cinfty%20c_n%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20x%5Cright)%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20y%5Cright).%7D%0A%5Ctag%7B8%7D"></span></p>
</div>
<p>Think about why!?</p>
<p>Each solution in Equation&nbsp;7 is a solution to the Laplace’s equation, right? By the superposition principle, their sum is also a solution to the Laplace’s equation!</p>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Here is the most beautiful part: We plugin (BC4) in Equation&nbsp;1 into Equation&nbsp;8: <span id="eq-Fxy-BC4"><img src="https://latex.codecogs.com/png.latex?%0AF(x,%20q)%20=%20%5Csum_%7Bn=1%7D%5E%5Cinfty%20%5Cunderbrace%7Bc_n%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright)%7D_%7B%5Cmathclap%7B%5Cscriptsize%20%5Ctext%7BFourier%20coefficients%20of%20%7Df(x)%7D%7D%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20x%5Cright)%20=%20f(x).%0A%5Ctag%7B9%7D"></span></p>
<p>The <img src="https://latex.codecogs.com/png.latex?c_n%20%5Csinh(n%20%5Cpi%20q/p)"> are just constants, which is exactly the <strong>Fourier coefficients</strong> of the function <img src="https://latex.codecogs.com/png.latex?f(x)">!</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Deriving <img src="https://latex.codecogs.com/png.latex?c_n"> through Fourier analysis
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We know that a real-valued function <img src="https://latex.codecogs.com/png.latex?f(x)"> of period <img src="https://latex.codecogs.com/png.latex?T"> could be decomposed as: <span id="eq-Fourier-series"><img src="https://latex.codecogs.com/png.latex?%0Af(x)%20=%20a_0%20+%20%5Csum_%7Bn=1%7D%5E%5Cinfty%20a_n%20%5Ccos(n%20%5Comega_0%20x)%20+%20%5Csum_%7Bn=1%7D%5E%5Cinfty%20b_n%20%5Csin(n%20%5Comega_0%20x),%0A%5Ctag%7B10%7D"></span> where <span id="eq-real-fourier-coefficients"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bcases%7D%0Aa_n%20&amp;=%20%5Cfrac%7B2%7D%7BT%7D%20%5Clangle%20f,%20%5Ccos(n%20%5Comega_0%20x)%20%5Crangle%20%5C%5C%0Ab_n%20&amp;=%20%5Cfrac%7B2%7D%7BT%7D%20%5Clangle%20f,%20%5Csin(n%20%5Comega_0%20x)%20%5Crangle%20%5C%5C%0Aa_0%20&amp;=%20%5Cfrac%7B1%7D%7BT%7D%20%5Clangle%20f,%201%20%5Crangle.%0A%5Cend%7Bcases%7D%0A%5Ctag%7B11%7D"></span></p>
<p>We consider the function <img src="https://latex.codecogs.com/png.latex?f(x)"> to be a periodic function with period <img src="https://latex.codecogs.com/png.latex?T=2p"> (not <img src="https://latex.codecogs.com/png.latex?p">) since we need <img src="https://latex.codecogs.com/png.latex?%0A%5Comega_0%20=%20%5Cfrac%7B%5Cpi%7D%7Bp%7D.%0A"></p>
<p>Now we know that all <img src="https://latex.codecogs.com/png.latex?a_n%20=%200">. Compare Equation&nbsp;11 with Equation&nbsp;9, <img src="https://latex.codecogs.com/png.latex?%0Ab_n%20=%20%5Cfrac%7B2%7D%7B2p%7D%20%5Cleft%5Clangle%20f,%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7Dx%5Cright)%20%5Cright%5Crangle%20=%20c_n%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright).%0A"> Solve for <img src="https://latex.codecogs.com/png.latex?c_n">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Ac_n%20&amp;=%20%5Cfrac%7B1%7D%7Bp%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright)%7D%20%5Cleft%5Clangle%20f,%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7Dx%5Cright)%20%5Cright%5Crangle%20%5C%5C%0A&amp;=%20%5Cfrac%7B1%7D%7Bp%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright)%7D%20%5Cint_0%5E%7B2p%7D%20f(x)%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7Dx%5Cright)%20%5Cmathrm%7Bd%7Dx%20%5C%5C%0A&amp;=%20%5Cfrac%7B2%7D%7Bp%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright)%7D%20%5Cint_0%5E%7Bp%7D%20f(x)%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7Dx%5Cright)%20%5Cmathrm%7Bd%7Dx.%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="conclusion" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">6</span> Conclusion</h2>
<p>The solution to the simplified boundary condition subproblem is: <span id="eq-Fxy-solution"><img src="https://latex.codecogs.com/png.latex?%0AF(x,y)%20=%20%5Csum_%7Bn=1%7D%5E%5Cinfty%20c_n%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20x%5Cright)%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20y%5Cright),%0A%5Ctag%7B12%7D"></span></p>
<p>where <img src="https://latex.codecogs.com/png.latex?c_n"> satisfies: <img src="https://latex.codecogs.com/png.latex?%0Ac_n%20=%20%5Cfrac%7B2%7D%7Bp%20%5Csinh%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7D%20q%5Cright)%7D%20%5Cint_0%5E%7Bp%7D%20f(x)%20%5Csin%5Cleft(%5Cfrac%7Bn%20%5Cpi%7D%7Bp%7Dx%5Cright)%20%5Cmathrm%7Bd%7Dx.%0A"></p>
<p>By the superposition principle (shown in Figure&nbsp;2), the solution to the original problem is the linear combination of the solutions in the form of Equation&nbsp;12.</p>
</section>



<div id="quarto-appendix" class="default"><section id="sec-2nd-order-ode-refresh" class="level2 appendix" data-number="7"><h2 class="anchored quarto-appendix-heading"><span class="header-section-number">7</span> 2nd-order ODE Refresh</h2><div class="quarto-appendix-contents">

<section id="complex-domain-solution" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="complex-domain-solution"><span class="header-section-number">7.1</span> Complex domain solution</h3>
<p>Consider the following 2nd-order ODE: <span id="eq-2nd-order-ode"><img src="https://latex.codecogs.com/png.latex?%0A%5Cddot%7Bx%7D%20=%20%5Clambda%20x,%0A%5Ctag%7B13%7D"></span> where <img src="https://latex.codecogs.com/png.latex?x(t)%20%5Cin%20%5Cmathbb%7BC%7D,%20%5Clambda%20%5Cin%20%5Cmathbb%7BR%7D">. What function satisfies this special property that if we differentiate it twice, we get itself up to a constant? Exponentials! So we guess: <img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20e%5E%7Brt%7D%0A"> with <img src="https://latex.codecogs.com/png.latex?%0Ar%20=%20%5Cpm%20%5Csqrt%7B%5Clambda%7D.%0A"></p>
<p>Therefore, the general solution to Equation&nbsp;13 is: <span id="eq-complex-solution"><img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20c_1%20e%5E%7B%5Csqrt%7B%5Clambda%7D%20t%7D%20+%20c_2%20e%5E%7B-%5Csqrt%7B%5Clambda%7D%20t%7D,%0A%5Ctag%7B14%7D"></span> where <img src="https://latex.codecogs.com/png.latex?c_1,%20c_2%20%5Cin%20%5Cmathbb%7BC%7D"> are constants. Done!</p>
<p>We can use different notation according to the sign of <img src="https://latex.codecogs.com/png.latex?%5Clambda">:</p>
<ol type="1">
<li><p><img src="https://latex.codecogs.com/png.latex?%5Clambda%20%3C%200">: Let <img src="https://latex.codecogs.com/png.latex?-%5Clambda%20=%20%5Comega%5E2">, then Equation&nbsp;14 can also be written as: <span id="eq-sol-trig"><img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20c_1'%20%5Ccos(%5Comega%20t)%20+%20c_2'%20%5Csin(%5Comega%20t)%20%5Cquad%20(c_1',%20c_2'%20%5Cin%20%5Cmathbb%7BC%7D)%0A%20%20%5Ctag%7B15%7D"></span> since <img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7Bspan%7D_%5Cmathbb%7BC%7D%5C%7Be%5E%7Bi%5Comega%20t%7D,%20e%5E%7B-i%5Comega%20t%7D%5C%7D%20=%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BC%7D%5C%7B%5Ccos(%5Comega%20t),%20%5Csin(%5Comega%20t)%5C%7D%0A"></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Clambda%20%3E%200">: Let <img src="https://latex.codecogs.com/png.latex?%5Clambda%20=%20a%5E2">, then Equation&nbsp;14 can also be written as: <span id="eq-sol-hyp"><img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20c_1''%20%5Ccosh(at)%20+%20c_2''%20%5Csinh(at)%20%5Cquad%20(c_1'',%20c_2''%20%5Cin%20%5Cmathbb%7BC%7D)%0A%20%20%5Ctag%7B16%7D"></span> since <img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7Bspan%7D_%5Cmathbb%7BC%7D%5C%7Be%5E%7Bat%7D,%20e%5E%7B-at%7D%5C%7D%20=%20%5Coperatorname%7Bspan%7D_%5Cmathbb%7BC%7D%5C%7B%5Ccosh(at),%20%5Csinh(at)%5C%7D.%0A"></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Clambda%20=%200">:</p></li>
</ol>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%5Cddot%7Bx%7D%20=%200%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cdot%7Bx%7D%20=%20%5Calpha%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;x(t)%20=%20%5Calpha%20x%20+%20%5Cbeta%0A%5Cend%7Balign*%7D%0A"></p>
<div id="fig-trig-hyp" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trig-hyp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-solve-laplace-equation/trig-hyp.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trig-hyp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: The graph of trigonometric and hyperbolic functions
</figcaption>
</figure>
</div>
</section>
<section id="real-domain-solution" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="real-domain-solution"><span class="header-section-number">7.2</span> Real domain solution</h3>
<p>The solution of Equation&nbsp;13 when <img src="https://latex.codecogs.com/png.latex?x(t)"> is confined to <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> is very simple. One just need to confine <img src="https://latex.codecogs.com/png.latex?c_1',%20c_2'"> in Equation&nbsp;15 and <img src="https://latex.codecogs.com/png.latex?c_1'',%20c_2''"> in Equation&nbsp;16 to <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D">: <img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20c_1%20%5Ccos(%5Comega%20t)%20+%20c_2%20%5Csin(%5Comega%20t)%20%5Cquad%20(%5Clambda%20%3C%200,%20-%5Clambda%20=%20%5Comega%5E2,%20c_1,%20c_2%20%5Cin%20%5Cmathbb%7BR%7D)%0A"> and <img src="https://latex.codecogs.com/png.latex?%0Ax(t)%20=%20c_1%20%5Ccosh(at)%20+%20c_2%20%5Csinh(at)%20%5Cquad%20(%5Clambda%20%3E%200,%20%5Clambda%20=%20a%5E2,%20c_1,%20c_2%20%5Cin%20%5Cmathbb%7BR%7D).%0A"></p>
<!-- <iframe title="VisualPDE simulation" style="border:0;width:100%;height:100%;" src="https://visualpde.com/sim/?options=N4IgRgqiBcIMYHsC2YEgDTgE4xABgDoAmDeAZylgCEEAXW5aAAgBEBLLNuACwBsBTWkwC8TPAG4mAGX4AzWs3aceAoaIlMASmwDm3Baw5c+gkWMkAVBAAdFRladEBmAFQAKQgBYXZNgDs3azYXAA8mAHomAFYASiYAWjFiH383byDQiOi4xMIARhSAgA4XDLDI2KYAaiSiQrc8gDZS4PLsmPFSABMIShA87oA1Qdw8boB1cdHuvpJMLrJcKO7aGEI8PCJMOD6xzCR-AA1pzD8YPNOLc8xrXABhAFcyBiRSaywEMH4AMQez2CuNw+Xxkfh0tG4MCcG0wWF2pCwI1gexAWCmyNIZFuyIIeU8nkx-xAgJAADcYABtUAAQywHwA7ncELwEA8cNBGlEok4ophaQyWPw-L5aABPNYEXkgfkIemg8HcACy1JCuAGfLpsoAynBqQJcNSHgxSDL6cdYFIAPohcJEBJMVUahkATVwVtFtvt4r5RoQWsETJZbM01LB-Bgsj1ZH422pSH4WGpFm4gmpULwsfjiYACtw2OnMwnqQAtBDICVFbbM1lYJDU7EgWhs1CkRBBrBgWkRqMx+AIPwMNmLaCR3jRqsDmuBmtrCeDrAAUWsvhZ-3WFz7k7ZADkHq9oFK4E8Xlq2ZG4OGRz3MPwUAgyMPR+OQLfUA+AIIoNhC1bQQhS197zIdhZFkJ5L0IRobzvB9c3zaA8klAB2PBKxfGCyC1PM-HFBCM3Qt9MKQMsIT8fgHwlLYCKArVrH4I9eC7P9iGgwjk1TCUkKKKJPEwWReDYaw6K6ac2TrbEn17ASyPGNgughRUHl4a4QDrEJRMRPUHkvfoCBRA4-A0wYtJ09ZSAQUkE0Y3DJMwCyrOpUUNNnEB7KwaylxXfsJQ2KU3I8kJ3jVczLPcxypH8fhZPkpUlJU6wWVoCxRTo3AEtDcMgU+fwdG7Mde3eT4fj+XASUKkEhQVdN8PK-hktS2B-FofgdETZSsq+c18DeYF+FdDFMDIM9qQvX4iRRCEsH4fgWAACX4XR9B1PUIIIJDMEsuAGCwb5v14Lo8ufeluGpJKEGzRLStIPw4x0gASCw7pAABfdAaU1RlqzZGBOW5KVTUFYU2DFCV-o++UFJVUY9IJJ1tV1fVYCmxjaDYSyTQ+rr4gsa0MZdXBsctb1pV9f1aA0kMw0O3tdSzJMU1oNNoGhQsczzAt4FuxNS3LZi0LbGtxNwCEEzrdq+3bTt2Vszd50fa9ZanL72XwxAt0XZc2FXHyNzV+dd33Q9j2QU8sHPS8ZcAiir3y1igM-MBvwHUG7YfECwOjCUoOo2D2YQ5DUNdzDsNwvJ8KtoiSO4MjrcIKiI9o+ilKYuOg-YxnOO43iQH4wThI0oXoFoLBtMwaSorkhS4oQ-YVSMky1T00gDPr3htOhlF-Mc6m7NC6znL-XuHNFTyte85jfKHsKR8C9l+hC4eIpkyvYuUmuQASuh6p09KyJ67KwR7jferGq6Ov4CHIWZmFj6K7fcCalq2v3zqTlvr5+u6wbhtGkqBsbbgU0ZrzUWrQZaiNCDrTJPRbau1+D7RgMXUuIBjqnSsBdOgZ8QA3XjLgB6d0mChi6EwO6AAdUhN0wCMSYI9F6ABdTA9IDoAlIPSBsJJfBIAsMDRGIB5qnSYPwAAjg8U6bBvLPSAA" frameborder="0"></iframe> -->


</section>
</div></section></div> ]]></description>
  <category>Differential-Equation</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/pde-solve-laplace-equation/</guid>
  <pubDate>Wed, 30 Apr 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/pde-solve-laplace-equation/cover.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>Basics of Projective Space and Projective Linear Group 射影空间与射影线性群</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/projective-space/</link>
  <description><![CDATA[ 





<section id="projective-space" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="projective-space"><span class="header-section-number">1</span> Projective Space</h2>
<section id="intuition" class="level3 page-columns page-full" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="intuition"><span class="header-section-number">1.1</span> Intuition</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>The projective space of a vector space is <strong>the set of all lines</strong><sup>1</sup> through the origin with some extra structures.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Or “1-dimensional subspaces”.</p></div></div></div>
</section>
<section id="definition" class="level3 page-columns page-full" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="definition"><span class="header-section-number">1.2</span> Definition</h3>
<p>This can be formally defined by identifying some elements in a vector space <img src="https://latex.codecogs.com/png.latex?V">, or classifying the vectors in <img src="https://latex.codecogs.com/png.latex?V"> according to the spaces they span. This is exactly the idea of “quotients” in math.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition of Projective Space
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-projective-space" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> Let <img src="https://latex.codecogs.com/png.latex?V"> be a vector space over field <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D">, define a equivalence relation <img src="https://latex.codecogs.com/png.latex?%5Csim"> on <img src="https://latex.codecogs.com/png.latex?V"> as<sup>2</sup>: <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20x,%20y%20%5Cin%20V,%20x%20%5Csim%20y%20:%5Ciff%20%5Cexists%20%5Clambda%20%5Cin%20%5Cmathbb%7BF%7D%5E*,%20x%20=%20%5Clambda%20y.%0A"> Then we can define projective space <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D(V)"> as: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BP%7D(V)%20:=%20%5Cfrac%7BV%20-%20%5C%7B0_V%5C%7D%7D%7B%5Csim%7D.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D%5E*%20:=%20%5Cmathbb%7BF%7D%20-%20%5C%7B0_%5Cmathbb%7BF%7D%5C%7D">, i.e., the non-zero elements of the field <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D">.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Projective space as a special case of the Grassmannian manifold
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>All <img src="https://latex.codecogs.com/png.latex?1">-dimensional subspaces form the projective space. What about <img src="https://latex.codecogs.com/png.latex?n">-dimensional subspaces? They form the so-called Grassmannian manifold!</p>
<div id="fig-projective-space-as-grassmannian" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-as-grassmannian-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-as-grassmannian.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-as-grassmannian-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Projective spaces are special case of Grassmannian manifolds
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-canonical-projection" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="sec-canonical-projection"><span class="header-section-number">1.3</span> Canonical projection</h3>
<p>There is a (surjective) canonical projection <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cpi:%20V%20-%20%5C%7B0_V%5C%7D%20&amp;%5Ctwoheadrightarrow%20%5Cmathbb%7BP%7D(V)%20%5C%5C%0Ax%20&amp;%5Cmapsto%20%5Bx%5D_%7B%5Csim%7D%0A%5Cend%7Baligned%7D%0A"> that maps each non-zero vector to its equivalence class (as shown in Figure&nbsp;2).</p>
<div id="fig-projective-space-pi" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-pi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-pi.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-pi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: The mental picture of <img src="https://latex.codecogs.com/png.latex?%5Cpi"> for <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E3">
</figcaption>
</figure>
</div>
<p>In the following post, we will only consider the case where <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D%20%5Cin%20%5C%7B%5Cmathbb%7BR%7D,%20%5Cmathbb%7BC%7D%5C%7D"> and <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BF%7D%5En"> since they are the most common cases that we will encounter. It’s necessary to have a clear mental picture of each of the example in the following sections.</p>
</section>
</section>
<section id="real-projective-space-mathbbrpn" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="real-projective-space-mathbbrpn"><span class="header-section-number">2</span> Real Projective Space <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5En"></h2>
<p>When <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5En">, we will denote <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BP%7D(%5Cmathbb%7BR%7D%5En)"> by <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E%7Bn-1%7D">, where the upper index indicates the dimension of the projective space (actually a manifold of dimension <img src="https://latex.codecogs.com/png.latex?n-1">).</p>
<p>The “shape” of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5En"> can be understood by Equation&nbsp;1.</p>
<p><span id="eq-iso-chain"><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cmathbb%7BRP%7D%5En%20%5Csimeq%20%5Cfrac%7B%5Cmathbb%7BS%7D%5En%7D%7B%5Cmathbb%7BZ%7D_2%7D%20%5Csimeq%20%5Cfrac%7BH%5En%7D%7B%5Csim%7D%20%5Csimeq%20%5Cfrac%7BD%5En%7D%7B%5Csim%7D.%0A%7D%0A%5Ctag%7B1%7D"></span></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note for Equation&nbsp;1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>This is a diffeomorphism in the category of smooth manifolds.</p></li>
<li><p>The notations in Equation&nbsp;1 are defined below:</p>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5En"> is the <img src="https://latex.codecogs.com/png.latex?n">-dimensional sphere: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BS%7D%5En%20:=%20%5C%7Bx%20%5Cin%20%5Cmathbb%7BR%7D%5E%7Bn+1%7D%20:%20%5C%7Cx%5C%7C%20=%201%5C%7D.%0A"></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?H%5En"> is the upper hemisphere: <img src="https://latex.codecogs.com/png.latex?%0AH%5En%20:=%20%5C%7Bx%20%5Cin%20%5Cmathbb%7BR%7D%5E%7Bn+1%7D%20:%20%5C%7Cx%5C%7C%20=%201,%20x_j%20%5Cgeq%200%5C%7D,%0A"> where <img src="https://latex.codecogs.com/png.latex?j"> can be any coordinate index of <img src="https://latex.codecogs.com/png.latex?x">.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?D%5En"> is the closed <img src="https://latex.codecogs.com/png.latex?n">-disk: <img src="https://latex.codecogs.com/png.latex?%0AD%5En%20:=%20%5C%7Bx%20%5Cin%20%5Cmathbb%7BR%7D%5E%7Bn%7D%20:%20%5C%7Cx%5C%7C%20%5Cleq%201%5C%7D.%0A"></p></li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5En/%5Cmathbb%7BZ%7D_2"> means:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BS%7D%5En/%5Ctext%7B%5C%7Bantipodal%20points%5C%7D%7D%0A"> Let the group <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BZ%7D/2%5Cmathbb%7BZ%7D%20=%20%5C%7B%5Cbar%7B0%7D,%20%5Cbar%7B1%7D%5C%7D"> acts on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5En"> by taking the antipodal point: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbar%7B1%7D%20%5Ccdot%20x%20=%20-x,%20%5Cquad%20%5Cforall%20x%20%5Cin%20%5Cmathbb%7BS%7D%5En.%0A"> This action defines the equivalence relation (See wiki <a href="https://en.wikipedia.org/wiki/Group_action#Orbits_and_stabilizers">here</a>): <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20x%20%5Cin%20%5Cmathbb%7BS%7D%5En,%20x%20%5Csim%20y%20:%5Ciff%20%5Cexists%20%5Clambda%20%5Cin%20%5Cmathbb%7BZ%7D_2,%20y%20=%20%5Clambda%20x.%0A"></p></li>
<li><p>The equivalence relation <img src="https://latex.codecogs.com/png.latex?%5Csim"> on <img src="https://latex.codecogs.com/png.latex?H%5En"> is defined as: <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20x,%20y%20%5Cin%20H%5En,%20x%20%5Csim%20y%20:%5Ciff%20x%20=%20y%20%5Ctext%7B%20or%20%7D%0A%5Cbegin%7Bcases%7D%20x,%20y%20%5Cin%20%5Cpartial%20H%5En%20=%20%5Cmathbb%7BS%7D%5E%7Bn-1%7D,%20%5C%5C%20x=-y.%20%20%5Cend%7Bcases%7D%0A"></p></li>
<li><p>The equivalence relation <img src="https://latex.codecogs.com/png.latex?%5Csim"> on <img src="https://latex.codecogs.com/png.latex?D%5En"> is defined as: <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20x,%20y%20%5Cin%20D%5En,%20x%20%5Csim%20y%20:%5Ciff%20x%20=%20y%20%5Ctext%7B%20or%20%7D%0A%5Cbegin%7Bcases%7D%20x,%20y%20%5Cin%20%5Cpartial%20D%5En%20=%20%5Cmathbb%7BS%7D%5E%7Bn-1%7D,%20%5C%5C%20x=-y.%20%20%5Cend%7Bcases%7D%0A"></p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>This is explained in detail below.</p>
<section id="sec-RP1" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="sec-RP1"><span class="header-section-number">2.1</span> Real Projective line<sup>3</sup> <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E1"></h3>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E2">, then<sup>4</sup>: <span id="eq-iso-RP1"><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E1%20%5Csimeq%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E1%7D%7B%5Cmathbb%7BZ%7D_2%7D%20%5Csimeq%20%5Cfrac%7BH%5E1%7D%7B%5Csim%7D%20%5Csimeq%20%5Cfrac%7BD%5E1%7D%7B%5Csim%7D%20%5Csimeq%20%5Cmathbb%7BS%7D%5E1%20%5Csimeq%20%5Cmathbb%7B%5Chat%7BR%7D%7D.%0A%5Ctag%7B2%7D"></span></p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7B%5Chat%7BR%7D%7D%20:=%20%5Cmathbb%7BR%7D%20%5Ccup%20%5C%7B%5Cinfty%5C%7D"> is called the <strong>projectively extended real line</strong>. Distinguish it from the <strong>extended real line</strong> <img src="https://latex.codecogs.com/png.latex?%5Coverline%7B%5Cmathbb%7BR%7D%7D%20:=%20%5Cmathbb%7BR%7D%20%5Ccup%20%5C%7B-%5Cinfty,%20+%5Cinfty%5C%7D">.</p></div><div id="fn5"><p><sup>5</sup>&nbsp;The blue curly arrow in Figure&nbsp;3 indicates that the two points are equivalent. One can be immediately transported to the other side by this arrow.</p></div></div><p>Visually speaking<sup>5</sup>,</p>
<div id="fig-projective-space-RP1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-RP1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Visual demonstration of Equation&nbsp;2
</figcaption>
</figure>
</div>
<p>Note that in Equation&nbsp;2, <img src="https://latex.codecogs.com/png.latex?D%5E1/%7B%5Csim%7D"> happens to be <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E1"> again, which is very special and not general for <img src="https://latex.codecogs.com/png.latex?n%20%3E%201">.</p>
<p>Instead of let a line intersects the unit circle at the origin (as shown in the first isomorphism in Equation&nbsp;2), there are different graphical representations of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E1">:</p>
<div id="fig-alternative-projection-space-RP1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-alternative-projection-space-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/alternative-projection-space-RP1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-alternative-projection-space-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Visual demonstration of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E1%20%5Csimeq%20%5Cmathbb%7B%5Chat%7BR%7D%7D">
</figcaption>
</figure>
</div>
<p>The horizontal line in Figure&nbsp;4 does not intersect the blue line. We thus define it belongs to the equivalent class <img src="https://latex.codecogs.com/png.latex?%5C%7B%5Cinfty%5C%7D">.</p>
</section>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;The projective space for <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E1"> is too trivial, since everything in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D"> is in one equivalence class. Therefore, <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E0%20=%20%5C%7Be%5C%7D">.</p></div></div><section id="real-projective-plane-mathbbrp2" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="real-projective-plane-mathbbrp2"><span class="header-section-number">2.2</span> Real Projective plane <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E2"></h3>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E3">, then: <span id="eq-iso-RP2"><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E2%20%5Csimeq%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E2%7D%7B%5Cmathbb%7BZ%7D_2%7D%20%5Csimeq%20%5Cfrac%7BH%5E2%7D%7B%5Csim%7D%20%5Csimeq%20%5Cfrac%7BD%5E2%7D%7B%5Csim%7D.%0A%5Ctag%7B3%7D"></span></p>
<p>Visually speaking,</p>
<div id="fig-projective-space-RP2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-RP2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-RP2.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-RP2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Visual demonstration of Equation&nbsp;3
</figcaption>
</figure>
</div>
<p>Note that we cannot glue the opposite points on <img src="https://latex.codecogs.com/png.latex?H%5E2"> nor <img src="https://latex.codecogs.com/png.latex?D%5E2"> in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3"> without a self-intersection. So we ended up at <img src="https://latex.codecogs.com/png.latex?D%5E2/%7B%5Csim%7D">. This structure is often expressed using <a href="https://en.wikipedia.org/wiki/Fundamental_polygon#Examples_of_Fundamental_Polygons_Generated_by_Parallelograms"><strong>fundamental polygon</strong></a>. Figure&nbsp;6 <span class="citation" data-cites="tu_2011_an">[1]</span> is what you get if you force to glue the opposite points on the equator of <img src="https://latex.codecogs.com/png.latex?H%5E2"> together.</p>
<div id="fig-projective-space-RP2-immersed" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-RP2-immersed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-RP2-immersed.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-RP2-immersed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: <img src="https://latex.codecogs.com/png.latex?H%5E2/%7B%5Csim%7D"> immersed as a cross-cap in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3">
</figcaption>
</figure>
</div>
<p>Instead of let a line intersects the unit sphere at the origin (as shown in the first isomorphism in Equation&nbsp;3), there are a different graphical representation of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E2">:</p>
<div id="fig-alternative-projection-space-RP2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-alternative-projection-space-RP2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/alternative-projection-space-RP2.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-alternative-projection-space-RP2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Infinity in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E2"> is not unique
</figcaption>
</figure>
</div>
<p>The lines in the <img src="https://latex.codecogs.com/png.latex?xy"> plane in Figure&nbsp;7 do not intersect the blue plane. We thus define them to “intersect with <em>the circle at infinity</em>”. The right figure of Figure&nbsp;7 is NOT true since there is only one infinity, so it cannot tell the difference of the lines in the <img src="https://latex.codecogs.com/png.latex?xy"> plane. So notably, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cmathbb%7BRP%7D%5E2%20&amp;%5Csimeq%20%5Cmathbb%7BR%7D%5E2%20%5Ccup%20%5C%7B%5Ctext%7Bcircle%20at%20infinity%7D%5C%7D%20%5C%5C%0A&amp;%5Cnot%5Csimeq%20%5Cmathbb%7BR%7D%5E2%20%5Ccup%20%5C%7B%5Cinfty%5C%7D.%0A%5Cend%7Baligned%7D%0A"></p>
</section>
<section id="real-projective-space-mathbbrp3" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="real-projective-space-mathbbrp3"><span class="header-section-number">2.3</span> Real Projective space <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E3"></h3>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E4">, one could prove that Equation&nbsp;1 is still symbolically true: <span id="eq-iso-RP3"><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E3%7D%7B%5Cmathbb%7BZ%7D_2%7D%20%5Csimeq%20%5Cfrac%7BH%5E3%7D%7B%5Csim%7D%20%5Csimeq%20%5Cfrac%7BD%5E3%7D%7B%5Csim%7D.%0A%5Ctag%7B4%7D"></span></p>
<p>However this time, the only object in Equation&nbsp;4 that can be visualized is <img src="https://latex.codecogs.com/png.latex?D%5E3/%7B%5Csim%7D">:</p>
<div id="fig-projective-space-RP3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-RP3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-RP3.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-RP3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Every point on this <em>solid</em> ball (with antipodal points glued) represents an element in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E3">
</figcaption>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E3,%20%5Cmathbb%7BS%7D%5E3,%20SO(3),%20SU(2)"> and the unit quaternions <img src="https://latex.codecogs.com/png.latex?U(%5Cmathbb%7BH%7D)">
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Their relations are: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Ctext%7BSpin%7D(3)%20%5Csimeq%20SU(2)%20%5Csimeq%20%5Cmathbb%7BS%7D%5E3%20%5Csimeq%20U(%5Cmathbb%7BH%7D)%20%5Coverset%7B2:1%7D%20%5Ctwoheadrightarrow%20%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20SO(3).%0A%7D%0A"></p>
<ol type="1">
<li><img src="https://latex.codecogs.com/png.latex?SU(2)%20%5Csimeq%20%5Cmathbb%7BS%7D%5E3">: Rotation in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E2"> sits bijectively on the surface of the 3-sphere <img src="https://latex.codecogs.com/png.latex?S%5E3">.</li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>An element in <img src="https://latex.codecogs.com/png.latex?SU(2)"> has the form: <img src="https://latex.codecogs.com/png.latex?%0AU%20=%20%5Cbegin%7Bpmatrix%7D%20%5Calpha%20&amp;%20%5Cgamma%20%5C%5C%20%5Cbeta%20&amp;%20%5Cdelta%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cin%20SU(2)%0A"> with constraints: <img src="https://latex.codecogs.com/png.latex?%0AU%5EH%20=%20U%5E%7B-1%7D,%20%5Cdet%20U%20=%201.%0A"> Therefore, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bpmatrix%7D%20%5Cbar%7B%5Calpha%7D%20&amp;%20%5Cbar%7B%5Cbeta%7D%20%5C%5C%20%5Cbar%7B%5Cgamma%7D%20&amp;%20%5Cbar%7B%5Cdelta%7D%20%5C%5C%5Cend%7Bpmatrix%7D%0A=%0A%5Cfrac%7B1%7D%7B%5Cdet%20U%7D%20%5Cbegin%7Bpmatrix%7D%20%5Cdelta%20&amp;%20-%5Cgamma%20%5C%5C%20-%5Cbeta%20&amp;%20%5Calpha%20%5C%5C%5Cend%7Bpmatrix%7D%0A=%0A%5Cbegin%7Bpmatrix%7D%20%5Cdelta%20&amp;%20-%5Cgamma%20%5C%5C%20-%5Cbeta%20&amp;%20%5Calpha%20%5C%5C%5Cend%7Bpmatrix%7D.%0A"> Thus, <img src="https://latex.codecogs.com/png.latex?U"> must look like: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%20U%20=%20%5Cbegin%7Bpmatrix%7D%20%5Calpha%20&amp;%20-%5Cbeta%20%5C%5C%20%5Cbeta%20&amp;%20%5Cbar%7B%5Calpha%7D%20%5C%5C%5Cend%7Bpmatrix%7D,%20%5Ctext%7B%20with%20%7D%20%5Cdet%20U%20=%201%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20%5Calpha%20%5Cbar%7B%5Calpha%7D%20+%20%5Cbeta%20%5Cbar%7B%5Cbeta%7D%20=%201%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20%7C%5Calpha%7C%5E2%20+%20%7C%5Cbeta%7C%5E2%20=%201%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20%7Ca%20+%20bi%7C%5E2%20+%20%7Cc%20+%20di%7C%5E2%20=%201%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20a%5E2%20+%20b%5E2%20+%20c%5E2%20+%20d%5E2%20=%201.%0A%5Cend%7Balign*%7D%0A"> So, <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20U%20%5Cin%20SU(2),%20U%20%5Cin%20%5Cmathbb%7BS%7D%5E3.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ol start="2" type="1">
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E3%20%5Csimeq%20U(%5Cmathbb%7BH%7D)">: Unit quaternions live on the 3-sphere.</li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This is easy to see from the definition of unit quaternions: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AU(%5Cmathbb%7BH%7D)%20&amp;:=%20%5C%7B%20q%20%5Cin%20%5Cmathbb%7BH%7D%20:%20%7Cq%7C%20=%201%20%5C%7D%20%5C%5C%0A&amp;%5Csimeq%20%5C%7B%20(a,%20b,%20c,%20d)%20%5Cin%20%5Cmathbb%7BR%7D%5E4%20:%20a%5E2%20+%20b%5E2%20+%20c%5E2%20+%20d%5E2%20=%201%20%5C%7D%20%5C%5C%0A&amp;=:%20%5Cmathbb%7BS%7D%5E3%0A%5Cend%7Baligned%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?q%20=%20a%20+%20b%5Cmathbf%7Bi%7D%20+%20c%20%5Cmathbf%7Bj%7D%20+%20d%20%5Cmathbf%7Bk%7D">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ol start="3" type="1">
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20SO(3)">: If you look around in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E4">, what you see is rotations in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3">!</li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof 3 (Not rigorous)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>An element <img src="https://latex.codecogs.com/png.latex?R%20%5Cin%20SO(3)"> is specified by the <em>rotation axis</em> and the <em>rotation angle</em>. We could encode these two information by a single vector in a solid ball of radius <img src="https://latex.codecogs.com/png.latex?%5Cpi">, where the length of <img src="https://latex.codecogs.com/png.latex?V"> is the rotation angle and the direction of <img src="https://latex.codecogs.com/png.latex?V"> is the rotation axis. However, we soon realize that antipodal points on the surface of <img src="https://latex.codecogs.com/png.latex?D%5E3"> represent the same rotation since rotating by <img src="https://latex.codecogs.com/png.latex?%5Cpi"> does not care about the rotation direction. So we end up with the quotient space <img src="https://latex.codecogs.com/png.latex?D%5E3/%7B%5Csim%7D"> (shown in Figure&nbsp;9).</p>
<div id="fig-d3-modulo-antipodal" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-d3-modulo-antipodal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/d3-modulo-antipodal.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-d3-modulo-antipodal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: How elements in <img src="https://latex.codecogs.com/png.latex?SO(3)"> live in <img src="https://latex.codecogs.com/png.latex?D%5E3/%7B%5Csim%7D">
</figcaption>
</figure>
</div>
<p>But Figure&nbsp;9 is also the space of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E3">, so we get: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20SO(3).%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ol start="4" type="1">
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E3%20%5Coverset%7B2:1%7D%7B%5Ctwoheadrightarrow%7D%20SO(3)">: A rotation in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E3"> is represented by two points on the 3-sphere.</li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof 4
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This is easy since we know: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BS%7D%5E3%20%5Coverset%7B2:1%7D%7B%5Ctwoheadrightarrow%7D%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E3%7D%7B%5Cmathbb%7BZ%7D_2%7D,%0A"> and Equation&nbsp;4 gives: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E3%7D%7B%5Cmathbb%7BZ%7D_2%7D.%0A"> We’ve just shown: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BRP%7D%5E3%20%5Csimeq%20SO(3).%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ol start="5" type="1">
<li><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSpin%7D(3)%20%5Csimeq%20%5Cmathbb%7BS%7D%5E3">: <a href="https://en.wikipedia.org/wiki/Spin_group">Spin group</a> double covers the rotation group.</li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof 5
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSpin%7D(3)"> could be <em>defined</em> to be the universal cover of <img src="https://latex.codecogs.com/png.latex?SO(3)">, which is <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E3">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="complex-projective-space-mathbbcpn" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="complex-projective-space-mathbbcpn"><span class="header-section-number">3</span> Complex Projective Space <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5En"></h2>
<p>We don’t have a formula like Equation&nbsp;1 for <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5En"> by the way. We will only focus on one case where <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BC%7D%5E2">.</p>
<section id="complex-projective-linewhy-not-cp-0-mathbbcp1" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="complex-projective-linewhy-not-cp-0-mathbbcp1"><span class="header-section-number">3.1</span> Complex projective line<sup>6</sup> <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"></h3>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BC%7D%5E2">. Although it’s impossible to have a mental picture of <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E2">, we could have a legit imagination for <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> using <strong>homogeneous coordinates</strong>: <span id="eq-homogeneous-coordinates-CP1"><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BC%7D%5E2%20-%20%5C%7B0%5C%7D%20%5Cni%20%5Cbegin%7Bpmatrix%7D%20z_1%20%5C%5C%20z_2%20%5C%5C%5Cend%7Bpmatrix%7D%0A%5Cxmapsto%7B%5Cpi%7D%20%5Cleft%5B%5Cfrac%7Bz_1%7D%7Bz_2%7D%20:%201%5Cright%5D%0A%5Cequiv%20%5Cleft%5Ba+bi%20:%201%5Cright%5D%0A%5Csimeq%20%5Cmathbb%7BC%7D.%0A%5Ctag%7B5%7D"></span></p>
<p>According to Equation&nbsp;5, one would need one single complex number <img src="https://latex.codecogs.com/png.latex?a+bi"> to specify an element in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1">. Does it implies that <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> is just the complex line<sup>7</sup>? No! We missed the case where <img src="https://latex.codecogs.com/png.latex?z_2%20=%200">! Similar to Section&nbsp;2.1, we define the line <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20z_1%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%20%5Cin%20%5Cmathbb%7BC%7D%5E2%20-%20%5C%7B0%5C%7D"> belongs to the equivalence class denoted by the symbol <img src="https://latex.codecogs.com/png.latex?%5Cinfty">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bpmatrix%7D%20z_1%20%5C%5C%200%20%5C%5C%5Cend%7Bpmatrix%7D%0A:%5Cxmapsto%7B%5Cpi%7D%20%5Cleft%5B1%20:%200%5Cright%5D%0A%5Cequiv%20%5Cinfty%0A"></p>
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D"> has different dimension as a real or complex vector space: <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bdim%7D_%7B%5Cmathbb%7BR%7D%7D%20%5Cmathbb%7BC%7D%20=%202,%20%5Coperatorname%7Bdim%7D_%7B%5Cmathbb%7BC%7D%7D%20%5Cmathbb%7BC%7D%20=%201."> We consider <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D"> as a complex vector space here, so we call it the <em>complex line</em> instead of the <em>complex plane</em>.</p></div></div><p>Therefore, we would need one complex number plus only one extra symbol <img src="https://latex.codecogs.com/png.latex?%5Cinfty"> (together called the <em>projectively extended complex number</em> <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7B%5Chat%7BC%7D%7D">) to specify an element in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BCP%7D%5E1%20%5Csimeq%20%5Cmathbb%7BC%7D%20%5Ccup%20%5C%7B%5Cinfty%5C%7D%20%5Cequiv%20%5Cmathbb%7B%5Chat%7BC%7D%7D.%0A"></p>
<p>We could also put a 2-sphere across or above <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7B%5Chat%7BC%7D%7D"> (as shown in Figure&nbsp;10) and construct a bijective correspondence (called the <strong>Stereographic projection</strong>) between the points on the sphere and the points on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7B%5Chat%7BC%7D%7D">. This sphere is a compact, connected, 1-dimensional complex manifold, called the <strong>Riemann sphere</strong>. We have the isomorphism: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BCP%7D%5E1%20%5Csimeq%20%5Cmathbb%7BS%7D%5E2.%0A"></p>
<div id="fig-projective-space-CP1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-projective-space-CP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/projective-space-CP1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-projective-space-CP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Two ways of stereographic projection both show that <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1%20%5Csimeq%20%5Cmathbb%7BS%7D%5E2">
</figcaption>
</figure>
</div>
</section>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;The projective space for <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BC%7D%5E1"> is too trivial, since everything in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D"> is in one equivalence class. Therefore, <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E0%20=%20%5C%7Be%5C%7D">.</p></div></div></section>
<section id="homography" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="homography"><span class="header-section-number">4</span> Homography</h2>
<p>Whenever mathematicians define a new object, they will soon talk about the <em>morphisms</em> between them, i.e., the mappings that preserve the structures of the objects. We are interested specifically in <em>bijective</em> morphisms between projective spaces, which are called <strong>homography</strong>. Just like the general linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)">, all homographies form a group called the <strong>projective linear group</strong> <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)">.</p>
<blockquote class="blockquote">
<p>Homography is an isomorphism between projective spaces induced by bijective linear transformations of vector spaces. <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)%20%5Cequiv%20%5Coperatorname%7BAut%7D(%5Cmathbb%7BP%7D(V))."></p>
</blockquote>
<p>The canonical projection <img src="https://latex.codecogs.com/png.latex?%5Cpi"> in Section&nbsp;1.3 not only project vector spaces but also the linear transformations between vector spaces. So it could be viewed as a functor from the category of vector spaces (v.s.) to the category of projective spaces (p.s.):</p>
<div id="fig-canonical-projection-functor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-canonical-projection-functor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/canonical-projection-functor.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-canonical-projection-functor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Canonical projection <img src="https://latex.codecogs.com/png.latex?%5Cpi"> as a functor
</figcaption>
</figure>
</div>
<p>We first give two examples of homography in the case of <img src="https://latex.codecogs.com/png.latex?V%20%5Cin%20%5C%7B%5Cmathbb%7BR%7D%5E2,%20%5Cmathbb%7BC%7D%5E2%5C%7D"> before dealing with the case of abstract <img src="https://latex.codecogs.com/png.latex?V">.</p>
<section id="sec-homography-RP1" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="sec-homography-RP1"><span class="header-section-number">4.1</span> Homography on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E1"></h3>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BR%7D%5E2,%20A%20%5Cin%20%5Ctext%7BGL%7D(V)">, what is <img src="https://latex.codecogs.com/png.latex?A"> under the functor <img src="https://latex.codecogs.com/png.latex?%5Cpi">?</p>
<div id="fig-homography-RP1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-homography-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/homography-RP1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-homography-RP1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Homography on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BRP%7D%5E1">
</figcaption>
</figure>
</div>
<p><img src="https://latex.codecogs.com/png.latex?A"> could be represented by a <img src="https://latex.codecogs.com/png.latex?2%20%5Ctimes%202"> non-singular matrix multiplied by a non-zero vector <img src="https://latex.codecogs.com/png.latex?v">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AA:%20%5Cmathbb%7BR%7D%5E2%20&amp;%5Cxrightarrow%5B%5D%7B%5Csim%7D%20%5Cmathbb%7BR%7D%5E2%20%5C%5C%0A%5Cbegin%7Bpmatrix%7D%20x_0%20%5C%5C%20y_0%20%5C%5C%5Cend%7Bpmatrix%7D%0A&amp;%5Cmapsto%0A%5Cbegin%7Bpmatrix%7D%20a%20&amp;%20c%20%5C%5C%20b%20&amp;%20d%20%5C%5C%5Cend%7Bpmatrix%7D%0A%5Cbegin%7Bpmatrix%7D%20x_0%20%5C%5C%20y_0%20%5C%5C%5Cend%7Bpmatrix%7D%5C%5C%0A%5Cbegin%7Bpmatrix%7D%20x%20%5C%5C%201%20%5C%5C%5Cend%7Bpmatrix%7D%0A&amp;%5Cmapsto%0A%5Cbegin%7Bpmatrix%7D%20a%20&amp;%20c%20%5C%5C%20b%20&amp;%20d%20%5C%5C%5Cend%7Bpmatrix%7D%0A%5Cbegin%7Bpmatrix%7D%20x%20%5C%5C%201%20%5C%5C%5Cend%7Bpmatrix%7D%0A=%0A%5Cbegin%7Bpmatrix%7D%20ax%20+%20c%20%5C%5C%20bx%20+%20d%20%5C%5C%5Cend%7Bpmatrix%7D%0A%5Cend%7Baligned%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?x%20%5Cin%20%5Cmathbb%7B%5Chat%7BR%7D%7D">, <img src="https://latex.codecogs.com/png.latex?x_0,%20y_0,%20a,%20b,%20c,%20d%20%5Cin%20%5Cmathbb%7BR%7D"> and <img src="https://latex.codecogs.com/png.latex?ad-bc%20%5Cneq%200">. By definition, <img src="https://latex.codecogs.com/png.latex?%5Cpi(A)"> should map the equivalence class <img src="https://latex.codecogs.com/png.latex?%5Bx%20:%201%5D"> to <img src="https://latex.codecogs.com/png.latex?%5Bax%20+%20c%20:%20bx%20+%20d%5D">: <span id="eq-homography-RP1"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cpi(A):%20%5Cmathbb%7BRP%7D%5E1%20&amp;%5Cxrightarrow%5B%5D%7B%5Csim%7D%20%5Cmathbb%7BRP%7D%5E1%20%5C%5C%0A%5Bx%20:%201%5D%20&amp;%5Cmapsto%20%5Cleft%5B%5Cfrac%7Bax+c%7D%7Bbx+d%7D%20:%201%5Cright%5D%20%5C%5C%0A%5Cend%7Baligned%7D%0A%5Ctag%7B6%7D"></span></p>
<p>Note that <img src="https://latex.codecogs.com/png.latex?%5Cpi(A)"> maps <img src="https://latex.codecogs.com/png.latex?%5Cinfty"> to <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7Ba%7D%7Bb%7D">.</p>
</section>
<section id="möbius-transformations-homography-on-mathbbcp1" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="möbius-transformations-homography-on-mathbbcp1"><span class="header-section-number">4.2</span> Möbius transformations – Homography on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"></h3>
<blockquote class="blockquote">
<p>Homographies on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BCP%7D%5E1"> are called <strong>Möbius transformations</strong>. The object <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(%5Cmathbb%7BC%7D%5E2)"> is called the <strong>Möbius group</strong>.</p>
</blockquote>
<p>Let <img src="https://latex.codecogs.com/png.latex?V%20=%20%5Cmathbb%7BC%7D%5E2,%20A%20%5Cin%20%5Ctext%7BGL%7D(V)">. We could simply write Equation&nbsp;6 as its complex version: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cpi(A):%20%5Cmathbb%7BCP%7D%5E1%20&amp;%5Cxrightarrow%5B%5D%7B%5Csim%7D%20%5Cmathbb%7BCP%7D%5E1%20%5C%5C%0A%5Bz%20:%201%5D%20&amp;%5Cmapsto%20%5Cleft%5B%5Cfrac%7Baz+c%7D%7Bbz+d%7D%20:%201%5Cright%5D%20%5C%5C%0A%5Cend%7Baligned%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?z%20%5Cin%20%5Cmathbb%7B%5Chat%7BC%7D%7D">, <img src="https://latex.codecogs.com/png.latex?a,%20b,%20c,%20d%20%5Cin%20%5Cmathbb%7BC%7D"> and <img src="https://latex.codecogs.com/png.latex?ad-bc%20%5Cneq%200">. Also, <img src="https://latex.codecogs.com/png.latex?%5Cpi(A)"> maps <img src="https://latex.codecogs.com/png.latex?%5Cinfty"> to <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7Ba%7D%7Bb%7D">.</p>
<p>There is an astounding fact <span class="citation" data-cites="siliciano_2017_constructing">[2]</span> that the elements in the Möbius group correspond bijectively to the rigid motions of the Riemann sphere.</p>
<div id="fig-rigid-motion" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rigid-motion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/rigid-motion.gif" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rigid-motion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Möbius transformations are rigid motions of the Riemann sphere <span class="citation" data-cites="the_2015_what">[3]</span>
</figcaption>
</figure>
</div>
<p>However, this does NOT mean that <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(%5Cmathbb%7BC%7D%5E2)%20%5Csimeq%20SO(3)"> as <em>groups</em>. In fact, one can show that the Möbius group is isomorphic to the so-called <strong>Lorenz group</strong>: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BPGL%7D(%5Cmathbb%7BC%7D%5E2)%20%5Csimeq%20SO%5E+(1,%203).%0A"></p>
</section>
</section>
<section id="projective-linear-group" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="projective-linear-group"><span class="header-section-number">5</span> Projective Linear group</h2>
<p>The projective space is a classification of vectors in a vector space. Similarly, we will define the <strong>projective linear group</strong> <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)"> as a classification of isomorphisms in the general linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)"> in this section.</p>
<section id="definition-1" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="definition-1"><span class="header-section-number">5.1</span> Definition</h3>
<p>It’s obvious that some linear transformations are equivalent when we view them projectively. For example in Figure&nbsp;14, a matrix <img src="https://latex.codecogs.com/png.latex?A%20%5Cin%20%5Ctext%7BGL%7D(%5Cmathbb%7BR%7D%5E2)"> looks the same as its scalar multiples <img src="https://latex.codecogs.com/png.latex?kA"> for <img src="https://latex.codecogs.com/png.latex?k%20%5Cin%20%5Cmathbb%7BR%7D%5E*"> under the functor <img src="https://latex.codecogs.com/png.latex?%5Cpi">:</p>
<div id="fig-matrix-equivalence-scalar-multiples" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matrix-equivalence-scalar-multiples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/matrix-equivalence-scalar-multiples.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matrix-equivalence-scalar-multiples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: A matrix is equivalent to its scalar multiples projectively
</figcaption>
</figure>
</div>
<p>It turns out its converse is also true: All equivalent matrices are scalar multiples of each other! We have:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Equivalent matrices <img src="https://latex.codecogs.com/png.latex?%5Ciff"> Scalar multiples
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-equivalent-matrices" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> Let <img src="https://latex.codecogs.com/png.latex?V"> be a vector space over field <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D"> and <img src="https://latex.codecogs.com/png.latex?A,%20B%20%5Cin%20%5Ctext%7BGL%7D(V)">, then: <img src="https://latex.codecogs.com/png.latex?%0A%5Cpi(A)%20=%20%5Cpi(B)%20%5Ciff%20%5Cexists%20%5Clambda%20%5Cin%20%5Cmathbb%7BF%7D%5E*,%20A%20=%20%5Clambda%20B.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof of Theorem&nbsp;1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="https://latex.codecogs.com/png.latex?(%5Cimpliedby)"> is trivial. We only show the direction <img src="https://latex.codecogs.com/png.latex?(%5Cimplies)"> here:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cpi(A)%20=%20%5Cpi(B)"> implies: <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20v%20%5Cin%20V%20-%20%5C%7B0%5C%7D,%20%5Cpi(Av)%20=%20%5Cpi(Bv)%0A"></p>
<p>By the definition of projective space, <img src="https://latex.codecogs.com/png.latex?Av"> and <img src="https://latex.codecogs.com/png.latex?Bv"> must be scalar multiple <img src="https://latex.codecogs.com/png.latex?%5Clambda"> of each other and that scalar may depend on <img src="https://latex.codecogs.com/png.latex?v"> (We will show that <img src="https://latex.codecogs.com/png.latex?%5Clambda"> is actually independent of <img src="https://latex.codecogs.com/png.latex?v"> later): <span id="eq-Av-lambda-Bv"><img src="https://latex.codecogs.com/png.latex?%0A%5Cexists%20%5Clambda(v)%20%5Cin%20%5Cmathbb%7BF%7D%5E*,%20Av%20=%20%5Clambda(v)Bv.%0A%5Ctag%7B7%7D"></span></p>
<p>Pick a basis <img src="https://latex.codecogs.com/png.latex?%5C%7Be_1,%20e_2,%20%5Ccdots,%20e_n%5C%7D"> of <img src="https://latex.codecogs.com/png.latex?V"> and take <img src="https://latex.codecogs.com/png.latex?v"> to be each of the basis: <span id="eq-Ae-ei"><img src="https://latex.codecogs.com/png.latex?%0AAe_i%20=%20%5Clambda(e_i)Be_i,%20%5Cforall%20i%20=%201,%202,%20%5Ccdots,%20n.%0A%5Ctag%7B8%7D"></span></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cforall%20v%20%5Cin%20V"> is a linear combination of the basis: <img src="https://latex.codecogs.com/png.latex?v%20=%20%5Csum%20%5Calpha_i%20e_i">. Multiply <img src="https://latex.codecogs.com/png.latex?A"> both sides and from Equation&nbsp;8, we have: <span id="eq-Av-lambda-Be"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AAv%20&amp;=%20%5Csum%20%5Calpha_i%20Ae_i%20=%20%5Csum%20%5Calpha_i%20%5Cunderbrace%7B%5Clambda(e_i)%20Be_i%7D_%7BAe_i%7D%20%5C%5C%0A&amp;=%20%5Csum%20%5Clambda(e_i)%20%5Calpha_i%20Be_i%0A%5Cend%7Baligned%7D%0A%5Ctag%7B9%7D"></span></p>
<p>But Equation&nbsp;7 tells us: <span id="eq-Av-lambda-Be-2"><img src="https://latex.codecogs.com/png.latex?%0AAv%20=%20%5Clambda(v)Bv%20=%20%5Clambda(v)%20%5Csum%20%5Calpha_i%20Be_i.%0A%5Ctag%7B10%7D"></span></p>
<p>Compare Equation&nbsp;9 and Equation&nbsp;10, all <img src="https://latex.codecogs.com/png.latex?%5Clambda"> s must be the same: <img src="https://latex.codecogs.com/png.latex?%0A%5Clambda(v)%20=%20%5Clambda(e_1)%20=%20%5Clambda(e_2)%20=%20%5Ccdots%20=%20%5Clambda(e_n)%20%5Cequiv%20%5Clambda%20=%20%5Ctext%7Bconst%7D.%0A"></p>
<p>Therefore, Equation&nbsp;7 implies: <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20v%20%5Cin%20V%20-%20%5C%7B0%5C%7D,%20Av%20=%20%5Clambda%20Bv%20%5Cimplies%20A%20=%20%5Clambda%20B.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>We can define the projective linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)"> according to the classification of matrices “up to scalar”:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition of <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)">
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-pgl-v" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> Let <img src="https://latex.codecogs.com/png.latex?V"> be a vector space over field <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D">, then the projective linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)"> is defined as: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BPGL%7D(V)%20:=%20%5Cfrac%7B%5Ctext%7BGL%7D(V)%7D%7B%5Cmathbb%7BF%7D%5E*%20I%7D,%0A"> where <img src="https://latex.codecogs.com/png.latex?I"> is the identity in <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)"> as the inner automorphism group of <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)">
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>We know from <a href="https://math.stackexchange.com/questions/960342/center-of-general-linear-group">here</a> that the center of <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)"> is exactly <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BF%7D%5E*%20I">: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BZGL%7D(V)%20%5Cequiv%20Z(%5Ctext%7BGL%7D(V))%20=%20%5Cmathbb%7BF%7D%5E*%20I.%0A"></p>
<p>We know from <a href="../../posts/isomorphism-theorem/index.html#sec-natural-hom">this post</a> that for any group <img src="https://latex.codecogs.com/png.latex?G">, <img src="https://latex.codecogs.com/png.latex?%0A1%20%5Cxrightarrow%5B%5D%7B%7D%20Z(G)%20%5Chookrightarrow%20G%20%5Ctwoheadrightarrow%20%5Coperatorname%7BInn%7D(G)%20%5Cxrightarrow%5B%5D%7B%7D%201,%0A"> where <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BInn%7D(G)"> = <img src="https://latex.codecogs.com/png.latex?G/%7BZ(G)%7D">. Let <img src="https://latex.codecogs.com/png.latex?G%20=%20%5Ctext%7BGL%7D(V)">, then we have: <img src="https://latex.codecogs.com/png.latex?%0A1%20%5Cxrightarrow%5B%5D%7B%7D%20%5Ctext%7BZGL%7D(V)%20%5Chookrightarrow%20%5Ctext%7BGL%7D(V)%20%5Ctwoheadrightarrow%20%5Coperatorname%7BPGL%7D(V)%20%5Cxrightarrow%5B%5D%7B%7D%201,%0A"> where <img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BInn%7D(%5Ctext%7BGL%7D(V))%20=%20%5Cfrac%7B%5Ctext%7BGL%7D(V)%7D%7B%5Ctext%7BZGL%7D(V)%7D%20=%20%5Ctext%7BPGL%7D(V)%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="grid-of-short-exact-sequence-about-projective-linear-groups" class="level3 page-columns page-full" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="grid-of-short-exact-sequence-about-projective-linear-groups"><span class="header-section-number">5.2</span> Grid of short exact sequence about projective linear groups</h3>
<p>The general linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BGL%7D(V)">, special linear group <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSL%7D(V)">, their centers <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BZGL%7D(V)"> and <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BZSL%7D(V)">, and their projective linear groups <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPGL%7D(V)"> and <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPSL%7D(V)"> form the following grid of short exact sequence:</p>
<div id="fig-commutative-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-commutative-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<center>
<img src="https://i.upmath.me/svg/%0A%5Cbegin%7Btikzcd%7D%0A%09%26%201%20%26%201%20%26%201%20%5C%5C%0A%091%20%26%20%7B%5Ctext%7BZSL%7D(V)%7D%20%26%20%7B%5Ctext%7BSL%7D(V)%7D%20%26%20%7B%5Ctext%7BPSL%7D(V)%7D%20%26%201%20%5C%5C%0A%091%20%26%20%7B%5Ctext%7BZGL%7D(V)%7D%20%26%20%7B%5Ctext%7BGL%7D(V)%7D%20%26%20%7B%5Ctext%7BPGL%7D(V)%7D%20%26%201%20%5C%5C%0A%091%20%26%20%7B(%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D)%5En%7D%20%26%20%7B%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D%7D%20%26%20%7B%5Cmathbb%7BZ%7D%2Fn%5Cmathbb%7BZ%7D%7D%20%26%201%20%5C%5C%0A%09%26%201%20%26%201%20%26%201%0A%09%5Carrow%5Bfrom%3D1-2%2C%20to%3D2-2%5D%0A%09%5Carrow%5Bfrom%3D1-3%2C%20to%3D2-3%5D%0A%09%5Carrow%5Bfrom%3D1-4%2C%20to%3D2-4%5D%0A%09%5Carrow%5Bfrom%3D2-1%2C%20to%3D2-2%5D%0A%09%5Carrow%5Bhook%2C%20from%3D2-2%2C%20to%3D2-3%5D%0A%09%5Carrow%5Bhook%2C%20from%3D2-2%2C%20to%3D3-2%5D%0A%09%5Carrow%5B%22%5Cpi%22%2C%20two%20heads%2C%20from%3D2-3%2C%20to%3D2-4%5D%0A%09%5Carrow%5Bhook%2C%20from%3D2-3%2C%20to%3D3-3%5D%0A%09%5Carrow%5Bfrom%3D2-4%2C%20to%3D2-5%5D%0A%09%5Carrow%5Bhook%2C%20from%3D2-4%2C%20to%3D3-4%5D%0A%09%5Carrow%5Bfrom%3D3-1%2C%20to%3D3-2%5D%0A%09%5Carrow%5Bhook%2C%20from%3D3-2%2C%20to%3D3-3%5D%0A%09%5Carrow%5B%22%7B%5Ctext%7Bdet%7D%7D%22'%2C%20two%20heads%2C%20from%3D3-2%2C%20to%3D4-2%5D%0A%09%5Carrow%5B%22%5Cpi%22%2C%20two%20heads%2C%20from%3D3-3%2C%20to%3D3-4%5D%0A%09%5Carrow%5B%22%7B%5Ctext%7Bdet%7D%7D%22'%2C%20two%20heads%2C%20from%3D3-3%2C%20to%3D4-3%5D%0A%09%5Carrow%5Bfrom%3D3-4%2C%20to%3D3-5%5D%0A%09%5Carrow%5Btwo%20heads%2C%20from%3D3-4%2C%20to%3D4-4%5D%0A%09%5Carrow%5Bfrom%3D4-1%2C%20to%3D4-2%5D%0A%09%5Carrow%5Bhook%2C%20from%3D4-2%2C%20to%3D4-3%5D%0A%09%5Carrow%5Bfrom%3D4-2%2C%20to%3D5-2%5D%0A%09%5Carrow%5Btwo%20heads%2C%20from%3D4-3%2C%20to%3D4-4%5D%0A%09%5Carrow%5Bfrom%3D4-3%2C%20to%3D5-3%5D%0A%09%5Carrow%5Bfrom%3D4-4%2C%20to%3D4-5%5D%0A%09%5Carrow%5Bfrom%3D4-4%2C%20to%3D5-4%5D%0A%5Cend%7Btikzcd%7D%E2%88%82%0A" alt="
\begin{tikzcd}
    &amp; 1 &amp; 1 &amp; 1 \\
    1 &amp; {\text{ZSL}(V)} &amp; {\text{SL}(V)} &amp; {\text{PSL}(V)} &amp; 1 \\
    1 &amp; {\text{ZGL}(V)} &amp; {\text{GL}(V)} &amp; {\text{PGL}(V)} &amp; 1 \\
    1 &amp; {(\mathbb{C}^{\times})^n} &amp; {\mathbb{C}^{\times}} &amp; {\mathbb{Z}/n\mathbb{Z}} &amp; 1 \\
    &amp; 1 &amp; 1 &amp; 1
    \arrow[from=1-2, to=2-2]
    \arrow[from=1-3, to=2-3]
    \arrow[from=1-4, to=2-4]
    \arrow[from=2-1, to=2-2]
    \arrow[hook, from=2-2, to=2-3]
    \arrow[hook, from=2-2, to=3-2]
    \arrow[&quot;\pi&quot;, two heads, from=2-3, to=2-4]
    \arrow[hook, from=2-3, to=3-3]
    \arrow[from=2-4, to=2-5]
    \arrow[hook, from=2-4, to=3-4]
    \arrow[from=3-1, to=3-2]
    \arrow[hook, from=3-2, to=3-3]
    \arrow[&quot;{\text{det}}&quot;', two heads, from=3-2, to=4-2]
    \arrow[&quot;\pi&quot;, two heads, from=3-3, to=3-4]
    \arrow[&quot;{\text{det}}&quot;', two heads, from=3-3, to=4-3]
    \arrow[from=3-4, to=3-5]
    \arrow[two heads, from=3-4, to=4-4]
    \arrow[from=4-1, to=4-2]
    \arrow[hook, from=4-2, to=4-3]
    \arrow[from=4-2, to=5-2]
    \arrow[two heads, from=4-3, to=4-4]
    \arrow[from=4-3, to=5-3]
    \arrow[from=4-4, to=4-5]
    \arrow[from=4-4, to=5-4]
\end{tikzcd}∂
" width="700" class="figure-img">
</center>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-commutative-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15
</figcaption>
</figure>
</div>
<p>Each row and column in Figure&nbsp;15 is a short exact sequence<sup>8</sup>. Everything would be clear if you stare at the cartoon in Figure&nbsp;16 for a moment.</p>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?(%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D)%5En"> here means <img src="https://latex.codecogs.com/png.latex?%5C%7Bz%5En:%20z%20%5Cin%20%5Cmathbb%7BC%7D%5E%7B%5Ctimes%20%7D%5C%7D">, not <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D%20%5Ctimes%20%5Ccdots%20%5Ctimes%20%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D">. <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E%7B%5Ctimes%7D"> is the same as <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BC%7D%5E*">, which represents the multiplicative group of non-zero complex numbers.</p></div></div><div id="fig-illustration-commutative-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-illustration-commutative-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/projective-space/illustration-commutative-diagram.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-illustration-commutative-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: Illustration of the commutative diagram in Figure&nbsp;15
</figcaption>
</figure>
</div>
<!-- 
We will explain some of the non-trivial parts:

#### $\text{ZSL}(V)$ as the intersection of $\text{ZGL}(V)$ and $\text{SL}(V)$

1. First, let's consider what is $\text{ZGL}(V) \cap \text{SL}(V)$?

    This is the subset of scalar matrices that lie in $\mathrm{SL}(V)$. So we ask: Which $\lambda I$ have determinant 1?
    $$
    \det (\lambda I) = \lambda^n = 1.
    $$

    So:
    $$
    \mathrm{SL}(V) \cap Z(\mathrm{GL}(V)) = \{ \lambda I : \lambda \in \mathbb{F}^*, \lambda^n = 1 \}.
    $${@eq-intersection-ZGL-SL}

2. Next, we need to show that @eq-intersection-ZGL-SL is exactly $\text{ZSL}(V)$.

    By the definition of center of a group, we ask: What are the matrices in $\mathrm{SL}(V)$ that commute with all elements of $\mathrm{SL}(V)$?

     -->



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body">
<div id="ref-tu_2011_an" class="csl-entry">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Tu LW (2011) An introduction to manifolds. Springer. C</div>
</div>
<div id="ref-siliciano_2017_constructing" class="csl-entry">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Siliciano R (2017) Constructing mobius transformations with spheres. Rose–Hulman Undergraduate Mathematics Journal 13:8</div>
</div>
<div id="ref-the_2015_what" class="csl-entry">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Gere A (2015) <a href="https://math.stackexchange.com/questions/1118976/what-is-unique-about-the-m">What is unique about the möbius transform?</a></div>
</div>
</div></section></div> ]]></description>
  <category>Algebra</category>
  <category>Differential-Geometry</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/projective-space/</guid>
  <pubDate>Sun, 20 Apr 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/projective-space/cover.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>UAV Control 无人机控制原理</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/quadrocopter-control/</link>
  <description><![CDATA[ 





<section id="basic-rigid-body-dynamics" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="basic-rigid-body-dynamics"><span class="header-section-number">1</span> Basic Rigid Body Dynamics</h2>
<section id="attitude-representation" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="attitude-representation"><span class="header-section-number">1.1</span> Attitude Representation</h3>
<blockquote class="blockquote">
<p>One attitude of a quadrocopter can be represented by either an <img src="https://latex.codecogs.com/png.latex?R%20%5Cin%20SO(3)"> or two quaternions <img src="https://latex.codecogs.com/png.latex?%5Cpm%20q%20%5Cin%20U(%5Cmathbb%7BH%7D)">.</p>
</blockquote>
<p>Every possible attitude of a quadrocopter corresponds an element in <img src="https://latex.codecogs.com/png.latex?SO(3)"> uniquely. We also know that the space of unit quaternions <img src="https://latex.codecogs.com/png.latex?U(%5Cmathbb%7BH%7D)"> double covers <img src="https://latex.codecogs.com/png.latex?SO(3)">: <span id="eq-double-cover"><img src="https://latex.codecogs.com/png.latex?%0AU(%5Cmathbb%7BH%7D)%20%5Coverset%7B2:1%7D%20%5Ctwoheadrightarrow%20SO(3).%0A%5Ctag%7B1%7D"></span></p>
<p>This means one rotation can also be expressed by <em>two different</em> unit quaternions, <img src="https://latex.codecogs.com/png.latex?q"> and <img src="https://latex.codecogs.com/png.latex?-q">.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How do unit quaternions represent rotations?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A rotation around an axies <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bv%7D%20%5Cin%20%5Cmathbb%7BS%7D%5E2"> by an angle <img src="https://latex.codecogs.com/png.latex?%5Ctheta"> can be represented by a quaternion <img src="https://latex.codecogs.com/png.latex?q">: <img src="https://latex.codecogs.com/png.latex?%0Aq%20=%20%5Ccos%5Cleft(%5Cfrac%7B%5Ctheta%7D%7B2%7D%5Cright)%20+%20%5Csin%5Cleft(%5Cfrac%7B%5Ctheta%7D%7B2%7D%5Cright)%20%5Cmathbf%7Bv%7D.%0A"></p>
<p>Therefore, <img src="https://latex.codecogs.com/png.latex?%5Cforall%20q%20%5Cin%20U(%5Cmathbb%7BH%7D)">, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Aq%20&amp;=%20q_0%20+%20q_1%20%5Cmathbf%7Bi%7D%20+%20q_2%20%5Cmathbf%7Bj%7D%20+%20q_3%20%5Cmathbf%7Bk%7D%20%5C%5C%0A&amp;%5Cequiv%20q_0%20+%20%5Cmathbf%7Bu%7D%20%5C%5C%0A&amp;=%20%5Cunderbrace%7Bq_0%7D_%7B%5Ccos%20%5Cfrac%7B%5Ctheta%7D%7B2%7D%7D%20+%20%5Cunderbrace%7B%5ClVert%5Cmathbf%7Bu%7D%5CrVert%7D_%7B%5Csin%20%5Cfrac%7B%5Ctheta%7D%7B2%7D%7D%20%5Ccdot%20%5Cunderbrace%7B%5Cfrac%7B1%7D%7B%5ClVert%5Cmathbf%7Bu%7D%5CrVert%7D%20(q_1%20%5Cmathbf%7Bi%7D%20+%20q_2%20%5Cmathbf%7Bj%7D%20+%20q_3%20%5Cmathbf%7Bk%7D)%7D_%7B%5Ctext%7Brotation%20axies%7D%7D.%0A%5Cend%7Baligned%7D%0A"> i.e., <strong>the imaginary part of <img src="https://latex.codecogs.com/png.latex?q"> encodes the rotation axis and the real part encodes the rotation angle</strong>.</p>
<p>Compare this with how the <em>angular velocity vector</em> <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D"> encodes the rotation information: Figure&nbsp;3.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick proof on the double covering
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We will approach Equation&nbsp;1 from the following simple steps:</p>
<ol type="1">
<li><p>Mental picture for the manifold <img src="https://latex.codecogs.com/png.latex?SO(3)">: Three dimensional solid ball modulo the antipodal points on its surface: <img src="https://latex.codecogs.com/png.latex?%0ASO(3)%20%5Csimeq%20D%5E3/%5Csim%0A"></p>
<div id="fig-d3-modulo-antipodal" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-d3-modulo-antipodal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/quadrocopter-control/d3-modulo-antipodal.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-d3-modulo-antipodal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Every point on <img src="https://latex.codecogs.com/png.latex?D%5E3/%5Csim"> represent a rotation
</figcaption>
</figure>
</div></li>
<li><p>Unit quaternions sits bijectively on the 3-sphere <img src="https://latex.codecogs.com/png.latex?S%5E3">: <img src="https://latex.codecogs.com/png.latex?%0AU(%5Cmathbb%7BH%7D)%20%5Csimeq%20%5Cmathbb%7BS%7D%5E3.%0A"></p>
<p>This is easy to see from the definition of unit quaternions: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AU(%5Cmathbb%7BH%7D)%20&amp;:=%20%5C%7B%20q%20%5Cin%20%5Cmathbb%7BH%7D%20:%20%7Cq%7C%20=%201%20%5C%7D%20%5C%5C%0A&amp;%5Csimeq%20%5C%7B%20(a,%20b,%20c,%20d)%20%5Cin%20%5Cmathbb%7BR%7D%5E4%20:%20a%5E2%20+%20b%5E2%20+%20c%5E2%20+%20d%5E2%20=%201%20%5C%7D%20%5C%5C%0A&amp;=:%20%5Cmathbb%7BS%7D%5E3%0A%5Cend%7Baligned%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?q%20=%20a%20+%20b%5Cmathbf%7Bi%7D%20+%20c%20%5Cmathbf%7Bj%7D%20+%20d%20%5Cmathbf%7Bk%7D">.</p></li>
<li><p>Natural double cover projection from sphere to the equator plate: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BS%7D%5E3%20%5Coverset%7B2:1%7D%20%5Ctwoheadrightarrow%20%5Cfrac%7B%5Cmathbb%7BS%7D%5E3%7D%7B%5Csim%7D%20%5Csimeq%20%5Cfrac%7BD%5E3%7D%7B%5Csim%7D.%0A"></p>
<p>Just have a look at 2-dimensional case:</p>
<div id="fig-2d-covering" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2d-covering-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/quadrocopter-control/2d-covering.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2d-covering-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 2-dimensional case of the natural double covering
</figcaption>
</figure>
</div></li>
<li><p>From the above, we derived Equation&nbsp;1.</p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="kinematics-of-rigid-body-quaternions-version" class="level3 page-columns page-full" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="kinematics-of-rigid-body-quaternions-version"><span class="header-section-number">1.2</span> Kinematics of rigid body: Quaternions version</h3>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-angular-velocity" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-angular-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/quadrocopter-control/angular-velocity.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-angular-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: How <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D(t)"> encodes the rotation axis and angular velocity
</figcaption>
</figure>
</div>
</div></div><div class="page-columns page-full"><blockquote class="blockquote">
<p>The time evolution of the attitude of a quadrocopter <img src="https://latex.codecogs.com/png.latex?q(t)"> and the angular velocity vector<sup>1</sup> <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D(t)"> satisfy<sup>2</sup>: <span id="eq-kinematics-quat"><img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20q%20%5Ccdot%20%5COmega.%20%5Ctag%7B2%7D"></span></p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;The angular velocity vector (shown in Figure&nbsp;3) <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D(t_1)%20%5Cin%20%5Cmathbb%7BR%7D%5E3"> encodes the rotation axis (<img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5Chat%7B%5COmega%7D%7D">) and the angular velocity around that axis (<img src="https://latex.codecogs.com/png.latex?%5ClVert%5Cboldsymbol%7B%5COmega%7D%5CrVert">).</p></div><div id="fn2"><p><sup>2</sup>&nbsp;You may be confused by how a quaternion could multiplied with a vector. It’s just because every vector <img src="https://latex.codecogs.com/png.latex?v%20=%20v%5E1%20%5Cmathbf%7Bi%7D%20+%20v%5E2%20%5Cmathbf%7Bj%7D%20+%20v%5E3%20%5Cmathbf%7Bk%7D%20%5Cin%20%5Cmathbb%7BR%7D%5E3"> naturally embedded into <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BH%7D"> by a map <img src="https://latex.codecogs.com/png.latex?p:%20%5Cmathbb%7BR%7D%5E3%20%5Cto%20%5Cmathbb%7BH%7D">, <img src="https://latex.codecogs.com/png.latex?p(v)%20:=%200%20+%20v%5E1%20%5Cmathbf%7Bi%7D%20+%20v%5E2%20%5Cmathbf%7Bj%7D%20+%20v%5E3%20%5Cmathbf%7Bk%7D">. Equation&nbsp;2 is actually <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20q%20%5Ccdot%20p(%5Cboldsymbol%7B%5COmega%7D)">.</p></div></div></div>
<div id="fig-path-in-d3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-path-in-d3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/quadrocopter-control/path-in-d3.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-path-in-d3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Attitude of the quadrocopter as a path in <img src="https://latex.codecogs.com/png.latex?D%5E3/%5Csim">
</figcaption>
</figure>
</div>
<p>In other words, the attitude <img src="https://latex.codecogs.com/png.latex?q(t)"> of a quadrocopter can be represented as a path in <img src="https://latex.codecogs.com/png.latex?D%5E3%20/%20%5Csim"> (shown in Figure&nbsp;4), how to know the angular velocity vector <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5COmega%7D(t)"> at a time <img src="https://latex.codecogs.com/png.latex?t_0">? Equation&nbsp;2 tells us just take the tangent vector (actually a quaternion <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D">) of the path at time <img src="https://latex.codecogs.com/png.latex?t_0">, multiplied by 2 then divide by <img src="https://latex.codecogs.com/png.latex?q">.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof of Equation&nbsp;2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If both the attitude of the quadrocopter and the angular velocity vector is given at time <img src="https://latex.codecogs.com/png.latex?t">, then the <em>attitude</em> configuration at time <img src="https://latex.codecogs.com/png.latex?t%20+%20%5CDelta%20t"> can be determined and can be considered as the composition of two consecutive <em>rotations</em>:</p>
<ul>
<li>First, rotate the quadrocopter by <img src="https://latex.codecogs.com/png.latex?q(t)">.</li>
<li>Second, rotate the quadrocopter by a quaternion <img src="https://latex.codecogs.com/png.latex?r(t)"> defined by <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D(t)"> and <img src="https://latex.codecogs.com/png.latex?%5CDelta%20t">, which represents a small rotation (where <img src="https://latex.codecogs.com/png.latex?%5CDelta%20%5Ctheta"> is a small angle around the axis <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5COmega%7D(t)">): <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Ar(t)%20&amp;=%20%5Ccos%5Cleft(%5Cfrac%7B%5CDelta%20%5Ctheta%7D%7B2%7D%5Cright)%20+%20%5Csin%5Cleft(%5Cfrac%7B%5CDelta%20%5Ctheta%7D%7B2%7D%5Cright)%20%5Chat%7B%5COmega%7D(t)%20%5C%5C%0A&amp;=%20%5Ccos%5Cleft(%5Cfrac%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%20%5CDelta%20t%7D%7B2%7D%5Cright)%20+%20%5Csin%5Cleft(%5Cfrac%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%20%5CDelta%20t%7D%7B2%7D%5Cright)%20%5Chat%7B%5COmega%7D(t).%0A%5Cend%7Baligned%7D%0A"></li>
</ul>
<p>Therefore, the attitude at time <img src="https://latex.codecogs.com/png.latex?t%20+%20%5CDelta%20t"> can be expressed as<sup>3</sup>: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A%20%20%20&amp;%5Cbegin%7Baligned%7D%0A%20%20%20q(t%20+%20%5CDelta%20t)%20&amp;=%20q(t)%20%5Ccdot%20r(t)%20%5C%5C%0A%20%20%20&amp;=%20q(t)%20%5Ccdot%20%5Cleft(%20%5Ccos%5Cleft(%5Cfrac%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%20%5CDelta%20t%7D%7B2%7D%5Cright)%20+%20%5Csin%5Cleft(%5Cfrac%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%20%5CDelta%20t%7D%7B2%7D%5Cright)%20%5Chat%7B%5COmega%7D(t)%20%5Cright)%20%5C%5C%0A%20%20%20&amp;=%20q(t)%20%5Ccdot%20%5Cleft(%201%20+%20%5Cfrac%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%20%5CDelta%20t%7D%7B2%7D%20%5Cfrac%7B%5COmega(t)%7D%7B%5ClVert%5Cboldsymbol%7B%5COmega%7D(t)%5CrVert%7D%20%5Cright)%20%20+%20o(%5CDelta%20t)%20%5Cquad%20%5Ctext%7B(First%20order%20approximation)%7D%0A%20%20%20%5Cend%7Baligned%7D%20%5C%5C%0A%20%20%20%5Cimplies%5Cquad%20&amp;%20%5Cfrac%7Bq(t%20+%20%5CDelta%20t)%20-%20q(t)%7D%7B%5CDelta%20t%7D%20%5Capprox%20%5Cfrac%7B1%7D%7B2%7D%20q(t)%20%5Ccdot%20%5COmega(t)%20%5C%5C%0A%20%20%20%5Cimplies%5Cquad%20&amp;%20%5Cdot%7Bq%7D(t)%20=%20%5Cfrac%7B1%7D%7B2%7D%20q(t)%20%5Ccdot%20%5COmega(t).%0A%5Cend%7Balign*%7D%0A"></p>
<p>We are done!</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;In this post, <img src="https://latex.codecogs.com/png.latex?q%20%5Ccdot%20p"> reads from left to right, i.e., <img src="https://latex.codecogs.com/png.latex?q"> is rotated first and then <img src="https://latex.codecogs.com/png.latex?p">.</p></div></div><div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Q&amp;A for Equation&nbsp;2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Q1</strong>: The attitude of the quadrocopter can be represented by two quaternions <img src="https://latex.codecogs.com/png.latex?%5Cpm%20q%20%5Cin%20U(%5Cmathbb%7BH%7D)">, but there’s only one possible <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5COmega%7D(t)"> at a given time. Why?</p>
<p><strong>A1</strong>: Both <img src="https://latex.codecogs.com/png.latex?q"> and <img src="https://latex.codecogs.com/png.latex?-q"> satisfy Equation&nbsp;2 with the same <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5COmega%7D(t)">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20q%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20q%20%5Ccdot%20%5COmega%20%5C%5C%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20(-q)%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20(-q)%20%5Ccdot%20%5COmega%0A%5Cend%7Baligned%7D%0A"></p></li>
<li><p><strong>Q2</strong>: Given <em>any</em> path<sup>4</sup> <img src="https://latex.codecogs.com/png.latex?q(t)"> in <img src="https://latex.codecogs.com/png.latex?D%5E3/%5Csim">, the angular velocity vector can be computed by: <img src="https://latex.codecogs.com/png.latex?%0A%5COmega%20=%202%20%5Cfrac%7B%5Cdot%7Bq%7D%7D%7Bq%7D.%0A"> Does this result <img src="https://latex.codecogs.com/png.latex?%5COmega"> guaranteed to be purely imaginary? (Because angular velocity vector must be purely imaginary).</p>
<p><strong>A2</strong>: Yes. We give the following theorems first:</p></li>
</ol>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quaternion product rule
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-quaternion-product-rule" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> Let quaternions <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Ap%20&amp;%5Cequiv%20a%20+%20%5Cmathbf%7Bu%7D,%20%5C%5C%0Aq%20&amp;%5Cequiv%20b%20+%20%5Cmathbf%7Bv%7D.%0A%5Cend%7Baligned%7D%0A"></p>
<p>Their product is given by: <img src="https://latex.codecogs.com/png.latex?%0Ap%20%5Ccdot%20q%20=%20ab%20-%20%5Cmathbf%7Bu%7D%20%5Ccdot%20%5Cmathbf%7Bv%7D%20+%20a%20%5Cmathbf%7Bv%7D%20+%20b%20%5Cmathbf%7Bu%7D%20+%20%5Cmathbf%7Bu%7D%20%5Ctimes%20%5Cmathbf%7Bv%7D.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Inner product in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BH%7D">
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-inner-product-in-H" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 2</strong></span> Since <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BH%7D%20%5Csimeq%20%5Cmathbb%7BR%7D%5E4"> as vector spaces, we can borrow the inner product structure on <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E4"> to <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BH%7D">. Let <img src="https://latex.codecogs.com/png.latex?p,%20q%20%5Cin%20%5Cmathbb%7BH%7D">, define: <img src="https://latex.codecogs.com/png.latex?%0A%5Clangle%20p,%20q%20%5Crangle%20=%20%5Csum_%7Bi=0%7D%5E3%20p_i%20q_i.%0A"> Also we have: <img src="https://latex.codecogs.com/png.latex?%0A%5CRe(p%20%5Ccdot%20q)%20=%20%5Clangle%20p,%20%5Cbar%7Bq%7D%20%5Crangle%20=%20%5Clangle%20%5Cbar%7Bp%7D,%20q%20%5Crangle.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof of Theorem&nbsp;2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>By Theorem&nbsp;1, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5CRe(p%20%5Ccdot%20q)%20&amp;=%20%5CRe(%5Coverbrace%7Bab%20-%20%5Cmathbf%7Bu%7D%20%5Ccdot%20%5Cmathbf%7Bv%7D%7D%5E%7B%5Ctext%7Bscalar%7D%7D%20+%20%5Coverbrace%7Ba%20%5Cmathbf%7Bv%7D%20+%20b%20%5Cmathbf%7Bu%7D%20+%20%5Cmathbf%7Bu%7D%20%5Ctimes%20%5Cmathbf%7Bv%7D%7D%5E%7B%5Ctext%7Bvector%7D%7D)%20%5C%5C%0A&amp;=%20ab%20-%20%5Cmathbf%7Bu%7D%20%5Ccdot%20%5Cmathbf%7Bv%7D%20%5C%5C%0A&amp;=%20p_0%20q_0%20-%20p_1%20q_1%20-%20p_2%20q_2%20-%20p_3%20q_3%20%5C%5C%0A&amp;=%20%5Clangle%20p,%20%5Cbar%7Bq%7D%20%5Crangle%20%5C%5C%0A&amp;=%20%5Clangle%20%5Cbar%7Bp%7D,%20q%20%5Crangle.%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Remember <img src="https://latex.codecogs.com/png.latex?q(t)"> also lives on the surface <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E3">, so: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%5Cfrac%7B%5Cdot%7Bq%7D%7D%7Bq%7D%20=%20%5Cdot%7Bq%7D%20%5Cbar%7Bq%7D.%0A%20%20%20"></p>
<p>Since <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D(t)"> is a tangent vector to the surface <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BS%7D%5E3">, <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20%5Cperp%20q"> as vectors in <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5E4">, i.e., <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%5Clangle%20%5Cdot%7Bq%7D,%20q%20%5Crangle%20=%200.%0A%20%20%20"> By Theorem&nbsp;2, <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%5Clangle%20%5Cdot%7Bq%7D,%20q%20%5Crangle%20=%20%5CRe%20(%5Cdot%7Bq%7D%20%5Ccdot%20%5Cbar%7Bq%7D)%20=%200,%0A%20%20%20"> i.e., <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%5CRe%20(%5COmega)%20=%200.%0A%20%20%20"></p>
<p>So <img src="https://latex.codecogs.com/png.latex?%5COmega"> is purely imaginary. Done!</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;<em>Any</em> path in <img src="https://latex.codecogs.com/png.latex?D%5E3/%5Csim"> is a legitimate attitude change of the quadrocopter.</p></div></div><blockquote class="blockquote">
<p>The rest content may contain some errors, please be careful when reading.</p>
</blockquote>
</section>
</section>
<section id="model" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="model"><span class="header-section-number">2</span> Model</h2>
<section id="dynamics-equations-without-thrust" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="dynamics-equations-without-thrust"><span class="header-section-number">2.1</span> Dynamics Equations without thrust</h3>
<p>The dynamics <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20%5Cphi(%5Cmathbf%7Bx%7D)"> is given by:</p>
<p>Position dynamics:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Br%7D%7D%20=%20%5Cmathbf%7Bv%7D"></p>
<p>Velocity dynamics (Newton’s second law with only gravity):</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bv%7D%7D%20=%20-g%5Cmathbf%7Be%7D_3"></p>
<p>Orientation dynamics (quaternion kinematics):</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cfrac%7B1%7D%7B2%7Dq%20%5Ccdot%20p(%5Cboldsymbol%7B%5COmega%7D)"></p>
<p>As shown in equation (20) of the paper:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cbegin%7Bpmatrix%7D%20%5Cdot%7Bq%7D_0%20%5C%5C%20%5Cdot%7Bq%7D_%7B1:3%7D%20%5Cend%7Bpmatrix%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cbegin%7Bpmatrix%7D%20-q_%7B1:3%7D%5ET%5Cboldsymbol%7B%5COmega%7D%20%5C%5C%20(S(q_%7B1:3%7D)%20+%20q_0%5Cmathbf%7BI%7D)%5Cboldsymbol%7B%5COmega%7D%20%5Cend%7Bpmatrix%7D"></p>
<p>Where <img src="https://latex.codecogs.com/png.latex?S(q1:3)S(q_%7B1:3%7D)%0AS(q1:3%E2%80%8B)"> is the skew-symmetric matrix:</p>
<p><img src="https://latex.codecogs.com/png.latex?S(q_%7B1:3%7D)%20=%20%5Cbegin%7Bpmatrix%7D%200%20&amp;%20-q_3%20&amp;%20q_2%20%5C%5C%20q_3%20&amp;%200%20&amp;%20-q_1%20%5C%5C%20-q_2%20&amp;%20q_1%20&amp;%200%20%5Cend%7Bpmatrix%7D"></p>
<p>Angular velocity dynamics (Euler’s equations without external torques):</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cboldsymbol%7B%5COmega%7D%7D%20=%20-%5Cmathbf%7BJ%7D%5E%7B-1%7D(%5Cboldsymbol%7B%5COmega%7D%20%5Ctimes%20(%5Cmathbf%7BJ%7D%5Cboldsymbol%7B%5COmega%7D))"></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20%5Cphi(%5Cmathbf%7Bx%7D)%20=%20%5Cbegin%7Bpmatrix%7D%0A%5Cmathbf%7Bv%7D%20%5C%0A-g%5Cmathbf%7Be%7D_3%20%5C%0A%5Cfrac%7B1%7D%7B2%7Dq%20%5Ccdot%20p(%5Cboldsymbol%7B%5COmega%7D)%20%5C%0A-%5Cmathbf%7BJ%7D%5E%7B-1%7D(%5Cboldsymbol%7B%5COmega%7D%20%5Ctimes%20(%5Cmathbf%7BJ%7D%5Cboldsymbol%7B%5COmega%7D))%0A%5Cend%7Bpmatrix%7D"></p>
<p>It’s worth noting that this represents the dynamics of a free-falling quadrocopter with no thrust forces (as the human specified “without control”). In reality, even in a passive state, a quadrocopter would have some baseline thrust from spinning propellers. For a more realistic “passive” model, we could include a constant collective thrust ff f acting along the body’s z-axis, which would modify the velocity dynamics to:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cdot%7B%5Cmathbf%7Bv%7D%7D%20=%20-g%20%5Cmathbf%7Be%7D_3%20+%20%5Cfrac%7Bf%7D%7Bm%7D%20R(q)%20%5Cmathbf%7Be%7D_3%0A"></p>
<p>Where <img src="https://latex.codecogs.com/png.latex?R(q)"> is the rotation matrix corresponding to quaternion <img src="https://latex.codecogs.com/png.latex?q">.</p>
<p>These equations capture the full nonlinear dynamics of the quadrocopter in phase space, representing how position, velocity, orientation, and angular velocity evolve over time in the absence of control inputs.</p>
</section>
</section>
<section id="quadrocopter-dynamics-with-motor-control-in-phase-space" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="quadrocopter-dynamics-with-motor-control-in-phase-space"><span class="header-section-number">3</span> Quadrocopter Dynamics with Motor Control in Phase Space</h2>
<section id="state-vector-and-basic-parameters" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="state-vector-and-basic-parameters"><span class="header-section-number">3.1</span> State Vector and Basic Parameters</h3>
<p>As before, the state vector in phase space is: <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D%20=%20(%5Cmathbf%7Br%7D,%20%5Cmathbf%7Bv%7D,%20q,%20%5Cboldsymbol%7B%5COmega%7D)"></p>
<p>Where: - <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Br%7D%20%5Cin%20%5Cmathbb%7BR%7D%5E3"> is the position in inertial frame - <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bv%7D%20%5Cin%20%5Cmathbb%7BR%7D%5E3"> is the linear velocity in inertial frame - <img src="https://latex.codecogs.com/png.latex?q%20%5Cin%20%5Cmathbb%7BS%7D%5E3"> is the unit quaternion representing orientation - <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5COmega%7D%20%5Cin%20%5Cmathbb%7BR%7D%5E3"> is the angular velocity vector in body frame</p>
</section>
<section id="motor-and-physical-parameters" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="motor-and-physical-parameters"><span class="header-section-number">3.2</span> Motor and Physical Parameters</h3>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?m">: mass of the quadrocopter</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BJ%7D%20%5Cin%20%5Cmathbb%7BR%7D%5E%7B3%20%5Ctimes%203%7D">: inertia tensor (typically diagonal for a symmetric quadrocopter)</li>
<li><img src="https://latex.codecogs.com/png.latex?g">: gravitational acceleration (9.81 m/s²)</li>
<li><img src="https://latex.codecogs.com/png.latex?L">: distance from center of mass to each motor (arm length)</li>
<li><img src="https://latex.codecogs.com/png.latex?k_T">: thrust coefficient (converts squared motor speed to thrust force)</li>
<li><img src="https://latex.codecogs.com/png.latex?k_M">: moment coefficient (relates thrust to reactive torque)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Comega_i">: angular velocity of motor <img src="https://latex.codecogs.com/png.latex?i"> for <img src="https://latex.codecogs.com/png.latex?i%20%5Cin%20%5C%7B1,2,3,4%5C%7D"></li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Be%7D_3%20=%20(0,0,1)%5ET">: unit vector in the z-direction</li>
</ul>
</section>
<section id="motor-forces-and-torques" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="motor-forces-and-torques"><span class="header-section-number">3.3</span> Motor Forces and Torques</h3>
<p>Each motor produces: - Thrust force: <img src="https://latex.codecogs.com/png.latex?F_i%20=%20k_T%5Comega_i%5E2"> - Reactive torque: <img src="https://latex.codecogs.com/png.latex?M_i%20=%20k_M%5Comega_i%5E2"></p>
<p>For a typical “+” configuration (1-front, 2-right, 3-back, 4-left):</p>
<ol type="1">
<li><p>Total thrust: <img src="https://latex.codecogs.com/png.latex?F%20=%20%5Csum_%7Bi=1%7D%5E4%20F_i%20=%20k_T%5Csum_%7Bi=1%7D%5E4%20%5Comega_i%5E2"></p></li>
<li><p>Moment vector in body frame: <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5Ctau%7D%20=%20%5Cbegin%7Bpmatrix%7D%20%5Ctau_x%20%5C%5C%20%5Ctau_y%20%5C%5C%20%5Ctau_z%20%5Cend%7Bpmatrix%7D%20=%20%5Cbegin%7Bpmatrix%7D%0AL(F_4%20-%20F_2)%20%5C%5C%0AL(F_1%20-%20F_3)%20%5C%5C%0AM_1%20-%20M_2%20+%20M_3%20-%20M_4%0A%5Cend%7Bpmatrix%7D"></p>
<p>Substituting motor forces: <img src="https://latex.codecogs.com/png.latex?%5Cboldsymbol%7B%5Ctau%7D%20=%20%5Cbegin%7Bpmatrix%7D%0ALk_T(%5Comega_4%5E2%20-%20%5Comega_2%5E2)%20%5C%5C%0ALk_T(%5Comega_1%5E2%20-%20%5Comega_3%5E2)%20%5C%5C%0Ak_M(%5Comega_1%5E2%20-%20%5Comega_2%5E2%20+%20%5Comega_3%5E2%20-%20%5Comega_4%5E2)%0A%5Cend%7Bpmatrix%7D"></p></li>
</ol>
</section>
<section id="control-input-mapping" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="control-input-mapping"><span class="header-section-number">3.4</span> Control Input Mapping</h3>
<p>We can define a mapping from motor speeds to control inputs: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Bpmatrix%7D%20F%20%5C%5C%20%5Ctau_x%20%5C%5C%20%5Ctau_y%20%5C%5C%20%5Ctau_z%20%5Cend%7Bpmatrix%7D%20=%0A%5Cbegin%7Bpmatrix%7D%0Ak_T%20&amp;%20k_T%20&amp;%20k_T%20&amp;%20k_T%20%5C%5C%0A0%20&amp;%20-Lk_T%20&amp;%200%20&amp;%20Lk_T%20%5C%5C%0ALk_T%20&amp;%200%20&amp;%20-Lk_T%20&amp;%200%20%5C%5C%0Ak_M%20&amp;%20-k_M%20&amp;%20k_M%20&amp;%20-k_M%0A%5Cend%7Bpmatrix%7D%0A%5Cbegin%7Bpmatrix%7D%20%5Comega_1%5E2%20%5C%5C%20%5Comega_2%5E2%20%5C%5C%20%5Comega_3%5E2%20%5C%5C%20%5Comega_4%5E2%20%5Cend%7Bpmatrix%7D"></p>
</section>
<section id="dynamics-equations-with-control" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="dynamics-equations-with-control"><span class="header-section-number">3.5</span> Dynamics Equations with Control</h3>
<ol type="1">
<li><p><strong>Position dynamics</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Br%7D%7D%20=%20%5Cmathbf%7Bv%7D"></p></li>
<li><p><strong>Velocity dynamics</strong> (with thrust force): <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bv%7D%7D%20=%20-g%5Cmathbf%7Be%7D_3%20+%20%5Cfrac%7BF%7D%7Bm%7DR(q)%5Cmathbf%7Be%7D_3"></p>
<p>Where <img src="https://latex.codecogs.com/png.latex?R(q)"> is the rotation matrix corresponding to quaternion <img src="https://latex.codecogs.com/png.latex?q">, which transforms the body-fixed thrust direction to the inertial frame.</p></li>
<li><p><strong>Orientation dynamics</strong> (quaternion kinematics): <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cfrac%7B1%7D%7B2%7Dq%20%5Ccdot%20p(%5Cboldsymbol%7B%5COmega%7D)"></p>
<p>As expressed in component form: <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bq%7D%20=%20%5Cbegin%7Bpmatrix%7D%20%5Cdot%7Bq%7D_0%20%5C%5C%20%5Cdot%7Bq%7D_%7B1:3%7D%20%5Cend%7Bpmatrix%7D%20=%20%5Cfrac%7B1%7D%7B2%7D%20%5Cbegin%7Bpmatrix%7D%20-q_%7B1:3%7D%5ET%5Cboldsymbol%7B%5COmega%7D%20%5C%5C%20(S(q_%7B1:3%7D)%20+%20q_0%5Cmathbf%7BI%7D)%5Cboldsymbol%7B%5COmega%7D%20%5Cend%7Bpmatrix%7D"></p>
<p>Where <img src="https://latex.codecogs.com/png.latex?S(q_%7B1:3%7D)"> is the skew-symmetric matrix of the vector part of the quaternion.</p></li>
<li><p><strong>Angular velocity dynamics</strong> (Euler’s equations with motor torques): <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cboldsymbol%7B%5COmega%7D%7D%20=%20%5Cmathbf%7BJ%7D%5E%7B-1%7D(%5Cboldsymbol%7B%5Ctau%7D%20-%20%5Cboldsymbol%7B%5COmega%7D%20%5Ctimes%20(%5Cmathbf%7BJ%7D%5Cboldsymbol%7B%5COmega%7D))"></p></li>
</ol>
</section>
<section id="complete-system-dynamics" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="complete-system-dynamics"><span class="header-section-number">3.6</span> Complete System Dynamics</h3>
<p>The full dynamics of the controlled quadrocopter in phase space are:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20%5Cphi(%5Cmathbf%7Bx%7D,%20%5Cmathbf%7Bu%7D)%20=%20%5Cbegin%7Bpmatrix%7D%0A%5Cmathbf%7Bv%7D%20%5C%5C%0A-g%5Cmathbf%7Be%7D_3%20+%20%5Cfrac%7BF%7D%7Bm%7DR(q)%5Cmathbf%7Be%7D_3%20%5C%5C%0A%5Cfrac%7B1%7D%7B2%7Dq%20%5Ccdot%20p(%5Cboldsymbol%7B%5COmega%7D)%20%5C%5C%0A%5Cmathbf%7BJ%7D%5E%7B-1%7D(%5Cboldsymbol%7B%5Ctau%7D%20-%20%5Cboldsymbol%7B%5COmega%7D%20%5Ctimes%20(%5Cmathbf%7BJ%7D%5Cboldsymbol%7B%5COmega%7D))%0A%5Cend%7Bpmatrix%7D"></p>
<p>Where the control input <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bu%7D%20=%20(%5Comega_1%5E2,%20%5Comega_2%5E2,%20%5Comega_3%5E2,%20%5Comega_4%5E2)"> represents the squared motor speeds.</p>
<p>These nonlinear differential equations fully describe the quadrocopter’s motion under motor control, capturing the complex interactions between thrust forces, aerodynamic torques, and rigid body dynamics.</p>
<p>Note that in practice, there may be additional terms for aerodynamic drag, motor dynamics, and other effects, but this model captures the essential physics of quadrocopter flight with motor control.</p>


</section>
</section>


 ]]></description>
  <category>Control-Theory</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/quadrocopter-control/</guid>
  <pubDate>Sun, 06 Apr 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/quadrocopter-control/cover.png" medium="image" type="image/png" height="86" width="144"/>
</item>
<item>
  <title>PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/pde-derivation/</link>
  <description><![CDATA[ 





<section id="takeaways" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="takeaways">Takeaways</h2>
<ol type="1">
<li><p>Conservation law seems underratedly important.</p></li>
<li><p>Oscillation and overshooting comes from second order time derivative. Smooth exponential decay comes from first order time derivative.</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?a_%7Bn+1%7D%20+%20a_%7Bn-1%7D%20-%202a_n"> is the second order spatial derivative, the mental picture of it is the difference between current value and the average of its two neighbors.</p></li>
<li><p>Forcing terms are usually comes with second order spacial derivative. This is because first order spacial derivative only represent force from one side, and second order spacial derivative is the net force of the neighboring particles acting on the particle we analyze.</p></li>
</ol>
</section>
<section id="welcome" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="welcome"><span class="header-section-number">1</span> Welcome!</h2>
<p>This is the first chapter of my PDE series. You will learn how to derive two of the most important PDEs in physics: <strong>Wave equation and heat equation</strong>, with nearly no prerequisites. The goal of this article is to make these two equations <em>as obvious as possible</em><sup>1</sup> to you:</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;We <strong>avoid</strong> using the notation <img src="https://latex.codecogs.com/png.latex?%5CDelta"> for <img src="https://latex.codecogs.com/png.latex?%5Cnabla%5E2">. <img src="https://latex.codecogs.com/png.latex?%5CDelta"> in this article just mean “difference in” blablabla. We also use <img src="https://latex.codecogs.com/png.latex?%5Cxi_%7Bt%7D"> and <img src="https://latex.codecogs.com/png.latex?%5Cxi_%7Btt%7D"> to represent <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%20%5Cxi%7D%7B%5Cpartial%20t%7D"> and <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20t%5E2%7D">.</p></div></div><ul>
<li><strong>Wave equation</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cxi_%7Btt%7D%20=%20c%5E2%20%5Cnabla%5E2%20%5Cxi">.</li>
<li><strong>Heat equation</strong>: <img src="https://latex.codecogs.com/png.latex?T_t%20=%20%5Calpha%20%5Cnabla%5E2%20T">.</li>
</ul>
<p>Let’s do it!</p>
</section>
<section id="wave-equation" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="wave-equation"><span class="header-section-number">2</span> Wave Equation</h2>
<section id="d-wave-equation" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="d-wave-equation"><span class="header-section-number">2.1</span> 1D Wave Equation</h3>
<p>There are two kinds of one-dimensional wave: longitudinal and transverse.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/longitudinal-transverse-wave.png" class="img-fluid figure-img"></p>
<figcaption>Longitudinal wave and transverse wave cartoon</figcaption>
</figure>
</div>
<p>They look totally different, but they share exactly the same properties and could be described by the same wave PDE! Let’s have a look at longitudinal wave first.</p>
<section id="longitudinal-wave" class="level4 page-columns page-full" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="longitudinal-wave"><span class="header-section-number">2.1.1</span> Longitudinal Wave</h4>
<p>This kind of wave can be considered as little balls connected by springs:</p>
<div id="fig-longitudinal-equilibrium" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-longitudinal-equilibrium-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/longitudinal-equilibrium.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-longitudinal-equilibrium-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Balls at equilibrium position
</figcaption>
</figure>
</div>
<p>As shown in Figure&nbsp;1, each small ball is in a tranquil state called “equilibrium position” where all resultant force acting on it is zero. Now we want to describe the system when there are perturbations using PDEs. So there should be a variable that depends on time and space. What is that variable? Well, we should define it. Let’s make it the displacement value <img src="https://latex.codecogs.com/png.latex?%5Cxi(x,t)"> of each ball from its equilibrium position.</p>
<div id="fig-longitudinal-zoomed-in" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-longitudinal-zoomed-in-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/longitudinal-zoomed-in.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-longitudinal-zoomed-in-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Zoom in at one of the balls
</figcaption>
</figure>
</div>
<p>Consider the scenario shown in Figure&nbsp;2, we zoom in at the <img src="https://latex.codecogs.com/png.latex?n">-th ball. In order to find the equation of motion for this ball, we need to define some parameters:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?k">: Microscopic string constant.</li>
<li><img src="https://latex.codecogs.com/png.latex?m">: Mass of each ball.</li>
</ul>
<p>The net force acting on the <img src="https://latex.codecogs.com/png.latex?n">-th ball is the sum of the forces from the two adjacent balls: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AF_n%20&amp;=%20F_L%20+%20F_R%20%5C%5C%0A&amp;=%20(-F_0%20-%20k(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D))%20+%20(F_0%20+%20k(%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n))%20%5C%5C%0A&amp;=%20k((%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n)%20-%20(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D)),%0A%5Cend%7Baligned%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?F_0"> is the force from both left and right balls acting on the <img src="https://latex.codecogs.com/png.latex?n">-th ball at equilibrium position (they balanced out at equilibrium position). According to Newton’s second law<sup>2</sup> <img src="https://latex.codecogs.com/png.latex?F_n%20=%20m%20%5Cddot%20%5Cxi_n">, we have: <span id="eq-longitude-discrete"><img src="https://latex.codecogs.com/png.latex?%0Ak((%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n)%20-%20(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D))%20=%20m%20%5Cddot%20%5Cxi_n.%0A%5Ctag%7B1%7D"></span></p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?%5Cddot%20%5Cxi_n"> means <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20t%5E2%7D"> in the article.</p></div></div><p>Now Equation&nbsp;1 should be it! But in reality, we do not know <img src="https://latex.codecogs.com/png.latex?m"> and <img src="https://latex.codecogs.com/png.latex?k"> since they are <em>microscopic parameters</em>. We now define some new parameters to connect the quantities that we can measure with the microscopic parameters:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?N">: Total number of balls.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5CDelta%20l">: Microscopic distance between adjacent balls.</li>
<li><img src="https://latex.codecogs.com/png.latex?L">: Total length, <img src="https://latex.codecogs.com/png.latex?L%20=%20N%20%5CDelta%20l">.</li>
<li><img src="https://latex.codecogs.com/png.latex?M">: Total mass of the system, <img src="https://latex.codecogs.com/png.latex?M%20=%20Nm">.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Crho">: Mass density, <img src="https://latex.codecogs.com/png.latex?%5Crho%20=%20%5Cfrac%7BM%7D%7BL%7D">.</li>
<li><img src="https://latex.codecogs.com/png.latex?K">: Total spring constant<sup>3</sup>, <img src="https://latex.codecogs.com/png.latex?K%20=%20%5Cfrac%7Bk%7D%7BN%7D">.</li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;The spring constant of serial spring is smaller than that of individual spring by a factor of <img src="https://latex.codecogs.com/png.latex?N">.</p></div></div><p>Now Equation&nbsp;1 becomes: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;k%20%5Cfrac%7B(%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n)%20-%20(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D)%7D%7B(%5CDelta%20l)%5E2%7D%20=%20%5Cfrac%7B%5Crho%20%5Cddot%20%5Cxi_n%7D%7B%5CDelta%20l%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;k%20%5Cxi_%7Bxx%7D%20=%20%5Cfrac%7B%5Crho%20%5Cddot%20%5Cxi_n%7D%7B%5CDelta%20l%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cddot%20%5Cxi_n%20=%20%5Cfrac%7Bk%20%5CDelta%20l%7D%7B%5Crho%7D%20%5Cxi_%7Bxx%7D%20=%20%5Cfrac%7BNK%20%5Cfrac%7BL%7D%7BN%7D%7D%7B%5Cfrac%7BM%7D%7BL%7D%7D%20%5Cxi_%7Bxx%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cddot%20%5Cxi_n%20=%20%5Cfrac%7BKL%5E2%7D%7BM%7D%20%5Cxi_%7Bxx%7D%0A%5Cend%7Balign*%7D%0A"></p>
<p><img src="https://latex.codecogs.com/png.latex?n"> is arbitrary, so we got: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cddot%20%5Cxi%20=%20%5Cfrac%7BKL%5E2%7D%7BM%7D%20%5Cxi_%7Bxx%7D.%0A%7D%0A"></p>
</section>
<section id="sec-transverse-wave" class="level4 page-columns page-full" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="sec-transverse-wave"><span class="header-section-number">2.1.2</span> Transverse wave</h4>
<p>To derive the wave equation for transverse wave, we need to make some basic assumptions:</p>
<ol type="1">
<li><p>Every particle could only move in a fixed line perpendicular to the direction of wave propagation, which means the horizontal resultant force is zero for each particle.</p></li>
<li><p>The vibration amplitude is extremely small.</p></li>
<li><p>Following above, the tension (density) is constant throughout the string.</p></li>
</ol>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/transverse-only-verticle.png" class="img-fluid figure-img"></p>
<figcaption>Only verticle movement of each particle</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/transverse-small-amplitude.png" class="img-fluid figure-img"></p>
<figcaption>Vibration amplitude of each particle is small</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/transverse-tension-constant.png" class="img-fluid figure-img"></p>
<figcaption>Tension is asssumed to be invariant</figcaption>
</figure>
</div>
</div></div><p>Now we define some parameters of the string:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?T">: Tension of the string.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Clambda">: Line density of the string (mass per unit length).</li>
</ul>
<p>We focus on an element of the string shown in Figure&nbsp;3.</p>
<div id="fig-transverse-line-segment" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-transverse-line-segment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/transverse-line-segment.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-transverse-line-segment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Line segment of the string
</figcaption>
</figure>
</div>
<p>Suppose the mass of that element is <img src="https://latex.codecogs.com/png.latex?%5CDelta%20m">, the displacement is <img src="https://latex.codecogs.com/png.latex?%5Cxi">. The resultant force <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%20%5CSigma%20F%20=%20%5CDelta%20m%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20T%20%5Csin%20%5Ctheta_2%20-%20T%20%5Csin%20%5Ctheta_1%20=%20%5Clambda%20%5Cfrac%7B%5CDelta%20x%7D%7B%5Ccos%20%5Ctheta_1%7D%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%0A%5Cend%7Balign*%7D%0A"></p>
<p>Since <img src="https://latex.codecogs.com/png.latex?%5Ctheta_1,%20%5Ctheta_2%20%5Cto%200,%20%5Ccos%20%5Ctheta_1%20%5Capprox%201,%20%5Csin%20%5Ctheta%20%5Capprox%20%5Ctan%20%5Ctheta">, we have: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;T(%5Ctan%20%5Ctheta_2%20-%20%5Ctan%20%5Ctheta_1)%20=%20%5Clambda%20%5CDelta%20x%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;T%20%5Cleft(%20%5Cleft.%20%5Cfrac%7B%5Cpartial%20%5Cxi%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx+%5CDelta%20x%7D%20-%20%5Cleft.%20%5Cfrac%7B%5Cpartial%20%5Cxi%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx%7D%20%20%5Cright)%20=%20%5Clambda%20%5CDelta%20x%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;T%20%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20x%5E2%7D%20%5CDelta%20x%20=%20%5Clambda%20%5CDelta%20x%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cfrac%7BT%7D%7B%5Clambda%7D%20%5Cxi_%7Bxx%7D%20=%20%5Cddot%7B%5Cxi%7D.%0A%5Cend%7Balign*%7D%0A"></p>
<p>Done! This is the wave equation for transverse wave. We can also see the famous result that the wave speed is the square root of tension divide by density: <img src="https://latex.codecogs.com/png.latex?%0Av%20=%20%5Csqrt%7B%5Cfrac%7BT%7D%7B%5Clambda%7D%7D.%0A"></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Spatial Second order derivative
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the derivation of the two kinds of waves, the crucial part! is the realization that these two expressions: <span id="eq-average"><img src="https://latex.codecogs.com/png.latex?%0A(%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n)%20-%20(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D)%0A%5Ctag%7B2%7D"></span> and <img src="https://latex.codecogs.com/png.latex?%0A%5Cleft.%20%5Cfrac%7B%5Cpartial%20%5Cxi%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx+%5CDelta%20x%7D%20-%20%5Cleft.%20%5Cfrac%7B%5Cpartial%20%5Cxi%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx%7D%0A"> are essentially the <strong>second order spatial derivative</strong> <img src="https://latex.codecogs.com/png.latex?%5Cxi_%7Bxx%7D">. This is obvious if you recall the definition of second derivative: just the derivative of derivative. Or in discrete version, <strong>the difference of difference</strong>. In particular, Equation&nbsp;2 can be also interpreted as the comparison between current value and the average of its two neighbors<sup>4</sup>: <span id="eq-average-2"><img src="https://latex.codecogs.com/png.latex?%0A(%5Cxi_%7Bn+1%7D%20-%20%5Cxi_n)%20-%20(%5Cxi_n%20-%20%5Cxi_%7Bn-1%7D)%20%5Cpropto%20%5Cfrac%7BT_%7Bn-1%7D%20+%20T_%7Bn+1%7D%7D%7B2%7D%20-%20T_n.%0A%5Ctag%7B3%7D"></span></p>
<p>We will encounter this in the derivation of heat equation as well, so keep this in mind!</p>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;This incredible idea is inspired by <a href="https://www.youtube.com/watch?v=ly4S0oi3Yz8">this video</a> by 3Blue1Brown.</p></div></div></section>
</section>
<section id="d-wave-equation-1" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="d-wave-equation-1"><span class="header-section-number">2.2</span> 2D Wave Equation</h3>
<p>You may think the 2D analog is something like Figure&nbsp;4. However, this kind of wave is <strong>vector-valued</strong> just like electromagnetic wave, where the “amplitude” <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5Cxi%7D:%20%5Cmathbb%7BR%7D%5En%20%5Ctimes%20%5Cmathbb%7BR%7D%20%5Cto%20%5Cmathbb%7BR%7D%5En"> is a time-dependent vector field. We will focus on <strong>scalar-valued</strong> waves in this article, leaving vector-valued waves in the future discussion<sup>5</sup>. In fact, the transverse wave (shown in Figure&nbsp;5) is quite accurate for 2D scalar-valued waves.</p>
<div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;For those of the curious reader, the wave equation <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7B%5Cxi%7D_%7Btt%7D%20=%20c%5E2%20%5Cnabla%5E2%20%5Cmathbf%7B%5Cxi%7D"> is also true <em>component-wise</em> for vector-valued waves, i.e., <img src="https://latex.codecogs.com/png.latex?(%5Cmathbf%7B%5Cxi%7D_i)_%7Btt%7D%20=%20c%5E2%20%5Cnabla%5E2%20%5Cmathbf%7B%5Cxi%7D_i">.</p></div></div><div class="quarto-layout-panel" data-layout-nrow="1">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-d2-longitudinal-wave" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-d2-longitudinal-wave-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/d2-longitudinal-wave.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-d2-longitudinal-wave-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Vector-valued 2D longitudinal wave
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-d2-transverse-wave" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-d2-transverse-wave-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/d2-transverse-wave.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-d2-transverse-wave-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Scalar-valued 2D transverse wave
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>You can imagine Figure&nbsp;5 as a curved rubber band with similar assumptions in Section&nbsp;2.1.2. Suppose:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?T">: Tension <strong>per unit length</strong><sup>6</sup>.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Csigma">: Surface mass density of the rubber band (mass per unit area).</li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;Note that it doesn’t make sense to say “tension at a point” but “tension at both sides of a line of a given length” (unit: N/m).</p></div></div><p>Along <img src="https://latex.codecogs.com/png.latex?z"> axies, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%5CSigma%20F%20=%20%5CDelta%20m%20%5Ccdot%20%5Cddot%7B%5Cxi%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;(T%20%5CDelta%20y)%20%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20x%5E2%7D%20%5CDelta%20x%20+%20(T%20%5CDelta%20x)%20%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20y%5E2%7D%20%5CDelta%20y%20=%20%5Csigma%20(%5CDelta%20x%20%5CDelta%20y)%20%5Cfrac%7B%5Cpartial%5E2%20%5Cxi%7D%7B%5Cpartial%20t%5E2%7D%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%5Cfrac%7BT%7D%7B%5Csigma%7D%20(%5Cxi_%7Bxx%7D%20+%20%5Cxi_%7Byy%7D)%20=%20%5Cddot%7B%5Cxi%7D.%0A%5Cend%7Balign*%7D%0A"></p>
<p>This can also be generalized to wave equation in <img src="https://latex.codecogs.com/png.latex?n"> dimension: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cddot%7B%5Cxi%7D%20=%20%5Cfrac%7BT%7D%7B%5Csigma%7D%20%5Cnabla%5E2%20%5Cxi.%20%7D%0A"></p>
</section>
</section>
<section id="heat-equation" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="heat-equation"><span class="header-section-number">3</span> Heat Equation</h2>
<section id="d-heat-equation" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="d-heat-equation"><span class="header-section-number">3.1</span> 1D Heat Equation</h3>
<section id="modelling" class="level4 page-columns page-full" data-number="3.1.1">
<h4 data-number="3.1.1" class="anchored" data-anchor-id="modelling"><span class="header-section-number">3.1.1</span> Modelling</h4>
<p>The following physical model of heat conduction on a rod is based on the following assumptions and facts:</p>
<ol type="1">
<li><p>No thermal source on the thin rod.</p></li>
<li><p><strong>(Prop Relation 1)</strong> <img src="https://latex.codecogs.com/png.latex?T"> (in Kelvin) is <em>defined</em> to be proportional<sup>7</sup> to thermal energy <img src="https://latex.codecogs.com/png.latex?Q"> (in <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BJ%7D">), i.e., <img src="https://latex.codecogs.com/png.latex?%0AT%20:%20%5Cpropto%20Q.%0A"></p>
<p>This is reflected in the following well-known fact: <img src="https://latex.codecogs.com/png.latex?%0A%5CDelta%20Q%20=%20cm%20%5CDelta%20T,%0A"> where <img src="https://latex.codecogs.com/png.latex?c"> is the specific heat capacity of the rod, <img src="https://latex.codecogs.com/png.latex?m"> is the mass we analyze on.</p></li>
<li><p><strong>(Prop Relation 2)</strong> Conduction of heat energy is <strong><em>proportional</em></strong> to temperature difference<sup>8</sup>: <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0Aq%20=%20-k%20%5Cnabla%20T,%7D%0A"> where <img src="https://latex.codecogs.com/png.latex?q"> is called <strong>heat flux density</strong><sup>9</sup>, the amount of thermal energy passing through a point (1D case) or a unit area (3D case)</p></li>
<li><p>Thermal energy in conserved!</p></li>
</ol>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;Loosely speaking, this is the <em>definition</em> of temperature. If there is no temperature (<img src="https://latex.codecogs.com/png.latex?T%20=%200%5Ctext%7B%20K%7D">), then there is no particle motion, <img src="https://latex.codecogs.com/png.latex?Q%20=%200">.</p></div><div id="fn8"><p><sup>8</sup>&nbsp;This famous equation is called <strong>Fourier’s law for heat conduction</strong>.</p></div><div id="fn9"><p><sup>9</sup>&nbsp;Since in 1D case, <img src="https://latex.codecogs.com/png.latex?q"> is just the amount of thermal energy pssing through a <em>point</em>. Thus in 1D, we often drop the word “density” by just saying “heat flux”.</p></div></div><div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Importance of proportion relations
</div>
</div>
<div class="callout-body-container callout-body">
<p>You may have noticed there are two proportional relations: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20T%20:%20%5Cpropto%20Q.%0A"> This allows us to use temperature to reflect energy! Temperature is more tangible than energy. <img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%20q%20=%20-k%20%5Cnabla%20T.%0A"> This connects time derivative and space derivative. So Heat equation is actully easier to derive since this Fourier’s law directly gives us nearly the final result. I say nearly because the only thing left is the <strong>conservation of energy</strong>!</p>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="derivation" class="level4 page-columns page-full" data-number="3.1.2">
<h4 data-number="3.1.2" class="anchored" data-anchor-id="derivation"><span class="header-section-number">3.1.2</span> Derivation</h4>
<p>The notations used are defined below:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Clambda">: Line density of the rod (mass per unit length).</li>
<li><img src="https://latex.codecogs.com/png.latex?x,%20x%20+%20%5CDelta%20x">: The coordinates of the start and end points of the rod segment we analyze (Right is the positive direction).</li>
<li><img src="https://latex.codecogs.com/png.latex?T:%20%5Cmathbb%7BR%7D%20%5Ctimes%20%5Cmathbb%7BR%7D%20%5Cto%20%5Cmathbb%7BR%7D">: Temperature field (time dependent) on the rod.</li>
</ul>
<p>The quantity we care is obviously how the temperature changes over time and space. We chooce a tiny segment of the rod of length <img src="https://latex.codecogs.com/png.latex?%5CDelta%20x"> and build equation on it. The temperature on that extremely small segment can be viewed as a constant.</p>
<div id="fig-rod-segment" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rod-segment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/rod-segment.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rod-segment-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Energy conservation on a small element of the rod
</figcaption>
</figure>
</div>
<p>As shown in Figure&nbsp;6, suppose the left side of the rod is hotter than its right side<sup>10</sup>. We know that the thermal energy increased in <img src="https://latex.codecogs.com/png.latex?%5Cmathrm%7Bd%7Dt"> should equal to thermal energy entering the segment on the left minus thermal energy leaving the segment on the right: <span id="eq-energy-conservation"><img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%20Q%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20=%20q_%7B%5Ctext%7Bin,%20left%7D%7D%20-%20q_%7B%5Ctext%7Bout,%20right%7D%7D.%0A%5Ctag%7B4%7D"></span></p>
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;This is an assumption without loss of generality in terms of writing out the heat equation. The signs can be a lot tricker to determine if you don’t have a certain physical picture.</p></div></div><p>Now we expect <img src="https://latex.codecogs.com/png.latex?q_%7B%5Ctext%7Bin,%20left%7D%7D"> and <img src="https://latex.codecogs.com/png.latex?q_%7B%5Ctext%7Bout,%20right%7D%7D"> to be both positive. The gradient of temperature <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B%5Cpartial%20T%7D%7B%5Cpartial%20x%7D"> on position <img src="https://latex.codecogs.com/png.latex?x"> and <img src="https://latex.codecogs.com/png.latex?x%20+%20%5CDelta%20x"> are both negative (since temperature decreases along the positive direction), therefore, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Aq_%7B%5Ctext%7Bin,%20left%7D%7D%20&amp;=%20%5Cleft.%20-k%20%5Cfrac%7B%5Cpartial%20T%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx%7D%20%3E%200%20%5C%5C%0Aq_%7B%5Ctext%7Bout,%20right%7D%7D%20&amp;=%20%5Cleft.%20-k%20%5Cfrac%7B%5Cpartial%20T%7D%7B%5Cpartial%20x%7D%20%5Cright%7C_%7Bx%20+%20%5CDelta%20x%7D%20%3E%200.%0A%5Cend%7Baligned%7D%0A"></p>
<p>Therefore, Equation&nbsp;4 becomes: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20Q%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20=%20k%20(T_x%7C_%7Bx+%5CDelta%20x%7D%20-%20T_x%7C_%7Bx%7D)%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20c%20(%5Clambda%20%5CDelta%20x)%20%5Cfrac%7B%5Cpartial%20T%7D%7B%5Cpartial%20t%7D%20=%20k%20T_%7Bxx%7D%20%5CDelta%20x%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20T_t%20=%20%5Cfrac%7Bk%7D%7Bc%20%5Clambda%7D%20T_%7Bxx%7D.%0A%5Cend%7Balign*%7D%0A"></p>
<p>Just this simple, we derived the heat equation! <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0AT_t%20=%20%5Cfrac%7Bk%7D%7Bc%20%5Clambda%7D%20T_%7Bxx%7D.%7D%0A"></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why do wave equation and heat equation so similar and different?
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Why do they both have <img src="https://latex.codecogs.com/png.latex?%5Cxi_%7Bxx%7D"> term?</p>
<p>The “forcing” on a small element is proportional to the change of changes. This is very common in nature.</p>
<ul>
<li>In wave case, the force on each particle not depend on the change of displacement of adjacent particles, but the change of the change (because first order determines <em>force</em> on either side, second order determines the <em>net force</em> on the particle we analyze)!</li>
<li>In heat case, the heat increase in a small segment does not depend on first order derivative of temperature field, that’s just one side. There’s yet another side that may compensate for this change in temperature. So it’s the difference of difference that matters.</li>
</ul></li>
<li><p>Why temperature only cares first order time derivative?</p>
<p>There’s a fundamental difference between wave equation and heat equation: Heat will never <em>overshoot</em> but wave will. In other words, a spring will overshoot its equilibrium with maximal speed, resulting a movement of back and forth. But heat will evolve as smooth and efficient as possible, never oscillating.</p></li>
</ol>
<div class="quarto-layout-panel" data-layout-nrow="1">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/Heat.gif" class="img-fluid figure-img"></p>
<figcaption>Heat diffusion</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/Wave.gif" class="img-fluid figure-img"></p>
<figcaption>Wave propagation<sup>11</sup></figcaption>
</figure>
</div>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>A second order derivative in time means overshooting.</p>
</blockquote>
<p>Second order time derivative appears in wave equation is because Newton’s second law involves acceleration. Whereas in heat equation the first order time derivative actually comes from conservation laws. There is a wide class of PDEs (called <strong>continuity equation</strong>) that can be derived from conservation law. We will discuss this later.</p>
<p>Just to give a intuitive understanding of the difference behavior of wave and heat, recall that in Equation&nbsp;3 we introduced a new way of looking at second order spatial derivative (Difference to the average of its neighbors). As shown in Figure&nbsp;7, the second order spatial derivative is proportional to the blue <img src="https://latex.codecogs.com/png.latex?d">.</p>
<div id="fig-difference-between-d-a-v" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-difference-between-d-a-v-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/pde-derivation/difference-between-d-a-v.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-difference-between-d-a-v-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Difference between <img src="https://latex.codecogs.com/png.latex?d%20%5Cpropto%20a"> and <img src="https://latex.codecogs.com/png.latex?d%5C%20propto%20v">
</figcaption>
</figure>
</div>
<p>The only difference in wave and heat equation is that if <img src="https://latex.codecogs.com/png.latex?d"> is proportional to the acceleration <img src="https://latex.codecogs.com/png.latex?a"> (of the middle particle), or its velocity <img src="https://latex.codecogs.com/png.latex?v">, i.e., <span id="eq-heat-abstraction"><img src="https://latex.codecogs.com/png.latex?%0A%5Cdot%7B%5Cxi%7D%20=%20%5Cxi%0A%5Ctag%7B5%7D"></span> or <span id="eq-wave-abstraction"><img src="https://latex.codecogs.com/png.latex?%0A%5Cddot%7B%5Cxi%7D%20=%20%5Cxi.%0A%5Ctag%7B6%7D"></span></p>
<p>The solution to Equation&nbsp;5 is the famous exponential decay, whereas the solution to Equation&nbsp;6 is obviously the ocsillation!</p>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn11"><p><sup>11</sup>&nbsp;Made with <a href="https://visualpde.com/explore.html">this website</a> where you can explore different PDEs visually!</p></div></div></section>
</section>
<section id="d-heat-equation-1" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="d-heat-equation-1"><span class="header-section-number">3.2</span> 3D Heat Equation</h3>
<p>Now substitude the rod with a 3D material like metal. Suppose</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Crho">: Volume density of the rod (mass per unit volume).</li>
<li><img src="https://latex.codecogs.com/png.latex?%5CDelta%20V">: Volume of the small segment we analyze, <img src="https://latex.codecogs.com/png.latex?%5CDelta%20V%20=%20%5CDelta%20x%20%5CDelta%20y%20%5CDelta%20z">.</li>
<li><img src="https://latex.codecogs.com/png.latex?T:%20%5Cmathbb%7BR%7D%5E3%20%5Ctimes%20%5Cmathbb%7BR%7D%20%5Cto%20%5Cmathbb%7BR%7D">: Temperature field (time dependent) on the rod.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/pde-derivation/metal-segment.png" class="img-fluid figure-img"></p>
<figcaption>Isolate a small sube inside the metal</figcaption>
</figure>
</div>
<p>From conservation of thermal energy, the increase of <img src="https://latex.codecogs.com/png.latex?Q"> is unit time equal to net energy entering the volume from <img src="https://latex.codecogs.com/png.latex?x,%20y,%20z"> directions. We already know that in one dimension, say <img src="https://latex.codecogs.com/png.latex?x">, the net increase in thermal energy is proportional to the second spatial derivative times the nudge length: <img src="https://latex.codecogs.com/png.latex?%0Aq%20=%20k%20T_%7Bxx%7D%20%5Coverbrace%7B%5CDelta%20x%7D%5E%7B%5Ctext%7Bnudge%7D%7D.%0A"></p>
<p>However, <img src="https://latex.codecogs.com/png.latex?q"> is three-dimension is the heat flux <em>density</em>, so we also need to multiply the cross section area: <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%20Q%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20=%20q%20%5Ccdot%20%5CDelta%20%5Ctext%7BArea%7D%20=%20%5Coverbrace%7Bk%20T_%7Bxx%7D%20%5CDelta%20x%7D%5E%7B%5Ctext%7Bdensity%7D%7D%20%5Ccdot%20%5Coverbrace%7B(%5CDelta%20y%20%5CDelta%20z)%7D%5E%7B%5Ctext%7Barea%20size%7D%7D.%0A"></p>
<p>Sum up all heat contributions from three directions: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign*%7D%0A&amp;%20%5CSigma%20%5Cfrac%7B%5Cmathrm%7Bd%7D%20Q%7D%7B%5Cmathrm%7Bd%7D%20t%7D%20=%20q_x%20(%5CDelta%20y%20%5CDelta%20z)%20+%20q_y%20(%5CDelta%20z%20%5CDelta%20x)%20+%20q_z%20(%5CDelta%20x%20%5CDelta%20y)%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20c%20(%5Crho%20%5CDelta%20V)%20%5Cfrac%7B%5Cpartial%20T%7D%7B%5Cpartial%20t%7D%20=%20(k%20T_%7Bxx%7D%20%5CDelta%20x)(%5CDelta%20y%20%5CDelta%20z)%20+%20(k%20T_%7Byy%7D%20%5CDelta%20y)(%5CDelta%20z%20%5CDelta%20x)%20+%20(k%20T_%7Bzz%7D%20%5CDelta%20z)(%5CDelta%20x%20%5CDelta%20y)%20%5C%5C%0A%5Cimplies%5Cquad%20&amp;%20T_t%20=%20%5Cfrac%7Bk%7D%7Bc%20%5Crho%7D%20(T_%7Bxx%7D%20+%20T_%7Byy%7D%20+%20T_%7Bzz%7D),%0A%5Cend%7Balign*%7D%0A"> i.e., <img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0AT_t%20=%20%5Cfrac%7Bk%7D%7Bc%20%5Crho%7D%20%5Cnabla%5E2%20T.%7D%0A"></p>
<p>This could be natually generalized to <img src="https://latex.codecogs.com/png.latex?n"> dimensions.</p>
</section>
</section>
<section id="references" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="references">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-lamoureux_2006_the" class="csl-entry">
Lamoureux, Michael. 2006. <span>“The Mathematics of PDEs and the Wave Equation.”</span> <a href="https://mathtube.org/sites/default/files/lecture-notes/Lamoureux_Michael.pdf">https://mathtube.org/sites/default/files/lecture-notes/Lamoureux_Michael.pdf</a>.
</div>
</div>


</section>


 ]]></description>
  <category>Differential-Equation</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/pde-derivation/</guid>
  <pubDate>Fri, 04 Apr 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/pde-derivation/cover.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>Understanding Isomorphism Theorems for Groups 群同构定理的理解</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/isomorphism-theorem/</link>
  <description><![CDATA[ 





<p><strong>Prerequisites</strong>: <em>Quotient group, kernel of a homomorphism, normal subgroup, basic category theory</em>.</p>
<p>Apologize for the handwriting, since it’s hard for quarto to support <code>tikz-cd</code> package.</p>
<section id="takeaways" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="takeaways"><span class="header-section-number">1</span> Takeaways</h2>
<ul>
<li>You gotta think of a homomorphism whenever there is a quotient.</li>
<li>Homomorphisms are WAAAAY more important than groups themselves!</li>
<li><strong>First isomorphism theorem</strong>: Universal property of quotients, most important.</li>
<li><strong>Second isomorphism theorem</strong>: How subgroups behave under projections.</li>
<li><strong>Third isomorphism theorem</strong>: Just a diagram commutes.</li>
</ul>
</section>
<section id="normal-subgroup-iff-kernel" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="normal-subgroup-iff-kernel"><span class="header-section-number">2</span> Normal Subgroup <img src="https://latex.codecogs.com/png.latex?%5Ciff"> Kernel</h2>
<p>In this section, I will introduce to you a very important mathematical habit: always think of a homomorphism whenever there is a quotient. This helps me a lot in not only understanding the three isomorphism theorems, but also in various topics such as projective geometry, cohomology, etc. First, let’s look at some concepts, if you are familiar with them, you can skip this section.</p>
<section id="center-and-centralizer" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="center-and-centralizer"><span class="header-section-number">2.1</span> Center and Centralizer</h3>
<p>There are two very similar concepts: center of a group and conjugation operation. Center can be generalized to the concept of a centralizer. Conjugation is related to the concept of a normal subgroup and normalizer.</p>
<p>We know that not every group is abelian, but there are <em>some</em> elements in a group that commute with <em>every</em> other element in the group. We collect them to form a set. In fact, not only a set, but also a subgroup, called the <strong>center</strong> of the group.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Center
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-center" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> The center <img src="https://latex.codecogs.com/png.latex?Z(G)"> of a group <img src="https://latex.codecogs.com/png.latex?G"> is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AZ(G)%20:=&amp;%20%5C%7B%20z%20%5Cin%20G%20%5Cmid%20%5Cforall%20g%20%5Cin%20G,%20zg%20=%20gz%20%5C%7D%20%5C%5C%0A=&amp;%20%5C%7B%20z%20%5Cin%20G%20%5Cmid%20%5Cforall%20g%20%5Cin%20G,%20z%20=%20gzg%5E%7B-1%7D%20%5C%7D.%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Here are some properties of the center, you can think about them yourself:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?Z(G)%20%5Ctrianglelefteq%20G">. (See Definition&nbsp;4 for the definition of normal subgroup.)</li>
<li><img src="https://latex.codecogs.com/png.latex?Z(G)%20=%20G"> iff <img src="https://latex.codecogs.com/png.latex?G"> is abelian.</li>
<li><img src="https://latex.codecogs.com/png.latex?Z(G)"> is itself abelian.</li>
</ul>
<p>If we do not want to make it commutes with <em>every</em> element in the group, but only with some elements in a set <img src="https://latex.codecogs.com/png.latex?S"> (not necessarily a subgroup<sup>1</sup> of <img src="https://latex.codecogs.com/png.latex?G">), this generalize to the definition of the <strong>centralizer</strong> of <img src="https://latex.codecogs.com/png.latex?S"> in <img src="https://latex.codecogs.com/png.latex?G">:</p>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;<img src="https://latex.codecogs.com/png.latex?S%20%5Cle%20G"> means <img src="https://latex.codecogs.com/png.latex?S"> is a subgroup of <img src="https://latex.codecogs.com/png.latex?G">. <img src="https://latex.codecogs.com/png.latex?S%20%5Csubseteq%20G"> means <img src="https://latex.codecogs.com/png.latex?S"> is a subset of <img src="https://latex.codecogs.com/png.latex?G">.</p></div></div><div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Centralizer
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-centralizer" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> The <strong>centralizer</strong> <img src="https://latex.codecogs.com/png.latex?C_G(S)"> of a set <img src="https://latex.codecogs.com/png.latex?S"> <img src="https://latex.codecogs.com/png.latex?(S%20%5Csubseteq%20G)"> of group <img src="https://latex.codecogs.com/png.latex?G"> is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AC_G(S)%20:=&amp;%20%5C%7B%20c%20%5Cin%20G%20%5Cmid%20%5Cforall%20s%20%5Cin%20S,%20cs%20=%20sc%20%5C%7D%20%5C%5C%0A=&amp;%20%5C%7B%20c%20%5Cin%20G%20%5Cmid%20%5Cforall%20s%20%5Cin%20S,%20c%20=%20scs%5E%7B-1%7D%20%5C%7D.%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof: <img src="https://latex.codecogs.com/png.latex?C_G(S)%20%5Cle%20G">
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Closure</strong>:</p>
<p>Let <img src="https://latex.codecogs.com/png.latex?a,%20b%20%5Cin%20C_G(S)">, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cforall%20s%20%5Cin%20S,%20as%20=%20sa,%20bs%20=%20sb">. We want to show that <img src="https://latex.codecogs.com/png.latex?ab%20%5Cin%20C_G(S)">: <img src="https://latex.codecogs.com/png.latex?%0A(ab)s%20=%20a(bs)%20=%20a(sb)%20=%20(as)b%20=%20(sa)b%20=%20s(ab)%20%5Cimplies%20ab%20%5Cin%20C_G(S),%20%5Cforall%20s%20%5Cin%20S.%0A"></p></li>
<li><p><strong>Associativity</strong>: Inherited from <img src="https://latex.codecogs.com/png.latex?G">.</p></li>
<li><p><strong>Identity</strong>: <img src="https://latex.codecogs.com/png.latex?e_G%20%5Cin%20C_G(S)"> because <img src="https://latex.codecogs.com/png.latex?%5Cforall%20s%20%5Cin%20S,%20es%20=%20se%20=%20s">.</p></li>
<li><p><strong>Inverse</strong>: Let <img src="https://latex.codecogs.com/png.latex?a%20%5Cin%20C_G(S)">, i.e., <img src="https://latex.codecogs.com/png.latex?%5Cforall%20s%20%5Cin%20S,%20as%20=%20sa">. We want to show that <img src="https://latex.codecogs.com/png.latex?a%5E%7B-1%7D%20%5Cin%20C_G(S)">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Aas%20=%20sa%20&amp;%20%5Cimplies%20a%5E%7B-1%7Das%20=%20a%5E%7B-1%7Dsa%20%5C%5C%0A&amp;%20%5Cimplies%20s%20=%20a%5E%7B-1%7Dsa%20%5C%5C%0A&amp;%20%5Cimplies%20sa%5E%7B-1%7D%20=%20a%5E%7B-1%7Dsaa%5E%7B-1%7D%20%5C%5C%0A&amp;%20%5Cimplies%20sa%5E%7B-1%7D%20=%20a%5E%7B-1%7Ds%20%5C%5C%0A&amp;%20%5Cimplies%20a%5E%7B-1%7D%20%5Cin%20C_G(S).%0A%5Cend%7Baligned%7D%0A"></p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Clearly, the center is a special case of the centralizer: <img src="https://latex.codecogs.com/png.latex?%0AZ(G)%20=%20C_G(G).%0A"></p>
</section>
<section id="conjugation" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="conjugation"><span class="header-section-number">2.2</span> Conjugation</h3>
<p>The sandwich operation <img src="https://latex.codecogs.com/png.latex?gzg%5E%7B-1%7D"> in Definition&nbsp;1 pops out frequenctly in math<sup>2</sup>. We give it a name: <strong>conjugation</strong> of <img src="https://latex.codecogs.com/png.latex?z"> by <img src="https://latex.codecogs.com/png.latex?g">.</p>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Similar matrices, quarternion representation of 3D rotation, etc.</p></div></div><div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Conjugation
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-conjugation" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 3</strong></span> <img src="https://latex.codecogs.com/png.latex?a,%20b%20%5Cin%20G"> <strong>conjugate</strong> <img src="https://latex.codecogs.com/png.latex?:%5Ciff"> <img src="https://latex.codecogs.com/png.latex?%5Cexists%20g%20%5Cin%20G"> such that <img src="https://latex.codecogs.com/png.latex?a%20=%20gbg%5E%7B-1%7D">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>It’s easy to show that conjugation defines an equivalence relation on <img src="https://latex.codecogs.com/png.latex?G">:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof: Conjugation is an Equivalence Relation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To show conjugation defined in Definition&nbsp;3 is an equivalence relation <img src="https://latex.codecogs.com/png.latex?%5Csim">, we need to show it is reflexive, symmetric, and transitive.</p>
<ol type="1">
<li><p>Reflexive: <img src="https://latex.codecogs.com/png.latex?%5Cexists%20e%20%5Cin%20G,%20a%20=%20eae%5E%7B-1%7D">, hence <img src="https://latex.codecogs.com/png.latex?a%20%5Csim%20a">.</p></li>
<li><p>Symmetric: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Aa%20%5Csim%20b%20&amp;%20%5Ciff%20%5Cexists%20g%20%5Cin%20G,%20a%20=%20gbg%5E%7B-1%7D%20%5C%5C%0A&amp;%20%5Ciff%20%5Cexists%20g%5E%7B-1%7D%20%5Cin%20G,%20b%20=%20g%5E%7B-1%7Dag%20%5C%5C%0A&amp;%20%5Ciff%20b%20%5Csim%20a.%0A%5Cend%7Baligned%7D%0A"></p></li>
<li><p>Transitive: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Aa%20%5Csim%20b,%20b%20%5Csim%20c%20&amp;%20%5Ciff%20%5Cexists%20g,%20h%20%5Cin%20G,%20a%20=%20gbg%5E%7B-1%7D,%20b%20=%20hch%5E%7B-1%7D%20%5C%5C%0A&amp;%20%5Ciff%20%5Cexists%20g,%20h%20%5Cin%20G,%20a%20=%20ghch%5E%7B-1%7Dg%5E%7B-1%7D%20%5C%5C%0A&amp;%20%5Ciff%20%5Cexists%20gh%20%5Cin%20G,%20a%20=%20(gh)c(gh)%5E%7B-1%7D%20%5C%5C%0A&amp;%20%5Ciff%20a%20%5Csim%20c.%0A%5Cend%7Baligned%7D%0A"></p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-natural-hom" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="sec-natural-hom"><span class="header-section-number">2.3</span> A Natural Homomorphism</h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Conjugation Homomorphism
</div>
</div>
<div class="callout-body-container callout-body">
<div id="prp-conj-hom" class="callout-prp theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> be a group and <img src="https://latex.codecogs.com/png.latex?f%20%5Cin%20%5Coperatorname%7BHom%7D(G,%20%5Coperatorname%7BAut%7D(G))">, where <img src="https://latex.codecogs.com/png.latex?f(g)"> is defined by conjugation by <img src="https://latex.codecogs.com/png.latex?g">. Then <img src="https://latex.codecogs.com/png.latex?%0A%5Cker%20f%20=%20Z(G).%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof of Proposition&nbsp;1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Conjugation by <img src="https://latex.codecogs.com/png.latex?g"> (denoted <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bconj%7D_g">) is in <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7BAut%7D(G)">.</p>
<p>We need to check that <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bconj%7D_g"> gives an isomorphism from <img src="https://latex.codecogs.com/png.latex?G"> to itself.</p>
<ul>
<li><p><strong>Claim</strong>: <img src="https://latex.codecogs.com/png.latex?%5Cforall%20g%20%5Cin%20G,%20f(g)%20%5Cin%20%5Coperatorname%7BEnd%7D(G)">.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20f(g)(h%20h')%20=%20g(h%20h')g%5E%7B-1%7D%20=%20ghg%5E%7B-1%7Dgh'g%5E%7B-1%7D%20=%20f(g)(h)%20f(g)(h').%0A%20%20"></p></li>
<li><p><strong>Claim</strong>: <img src="https://latex.codecogs.com/png.latex?f(g)"> is bijective.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20f%5E%7B-1%7D(g)%20=%20f(g%5E%7B-1%7D).%0A%20%20"></p></li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?f"> is indeed a homomorphism.</p>
<p>Take <img src="https://latex.codecogs.com/png.latex?%5Cforall%20g,%20g'%20%5Cin%20G">, then: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0Af(g%20g')(h)%20&amp;=%20gg'h(gg')%5E%7B-1%7D%20%5C%5C%0A&amp;=%20gg'hg'%5E%7B-1%7Dg%5E%7B-1%7D%20%5C%5C%0A&amp;=%20f(g)%20%5Ccirc%20f(g')(h).%0A%5Cend%7Baligned%7D%0A"></p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cker%20f%20=%20Z(G)">.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cker%20f%20&amp;=%20%5C%7Bg%20%5Cin%20G%20:%20%5Cforall%20h%20%5Cin%20G,%20ghg%5E%7B-1%7D%20=%20h%5C%7D%20%5C%5C%0A&amp;=%20%5C%7Bg%20%5Cin%20G%20:%20gh%20=%20hg%20%5Ctext%7B%20for%20all%20%7D%20h%20%5Cin%20G%5C%7D%20%5C%5C%0A&amp;=%20Z(G).%0A%5Cend%7Baligned%7D%0A"></p></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Inner and Outer Automorphisms
</div>
</div>
<div class="callout-body-container callout-body">
<div id="prp-inn-out" class="callout-prp theorem proposition">
<p><span class="theorem-title"><strong>Proposition 2</strong></span> Under the condition in Proposition&nbsp;1, <img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7Bim%7D%20f%20%5Ctriangleleft%20%5Coperatorname%7BAut%7D(G).%0A"></p>
<p>Define the <strong>inner automorphism group</strong> to be: <img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7BInn%7D(G)%20:=%20%5Coperatorname%7Bim%7D%20f,%0A"> and naturally the <strong>Outer automorphism group</strong> to be: <img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7BOut%7D(G)%20:=%20%5Cfrac%7B%5Coperatorname%7BAut%7D(G)%7D%7B%5Coperatorname%7BInn%7D(G)%7D.%0A"> Then we have the following exact sequence: <img src="https://latex.codecogs.com/png.latex?%0A1%20%5Cxrightarrow%5B%5D%7B%7D%20Z(G)%20%5Chookrightarrow%20G%20%5Cxrightarrow%5B%5D%7Bf%7D%20%5Coperatorname%7BAut%7D(G)%20%5Ctwoheadrightarrow%20%5Coperatorname%7BOut%7D(G)%20%5Cxrightarrow%5B%5D%7B%7D%201.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>We omitted the proof, but visually,</p>
<div id="fig-z-inn-out" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-z-inn-out-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/z-inn-out.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-z-inn-out-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Relation between <img src="https://latex.codecogs.com/png.latex?Z(G)">, <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7BInn%7D(G)">, <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7BOut%7D(G)">
</figcaption>
</figure>
</div>
</section>
<section id="normal-subgroup-and-normalizer" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="normal-subgroup-and-normalizer"><span class="header-section-number">2.4</span> Normal Subgroup and Normalizer</h3>
<p>In fact, we could weaken the condition of <img src="https://latex.codecogs.com/png.latex?z%20=%20gzg%5E%7B-1%7D"> in Definition&nbsp;1 and <img src="https://latex.codecogs.com/png.latex?c%20=%20scs%5E%7B-1%7D"> in Definition&nbsp;2 to <img src="https://latex.codecogs.com/png.latex?N%20=%20gNg%5E%7B-1%7D"> and <img src="https://latex.codecogs.com/png.latex?S%20=%20gSg%5E%7B-1%7D"> to get the definition of a <strong>normal subgroup</strong> <img src="https://latex.codecogs.com/png.latex?N"> and a <strong>normalizer</strong> <img src="https://latex.codecogs.com/png.latex?N_G(S)"> respectively. This is different, because we no longer need <em>pointwise</em> commutativity but only commutativity <em>as a set</em>. In other words, the element after conjugation does not need to be exactly itself necessarily as long as it remains in some set.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Normal Subgroup
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-normal-subgroup" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 4</strong></span> A subgroup <img src="https://latex.codecogs.com/png.latex?N"> of a group <img src="https://latex.codecogs.com/png.latex?G"> is <strong>normal</strong> (denoted <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">), iff <img src="https://latex.codecogs.com/png.latex?%5Cforall%20g%20%5Cin%20G,%20N%20=%20gNg%5E%7B-1%7D">, i.e., <img src="https://latex.codecogs.com/png.latex?%0A%5Cforall%20g%20%5Cin%20G,%20%5Cexists%20n%20%5Cin%20N,%20%5Cforall%20m%20%5Cin%20N,%20gmg%5E%7B-1%7D%20=%20n,%0A"> i.e., normal subgroups are invariant under any conjugation.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Normalizer
</div>
</div>
<div class="callout-body-container callout-body">
<div id="def-normalizer" class="callout-def theorem definition">
<p><span class="theorem-title"><strong>Definition 5</strong></span> The <strong>normalizer</strong> <img src="https://latex.codecogs.com/png.latex?N_G(S)"> of a set <img src="https://latex.codecogs.com/png.latex?S"> <img src="https://latex.codecogs.com/png.latex?(S%20%5Csubseteq%20G)"> of group <img src="https://latex.codecogs.com/png.latex?G"> is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0AN_G(S)%20:=&amp;%20%5C%7B%20g%20%5Cin%20G%20%5Cmid%20gS%20=%20Sg%20%5C%7D%20%5C%5C%0A=&amp;%20%5C%7B%20g%20%5Cin%20G%20%5Cmid%20S%20=%20gSg%5E%7B-1%7D%20%5C%7D.%0A%5Cend%7Baligned%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Their relationship is: If <img src="https://latex.codecogs.com/png.latex?S%20%5Ctrianglelefteq%20G">, then <img src="https://latex.codecogs.com/png.latex?N_G(S)%20=%20G">.</p>
<p>The following two results are important:</p>
</section>
<section id="kernels-are-normal" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="kernels-are-normal"><span class="header-section-number">2.5</span> Kernels are normal</h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Kernel of a homomorphism is normal
</div>
</div>
<div class="callout-body-container callout-body">
<div id="lem-kernel-is-normal" class="callout-lem theorem lemma">
<p><span class="theorem-title"><strong>Lemma 1</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G,%20H"> be groups and <img src="https://latex.codecogs.com/png.latex?%5Cvarphi%20%5Cin%20%5Coperatorname%7BHom%7D(G,%20H)">. Then <img src="https://latex.codecogs.com/png.latex?%5Cker(%5Cvarphi)%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bim%7D(%5Cvarphi)%20%5Cle%20H">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof: Kernel of a homomorphism is normal
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We just need to show that <img src="https://latex.codecogs.com/png.latex?%5Cforall%20k%20%5Cin%20%5Cker(%5Cvarphi)">, the conjugate of <img src="https://latex.codecogs.com/png.latex?k%20(gkg%5E%7B-1%7D)"> is also in <img src="https://latex.codecogs.com/png.latex?%5Cker(%5Cvarphi)">, i.e., <img src="https://latex.codecogs.com/png.latex?%0A%5Cvarphi(gkg%5E%7B-1%7D)%20=%20e.%0A"> This is trivial.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="normal-subgroups-are-kernels" class="level3 page-columns page-full" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="normal-subgroups-are-kernels"><span class="header-section-number">2.6</span> Normal subgroups are kernels</h3>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Every normal subgroup is the kernel of a homomorphism
</div>
</div>
<div class="callout-body-container callout-body">
<div id="lem-normal-is-kernel" class="callout-lem theorem lemma">
<p><span class="theorem-title"><strong>Lemma 2</strong></span> Let <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">. Then <img src="https://latex.codecogs.com/png.latex?%5Cexists%20%5Cvarphi%20%5Cin%20%5Coperatorname%7BHom%7D(G,%20H)"> s.t. <img src="https://latex.codecogs.com/png.latex?N%20=%20%5Cker(%5Cvarphi)">.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>HINT: Take <img src="https://latex.codecogs.com/png.latex?%5Cvarphi:%20G%20%5Cto%20G/N">, the natural projection from <img src="https://latex.codecogs.com/png.latex?G"> to the group of cosets (called the quotient group <img src="https://latex.codecogs.com/png.latex?G/N">).</p>
<div id="fig-quotient" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quotient-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/quotient.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quotient-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: All homomorphisms factors uniquely through the quotient
</figcaption>
</figure>
</div>
<p>As shown in Figure&nbsp;2, any group homomorphism <img src="https://latex.codecogs.com/png.latex?%5Cvarphi:%20G%20%5Cto%20H"> factors uniquely through the quotient group <img src="https://latex.codecogs.com/png.latex?G/N">, where <img src="https://latex.codecogs.com/png.latex?N%20=%20%5Cker(%5Cvarphi)">. The unique embedding <img src="https://latex.codecogs.com/png.latex?%5Cbar%7B%5Cvarphi%7D"> implies the universal property of the quotient group (the pair <img src="https://latex.codecogs.com/png.latex?(G/N,%20%5Cpi)"> could be viewed as a <strong>initial object</strong> of a <strong>coslice category</strong><sup>3</sup>).</p>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;A coslice category is the dual of a slice category, which is a special case of a <a href="https://en.wikipedia.org/wiki/Comma_category#Coslice_category">comma category</a>.</p></div></div><p>So we have establish the fact that quotients and group homomorphisms are equivalent!</p>
</section>
</section>
<section id="isomorphism-theorem-i" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="isomorphism-theorem-i"><span class="header-section-number">3</span> Isomorphism Theorem I</h2>
<p>Figure&nbsp;2 could be viewed as part of the <strong>canonical decomposition</strong> of a group homomorphism:</p>
<div id="fig-canonical-decomposition" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-canonical-decomposition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/first-iso.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-canonical-decomposition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: The red box in the canonical decomposition is exactly the first isomorphism theorem
</figcaption>
</figure>
</div>
<p>The red box in Figure&nbsp;3 is exactly the first isomorphism theorem:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
First Isomorphism Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-iso1" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> and <img src="https://latex.codecogs.com/png.latex?H"> be groups and let <img src="https://latex.codecogs.com/png.latex?%5Cvarphi:%20G%20%5Cto%20H"> be a homomorphism. Then: <img src="https://latex.codecogs.com/png.latex?%0AG/%5Cker(%5Cvarphi)%20%5Csimeq%20%5Coperatorname%7Bim%7D(%5Cvarphi)%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>The rest of the isomorphism theorems largely relies on this first theorem.</p>
</section>
<section id="isomorphism-theorem-ii" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="isomorphism-theorem-ii"><span class="header-section-number">4</span> Isomorphism Theorem II</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Some lemmas
</div>
</div>
<div class="callout-body-container callout-body">
<div id="lem-iso2" class="callout-lem theorem lemma">
<p><span class="theorem-title"><strong>Lemma 3</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> be a group and <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?S%20%5Cle%20G">. Then: <img src="https://latex.codecogs.com/png.latex?%0AN%20%5Ctrianglelefteq%20SN%20%5Cle%20G%20%5Cge%20S%20%5Ctrianglerighteq%20S%20%5Ccap%20N.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><img src="https://latex.codecogs.com/png.latex?SN%20%5Cle%20G">:</p>
<ul>
<li><strong>Nonempty</strong>: Trivial.</li>
<li><strong>Closure</strong>: Let <img src="https://latex.codecogs.com/png.latex?s_1n_1,%20s_2n_2%20%5Cin%20SN">, we want to show that <img src="https://latex.codecogs.com/png.latex?(s_1n_1)(s_2n_2)%20%5Cin%20SN">: <img src="https://latex.codecogs.com/png.latex?%0A%20%20(s_1n_1)(s_2n_2)%20=%20s_1(n_1s_2)n_2.%0A%20%20"> How to deal with the middle term? Since <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">, we have <img src="https://latex.codecogs.com/png.latex?n_1s_2%20=%20sn_1"> for some <img src="https://latex.codecogs.com/png.latex?s%20%5Cin%20N">. Then: <img src="https://latex.codecogs.com/png.latex?%0A%20%20s_1(n_1s_2)n_2%20=%20s_1(sn_1)n_2%20=%20(s_1s)(n_1n_2)%20%5Cin%20SN.%0A%20%20"></li>
<li><strong>Inverses</strong>: Let <img src="https://latex.codecogs.com/png.latex?sn%20%5Cin%20SN">, we want to show that <img src="https://latex.codecogs.com/png.latex?(sn)%5E%7B-1%7D%20=%20n%5E%7B-1%7Ds%5E%7B-1%7D%20%5Cin%20SN">. Again use the fact that <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cexists%20s'%20%5Cin%20N,%20n%5E%7B-1%7Ds%5E%7B-1%7D%20=%20s'n%5E%7B-1%7D%20%5Cin%20SN.%0A%20%20"></li>
</ul></li>
<li><p>The rest can be proved by this diagram:</p>
<div id="fig-second-iso-proof" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-second-iso-proof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/second-iso-proof.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-second-iso-proof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Proof of the isomorphism theorem 2
</figcaption>
</figure>
</div></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Second Isomorphism Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-iso2" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 2</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> be a group and <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?S%20%5Cle%20G">. Then: <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7BSN%7D%7BN%7D%20%5Csimeq%20%5Cfrac%7BS%7D%7BS%20%5Ccap%20N%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>As shown in Figure&nbsp;4, we have:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20SN">, since <img src="https://latex.codecogs.com/png.latex?N%20=%20%5Cker(%5Cvarphi%7C_%7BSN%7D)">. By the first isomorphism theorem, we have <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7BSN%7D%7BN%7D%20%5Csimeq%20%5Cvarphi%20(SN)">.</li>
<li><img src="https://latex.codecogs.com/png.latex?S%20%5Ccap%20N%20%5Ctrianglelefteq%20S">, since <img src="https://latex.codecogs.com/png.latex?S%20%5Ccap%20N%20=%20%5Cker(%5Cvarphi%7C_%7BS%7D)">. By the first isomorphism theorem, we have <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7BS%7D%7BS%20%5Ccap%20N%7D%20%5Csimeq%20%5Cvarphi%20(S)">.</li>
</ul>
<p>Plus, <img src="https://latex.codecogs.com/png.latex?%5Cvarphi%20(SN)%20=%20%5Cvarphi(S)">, therefore: <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7BSN%7D%7BN%7D%20%5Csimeq%20%5Cvarphi%20(SN)%20=%20%5Cvarphi(S)%20%5Csimeq%20%5Cfrac%7BS%7D%7BS%20%5Ccap%20N%7D,%0A"> i.e., <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7BSN%7D%7BN%7D%20%5Csimeq%20%5Cfrac%7BS%7D%7BS%20%5Ccap%20N%7D.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="isomorphism-theorem-iii" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="isomorphism-theorem-iii"><span class="header-section-number">5</span> Isomorphism Theorem III</h2>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Third Isomorphism Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-iso3" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 3</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> be a group and <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?K%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?N%20%5Csubset%20K">. Then <img src="https://latex.codecogs.com/png.latex?N%20%5Ctrianglelefteq%20K"> and <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7BG/N%7D%7BK/N%7D%20%5Csimeq%20%5Cfrac%7BG%7D%7BK%7D%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>To prove this theorem, we need to prove a lemma:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The image of normal subgroup is normal
</div>
</div>
<div class="callout-body-container callout-body">
<div id="lem-image-normal" class="callout-lem theorem lemma">
<p><span class="theorem-title"><strong>Lemma 4</strong></span> Let <img src="https://latex.codecogs.com/png.latex?G"> be a group, <img src="https://latex.codecogs.com/png.latex?K%20%5Ctrianglelefteq%20G">, <img src="https://latex.codecogs.com/png.latex?%5Cvarphi%20%5Cin%20%5Coperatorname%7BHom%7D(G,%20H)">. The image of <img src="https://latex.codecogs.com/png.latex?K"> under <img src="https://latex.codecogs.com/png.latex?%5Cvarphi"> is normal in <img src="https://latex.codecogs.com/png.latex?H">, i.e., <img src="https://latex.codecogs.com/png.latex?%0A%5Cvarphi(K)%20%5Ctrianglelefteq%20%5Coperatorname%7Bim%7D%20%5Cvarphi%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We need to show <img src="https://latex.codecogs.com/png.latex?%5Cforall%20h%20%5Cin%20%5Coperatorname%7Bim%7D%20%5Cvarphi"> and <img src="https://latex.codecogs.com/png.latex?%5Cforall%20k%20%5Cin%20K">, <img src="https://latex.codecogs.com/png.latex?h%5Cvarphi(k)h%5E%7B-1%7D%20%5Cin%20%5Cvarphi(K)">.</p>
<p>Let:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?h%20%5Cin%20%5Coperatorname%7Bim%7D(%5Cvarphi)">, so there exists <img src="https://latex.codecogs.com/png.latex?g%20%5Cin%20G"> such that <img src="https://latex.codecogs.com/png.latex?h%20=%20%5Cvarphi(g)">,</li>
<li><img src="https://latex.codecogs.com/png.latex?k%20%5Cin%20K">, so <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(k)%20%5Cin%20%5Cvarphi(K)"></li>
</ul>
<p>Now compute: <img src="https://latex.codecogs.com/png.latex?%0Ah%20%5Cvarphi(k)%20h%5E%7B-1%7D%20=%20%5Cvarphi(g)%20%5Cvarphi(k)%20%5Cvarphi(g)%5E%7B-1%7D%0A=%20%5Cvarphi(g%20k%20g%5E%7B-1%7D)%20%5Cquad%20%5Ctext%7B(since%20%5C(%20%5Cvarphi%20%5C)%20is%20a%20homomorphism)%7D%0A"></p>
<p>But since $ K G $, we know <img src="https://latex.codecogs.com/png.latex?g%20k%20g%5E%7B-1%7D%20%5Cin%20K">, so: <img src="https://latex.codecogs.com/png.latex?%0A%5Cvarphi(g%20k%20g%5E%7B-1%7D)%20%5Cin%20%5Cvarphi(K).%0A"> Therefore: <img src="https://latex.codecogs.com/png.latex?%0Ah%20%5Cvarphi(k)%20h%5E%7B-1%7D%20%5Cin%20%5Cvarphi(K).%0A"></p>
<p>So <img src="https://latex.codecogs.com/png.latex?%5Cvarphi(K)"> is closed under conjugation by elements of <img src="https://latex.codecogs.com/png.latex?%5Coperatorname%7Bim%7D(%5Cvarphi)">, i.e.,</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cvarphi(K)%20%5Ctrianglelefteq%20%5Coperatorname%7Bim%7D(%5Cvarphi).%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<p>Now the proof of the third isomorphism theorem can be proved by this diagram:</p>
<div id="fig-comm-groups" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-comm-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/comm-groups.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-comm-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Commutative diagram of groups
</figcaption>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof of the third isomorphism theorem
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Figure&nbsp;5 can be visually represented by this cartoon:</p>
<div id="fig-third-iso-proof" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-third-iso-proof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/isomorphism-theorem/third-iso-proof.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-third-iso-proof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Visual demo of the proof of the third isomorphism theorem
</figcaption>
</figure>
</div>
<p>by the first isomorphism theorem, we have: <img src="https://latex.codecogs.com/png.latex?%0AG/N%20%5Csimeq%20%5Csigma_1%20(G)%20%5Ctriangleright%20%5Csigma_1%20(K)%20%5Csimeq%20K/N.%0A"> Therefore, <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7BG/N%7D%7BK/N%7D%20=%20%5Cfrac%7B%5Csigma_1%20(G)%7D%7B%5Csigma_1%20(K)%7D%20%5Csimeq%20%5Csigma_2%20%5Ccirc%20%5Csigma_1%20(G)%20=:%20%5Csigma%20(G)%20%5Csimeq%20%5Cfrac%7BG%7D%7BK%7D.%0A"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->


</section>


 ]]></description>
  <category>Algebra</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/isomorphism-theorem/</guid>
  <pubDate>Sun, 30 Mar 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/isomorphism-theorem/cover.png" medium="image" type="image/png" height="104" width="144"/>
</item>
<item>
  <title>Control Case Study: LQR for Inverted Pendulum!</title>
  <dc:creator>Marcobisky </dc:creator>
  <link>https://marcobisky.github.io/posts/inverted-pendulum/</link>
  <description><![CDATA[ 





<section id="intro" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="intro"><span class="header-section-number">1</span> Intro</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/control-block-diagram.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Control block diagram</figcaption>
</figure>
</div>
<p>The objective of this article is to provide a self-contained guide to building a linear feedback control system for the classical inverted pendulum problem in MATLAB, i.e., to design a controller by applying a force to the cart <img src="https://latex.codecogs.com/png.latex?M"> to balance the pendulum at the upright position (shown in Figure&nbsp;1). We will use the following standard equations of a control system: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20&amp;=%20A%20%5Cmathbf%7Bx%7D%20+%20B%20%5Cmathbf%7Bu%7D%20%5C%5C%0A%20%20%20%20%5Cmathbf%7By%7D%20&amp;=%20C%20%5Cmathbf%7Bx%7D%20+%20D%20%5Cmathbf%7Bu%7D%20%5C%5C%0A%20%20%20%20%5Cmathbf%7Bu%7D%20&amp;=%20-K%20%5Cmathbf%7By%7D.%0A%5Cend%7Baligned%7D%0A"></p>
<p>A brief description of the symbols and their physical interpretation is given in the following table. If you have difficulty understanding their meanings, don’t worry, feel free to scan the next section.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 13%">
<col style="width: 62%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Symbol</th>
<th>Description</th>
<th>This Article</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D%20%5Cin%20TM"></td>
<td>System state vector in the tangent bundle of dimension <img src="https://latex.codecogs.com/png.latex?n">.</td>
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D%20=%20%5Bx,%20%5Cdot%7Bx%7D,%20%5Ctheta,%20%5Cdot%7B%5Ctheta%7D%5D%5Et%20%5Cin%20T(%5Cmathbb%7BR%7D%5E1%20%5Ctimes%20%5Cmathbb%7BS%7D%5E2)"></td>
</tr>
<tr class="even">
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bu%7D%20%5Cin%20TM_c"></td>
<td>The values control knobs (“actuators”) in a space of dimension <img src="https://latex.codecogs.com/png.latex?q"> (<img src="https://latex.codecogs.com/png.latex?q%20%3C%20n">).</td>
<td>Force on the cart <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bu%7D%20=%20%5Cmathbf%7BF%7D%20%5Cin%20%5Cmathbb%7BR%7D">.</td>
</tr>
<tr class="odd">
<td><img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7By%7D%20%5Cin%20TM_o"></td>
<td>The observable output vector of the system (the values that we can measure) in a space of dimension <img src="https://latex.codecogs.com/png.latex?p"> (<img src="https://latex.codecogs.com/png.latex?p%20%3C%20n">).</td>
<td>All dimension of <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D"> is observable <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7By%7D%20=%20%5Cmathbf%7Bx%7D">.</td>
</tr>
<tr class="even">
<td><img src="https://latex.codecogs.com/png.latex?A%5E%7Bn%20%5Ctimes%20n%7D"></td>
<td>The linear infinitesimal generator of the system.</td>
<td>Modelling and linearization needed, see Equation&nbsp;5.</td>
</tr>
<tr class="odd">
<td><img src="https://latex.codecogs.com/png.latex?B%5E%7Bn%20%5Ctimes%20q%7D"></td>
<td>How the control knobs affect the state vector.</td>
<td>Force analyzing needed, see Equation&nbsp;6.</td>
</tr>
<tr class="even">
<td><img src="https://latex.codecogs.com/png.latex?C%5E%7Bp%20%5Ctimes%20n%7D"></td>
<td>Convert the state vector to what we can actually measure.</td>
<td><img src="https://latex.codecogs.com/png.latex?C%20=%20I">.</td>
</tr>
<tr class="odd">
<td><img src="https://latex.codecogs.com/png.latex?D%5E%7Bp%20%5Ctimes%20q%7D"></td>
<td>Sometimes the control knobs affect the system observable output directly.</td>
<td>Applying the force has no direct effect on the observable <img src="https://latex.codecogs.com/png.latex?D%20=%200">.</td>
</tr>
<tr class="even">
<td><img src="https://latex.codecogs.com/png.latex?K%5E%7Bq%20%5Ctimes%20p%7D"></td>
<td>The linear feedback matrix. The observable <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7By%7D"> is mapped linearly to the control knobs.</td>
<td>We use LQR to optimize this matrix.</td>
</tr>
</tbody>
</table>
</section>
<section id="physics-model" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="physics-model"><span class="header-section-number">2</span> Physics Model</h2>
<p>In this section, we will derive the equations of motion for the cart-pendulum system using Lagrangian Mechanics. I hope Figure&nbsp;1 will be enough to explain the notations used in this article.</p>
<div id="fig-cartpend" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cartpend-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/inverted-pendulum/cartpend.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cartpend-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Cart-pendulum Model
</figcaption>
</figure>
</div>
<p>The dynamics of the system can be computed using Lagrangian Mechanics:</p>
<p><span id="eq-lagrangian"><img src="https://latex.codecogs.com/png.latex?%0A%5Cboxed%7B%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20q_i%7D%20-%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20q_i%7D%20=%20Q_i%5E%7B%5Ctext%7Bnon-conservative%7D%7D,%0A%7D%0A%5Ctag%7B1%7D"></span> where <img src="https://latex.codecogs.com/png.latex?q_i"> is either <img src="https://latex.codecogs.com/png.latex?x"> or <img src="https://latex.codecogs.com/png.latex?%5Ctheta"> in our case. The lagrangian <img src="https://latex.codecogs.com/png.latex?L"> is system kinetic energy minus potential energy: <img src="https://latex.codecogs.com/png.latex?%0AL%20=%20T%20-%20V.%0A"></p>
<section id="kinetic-energy" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="kinetic-energy"><span class="header-section-number">2.1</span> Kinetic Energy</h3>
<p>The total kinetic energy of the system is the sum of the kinetic energy of the cart and the kinetic energy of the pendulum: <img src="https://latex.codecogs.com/png.latex?%0AT%20=%20T_M%20+%20T_m.%0A"></p>
<p>First we compute the position of <img src="https://latex.codecogs.com/png.latex?m">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbf%7Br%7D_m%20=%20%5Cbegin%7Bbmatrix%7D%20x%20+%20%5Cell%20%5Csin%20%5Ctheta%20%5C%5C%20-%5Cell%20%5Ccos%20%5Ctheta%20%5Cend%7Bbmatrix%7D.%0A"></p>
<p>Therefore, <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20T_m%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20m%20%5Cdot%7B%5Cmathbf%7Br%7D%7D_m%5ET%20%5Cdot%7B%5Cmathbf%7Br%7D%7D_m%20%5C%5C%0A%20%20%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20m%20%5Cleft%5B(%5Cdot%7Bx%7D%20+%20%5Cell%20%5Cdot%7B%5Ctheta%7D%20%5Ccos%20%5Ctheta)%5E2%20+%20(%5Cell%20%5Cdot%7B%5Ctheta%7D%20%5Csin%20%5Ctheta)%5E2%5Cright%5D%20%5C%5C%0A%20%20%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20m%20%5Cleft%5B%20%5Cdot%7Bx%7D%5E2%20+%20%5Cell%5E2%20%5Cdot%7B%5Ctheta%7D%5E2%20+%202%20%5Cell%20%5Cdot%7Bx%7D%20%5Cdot%7B%5Ctheta%7D%20%5Ccos%20%5Ctheta%20%5Cright%5D.%0A%5Cend%7Baligned%7D%0A"></p>
<p>The kinetic energy of <img src="https://latex.codecogs.com/png.latex?M"> is easy: <img src="https://latex.codecogs.com/png.latex?%0AT_M%20=%20%5Cfrac%7B1%7D%7B2%7D%20M%20%5Cdot%7Bx%7D%5E2.%0A"></p>
<p>The total kinetic energy is: <img src="https://latex.codecogs.com/png.latex?%0AT%20=%20%5Cfrac%7B1%7D%7B2%7D%20(M%20+%20m)%20%5Cdot%7Bx%7D%5E2%20+%20%5Cfrac%7B1%7D%7B2%7D%20m%20%5Cell%5E2%20%5Cdot%7B%5Ctheta%7D%5E2%20+%20m%20%5Cell%20%5Cdot%7Bx%7D%20%5Cdot%7B%5Ctheta%7D%20%5Ccos%20%5Ctheta.%0A"></p>
</section>
<section id="potential-energy" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="potential-energy"><span class="header-section-number">2.2</span> Potential Energy</h3>
<p>Only the pendulum has potential energy: <img src="https://latex.codecogs.com/png.latex?%0AV%20=%20-%20m%20g%20%5Cell%20%5Ccos%20%5Ctheta.%0A"></p>
</section>
<section id="euler-lagrange-equation" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="euler-lagrange-equation"><span class="header-section-number">2.3</span> Euler-Lagrange Equation</h3>
<p>The lagrangian of the system is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20L%20&amp;=%20T%20-%20V%20%5C%5C%0A%20%20%20%20&amp;=%20%5Cfrac%7B1%7D%7B2%7D%20(M%20+%20m)%20%5Cdot%7Bx%7D%5E2%20+%20%5Cfrac%7B1%7D%7B2%7D%20m%20%5Cell%5E2%20%5Cdot%7B%5Ctheta%7D%5E2%20+%20m%20%5Cell%20%5Cdot%7Bx%7D%20%5Cdot%7B%5Ctheta%7D%20%5Ccos%20%5Ctheta%20+%20m%20g%20%5Cell%20%5Ccos%20%5Ctheta.%0A%5Cend%7Baligned%7D%0A"></p>
<section id="euler-lagrange-in-x" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="euler-lagrange-in-x"><span class="header-section-number">2.3.1</span> Euler-Lagrange in <img src="https://latex.codecogs.com/png.latex?x"></h4>
<p>For <img src="https://latex.codecogs.com/png.latex?q_1%20=%20x">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Cdot%7Bx%7D%7D%20&amp;=%20(M%20+%20m)%20%5Cdot%7Bx%7D%20+%20m%20%5Cell%20%5Cdot%7B%5Ctheta%7D%20%5Ccos%20%5Ctheta%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5Cleft(%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Cdot%7Bx%7D%7D%20%5Cright)%20&amp;=%20(M%20+%20m)%20%5Cddot%7Bx%7D%20+%20m%20%5Cell%20(-%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%20+%20%5Ccos%20%5Ctheta%20%5Cddot%7B%5Ctheta%7D)%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20x%7D%20&amp;=%200%20%5C%5C%0A%20%20%20%20Q_x%5E%7B%5Ctext%7Bnon-conservative%7D%7D%20&amp;=%20F%20-%20b%20%5Cdot%7Bx%7D.%0A%5Cend%7Baligned%7D%0A"></p>
<p>By Equation&nbsp;1, we have: <span id="eq-lagrangian-x"><img src="https://latex.codecogs.com/png.latex?%0A(M%20+%20m)%20%5Cddot%7Bx%7D%20+%20m%20%5Cell%20(-%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%20+%20%5Ccos%20%5Ctheta%20%5Cddot%7B%5Ctheta%7D)%20=%20F%20-%20b%20%5Cdot%7Bx%7D.%0A%5Ctag%7B2%7D"></span></p>
</section>
<section id="euler-lagrange-in-theta" class="level4" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="euler-lagrange-in-theta"><span class="header-section-number">2.3.2</span> Euler-Lagrange in <img src="https://latex.codecogs.com/png.latex?%5Ctheta"></h4>
<p>For <img src="https://latex.codecogs.com/png.latex?q_2%20=%20%5Ctheta">: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Cdot%7B%5Ctheta%7D%7D%20&amp;=%20m%20%5Cell%5E2%20%5Cdot%7B%5Ctheta%7D%20+%20m%20%5Cell%20%5Cdot%7Bx%7D%20%5Ccos%20%5Ctheta%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%20%5Cleft(%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Cdot%7B%5Ctheta%7D%7D%20%5Cright)%20&amp;=%20m%20%5Cell%5E2%20%5Cddot%7B%5Ctheta%7D%20+%20m%20%5Cell%20(%5Cddot%7Bx%7D%20%5Ccos%20%5Ctheta%20-%20%5Cdot%7Bx%7D%20%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D)%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Ctheta%7D%20&amp;=%20-%20m%20g%20%5Cell%20%5Csin%20%5Ctheta%20-%20m%20%5Cell%20%5Cdot%7Bx%7D%20%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%20%5C%5C%0A%20%20%20%20Q_%7B%5Ctheta%7D%5E%7B%5Ctext%7Bnon-conservative%7D%7D%20&amp;=%200.%0A%5Cend%7Baligned%7D%0A"></p>
<p>By Equation&nbsp;1, we have: <span id="eq-lagrangian-theta"><img src="https://latex.codecogs.com/png.latex?%0Am%20%5Cell%20%5Cddot%7Bx%7D%20%5Ccos%20%5Ctheta%20+%20m%20%5Cell%5E2%20%5Cddot%7B%5Ctheta%7D%20+%20m%20g%20%5Cell%20%5Csin%20%5Ctheta%20=%200.%0A%5Ctag%7B3%7D"></span></p>
</section>
<section id="matrix-form" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="matrix-form"><span class="header-section-number">2.3.3</span> Matrix Form</h4>
<p>Write Equation&nbsp;2 and Equation&nbsp;3 in matrix form: <span id="eq-lagrangian-matrix-form"><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20M%20+%20m%20&amp;%20m%20%5Cell%20%5Ccos%20%5Ctheta%20%5C%5C%0A%20%20%20%20m%20%5Cell%20%5Ccos%20%5Ctheta%20&amp;%20m%20%5Cell%5E2%0A%5Cend%7Bbmatrix%7D%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20%5Cddot%7Bx%7D%20%5C%5C%20%5Cddot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A=%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20F%20-%20b%20%5Cdot%7Bx%7D%20+%20m%20%5Cell%20%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%20%5C%5C%0A%20%20%20%20-%20m%20g%20%5Cell%20%5Csin%20%5Ctheta%0A%5Cend%7Bbmatrix%7D.%0A%5Ctag%7B4%7D"></span></p>
</section>
</section>
<section id="matlab-code" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="matlab-code"><span class="header-section-number">2.4</span> Matlab Code</h3>
<p>The following function computes the state-space model of the inverted pendulum:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>invpend.m</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="invpend.m" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% x -&gt; state vector (x, xdot, theta, thetadot)</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% m -&gt; mass of pendulum</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% M -&gt; mass of cart</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% L -&gt; length of pendulum</span></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% g -&gt; gravity</span></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% b -&gt; friction = -b*xdot</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% F -&gt; force applied to cart</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% dx -&gt; derivative of state vector</span></span>
<span id="cb1-9"></span>
<span id="cb1-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">F</span>)</span>
<span id="cb1-11">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Unpack state variables</span></span>
<span id="cb1-12">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% cart position</span></span>
<span id="cb1-13">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% cart velocity (xdot)</span></span>
<span id="cb1-14">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% pendulum angle (theta)</span></span>
<span id="cb1-15">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% angular velocity (thetadot)</span></span>
<span id="cb1-16">    </span>
<span id="cb1-17">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Precompute useful terms</span></span>
<span id="cb1-18">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">sin_theta</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">sin</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-19">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cos_theta</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cos</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-20">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">theta_dot</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-21">    </span>
<span id="cb1-22">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass matrix</span></span>
<span id="cb1-23">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">D</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cos_theta</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-24">         <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cos_theta</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-25"></span>
<span id="cb1-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Right-hand side (forces/accelerations)</span></span>
<span id="cb1-27">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">RHS</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">F</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">sin_theta</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">theta_dot</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-28">           <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">sin_theta</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-29"></span>
<span id="cb1-30">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Solve for accelerations</span></span>
<span id="cb1-31">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">accel</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">D</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">RHS</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Equivalent to inv(D) * RHS, but more stable</span></span>
<span id="cb1-32">    </span>
<span id="cb1-33">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Return time derivative of state vector</span></span>
<span id="cb1-34">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">zeros</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb1-35">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% xdot</span></span>
<span id="cb1-36">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">accel</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% xddot</span></span>
<span id="cb1-37">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% thetadot</span></span>
<span id="cb1-38">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">dx</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">accel</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% thetaddot</span></span>
<span id="cb1-39"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
<p>The following function simulates the motion of the system without damping and external force:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>simulation_invpend.m</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="simulation_invpend.m" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb2-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Simulation parameters</span></span>
<span id="cb2-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb2-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb2-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb2-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb2-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb2-9"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Time samples</span></span>
<span id="cb2-10"></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Initial conditions</span></span>
<span id="cb2-12"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% x, xdot, theta, thetadot</span></span>
<span id="cb2-13"></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Solve ODE</span></span>
<span id="cb2-15">[<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ode45</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>) <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb2-16"></span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Animation</span></span>
<span id="cb2-18"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">length</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span>)</span>
<span id="cb2-19">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend_plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">true</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'simulation_invpend.gif'</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb2-20"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
invpend_plot() function
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend_plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">saveGif</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span>)</span>
<span id="cb3-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Extract state variables</span></span>
<span id="cb3-3">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Cart position</span></span>
<span id="cb3-4">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">theta</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Pendulum angle</span></span>
<span id="cb3-5">    </span>
<span id="cb3-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Compute pendulum position</span></span>
<span id="cb3-7">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">sin</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">theta</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-8">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_y</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cos</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">theta</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-9">    </span>
<span id="cb3-10">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Figure setup</span></span>
<span id="cb3-11">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clf</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">hold</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">on</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">axis</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">equal</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">grid</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">on</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-12">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">xlim</span>([<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ylim</span>([<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-13">    </span>
<span id="cb3-14">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Draw cart</span></span>
<span id="cb3-15">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_w</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_h</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-16">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">rectangle</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'Position'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_w</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_h</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_w</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_h</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">...</span></span>
<span id="cb3-17">              <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'Curvature'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'FaceColor'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>])<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-18">    </span>
<span id="cb3-19">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Draw pendulum</span></span>
<span id="cb3-20">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">plot</span>([<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cart_x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_x</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_y</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'k-'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'LineWidth'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Rod</span></span>
<span id="cb3-21">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">pend_y</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'ro'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'MarkerSize'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'MarkerFaceColor'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'r'</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass</span></span>
<span id="cb3-22">    </span>
<span id="cb3-23">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Draw ground</span></span>
<span id="cb3-24">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">plot</span>([<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'k'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'LineWidth'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-25">    </span>
<span id="cb3-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% If saveGif is true, save the current frame to a GIF file</span></span>
<span id="cb3-27">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">persistent</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFile</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frameCount</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">currentGifName</span></span>
<span id="cb3-28">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">nargin</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb3-29">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">saveGif</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">false</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-30">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span>
<span id="cb3-31">    </span>
<span id="cb3-32">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">saveGif</span></span>
<span id="cb3-33">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Set default filename if not provided</span></span>
<span id="cb3-34">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">nargin</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">isempty</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span>)</span>
<span id="cb3-35">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'invpend_animation.gif'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-36">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span>
<span id="cb3-37">        </span>
<span id="cb3-38">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Reset frame count if this is a new gif file</span></span>
<span id="cb3-39">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">isempty</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">currentGifName</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">strcmp</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">currentGifName</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span>)</span>
<span id="cb3-40">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frameCount</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-41">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">currentGifName</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-42">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb3-43">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frameCount</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frameCount</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-44">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span>
<span id="cb3-45">        </span>
<span id="cb3-46">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Capture the current figure as an image</span></span>
<span id="cb3-47">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frame</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">getframe</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gcf</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-48">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">im</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frame2im</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frame</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-49">        [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">imind</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cm</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">rgb2ind</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">im</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">256</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-50">        </span>
<span id="cb3-51">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Write to the GIF file</span></span>
<span id="cb3-52">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">frameCount</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb3-53">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">imwrite</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">imind</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cm</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'gif'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'Loopcount'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">inf</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'DelayTime'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-54">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb3-55">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">imwrite</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">imind</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">cm</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">gifFileName</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'gif'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'WriteMode'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'append'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'DelayTime'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-56">        <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span>
<span id="cb3-57">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span>
<span id="cb3-58">    </span>
<span id="cb3-59">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">drawnow</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb3-60"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_invpend.gif" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>Simulation result of <code>simulation_invpend.m</code></figcaption>
</figure>
</div>
</section>
</section>
<section id="linearized-phase-space-model" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="linearized-phase-space-model"><span class="header-section-number">3</span> Linearized Phase Space Model</h2>
<section id="linearization-of-the-original-dynamics" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="linearization-of-the-original-dynamics"><span class="header-section-number">3.1</span> Linearization of the original dynamics</h3>
<p>In this section, we build the linear version of the original system (without control) in the phase space.</p>
<p>First of all, the state of the system can be described in a vector: <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbf%7Bx%7D%20=%20%5Cbegin%7Bbmatrix%7D%0Ax%20%5C%5C%20%5Cdot%7Bx%7D%20%5C%5C%20%5Ctheta%20%5C%5C%20%5Cdot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A%5Cin%20T%20(%5Cmathbb%7BR%7D%5E1%20%5Ctimes%20%5Cmathbb%7BS%7D%5E1)%0A"></p>
<p>Now we want to use a linear model <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20%5Cmathbf%7BAx%7D"> to analyze the system at <img src="https://latex.codecogs.com/png.latex?%5Ctheta%20=%200">, i.e., we want to find matrix <img src="https://latex.codecogs.com/png.latex?A%20%5Cin%20%5Cmathbb%7BC%7D%5E%7B4%20%5Ctimes%204%7D"> s.t., <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dt%7D%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20x%20%5C%5C%20%5Cdot%7Bx%7D%20%5C%5C%20%5Ctheta%20%5C%5C%20%5Cdot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A=%0A%5Coverbrace%7B%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20%5Cdot%7Bx%7D%20%5C%5C%20%5Cddot%7Bx%7D%20%5C%5C%20%5Cdot%7B%5Ctheta%7D%20%5C%5C%20%5Cddot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A%7D%5E%7B%5Cdot%7B%5Cmathbf%7Bx%7D%7D%7D%0A=%0A%5Coverbrace%7B%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%200%20&amp;%201%20&amp;%200%20&amp;%200%20%5C%5C%0A%20%20%20%20?%20&amp;%20?%20&amp;%20?%20&amp;%20?%20%5C%5C%0A%20%20%20%200%20&amp;%200%20&amp;%200%20&amp;%201%20%5C%5C%0A%20%20%20%20?%20&amp;%20?%20&amp;%20?%20&amp;%20?%0A%5Cend%7Bbmatrix%7D%0A%7D%5E%7BA%7D%0A%5Coverbrace%7B%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20x%20%5C%5C%20%5Cdot%7Bx%7D%20%5C%5C%20%5Ctheta%20%5C%5C%20%5Cdot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A%7D%5E%7B%5Cmathbf%7Bx%7D%7D%0A"></p>
<p>Note the the first and third row are trivial identities, we only need to derive the second and fourth row of <img src="https://latex.codecogs.com/png.latex?A">. We already solved Equation&nbsp;4 in <code>invpend.m</code>. But now we have to solve it explicitly to derive the partial derivatives for the jacobian: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20%5Cddot%7Bx%7D%20%5C%5C%20%5Cddot%7B%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D%0A=%0A%5Cphi%20(x,%20%5Cdot%7Bx%7D,%20%5Ctheta,%20%5Cdot%7B%5Ctheta%7D)%0A=%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20%5Cfrac%7BF%20-%20b%20%5Cdot%7Bx%7D%20+%20m%20%5Cell%20%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%20-%20mg%20%5Ccos%20%5Ctheta%20%5Csin%20%5Ctheta%7D%7BM%20+%20m%20%5Csin%5E2%20%5Ctheta%7D%20%5C%5C%0A%20%20%20%20%5Cfrac%7B-%20%5Ccos%20%5Ctheta%20%5Cleft(F%20-%20b%20%5Cdot%7Bx%7D%20+%20m%20%5Cell%20%5Csin%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%5Cright)%20+%20(M+m)%20g%20%5Cell%20%5Csin%20%5Ctheta%7D%7BM%20%5Cell%20+%20m%20%5Cell%20%5Csin%5E2%20%5Ctheta%7D%0A%5Cend%7Bbmatrix%7D.%0A"></p>
<p>Now obviously the function <img src="https://latex.codecogs.com/png.latex?%5Cphi"> is non-linear. Its jacobian<sup>1</sup> at phase point <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D_%7B%5Ctext%7Bup%7D%7D%20=%20%5Bx,%200,%200,%200%5D%5Et"> is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20%5BJ%5D%0A%20%20%20%20&amp;=%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20%5Cphi_1%7D%7B%5Cpartial%20x%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_1%7D%7B%5Cpartial%20%5Cdot%7Bx%7D%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_1%7D%7B%5Cpartial%20%5Ctheta%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_1%7D%7B%5Cpartial%20%5Cdot%7B%5Ctheta%7D%7D%20%5C%5C%0A%20%20%20%20%5Cfrac%7B%5Cpartial%20%5Cphi_2%7D%7B%5Cpartial%20x%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_2%7D%7B%5Cpartial%20%5Cdot%7Bx%7D%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_2%7D%7B%5Cpartial%20%5Ctheta%7D%20&amp;%20%5Cfrac%7B%5Cpartial%20%5Cphi_2%7D%7B%5Cpartial%20%5Cdot%7B%5Ctheta%7D%7D%0A%20%20%20%20%5Cend%7Bbmatrix%7D_%7B%5Cmathbf%7Bx%7D%20=%20%5Cmathbf%7Bx%7D_%7B%5Ctext%7Bup%7D%7D%7D%20%5C%5C%0A%20%20%20%20&amp;=%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%200%20&amp;%20-%5Cfrac%7Bb%7D%7BM%7D%20&amp;%20-%5Cfrac%7Bmg%7D%7BM%7D%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%20-%5Cfrac%7Bb%7D%7BM%20%5Cell%7D%20&amp;%20-%5Cfrac%7B(m%20+%20M)g%7D%7BM%20%5Cell%7D%20&amp;%200%0A%20%20%20%20%5Cend%7Bbmatrix%7D.%0A%5Cend%7Baligned%7D%0A"></p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Just to refresh, the <em>Jacobian</em> <img src="https://latex.codecogs.com/png.latex?J"> of a (non-linear) function <img src="https://latex.codecogs.com/png.latex?%5Cphi:%20%5Cmathbb%7BR%7D%5En%20%5Cto%20%5Cmathbb%7BR%7D%5Em"> at point <img src="https://latex.codecogs.com/png.latex?p%20%5Cin%20%5Cmathbb%7BR%7D%5En"> can be viewed as the local transformation from the neighborhood of <img src="https://latex.codecogs.com/png.latex?p"> to the neighborhood of <img src="https://latex.codecogs.com/png.latex?%5Cphi(p)">. <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5En"> and <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%7BR%7D%5Em"> are not viewed as vector spaces but manifolds. In our case it’s a little weird to compute the jacobian of <img src="https://latex.codecogs.com/png.latex?A"> since <img src="https://latex.codecogs.com/png.latex?A"> defines a vector field, not mapping between manifolds. Or it is? <img src="https://latex.codecogs.com/png.latex?A"> <em>is</em> indeed a mapping between manifolds! Because vector field themselves are a section of the tangent bundle. By the way, this jacobian actually takes me a lot of effort to compute.</p></div></div><p>Therefore, <span id="eq-linearized-matrix"><img src="https://latex.codecogs.com/png.latex?%0AA%20=%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%200%20&amp;%201%20&amp;%200%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%20-%5Cfrac%7Bb%7D%7BM%7D%20&amp;%20-%5Cfrac%7Bmg%7D%7BM%7D%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%200%20&amp;%200%20&amp;%201%20%5C%5C%0A%20%20%20%200%20&amp;%20-%5Cfrac%7Bb%7D%7BM%20%5Cell%7D%20&amp;%20-%5Cfrac%7B(m%20+%20M)g%7D%7BM%20%5Cell%7D%20&amp;%200%0A%5Cend%7Bbmatrix%7D.%0A%5Ctag%7B5%7D"></span></p>
</section>
<section id="deriving-matrix-b-for-control" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="deriving-matrix-b-for-control"><span class="header-section-number">3.2</span> Deriving matrix <img src="https://latex.codecogs.com/png.latex?B"> for control</h3>
<p>The only control knob is <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bu%7D%20=%20%5Cmathbf%7BF%7D">, the force on the cart.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/deriving-B.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>The control knob <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BF%7D"> affects <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bx%7D"> and <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Ctheta%7D"></figcaption>
</figure>
</div>
<p>By Newton’s second law, it’s obvious that <span id="eq-linearized-matrix-B"><img src="https://latex.codecogs.com/png.latex?%0AB%20%5Cmathbf%7Bu%7D%20=%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%200%20%5C%5C%20%5Cfrac%7B1%7D%7BM%7D%20%5C%5C%200%20%5C%5C%20-%5Cfrac%7B1%7D%7BM%20%5Cell%7D%0A%5Cend%7Bbmatrix%7D%20F.%0A%5Ctag%7B6%7D"></span></p>
<p>Each entry of <img src="https://latex.codecogs.com/png.latex?B"> in Equation&nbsp;6 is explained in the following table:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 35%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th>Entry</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>B(1,1)</code> = 0</td>
<td>The velocity <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bx%7D"> of the cart <img src="https://latex.codecogs.com/png.latex?M"> will not suddenly change due to the force <img src="https://latex.codecogs.com/png.latex?F">.</td>
</tr>
<tr class="even">
<td><code>B(2,1)</code> = <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7BM%7D"></td>
<td>The acceleration <img src="https://latex.codecogs.com/png.latex?%5Cddot%7Bx%7D"> flash to <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7BF%7D%7BM%7D"> due to <img src="https://latex.codecogs.com/png.latex?F">.</td>
</tr>
<tr class="odd">
<td><code>B(3,1)</code> = 0</td>
<td>The angular velocity <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Ctheta%7D"> of the pendulum <img src="https://latex.codecogs.com/png.latex?m"> will not suddenly change due to the force <img src="https://latex.codecogs.com/png.latex?F">.</td>
</tr>
<tr class="even">
<td><code>B(4,1)</code> = <img src="https://latex.codecogs.com/png.latex?-%5Cfrac%7B1%7D%7BM%20%5Cell%7D"></td>
<td>The angular acceleration <img src="https://latex.codecogs.com/png.latex?%5Cddot%7B%5Ctheta%7D"> of the pendulum <img src="https://latex.codecogs.com/png.latex?m"> flash to <img src="https://latex.codecogs.com/png.latex?-%5Cfrac%7BF%7D%7BM%20%5Cell%7D"> due to <img src="https://latex.codecogs.com/png.latex?F">. The pendulum is moving backward relative to the cart, hence the negative sign.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="controllability-of-the-system" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="controllability-of-the-system"><span class="header-section-number">4</span> Controllability of the system</h2>
<section id="original-system-stability" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="original-system-stability"><span class="header-section-number">4.1</span> Original system stability</h3>
<p>From intuition, the system where <img src="https://latex.codecogs.com/png.latex?%5Ctheta%20=%200"> is unstable. How to know that from Equation&nbsp;5? We know that <strong>the system <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20A%20%5Cmathbf%7Bx%7D"> is stable iff all the eigenvalues of <img src="https://latex.codecogs.com/png.latex?A"> are rigorously negative</strong>. The instability of the system can be verified by the following Matlab code:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>original_system_stability.m</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="original_system_stability.m" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb4-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Simulation parameters</span></span>
<span id="cb4-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb4-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb4-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb4-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb4-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb4-9"></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define matrix, xdot = Ax + Bu</span></span>
<span id="cb4-11"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-12">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>       <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-13">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-14">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-15"></span>
<span id="cb4-16"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb4-17"></span>
<span id="cb4-18"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">eig</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span>)</span></code></pre></div>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Result of <code>original_system_stability.m</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb5-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ans</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span></span>
<span id="cb5-2">         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb5-3">   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.1883</span></span>
<span id="cb5-4">   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6157</span></span>
<span id="cb5-5">    <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.8040</span></span></code></pre></div>
<p>Since there are two non-negative eigenvalues, the system is unstable.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="controllability" class="level3 page-columns page-full" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="controllability"><span class="header-section-number">4.2</span> Controllability</h3>
<p>One great thing about feedback is that we can change the <strong>fundamental dynamics</strong> of the system, changing its eigenvalues<sup>2</sup> to make it stable (as shown in Figure&nbsp;2).</p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Also called <strong>poles</strong> for historical reasons.</p></div></div><div id="fig-feedback-change-dynamics" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-feedback-change-dynamics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/inverted-pendulum/feedback-change-dynamics.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-feedback-change-dynamics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Feedback control change the underlying dynamics of the system
</figcaption>
</figure>
</div>
<p>The system with linear feedback is: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20&amp;=%20A%20%5Cmathbf%7Bx%7D%20+%20B%20%5Cmathbf%7Bu%7D%20%5C%5C%0A%20%20%20%20%5Cmathbf%7Bu%7D%20&amp;=%20-K%20%5Cmathbf%7Bx%7D,%0A%5Cend%7Baligned%7D%0A"> or <img src="https://latex.codecogs.com/png.latex?%0A%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20(A%20-%20B%20K)%20%5Cmathbf%7Bx%7D,%0A"> whose dynamics could be very different from the original system <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20A%20%5Cmathbf%7Bx%7D">.</p>
<p>We want to take full control of the system, i.e., does there exist some <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7BF%7D%20=%20%5Cmathbf%7Bu%7D(t)"> to drive the system state point to anywhere in the phase space? In other words, is the system controllable?</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Controllability
</div>
</div>
<div class="callout-body-container callout-body">
<div id="thm-controllability" class="callout-thm theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> The following statements are equivalent:</p>
<ol type="1">
<li><p>The system is controllable.</p></li>
<li><p>Its controllability matrix <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BC%7D"> is full rank, <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathcal%7BC%7D%20:=%0A%5Cbegin%7Bbmatrix%7D%0AB%20&amp;%20AB%20&amp;%20A%5E2%20B%20&amp;%20%5Ccdots%20&amp;%20A%5E%7Bn-1%7D%20B%0A%5Cend%7Bbmatrix%7D.%0A"></p></li>
<li><p>The poles of the system can be placed arbitrarily<sup>3</sup>, i.e., the matrix <img src="https://latex.codecogs.com/png.latex?A%20-%20B%20K"> could have arbitrary eigenvalues.</p></li>
</ol>
<ol start="4" type="1">
<li>The reachability space <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BR%7D"> is the full phase space, <img src="https://latex.codecogs.com/png.latex?%0A%5Cmathcal%7BR%7D%20:=%20%5C%7B%5Cmathbf%7B%5Cxi%7D%20%5Cin%20TM:%20%5Cexists%20%5Ctext%7B%20input%20%7D%20%5Cmathbf%7Bu%7D(t)%20%5Ctext%7B%20s.t.%20%7D%20%5Cmathbf%7Bx%7D(t)%20=%20%5Cmathbf%7B%5Cxi%7D%5C%7D%0A"></li>
</ol>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;In fact, there is a built-in Matlab function <code>K = place(A, B, desired_eigs_vec)</code> to help you place the poles of the system to any desired locations.</p></div></div><p>By Theorem&nbsp;1, the system is controllable iff <code>ctrb(A, B)</code> has rank <img src="https://latex.codecogs.com/png.latex?4">. In fact, the following Matlab code can verify this.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sys_controllability.m</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="sys_controllability.m" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb6-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Simulation parameters</span></span>
<span id="cb6-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb6-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb6-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb6-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb6-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb6-9"></span>
<span id="cb6-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define matrix, xdot = Ax + Bu</span></span>
<span id="cb6-11"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-12">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>       <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-13">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-14">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-15"></span>
<span id="cb6-16"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb6-17"></span>
<span id="cb6-18"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">rank</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ctrb</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span>))</span></code></pre></div>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Result of <code>sys_controllability.m</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb7-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ans</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span></span>
<span id="cb7-2">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span></code></pre></div>
<p>Since <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BC%7D="> <code>ctrb(A, B)</code> has full rank <img src="https://latex.codecogs.com/png.latex?4">, the system <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Cmathbf%7Bx%7D%7D%20=%20(A%20-%20B%20K)%20%5Cmathbf%7Bx%7D"> is controllable.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="finding-the-feedback-matrix-k" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="finding-the-feedback-matrix-k"><span class="header-section-number">5</span> Finding the feedback matrix <img src="https://latex.codecogs.com/png.latex?K"></h2>
<section id="random-pole-placement" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="random-pole-placement"><span class="header-section-number">5.1</span> Random pole placement</h3>
<p>For controllable systems, Theorem&nbsp;1 also guarantees that we can place the poles of the system to any desired locations, say <code>desired_eigs_vec = [-3; -4; -5; -6]</code>, just randomly some numbers in the left half of the complex plane, to ensure the stability of the system. We use <code>place()</code> in Matlab to find such <img src="https://latex.codecogs.com/png.latex?K"> and use that <img src="https://latex.codecogs.com/png.latex?K"> to simulate the control effect of the system.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>simulation_linear_control.m</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="simulation_linear_control.m" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb8-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-2"></span>
<span id="cb8-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Simulation parameters</span></span>
<span id="cb8-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb8-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb8-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb8-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb8-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb8-9"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Time samples</span></span>
<span id="cb8-10"></span>
<span id="cb8-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Initial conditions</span></span>
<span id="cb8-12"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% x, xdot, theta, thetadot</span></span>
<span id="cb8-13"></span>
<span id="cb8-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% pole placement</span></span>
<span id="cb8-15"></span>
<span id="cb8-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define matrix, xdot = Ax + Bu</span></span>
<span id="cb8-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-18">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>       <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-19">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-20">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-21"></span>
<span id="cb8-22"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-23"></span>
<span id="cb8-24"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-25"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">place</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-26"></span>
<span id="cb8-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Just to verify that the poles are where we want them</span></span>
<span id="cb8-28"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">eig</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span>)</span>
<span id="cb8-29"></span>
<span id="cb8-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Solve ODE</span></span>
<span id="cb8-31"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-32">[<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ode45</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>) <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-33"></span>
<span id="cb8-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Animation</span></span>
<span id="cb8-35"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">length</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span>)</span>
<span id="cb8-36">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend_plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">true</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'simulation_linear_control.gif'</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb8-37"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
<div id="fig-simulation-linear-control" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-simulation-linear-control-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_linear_control.gif" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-simulation-linear-control-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Simulation result of <code>simulation_linear_control.m</code>
</figcaption>
</figure>
</div>
<p>We can see in Figure&nbsp;3, the inverted pendulum is able to be stabilized at the status <img src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D%20=%20%5B1,%200,%200,%200%5D%5Et">.</p>
<p>By changing the desired eigenvalues, we can adjust the convergent speed of the system.</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Matlab code for changing the desired eigenvalues
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb9-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Simulation parameters</span></span>
<span id="cb9-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb9-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb9-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb9-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb9-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb9-9"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Time samples</span></span>
<span id="cb9-10"></span>
<span id="cb9-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Initial conditions</span></span>
<span id="cb9-12"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% x, xdot, theta, thetadot</span></span>
<span id="cb9-13"></span>
<span id="cb9-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% pole placement</span></span>
<span id="cb9-15"></span>
<span id="cb9-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define matrix, xdot = Ax + Bu</span></span>
<span id="cb9-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-18">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>       <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-19">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-20">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-21"></span>
<span id="cb9-22"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-23"></span>
<span id="cb9-24"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec_1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-25"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec_2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-26"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec_3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-27"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec_4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-28"></span>
<span id="cb9-29"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">place</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_eigs_vec_4</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-30"></span>
<span id="cb9-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Just to verify that the poles are where we want them</span></span>
<span id="cb9-32"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">eig</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span>)</span>
<span id="cb9-33"></span>
<span id="cb9-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Solve ODE</span></span>
<span id="cb9-35"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-36">[<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ode45</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>) <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-37"></span>
<span id="cb9-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Animation</span></span>
<span id="cb9-39"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">length</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span>)</span>
<span id="cb9-40">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% invpend_plot(x(k, :), L, true, 'convergence_speed_4.gif');</span></span>
<span id="cb9-41">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend_plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">false</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-42"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="quarto-layout-panel" data-layout-nrow="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/convergence_speed_1.gif" class="img-fluid figure-img"></p>
<figcaption><code>desired_eigs_vec_1 = [-1; -2; -3; -4]</code></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/convergence_speed_2.gif" class="img-fluid figure-img"></p>
<figcaption><code>desired_eigs_vec_2 = [-2; -3; -4; -5]</code></figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/convergence_speed_3.gif" class="img-fluid figure-img"></p>
<figcaption><code>desired_eigs_vec_3 = [-3; -4; -5; -6]</code></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/convergence_speed_4.gif" class="img-fluid figure-img"></p>
<figcaption><code>desired_eigs_vec_4 = [-4; -5; -6; -7]</code></figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>We can see that more negative eigenvalues lead to faster convergence, at the risk of breaking the linearity limit and making the system less robust. So we need to make a trade-off between the convergence speed and the robustness (convergence speed is usually limited by the power of the control). Also, we may want to change the convergence style: whether to make the cart move as quickly as possible, or save as much energy as much as possible as long as the pendulum is inverted? Thankfully there is a way to find the required and “optimal” (in a sense) eigenvalues – the Linear Quadratic Regulator (LQR).</p>
</section>
<section id="linear-quadratic-regulator-lqr" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="linear-quadratic-regulator-lqr"><span class="header-section-number">5.2</span> Linear Quadratic Regulator (LQR)</h3>
<p>The idea is to define a metric (“loss function” in optimization jargon) to measure the badness of the eigenvalues (either too less robust or cost a lot to control), and then minimize that metric. Someone came up with this weird Equation&nbsp;7:</p>
<p><span id="eq-lqr-loss-function"><img src="https://latex.codecogs.com/png.latex?%0A%5Ctilde%7BJ%7D%20:=%20%5Cint_0%5E%5Cinfty%20(%5Cmathbf%7Bx%7D%5Et%20Q%20%5Cmathbf%7Bx%7D%20+%20%5Cmathbf%7Bu%7D%5Et%20R%20%5Cmathbf%7Bu%7D)%20%5C%20%5Cmathrm%7Bd%7Dt,%0A%5Ctag%7B7%7D"></span> where <img src="https://latex.codecogs.com/png.latex?Q%5E%7Bn%20%5Ctimes%20n%7D"> and <img src="https://latex.codecogs.com/png.latex?R%5E%7Bq%20%5Ctimes%20q%7D"> are symmetric, positive-definite matrices, which typically are diagonal. In our example, we could choose <img src="https://latex.codecogs.com/png.latex?%0AQ%20=%0A%5Cbegin%7Bbmatrix%7D%0A%20%20%20%201%20&amp;%200%20&amp;%200%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%201%20&amp;%200%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%200%20&amp;%205%20&amp;%200%20%5C%5C%0A%20%20%20%200%20&amp;%200%20&amp;%200%20&amp;%2070%0A%5Cend%7Bbmatrix%7D,%0A%5Cquad%0AR%20=%200.5,%0A"> which we put bigger penalties on <img src="https://latex.codecogs.com/png.latex?%5Ctheta"> and <img src="https://latex.codecogs.com/png.latex?%5Cdot%7B%5Ctheta%7D"> because we want them to converge to their expected value quickly. For the position <img src="https://latex.codecogs.com/png.latex?x"> and velocity <img src="https://latex.codecogs.com/png.latex?%5Cdot%7Bx%7D">, we don’t care much, so we put a small penalty on them. Also we put a penalty on the control input <img src="https://latex.codecogs.com/png.latex?F"> since our control device is able to provide large enough instantaneous force and we don’t care the expenditure of energy.</p>
<p>Therefore, <img src="https://latex.codecogs.com/png.latex?%5Ctilde%7BJ%7D"> will be: <img src="https://latex.codecogs.com/png.latex?%0A%5Ctilde%7BJ%7D%20=%20%5Cint_0%5E%5Cinfty%20(x%5E2%20+%20%5Cdot%7Bx%7D%5E2%20+%205%20%5Ctheta%5E2%20+%2070%20%5Cdot%7B%5Ctheta%7D%5E2%20+%200.5%20F%5E2)%20%5C%20%20%5Cmathrm%7Bd%7Dt.%0A"></p>
<p>Now we are using <strong>L</strong>inear feedback to <strong>R</strong>egulate a system to minimize a <strong>Q</strong>uadratic loss function, hence the name <strong>Linear Quadratic Regulator (LQR)</strong>.</p>
<p>The solution to this LQR problem deserves a separate lecture, the solution is given by the <a href="https://en.wikipedia.org/wiki/Algebraic_Riccati_equation">Algebraic Riccati Equation</a>. But in Matlab, there is a one-line command we can use to solve the corresponding <img src="https://latex.codecogs.com/png.latex?K"> matrix:</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb10-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">lqr</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">Q</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">R</span>)</span></code></pre></div>
</section>
<section id="simulation-by-changing-q-matrix" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="simulation-by-changing-q-matrix"><span class="header-section-number">5.3</span> Simulation by changing Q matrix</h3>
<p>We simulate the dynamics result with different <img src="https://latex.codecogs.com/png.latex?Q"> matrices and fixed <img src="https://latex.codecogs.com/png.latex?R%20=%200.01">:</p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Matlab code for comparing different Q matrices
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb11-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clear</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">close</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">all</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">clc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-2"></span>
<span id="cb11-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Simulation parameters</span></span>
<span id="cb11-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of pendulum</span></span>
<span id="cb11-5"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Mass of cart</span></span>
<span id="cb11-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Length of pendulum</span></span>
<span id="cb11-7"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">9.81</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Gravity</span></span>
<span id="cb11-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% damping coefficient</span></span>
<span id="cb11-9"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Time samples</span></span>
<span id="cb11-10"></span>
<span id="cb11-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Initial conditions</span></span>
<span id="cb11-12"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.4</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% x, xdot, theta, thetadot</span></span>
<span id="cb11-13"></span>
<span id="cb11-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% LQR pole placement</span></span>
<span id="cb11-15"></span>
<span id="cb11-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define matrix, xdot = Ax + Bu</span></span>
<span id="cb11-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-18">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>       <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-19">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>              <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-20">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>   <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-21"></span>
<span id="cb11-22"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span>)]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-23"></span>
<span id="cb11-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Define penalty Q and R matrix</span></span>
<span id="cb11-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Desired: Move the cart to the desired position as fast as possible</span></span>
<span id="cb11-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Q = [400, 0,  0,  0;</span></span>
<span id="cb11-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 50,  0,  0;</span></span>
<span id="cb11-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 0,  1,  0;</span></span>
<span id="cb11-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 0,  0,  1];</span></span>
<span id="cb11-30"></span>
<span id="cb11-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Desired: Move the cart as smooth as possible</span></span>
<span id="cb11-32"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">Q</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-33">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-34">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-35">     <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-36"></span>
<span id="cb11-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Desired: Don't change the angle so much</span></span>
<span id="cb11-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Q = [4, 0,  0,  0;</span></span>
<span id="cb11-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 4,  0,  0;</span></span>
<span id="cb11-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 0,  500,  0;</span></span>
<span id="cb11-41"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%      0, 0,  0,  50];</span></span>
<span id="cb11-42"></span>
<span id="cb11-43"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Desired: Save energy</span></span>
<span id="cb11-44"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">R</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.01</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-45"></span>
<span id="cb11-46"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">lqr</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">Q</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">R</span>)</span>
<span id="cb11-47"></span>
<span id="cb11-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% Just to verify the stability of the closed loop system</span></span>
<span id="cb11-49"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">eig</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">A</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">B</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span>)</span>
<span id="cb11-50"></span>
<span id="cb11-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Solve ODE</span></span>
<span id="cb11-52"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-53">[<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ode45</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>) <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">m</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">M</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">g</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">b</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">K</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">desired_state_vec</span>))<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">time</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x0</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-54"></span>
<span id="cb11-55"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%% Animation</span></span>
<span id="cb11-56"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">length</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">t</span>)</span>
<span id="cb11-57">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">invpend_plot</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">x</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">k</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">L</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">true</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'simulation_lqr_4.gif'</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb11-58">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">% invpend_plot(x(k, :), L, false);</span></span>
<span id="cb11-59"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">end</span></span></code></pre></div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="quarto-layout-panel" data-layout-nrow="1">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_1.gif" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?Q%20=%20%5Coperatorname%7Bdiag%7D(400,%2050,%201,%201)">: Fast lock in</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_2.gif" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?Q%20=%20%5Coperatorname%7Bdiag%7D(20,%20400,%201,%201)">: Smooth cart movement</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_3.gif" class="img-fluid figure-img"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?Q%20=%20%5Coperatorname%7Bdiag%7D(4,%204,%20500,%2050)">: Keep straight up</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="simulation-by-changing-r-values" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="simulation-by-changing-r-values"><span class="header-section-number">5.4</span> Simulation by changing R values</h3>
<p>We simulate the dynamics result with fixed <img src="https://latex.codecogs.com/png.latex?Q%20-%20%5Coperatorname%7Bdiag%7D%20(20,%20400,%201,%201)"> matrix and different <img src="https://latex.codecogs.com/png.latex?R"> values:</p>
<div class="quarto-layout-panel" data-layout-nrow="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_4.gif" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?R%20=%200.001">: More control power</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_5.gif" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?R%20=%201.5">: Median control power</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://marcobisky.github.io/posts/inverted-pendulum/src/simulation_lqr_6.gif" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><img src="https://latex.codecogs.com/png.latex?R%20=%205">: Least control power</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="references" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="references">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-karljohanstrm_2021_feedback" class="csl-entry">
Åström, Karl Johan, and Richard M Murray. 2021. <em>Feedback Systems</em>. Princeton University Press.
</div>
<div id="ref-brunton_2019_datadriven" class="csl-entry">
Brunton, Steven L, and Jose Nathan Kutz. 2019. <em>Data-Driven Science and Engineering : Machine Learning, Dynamical Systems, and Control</em>. Cambridge University Press.
</div>
<div id="ref-jdavidpowell_2012_feedback" class="csl-entry">
Powell, J David. 2012. <em>Feedback Control of Dynamic Systems : International Version/Matlab &amp; Simulink.</em> Pearson Education Limited.
</div>
</div>


</section>


 ]]></description>
  <category>Control-Theory</category>
  <category>EN-blogs</category>
  <guid>https://marcobisky.github.io/posts/inverted-pendulum/</guid>
  <pubDate>Mon, 24 Mar 2025 16:00:00 GMT</pubDate>
  <media:content url="https://marcobisky.github.io/posts/inverted-pendulum/src/cover.gif" medium="image" type="image/gif"/>
</item>
</channel>
</rss>

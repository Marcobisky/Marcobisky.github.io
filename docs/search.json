[
  {
    "objectID": "story.html",
    "href": "story.html",
    "title": "My story",
    "section": "",
    "text": "test"
  },
  {
    "objectID": "posts/vector-operation/index.html",
    "href": "posts/vector-operation/index.html",
    "title": "Three ways to Understand the Mixed Product of Vectors! 向量混合积的三种理解",
    "section": "",
    "text": "This property of vector operation bother me for a loooooong time:\nMixed product1: \\[\n\\boxed{\na \\cdot (b \\times c) = b \\cdot (c \\times a) = c \\cdot (a \\times b).\n}\n\\tag{1}\\]\n1 Also known as “scalar triple product”.This says nothing but the mixed product is unchanged under a circular shift.\nYou will understand it in this article!"
  },
  {
    "objectID": "posts/vector-operation/index.html#hello",
    "href": "posts/vector-operation/index.html#hello",
    "title": "Three ways to Understand the Mixed Product of Vectors! 向量混合积的三种理解",
    "section": "",
    "text": "This property of vector operation bother me for a loooooong time:\nMixed product1: \\[\n\\boxed{\na \\cdot (b \\times c) = b \\cdot (c \\times a) = c \\cdot (a \\times b).\n}\n\\tag{1}\\]\n1 Also known as “scalar triple product”.This says nothing but the mixed product is unchanged under a circular shift.\nYou will understand it in this article!"
  },
  {
    "objectID": "posts/vector-operation/index.html#three-approaches-to-the-mixed-product",
    "href": "posts/vector-operation/index.html#three-approaches-to-the-mixed-product",
    "title": "Three ways to Understand the Mixed Product of Vectors! 向量混合积的三种理解",
    "section": "2 Three Approaches to the Mixed Product",
    "text": "2 Three Approaches to the Mixed Product\n\n\n\n\n\n\n\nLemma\n\n\n\n\nLemma 1 Let \\(a, b, c \\in \\mathbb{R}^3\\), then \\[\na \\cdot (b \\times c) =\n\\begin{vmatrix}\n| & | & | \\\\\na & b & c \\\\\n| & | & |\n\\end{vmatrix}\n\\]\n\n\n\n\nOnce this is established, we can use the fact that: \\[\n\\begin{vmatrix}\n| & | & | \\\\\na & b & c \\\\\n| & | & |\n\\end{vmatrix} =\n\\begin{vmatrix}\n| & | & | \\\\\nb & c & a \\\\\n| & | & |\n\\end{vmatrix} =\n\\begin{vmatrix}\n| & | & | \\\\\nc & a & b \\\\\n| & | & |\n\\end{vmatrix}\n\\] to prove Equation 1.\nNow let’s understand Lemma 1 in three different ways!\n\n2.1 Geometric Approach\nSee Figure 1, dot product make the slanted black box straight but maintains its volume.\n\n\n\n\n\n\nFigure 1: Geometric proof of Lemma 1\n\n\n\n\n\n2.2 3b1b Approach\nI called this “3b1b Approach” because this method is inspired by a great mathematician Grant Sanderson. “3b1b” is the name of his Youtube channel.\nIn a video created by him, there is a very interesting function \\(f: \\mathbb{R}^3 \\to \\mathbb{R}\\): \\[\nf(x) =\n\\begin{vmatrix}\n| & | & | \\\\\nx & v & w \\\\\n| & | & |\n\\end{vmatrix}\n\\tag{2}\\] which takes in a vector in \\(\\mathbb{R}^3\\) and output a number in \\(\\mathbb{R}\\) (\\(v\\) and \\(w\\) are predefined and fixed).2 Now I claim that:\n\n2 Functions from a vector space to a scalar is often referred to as a functional.\n\n\n\n\n\nClaim\n\n\n\n\nTheorem 1 The functional \\(f\\) in Equation 2 is linear, i.e., \\[\nf(x + y) = f(x) + f(y), \\forall x, y \\in \\mathbb{R}^3\n\\] and \\[\nf(\\alpha x) = \\alpha f(x), \\forall \\alpha \\in \\mathbb{R}.\n\\]\n\n\n\n\nThis is trivial.\nThere is another theorem3:\n\n3 There is a video created by myself that explains this in detail.\n\n\n\n\n\nRiesz Representation Theorem (reduced version)\n\n\n\n\nTheorem 2 Every linear functional in \\(\\mathbb{R}^n\\) induces a vector \\(p \\in \\mathbb{R}^n\\) such that \\[\nf(x) = x \\cdot p, \\forall x \\in \\mathbb{R}^n.\n\\]\n\n\n\n\nTherefore, Equation 2 becomes \\[\n\\boxed{\nx \\cdot p =\n\\begin{vmatrix}\n| & | & | \\\\\nx & v & w \\\\\n| & | & |\n\\end{vmatrix}\n}\n\\tag{3}\\]\n\n\n\n\n\n\n\nMnemonic device inspired by Equation 3\n\n\n\n\n\nThe Equation 3 gives us a way to write the cross product in a more “dot-product” way: \\[\nv \\times w =\n\\begin{vmatrix}\n\\hat{\\imath} & v_1 & w_1 \\\\\n\\hat{\\jmath} & v_2 & w_2 \\\\\n\\hat{k} & v_3 & w_3\n\\end{vmatrix}\n\\] because the result \\(v \\times w = (v_2w_3 - v_3w_2)\\hat{\\imath} + (v_3w_1 - v_1w_3)\\hat{\\jmath} + (v_1w_2 - v_2w_1)\\hat{k}\\) is very much like a dot product! Remember \\(v_2w_3 - v_3w_2, v_3w_1 - v_1w_3, v_1w_2 - v_2w_1\\) are just three numbers unless you you associate each number with a direction.\nIf you feel uncomfortable with this notation, there is more: \\[\n\\operatorname{curl} F\n\\equiv \\nabla \\times F =\n\\begin{vmatrix}\n\\hat{\\imath} & \\frac{\\partial}{\\partial x} & F_x \\\\\n\\hat{\\jmath} & \\frac{\\partial}{\\partial y} & F_y \\\\\n\\hat{k} & \\frac{\\partial}{\\partial z} & F_z\n\\end{vmatrix}\n\\] where we treat \\(\\nabla\\) like a vector! The first column is just an indicator that the result should be interpreted as a vector not a dot product. I took long time to think \\(\\nabla\\) as a kind of special vector, but I failed. Feel free to ignore the notation \\(\\nabla \\times F\\) if you don’t like it!\n\n\n\n\nWhat is \\(p\\) then? Well, \\(p\\) is a special vector in \\(\\mathbb{R}^3\\) such that the dot product with any vector \\(x\\) gives a number that is equal to the volume of a box spaned by \\(x\\), \\(v\\), and \\(w\\). This is a little bit mouthful, but we can see immediately from Figure 1 that \\(p\\) is just the blue vector, which is \\(v \\times w\\) in this case! So Equation 3 becomes: \\[\nx \\cdot (v \\times w) = \\begin{vmatrix}\n| & | & | \\\\\nx & v & w \\\\\n| & | & |\n\\end{vmatrix}\n\\]\nWe are done!\n\n\n2.3 Tensor Approach\nNow this explanation requires some knowledge about tensors4. But once you understand it, you will completely change your view on determinants! (If you did not respect them at all in the past anyway.)\n\n4 Just a quick joke, tensors are exactly linear functionals but we allow multiple vectors to be the input (instead of one).\n\n\n\n\n\nProposition\n\n\n\n\nProposition 1 The mapping \\(g(a, b, c) := a \\cdot (b \\times c)\\) and \\(\\det\\) are both alternating 3-tensor, i.e., \\[\ng, \\det \\in \\bigwedge\\nolimits^{\\!3} \\left(\\mathbb{R}^3\\right).\n\\tag{4}\\]\n\n\n\n\nWe also have this theorem:\n\n\n\n\n\n\n\nUniqueness of volume form\n\n\n\n\nTheorem 3 The dimension of the vector space of \\(k\\)-tensors on \\(\\mathbb{R}^n\\) is \\({n \\choose k}\\): \\[\n\\operatorname{dim} \\bigwedge\\nolimits^{\\!k} \\left(\\mathbb{R}^n\\right) = {n \\choose k}.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nDemonstration of Theorem 3\n\n\n\n\n\nPick \\(n = 3\\) and \\(k = 2\\). This is because in order to get the result of a \\(2\\)-tensor5 \\(B\\) acting on any two vectors of dimension \\(3\\), we would only need to specify the values of \\(B\\) acting on any \\(2\\) of the three basis vectors (\\(e_x, e_y, e_z\\)). How many numbers do we need? Well, only \\({3 \\choose 2} = 3\\) numbers: \\[\nB(e_x, e_y) = a_{12}, B(e_y, e_z) = a_{23}, B(e_z, e_x) = a_{31}.\n\\]\nThese are the “basis” of the space \\(\\bigwedge\\nolimits^{\\!2} \\left(\\mathbb{R}^3\\right)\\). So its dimension is \\(3\\). Then we just use the bilinear and alternating property of \\(B\\) to calculate the result of any two input vectors say \\(x = 2e_x + e_y - e_z\\) and \\(y = -e_x + 3e_z\\): \\[\n\\begin{aligned}\nB(x, y)\n&= B(2e_x + e_y - e_z, -e_x + 3e_z) \\\\\n&= B(2e_x + e_y - e_z, -e_x) + B(2e_x + e_y - e_z, 3e_z) \\\\\n&= -2B(e_x, e_x) - B(e_y, e_x) + B(e_z, e_x) \\\\\n&+ 6B(e_x, e_z) + 3B(e_y, e_z) - 3B(e_z, e_z) \\\\\n&= 0 - (-a_{12}) + a_{31} \\\\\n&+ 6(-a_{31}) + 3a_{23} - 0 \\\\\n&= a_{12} + 3a_{23} - 5a_{31}.\n\\end{aligned}\n\\]\n\n\n\n\n5 This is also called an alternating bilinear form.6 This type of tensor is also called “volume form”.As a special case6 when \\(n = k = 3\\), we have: \\[\n\\boxed{\n\\operatorname{dim} \\bigwedge\\nolimits^{\\!3} \\left(\\mathbb{R}^3\\right) = {3 \\choose 3} = 1.\n}\n\\]\nLet’s think about what this means. The determinant is a very special object that every volume form in \\(n\\) dimension is just a scalar multiple of it! In other words, every alternating \\(n\\)-tensor in \\(\\mathbb{R}^n\\) must be the determinant (up to a scalar)! So with Equation 4, both \\(g\\) and \\(\\det\\) are volume forms! So \\(g\\) must be a scalar multiple of \\(\\det\\): \\[\ng = k \\det.\n\\]\nWe can evaluate \\(k\\) by choosing a very special set of \\(a, b, c \\in \\mathbb{R}^3\\), say \\(a = e_x, b = e_y, c = e_z\\): \\[\ng(e_x, e_y, e_z) = e_x \\cdot (e_y \\times e_z) = e_x \\cdot e_x = 1,\n\\] \\[\n\\det(e_x, e_y, e_z) =\n\\begin{vmatrix}\n1 & 0 & 0 \\\\\n0 & 1 & 0 \\\\\n0 & 0 & 1\n\\end{vmatrix} = 1.\n\\]\nTherefore, \\(k = 1\\) and \\(g = \\det\\). We are done!"
  },
  {
    "objectID": "posts/ubuntu-touchpad/index.html",
    "href": "posts/ubuntu-touchpad/index.html",
    "title": "Touchpad Cannot Use for Ubuntu 24.04 on Thinkbook 16+ Solution",
    "section": "",
    "text": "在 Thinkbook 16+ 2025 上装好 Ubuntu 24.04 后会发现触控板只有右键能用, 不是驱动的问题, 在设置里配置也没有用, 先看看触控板设备的 id 是多少:\nxinput list\n输出类似:\n⎡ Virtual core pointer                          id=2    [master pointer  (3)]\n⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]\n⎜   ↳ Logitech G304                             id=8    [slave  pointer  (2)]\n⎜   ↳ GXTP5100:00 27C6:01E9                     id=9    [slave  pointer  (2)]\n⎜   ↳ GXTP5100:00 27C6:01E9                     id=10   [slave  pointer  (2)]\n⎣ Virtual core keyboard                         id=3    [master keyboard (2)]\n    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]\n    ↳ Video Bus                                 id=6    [slave  keyboard (3)]\n    ↳ Power Button                              id=7    [slave  keyboard (3)]\n    ↳ Ideapad extra buttons                     id=11   [slave  keyboard (3)]\n    ↳ Intel HID events                          id=12   [slave  keyboard (3)]\n    ↳ Intel HID 5 button array                  id=13   [slave  keyboard (3)]\n    ↳ AT Translated Set 2 keyboard              id=14   [slave  keyboard (3)]\n    ↳ Logitech G304                             id=15   [slave  keyboard (3)]\n确认触控板驱动:\nxinput list-props 10 | grep -i synaptics\n输出类似:\nSynaptics Edges (351):  165, 3984, 115, 2032\nSynaptics Finger (352): 0, 0, 0\nSynaptics Tap Time (353):       180\nSynaptics Tap Move (354):       205\nSynaptics Tap Durations (355):  180, 180, 100\nSynaptics ClickPad (356):       1\nSynaptics Middle Button Timeout (357):  0\nSynaptics Two-Finger Pressure (358):    2204\nSynaptics Two-Finger Width (359):       7\nSynaptics Scrolling Distance (360):     -300, -300\nSynaptics Edge Scrolling (361): 0, 0, 0\nSynaptics Two-Finger Scrolling (362):   1, 1\nSynaptics Move Speed (363):     1.000000, 1.666667, 0.042817, 0.000000\nSynaptics Off (364):    0\nSynaptics Locked Drags (365):   0\nSynaptics Locked Drags Timeout (366):   5000\nSynaptics Tap Action (367):     2, 3, 0, 0, 1, 3, 2\nSynaptics Click Action (368):   1, 3, 0\nSynaptics Circular Scrolling (369):     0\nSynaptics Circular Scrolling Distance (370):    0.100000\nSynaptics Circular Scrolling Trigger (371):     0\nSynaptics Circular Pad (372):   0\nSynaptics Palm Detection (373): 1\nSynaptics Palm Dimensions (374):        10, 200\nSynaptics Coasting Speed (375): 20.000000, 50.000000\nSynaptics Pressure Motion (376):        234, 1250\nSynaptics Pressure Motion Factor (377): 1.000000, 1.000000\nSynaptics Resolution Detect (378):      1\nSynaptics Grab Event Device (379):      0\nSynaptics Gestures (380):       1\nSynaptics Capabilities (381):   1, 0, 0, 1, 1, 1, 0\nSynaptics Pad Resolution (382): 27, 31\nSynaptics Area (383):   0, 0, 0, 0\nSynaptics Soft Button Areas (384):      2074, 0, 1760, 0, 0, 0, 0, 0\nSynaptics Noise Cancellation (385):     23, 23\n查看触控板 (例如 GXTP5100:00 27C6:01E9) 的属性:\nxinput list-props \"GXTP5100:00 27C6:01E9\" | grep -E \"(Tapping|Natural|Scrolling|Accel|Click)\"\n若有多个触控板设备, 则提示:\nWarning: There are multiple devices matching 'GXTP5100:00 27C6:01E9'.\nTo ensure the correct one is selected, please use the device ID, or prefix the\ndevice name with 'pointer:' or 'keyboard:' as appropriate.\n\nunable to find device GXTP5100:00 27C6:01E9\n可以分别查看他们的属性 (记得把 id 换成你自己的):\nxinput list-props 9  # id = 9\nxinput list-props 10 # id = 10\n选一个改变其参数, 然后试试触控板能不能用, 比如改 id = 10 的属性:\nxinput set-prop 10 \"Synaptics Finger\" 0 0 0                  # 设置触控板压力灵敏度为超轻触, 改完了试试\n这里顺带也改了触控板的方向吧, 不然是反着的:\nxinput set-prop 10 \"Synaptics Scrolling Distance\" -300 -300  # 设置自然/反向滚动 (速度较慢)\n但是这样改完了重启电脑后会自动消失, 需要加个配置文件才能永久:\nsudo mkdir -p /etc/X11/xorg.conf.d\n建立文件 /etc/X11/xorg.conf.d/70-synaptics-touchpad.conf, 加入 (我也顺带改了光标移动速度和 scroll 速度):\n\n\n70-synaptics-touchpad.conf\n\nSection \"InputClass\"\n    Identifier \"touchpad\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n    MatchDevicePath \"/dev/input/event*\"\n    # Enable tapping\n    Option \"TapButton1\" \"1\"\n    Option \"TapButton2\" \"3\"\n    Option \"TapButton3\" \"2\"\n    # Set finger pressure sensitivity (ultra light touch)\n    Option \"FingerLow\" \"0\"\n    Option \"FingerHigh\" \"0\"\n    # Enable natural/reverse scrolling (slower speed)\n    Option \"VertScrollDelta\" \"-300\"\n    Option \"HorizScrollDelta\" \"-300\"\n    # Enable two-finger scrolling\n    Option \"VertTwoFingerScroll\" \"1\"\n    Option \"HorizTwoFingerScroll\" \"1\"\n    # Disable edge scrolling (prefer two-finger)\n    Option \"VertEdgeScroll\" \"0\"\n    Option \"HorizEdgeScroll\" \"0\"\n    # Enable palm detection\n    Option \"PalmDetect\" \"1\"\n    Option \"PalmMinWidth\" \"10\"\n    Option \"PalmMinZ\" \"200\"\n    # Mouse movement speed settings\n    Option \"MinSpeed\" \"1.5\"\n    Option \"MaxSpeed\" \"2.5\"\n    Option \"AccelFactor\" \"0.042817\"\n    Option \"ConstantDeceleration\" \"1.5\"\nEndSection\n\n70-synaptics-touchpad.conf 中的 70 代表优先级, 也可以改成更高的优先级 (比如 30). 各参数作用可自行了解修改.\n使其生效:\nsudo chmod 644 /etc/X11/xorg.conf.d/70-synaptics-touchpad.conf\nsudo systemctl restart gdm3 # 或者重启电脑"
  },
  {
    "objectID": "posts/ubuntu-touchpad/index.html#synaptics-配置文件",
    "href": "posts/ubuntu-touchpad/index.html#synaptics-配置文件",
    "title": "Touchpad Cannot Use for Ubuntu 24.04 on Thinkbook 16+ Solution",
    "section": "",
    "text": "在 Thinkbook 16+ 2025 上装好 Ubuntu 24.04 后会发现触控板只有右键能用, 不是驱动的问题, 在设置里配置也没有用, 先看看触控板设备的 id 是多少:\nxinput list\n输出类似:\n⎡ Virtual core pointer                          id=2    [master pointer  (3)]\n⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]\n⎜   ↳ Logitech G304                             id=8    [slave  pointer  (2)]\n⎜   ↳ GXTP5100:00 27C6:01E9                     id=9    [slave  pointer  (2)]\n⎜   ↳ GXTP5100:00 27C6:01E9                     id=10   [slave  pointer  (2)]\n⎣ Virtual core keyboard                         id=3    [master keyboard (2)]\n    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]\n    ↳ Video Bus                                 id=6    [slave  keyboard (3)]\n    ↳ Power Button                              id=7    [slave  keyboard (3)]\n    ↳ Ideapad extra buttons                     id=11   [slave  keyboard (3)]\n    ↳ Intel HID events                          id=12   [slave  keyboard (3)]\n    ↳ Intel HID 5 button array                  id=13   [slave  keyboard (3)]\n    ↳ AT Translated Set 2 keyboard              id=14   [slave  keyboard (3)]\n    ↳ Logitech G304                             id=15   [slave  keyboard (3)]\n确认触控板驱动:\nxinput list-props 10 | grep -i synaptics\n输出类似:\nSynaptics Edges (351):  165, 3984, 115, 2032\nSynaptics Finger (352): 0, 0, 0\nSynaptics Tap Time (353):       180\nSynaptics Tap Move (354):       205\nSynaptics Tap Durations (355):  180, 180, 100\nSynaptics ClickPad (356):       1\nSynaptics Middle Button Timeout (357):  0\nSynaptics Two-Finger Pressure (358):    2204\nSynaptics Two-Finger Width (359):       7\nSynaptics Scrolling Distance (360):     -300, -300\nSynaptics Edge Scrolling (361): 0, 0, 0\nSynaptics Two-Finger Scrolling (362):   1, 1\nSynaptics Move Speed (363):     1.000000, 1.666667, 0.042817, 0.000000\nSynaptics Off (364):    0\nSynaptics Locked Drags (365):   0\nSynaptics Locked Drags Timeout (366):   5000\nSynaptics Tap Action (367):     2, 3, 0, 0, 1, 3, 2\nSynaptics Click Action (368):   1, 3, 0\nSynaptics Circular Scrolling (369):     0\nSynaptics Circular Scrolling Distance (370):    0.100000\nSynaptics Circular Scrolling Trigger (371):     0\nSynaptics Circular Pad (372):   0\nSynaptics Palm Detection (373): 1\nSynaptics Palm Dimensions (374):        10, 200\nSynaptics Coasting Speed (375): 20.000000, 50.000000\nSynaptics Pressure Motion (376):        234, 1250\nSynaptics Pressure Motion Factor (377): 1.000000, 1.000000\nSynaptics Resolution Detect (378):      1\nSynaptics Grab Event Device (379):      0\nSynaptics Gestures (380):       1\nSynaptics Capabilities (381):   1, 0, 0, 1, 1, 1, 0\nSynaptics Pad Resolution (382): 27, 31\nSynaptics Area (383):   0, 0, 0, 0\nSynaptics Soft Button Areas (384):      2074, 0, 1760, 0, 0, 0, 0, 0\nSynaptics Noise Cancellation (385):     23, 23\n查看触控板 (例如 GXTP5100:00 27C6:01E9) 的属性:\nxinput list-props \"GXTP5100:00 27C6:01E9\" | grep -E \"(Tapping|Natural|Scrolling|Accel|Click)\"\n若有多个触控板设备, 则提示:\nWarning: There are multiple devices matching 'GXTP5100:00 27C6:01E9'.\nTo ensure the correct one is selected, please use the device ID, or prefix the\ndevice name with 'pointer:' or 'keyboard:' as appropriate.\n\nunable to find device GXTP5100:00 27C6:01E9\n可以分别查看他们的属性 (记得把 id 换成你自己的):\nxinput list-props 9  # id = 9\nxinput list-props 10 # id = 10\n选一个改变其参数, 然后试试触控板能不能用, 比如改 id = 10 的属性:\nxinput set-prop 10 \"Synaptics Finger\" 0 0 0                  # 设置触控板压力灵敏度为超轻触, 改完了试试\n这里顺带也改了触控板的方向吧, 不然是反着的:\nxinput set-prop 10 \"Synaptics Scrolling Distance\" -300 -300  # 设置自然/反向滚动 (速度较慢)\n但是这样改完了重启电脑后会自动消失, 需要加个配置文件才能永久:\nsudo mkdir -p /etc/X11/xorg.conf.d\n建立文件 /etc/X11/xorg.conf.d/70-synaptics-touchpad.conf, 加入 (我也顺带改了光标移动速度和 scroll 速度):\n\n\n70-synaptics-touchpad.conf\n\nSection \"InputClass\"\n    Identifier \"touchpad\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n    MatchDevicePath \"/dev/input/event*\"\n    # Enable tapping\n    Option \"TapButton1\" \"1\"\n    Option \"TapButton2\" \"3\"\n    Option \"TapButton3\" \"2\"\n    # Set finger pressure sensitivity (ultra light touch)\n    Option \"FingerLow\" \"0\"\n    Option \"FingerHigh\" \"0\"\n    # Enable natural/reverse scrolling (slower speed)\n    Option \"VertScrollDelta\" \"-300\"\n    Option \"HorizScrollDelta\" \"-300\"\n    # Enable two-finger scrolling\n    Option \"VertTwoFingerScroll\" \"1\"\n    Option \"HorizTwoFingerScroll\" \"1\"\n    # Disable edge scrolling (prefer two-finger)\n    Option \"VertEdgeScroll\" \"0\"\n    Option \"HorizEdgeScroll\" \"0\"\n    # Enable palm detection\n    Option \"PalmDetect\" \"1\"\n    Option \"PalmMinWidth\" \"10\"\n    Option \"PalmMinZ\" \"200\"\n    # Mouse movement speed settings\n    Option \"MinSpeed\" \"1.5\"\n    Option \"MaxSpeed\" \"2.5\"\n    Option \"AccelFactor\" \"0.042817\"\n    Option \"ConstantDeceleration\" \"1.5\"\nEndSection\n\n70-synaptics-touchpad.conf 中的 70 代表优先级, 也可以改成更高的优先级 (比如 30). 各参数作用可自行了解修改.\n使其生效:\nsudo chmod 644 /etc/X11/xorg.conf.d/70-synaptics-touchpad.conf\nsudo systemctl restart gdm3 # 或者重启电脑"
  },
  {
    "objectID": "posts/ubuntu-touchpad/index.html#optional-安装-libinput10",
    "href": "posts/ubuntu-touchpad/index.html#optional-安装-libinput10",
    "title": "Touchpad Cannot Use for Ubuntu 24.04 on Thinkbook 16+ Solution",
    "section": "2 Optional: 安装 libinput10",
    "text": "2 Optional: 安装 libinput10\nlibinput10 可以让你用 Mac 手势控制电脑. 参考 libinput 官方说明\n注意: 不要按 这里 直接下载编译好的文件, 请自行源码编译! 如果搞爆了, 按 Section 2.2 的方法修复.\n\n2.1 开启 SSH\n由于操作可能会导致 GNOME 桌面环境崩溃, 先确保 SSH 已经开启, 以便后续可以远程操作:\nsudo apt update\nsudo apt install openssh-server\nsudo systemctl status ssh # check if SSH is running, if not, start it:\nsudo systemctl start ssh  # If use `sudo systemctl enable ssh`, SSH will start automatically on boot\n获取 IP:\nhostname -I\n\n\n2.2 恢复方法\n如果:\n\n\n\nA problem has occurred and the system can’t recover\n\n\n别慌, 进入 TTY: Ctrl + Alt + F3 (或 F4/F5), 输入用户名和密码登录 (如果你可以 SSH 上去也可以远程), 然后:\nsudo apt-get update\nsudo apt-get install --reinstall libinput10\n\n# 删除你自己 cp 的错误文件（如果还在）\nsudo rm -f /usr/lib/x86_64-linux-gnu/libinput.so.10.14.0\n\n# 删除错误链接（如果它仍然指向 10.14.0）\nsudo rm -f /usr/lib/x86_64-linux-gnu/libinput.so.10\n\n# 手动建立正确的符号链接\nsudo ln -s libinput.so.10.13.0 /usr/lib/x86_64-linux-gnu/libinput.so.10\n\n# 刷新链接缓存\nsudo ldconfig\n\nls -l /usr/lib/x86_64-linux-gnu/libinput.so.10* # 确认链接是否正确\n\nsudo reboot"
  },
  {
    "objectID": "posts/special-matrix/index.html",
    "href": "posts/special-matrix/index.html",
    "title": "Special Matrices 特殊矩阵与算子",
    "section": "",
    "text": "Definition: Normal Operator\n\n\n\n\nDefinition 1 \\(A \\in \\mathbb{C}^{n \\times n}\\) is called normal iff \\(A^H A = AA^H\\)\n\n\n\n\n\n\n\n\\(\\iff\\) \\(A\\) is unitarily-diagonalizable, i.e., \\[\n\\exists U \\in U(n), \\text{diagonal } D, \\text{s.t. } A = UDU^H. \\quad (\\text{Spectral Thm 2})\n\\]\n\\(\\iff\\) \\(\\exists \\text{ orthogonal eigenvectors that span } \\mathbb{C}^n.\\)\n\\(\\iff\\) \\(A \\text{ orthogonally non-defective}\\)\n\\(\\iff\\) \\(\\text{row covariance matrix of }A = \\text{column covariance matrix of }A\\)\nNormal matrix \\(A\\) does not necessarily invertible. Its eigenvalues can be \\(0, \\mathbb{R}\\) or \\(\\mathbb{C}\\).\nMental picture for normal operator:\n\\[\n\\boxed{\\text{Normal operators} \\iff \\text{Squeezing complex rectangular box.}}\n\\]"
  },
  {
    "objectID": "posts/special-matrix/index.html#normal-operator",
    "href": "posts/special-matrix/index.html#normal-operator",
    "title": "Special Matrices 特殊矩阵与算子",
    "section": "",
    "text": "Definition: Normal Operator\n\n\n\n\nDefinition 1 \\(A \\in \\mathbb{C}^{n \\times n}\\) is called normal iff \\(A^H A = AA^H\\)\n\n\n\n\n\n\n\n\\(\\iff\\) \\(A\\) is unitarily-diagonalizable, i.e., \\[\n\\exists U \\in U(n), \\text{diagonal } D, \\text{s.t. } A = UDU^H. \\quad (\\text{Spectral Thm 2})\n\\]\n\\(\\iff\\) \\(\\exists \\text{ orthogonal eigenvectors that span } \\mathbb{C}^n.\\)\n\\(\\iff\\) \\(A \\text{ orthogonally non-defective}\\)\n\\(\\iff\\) \\(\\text{row covariance matrix of }A = \\text{column covariance matrix of }A\\)\nNormal matrix \\(A\\) does not necessarily invertible. Its eigenvalues can be \\(0, \\mathbb{R}\\) or \\(\\mathbb{C}\\).\nMental picture for normal operator:\n\\[\n\\boxed{\\text{Normal operators} \\iff \\text{Squeezing complex rectangular box.}}\n\\]"
  },
  {
    "objectID": "posts/special-matrix/index.html#hermitian-self-adjoint-operator",
    "href": "posts/special-matrix/index.html#hermitian-self-adjoint-operator",
    "title": "Special Matrices 特殊矩阵与算子",
    "section": "2 Hermitian (Self-adjoint) Operator",
    "text": "2 Hermitian (Self-adjoint) Operator\n\n\n\n\n\n\n\nDefinition: Hermitian Operator\n\n\n\n\nDefinition 2 \\(A \\in \\mathbb{C}^{n \\times n}\\) is called hermitian (self-adjoint) iff \\(A = A^H\\)\n\n\n\n\n\n2.1 Notes\n\n\\[\nA \\text{ hermitian}\n\\iff \\begin{equation*}\n  \\begin{cases} A \\text{ normal} &  \\\\ \\text{spectrum of }A \\subseteq \\mathbb{R}. &  \\end{cases}\n\\end{equation*}\n\\]\nAlso self-adjoint operators do not necessarily invertible.\nSelf-adjoint operators could be think of as normal operators with real spectrum.\nMental picture for hermitian operators:\n\\[\n\\boxed{\\text{Hermitian operators} \\iff \\text{Squeezing complex rectangular box in a particular way that creatures living under projection }\\pi: \\mathbb{C}^n \\to \\mathbb{R}^n \\text{ do NOT think it is a rotation.}}\n\\]\nIf \\(A \\in \\mathbb{R}^{n\\times n} &lt; \\mathbb{C}^{n\\times n}\\) is hermitian, it is also called symmetric, i.e., \\[\nA = A^t.\n\\]"
  },
  {
    "objectID": "posts/special-matrix/index.html#skew-hermitian-operator",
    "href": "posts/special-matrix/index.html#skew-hermitian-operator",
    "title": "Special Matrices 特殊矩阵与算子",
    "section": "3 Skew-Hermitian Operator",
    "text": "3 Skew-Hermitian Operator\n\n\n\n\n\n\n\nDefinition: Hermitian Operator\n\n\n\n\nDefinition 3 \\(A \\in \\mathbb{C}^{n \\times n}\\) is called skew-hermitian iff \\(-A = A^H\\)\n\n\n\n\n\n3.1 Notes\n\nSkew-hermitian operators are very close to hermitian: \\[\nA \\text{ skew-hermitian} \\iff iA \\text{ hermitian}\n\\]\n\n\n\n\n\n\n\n\nProof\n\n\n\n\n\nLet \\(A \\in \\mathbb{C}^{n \\times n}\\) be skew-hermitian, i.e., \\(-A = A^H\\). Let \\(B = iA\\). Then \\[\nB^H = (iA)^H = -iA^H = iA = B.\n\\]\nTherefore, \\(B\\) is hermitian.\n\n\n\n\n\nBy the property that hermitian operators have real spectrum, all skew-hermitian operators have purely imaginary spectrum.\n\\[\nA \\text{ skew-hermitian}\n\\iff \\begin{equation*}\n\\begin{cases} A \\text{ normal} &  \\\\ \\text{spectrum of }A \\subseteq i\\mathbb{R}. &  \\end{cases}\n\\end{equation*}\n\\]"
  },
  {
    "objectID": "posts/special-matrix/index.html#unitary-operator",
    "href": "posts/special-matrix/index.html#unitary-operator",
    "title": "Special Matrices 特殊矩阵与算子",
    "section": "4 Unitary Operator",
    "text": "4 Unitary Operator\n\n\n\n\n\n\n\nDefinition: Unitary Operator\n\n\n\n\nDefinition 4 \\(A \\in \\mathbb{C}^{n \\times n}\\) is called unitary iff \\(AA^H = I\\), denoted \\(A \\in U(n)\\)\n\n\n\n\n\n\n\n\n\n\n\nProposition\n\n\n\n\nProposition 1 \\[\\begin{equation*}\n    \\begin{cases} A \\text{ square} &  \\\\ A^HA = I &  \\end{cases}\n\n    \\implies A A^H = I\n\\end{equation*}\\]\n\n\n\n\n\nProof. From \\(A^H A = I\\) we know that the columns of \\(A\\) are orthonormal\n\\(\\implies\\) \\(A\\) injective\nAlso \\(A\\) is square. Since injective automorphisms are epimorphisms, we have:\n\\(\\implies\\) \\(A\\) is an isomorphism\n\\(\\implies\\) \\(A\\) is invertible, and \\(A^H = A^{-1}\\)\nThis finished the proof.\n\n\n4.1 Notes\n\nHence for unitary operators: \\[\nA^H A = A A^H = I\n\\]\nNote \\[\n\\begin{aligned}\n&\\quad \\quad \\ \\begin{cases}\n     A \\text{ is normal} \\\\\n     \\text{Spectrum of } A \\subseteq \\mathbb{S}^1 \\subseteq \\mathbb{C}\n\\end{cases} \\\\\n&\\iff A^H = A^{-1} \\\\\n&\\iff\n\\begin{cases}\n     A \\text{ is square} \\\\\n     A^H A = I\n\\end{cases} \\\\\n&\\iff\n\\begin{cases}\n     A \\text{ is square} \\\\\n     A A^H = I\n\\end{cases}\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "posts/quadrocopter-control/index.html",
    "href": "posts/quadrocopter-control/index.html",
    "title": "UAV Control 无人机控制原理",
    "section": "",
    "text": "One attitude of a quadrocopter can be represented by either an \\(R \\in SO(3)\\) or two quaternions \\(\\pm q \\in U(\\mathbb{H})\\).\n\nEvery possible attitude of a quadrocopter corresponds an element in \\(SO(3)\\) uniquely. We also know that the space of unit quaternions \\(U(\\mathbb{H})\\) double covers \\(SO(3)\\): \\[\nU(\\mathbb{H}) \\overset{2:1} \\twoheadrightarrow SO(3).\n\\tag{1}\\]\nThis means one rotation can also be expressed by two different unit quaternions, \\(q\\) and \\(-q\\).\n\n\n\n\n\n\n\nHow do unit quaternions represent rotations?\n\n\n\n\n\nA rotation around an axies \\(\\mathbf{v} \\in \\mathbb{S}^2\\) by an angle \\(\\theta\\) can be represented by a quaternion \\(q\\): \\[\nq = \\cos\\left(\\frac{\\theta}{2}\\right) + \\sin\\left(\\frac{\\theta}{2}\\right) \\mathbf{v}.\n\\]\nTherefore, \\(\\forall q \\in U(\\mathbb{H})\\), \\[\n\\begin{aligned}\nq &= q_0 + q_1 \\mathbf{i} + q_2 \\mathbf{j} + q_3 \\mathbf{k} \\\\\n&\\equiv q_0 + \\mathbf{u} \\\\\n&= \\underbrace{q_0}_{\\cos \\frac{\\theta}{2}} + \\underbrace{\\lVert\\mathbf{u}\\rVert}_{\\sin \\frac{\\theta}{2}} \\cdot \\underbrace{\\frac{1}{\\lVert\\mathbf{u}\\rVert} (q_1 \\mathbf{i} + q_2 \\mathbf{j} + q_3 \\mathbf{k})}_{\\text{rotation axies}}.\n\\end{aligned}\n\\] i.e., the imaginary part of \\(q\\) encodes the rotation axis and the real part encodes the rotation angle.\nCompare this with how the angular velocity vector \\(\\boldsymbol{\\Omega}\\) encodes the rotation information: Figure 3.\n\n\n\n\n\n\n\n\n\n\n\nQuick proof on the double covering\n\n\n\n\n\nWe will approach Equation 1 from the following simple steps:\n\nMental picture for the manifold \\(SO(3)\\): Three dimensional solid ball modulo the antipodal points on its surface: \\[\nSO(3) \\simeq D^3/\\sim\n\\]\n\n\n\n\n\n\nFigure 1: Every point on \\(D^3/\\sim\\) represent a rotation\n\n\n\nUnit quaternions sits bijectively on the 3-sphere \\(S^3\\): \\[\nU(\\mathbb{H}) \\simeq \\mathbb{S}^3.\n\\]\nThis is easy to see from the definition of unit quaternions: \\[\n\\begin{aligned}\nU(\\mathbb{H}) &:= \\{ q \\in \\mathbb{H} : |q| = 1 \\} \\\\\n&\\simeq \\{ (a, b, c, d) \\in \\mathbb{R}^4 : a^2 + b^2 + c^2 + d^2 = 1 \\} \\\\\n&=: \\mathbb{S}^3\n\\end{aligned}\n\\] where \\(q = a + b\\mathbf{i} + c \\mathbf{j} + d \\mathbf{k}\\).\nNatural double cover projection from sphere to the equator plate: \\[\n\\mathbb{S}^3 \\overset{2:1} \\twoheadrightarrow \\frac{\\mathbb{S}^3}{\\sim} \\simeq \\frac{D^3}{\\sim}.\n\\]\nJust have a look at 2-dimensional case:\n\n\n\n\n\n\nFigure 2: 2-dimensional case of the natural double covering\n\n\n\nFrom the above, we derived Equation 1.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: How \\(\\boldsymbol{\\Omega}(t)\\) encodes the rotation axis and angular velocity\n\n\n\n\nThe time evolution of the attitude of a quadrocopter \\(q(t)\\) and the angular velocity vector1 \\(\\boldsymbol{\\Omega}(t)\\) satisfy2: \\[\\dot{q} = \\frac{1}{2} q \\cdot \\Omega. \\tag{2}\\]\n1 The angular velocity vector (shown in Figure 3) \\(\\boldsymbol{\\Omega}(t_1) \\in \\mathbb{R}^3\\) encodes the rotation axis (\\(\\boldsymbol{\\hat{\\Omega}}\\)) and the angular velocity around that axis (\\(\\lVert\\boldsymbol{\\Omega}\\rVert\\)).2 You may be confused by how a quaternion could multiplied with a vector. It’s just because every vector \\(v = v^1 \\mathbf{i} + v^2 \\mathbf{j} + v^3 \\mathbf{k} \\in \\mathbb{R}^3\\) naturally embedded into \\(\\mathbb{H}\\) by a map \\(p: \\mathbb{R}^3 \\to \\mathbb{H}\\), \\(p(v) := 0 + v^1 \\mathbf{i} + v^2 \\mathbf{j} + v^3 \\mathbf{k}\\). Equation 2 is actually \\(\\dot{q} = \\frac{1}{2} q \\cdot p(\\boldsymbol{\\Omega})\\).\n\n\n\n\n\n\nFigure 4: Attitude of the quadrocopter as a path in \\(D^3/\\sim\\)\n\n\n\nIn other words, the attitude \\(q(t)\\) of a quadrocopter can be represented as a path in \\(D^3 / \\sim\\) (shown in Figure 4), how to know the angular velocity vector \\(\\mathbf{\\Omega}(t)\\) at a time \\(t_0\\)? Equation 2 tells us just take the tangent vector (actually a quaternion \\(\\dot{q}\\)) of the path at time \\(t_0\\), multiplied by 2 then divide by \\(q\\).\n\n\n\n\n\n\n\nProof of Equation 2\n\n\n\n\n\nIf both the attitude of the quadrocopter and the angular velocity vector is given at time \\(t\\), then the attitude configuration at time \\(t + \\Delta t\\) can be determined and can be considered as the composition of two consecutive rotations:\n\nFirst, rotate the quadrocopter by \\(q(t)\\).\nSecond, rotate the quadrocopter by a quaternion \\(r(t)\\) defined by \\(\\boldsymbol{\\Omega}(t)\\) and \\(\\Delta t\\), which represents a small rotation (where \\(\\Delta \\theta\\) is a small angle around the axis \\(\\hat{\\Omega}(t)\\)): \\[\n\\begin{aligned}\nr(t) &= \\cos\\left(\\frac{\\Delta \\theta}{2}\\right) + \\sin\\left(\\frac{\\Delta \\theta}{2}\\right) \\hat{\\Omega}(t) \\\\\n&= \\cos\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) + \\sin\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) \\hat{\\Omega}(t).\n\\end{aligned}\n\\]\n\nTherefore, the attitude at time \\(t + \\Delta t\\) can be expressed as3: \\[\n\\begin{align*}\n   &\\begin{aligned}\n   q(t + \\Delta t) &= q(t) \\cdot r(t) \\\\\n   &= q(t) \\cdot \\left( \\cos\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) + \\sin\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) \\hat{\\Omega}(t) \\right) \\\\\n   &= q(t) \\cdot \\left( 1 + \\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2} \\frac{\\Omega(t)}{\\lVert\\boldsymbol{\\Omega}(t)\\rVert} \\right)  + o(\\Delta t) \\quad \\text{(First order approximation)}\n   \\end{aligned} \\\\\n   \\implies\\quad & \\frac{q(t + \\Delta t) - q(t)}{\\Delta t} \\approx \\frac{1}{2} q(t) \\cdot \\Omega(t) \\\\\n   \\implies\\quad & \\dot{q}(t) = \\frac{1}{2} q(t) \\cdot \\Omega(t).\n\\end{align*}\n\\]\nWe are done!\n\n\n\n\n\n3 In this post, \\(q \\cdot p\\) reads from left to right, i.e., \\(q\\) is rotated first and then \\(p\\).\n\n\n\n\n\nQ&A for Equation 2\n\n\n\n\n\n\nQ1: The attitude of the quadrocopter can be represented by two quaternions \\(\\pm q \\in U(\\mathbb{H})\\), but there’s only one possible \\(\\mathbf{\\Omega}(t)\\) at a given time. Why?\nA1: Both \\(q\\) and \\(-q\\) satisfy Equation 2 with the same \\(\\mathbf{\\Omega}(t)\\): \\[\n\\begin{aligned}\n\\frac{\\mathrm{d}}{\\mathrm{d} t} q &= \\frac{1}{2} q \\cdot \\Omega \\\\\n\\frac{\\mathrm{d}}{\\mathrm{d} t} (-q) &= \\frac{1}{2} (-q) \\cdot \\Omega\n\\end{aligned}\n\\]\nQ2: Given any path4 \\(q(t)\\) in \\(D^3/\\sim\\), the angular velocity vector can be computed by: \\[\n\\Omega = 2 \\frac{\\dot{q}}{q}.\n\\] Does this result \\(\\Omega\\) guaranteed to be purely imaginary? (Because angular velocity vector must be purely imaginary).\nA2: Yes. We give the following theorems first:\n\n\n\n\n\n\n\n\nQuaternion product rule\n\n\n\n\nTheorem 1 Let quaternions \\[\n\\begin{aligned}\np &\\equiv a + \\mathbf{u}, \\\\\nq &\\equiv b + \\mathbf{v}.\n\\end{aligned}\n\\]\nTheir product is given by: \\[\np \\cdot q = ab - \\mathbf{u} \\cdot \\mathbf{v} + a \\mathbf{v} + b \\mathbf{u} + \\mathbf{u} \\times \\mathbf{v}.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nInner product in \\(\\mathbb{H}\\)\n\n\n\n\nTheorem 2 Since \\(\\mathbb{H} \\simeq \\mathbb{R}^4\\) as vector spaces, we can borrow the inner product structure on \\(\\mathbb{R}^4\\) to \\(\\mathbb{H}\\). Let \\(p, q \\in \\mathbb{H}\\), define: \\[\n\\langle p, q \\rangle = \\sum_{i=0}^3 p_i q_i.\n\\] Also we have: \\[\n\\Re(p \\cdot q) = \\langle p, \\bar{q} \\rangle = \\langle \\bar{p}, q \\rangle.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof of Theorem 2\n\n\n\n\n\nBy Theorem 1, \\[\n\\begin{aligned}\n\\Re(p \\cdot q) &= \\Re(\\overbrace{ab - \\mathbf{u} \\cdot \\mathbf{v}}^{\\text{scalar}} + \\overbrace{a \\mathbf{v} + b \\mathbf{u} + \\mathbf{u} \\times \\mathbf{v}}^{\\text{vector}}) \\\\\n&= ab - \\mathbf{u} \\cdot \\mathbf{v} \\\\\n&= p_0 q_0 - p_1 q_1 - p_2 q_2 - p_3 q_3 \\\\\n&= \\langle p, \\bar{q} \\rangle \\\\\n&= \\langle \\bar{p}, q \\rangle.\n\\end{aligned}\n\\]\n\n\n\n\nRemember \\(q(t)\\) also lives on the surface \\(\\mathbb{S}^3\\), so: \\[\n   \\frac{\\dot{q}}{q} = \\dot{q} \\bar{q}.\n   \\]\nSince \\(\\dot{q}(t)\\) is a tangent vector to the surface \\(\\mathbb{S}^3\\), \\(\\dot{q} \\perp q\\) as vectors in \\(\\mathbb{R}^4\\), i.e., \\[\n   \\langle \\dot{q}, q \\rangle = 0.\n   \\] By Theorem 2, \\[\n   \\langle \\dot{q}, q \\rangle = \\Re (\\dot{q} \\cdot \\bar{q}) = 0,\n   \\] i.e., \\[\n   \\Re (\\Omega) = 0.\n   \\]\nSo \\(\\Omega\\) is purely imaginary. Done!\n\n\n\n\n4 Any path in \\(D^3/\\sim\\) is a legitimate attitude change of the quadrocopter.\nThe rest content may contain some errors, please be careful when reading."
  },
  {
    "objectID": "posts/quadrocopter-control/index.html#basic-rigid-body-dynamics",
    "href": "posts/quadrocopter-control/index.html#basic-rigid-body-dynamics",
    "title": "UAV Control 无人机控制原理",
    "section": "",
    "text": "One attitude of a quadrocopter can be represented by either an \\(R \\in SO(3)\\) or two quaternions \\(\\pm q \\in U(\\mathbb{H})\\).\n\nEvery possible attitude of a quadrocopter corresponds an element in \\(SO(3)\\) uniquely. We also know that the space of unit quaternions \\(U(\\mathbb{H})\\) double covers \\(SO(3)\\): \\[\nU(\\mathbb{H}) \\overset{2:1} \\twoheadrightarrow SO(3).\n\\tag{1}\\]\nThis means one rotation can also be expressed by two different unit quaternions, \\(q\\) and \\(-q\\).\n\n\n\n\n\n\n\nHow do unit quaternions represent rotations?\n\n\n\n\n\nA rotation around an axies \\(\\mathbf{v} \\in \\mathbb{S}^2\\) by an angle \\(\\theta\\) can be represented by a quaternion \\(q\\): \\[\nq = \\cos\\left(\\frac{\\theta}{2}\\right) + \\sin\\left(\\frac{\\theta}{2}\\right) \\mathbf{v}.\n\\]\nTherefore, \\(\\forall q \\in U(\\mathbb{H})\\), \\[\n\\begin{aligned}\nq &= q_0 + q_1 \\mathbf{i} + q_2 \\mathbf{j} + q_3 \\mathbf{k} \\\\\n&\\equiv q_0 + \\mathbf{u} \\\\\n&= \\underbrace{q_0}_{\\cos \\frac{\\theta}{2}} + \\underbrace{\\lVert\\mathbf{u}\\rVert}_{\\sin \\frac{\\theta}{2}} \\cdot \\underbrace{\\frac{1}{\\lVert\\mathbf{u}\\rVert} (q_1 \\mathbf{i} + q_2 \\mathbf{j} + q_3 \\mathbf{k})}_{\\text{rotation axies}}.\n\\end{aligned}\n\\] i.e., the imaginary part of \\(q\\) encodes the rotation axis and the real part encodes the rotation angle.\nCompare this with how the angular velocity vector \\(\\boldsymbol{\\Omega}\\) encodes the rotation information: Figure 3.\n\n\n\n\n\n\n\n\n\n\n\nQuick proof on the double covering\n\n\n\n\n\nWe will approach Equation 1 from the following simple steps:\n\nMental picture for the manifold \\(SO(3)\\): Three dimensional solid ball modulo the antipodal points on its surface: \\[\nSO(3) \\simeq D^3/\\sim\n\\]\n\n\n\n\n\n\nFigure 1: Every point on \\(D^3/\\sim\\) represent a rotation\n\n\n\nUnit quaternions sits bijectively on the 3-sphere \\(S^3\\): \\[\nU(\\mathbb{H}) \\simeq \\mathbb{S}^3.\n\\]\nThis is easy to see from the definition of unit quaternions: \\[\n\\begin{aligned}\nU(\\mathbb{H}) &:= \\{ q \\in \\mathbb{H} : |q| = 1 \\} \\\\\n&\\simeq \\{ (a, b, c, d) \\in \\mathbb{R}^4 : a^2 + b^2 + c^2 + d^2 = 1 \\} \\\\\n&=: \\mathbb{S}^3\n\\end{aligned}\n\\] where \\(q = a + b\\mathbf{i} + c \\mathbf{j} + d \\mathbf{k}\\).\nNatural double cover projection from sphere to the equator plate: \\[\n\\mathbb{S}^3 \\overset{2:1} \\twoheadrightarrow \\frac{\\mathbb{S}^3}{\\sim} \\simeq \\frac{D^3}{\\sim}.\n\\]\nJust have a look at 2-dimensional case:\n\n\n\n\n\n\nFigure 2: 2-dimensional case of the natural double covering\n\n\n\nFrom the above, we derived Equation 1.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: How \\(\\boldsymbol{\\Omega}(t)\\) encodes the rotation axis and angular velocity\n\n\n\n\nThe time evolution of the attitude of a quadrocopter \\(q(t)\\) and the angular velocity vector1 \\(\\boldsymbol{\\Omega}(t)\\) satisfy2: \\[\\dot{q} = \\frac{1}{2} q \\cdot \\Omega. \\tag{2}\\]\n1 The angular velocity vector (shown in Figure 3) \\(\\boldsymbol{\\Omega}(t_1) \\in \\mathbb{R}^3\\) encodes the rotation axis (\\(\\boldsymbol{\\hat{\\Omega}}\\)) and the angular velocity around that axis (\\(\\lVert\\boldsymbol{\\Omega}\\rVert\\)).2 You may be confused by how a quaternion could multiplied with a vector. It’s just because every vector \\(v = v^1 \\mathbf{i} + v^2 \\mathbf{j} + v^3 \\mathbf{k} \\in \\mathbb{R}^3\\) naturally embedded into \\(\\mathbb{H}\\) by a map \\(p: \\mathbb{R}^3 \\to \\mathbb{H}\\), \\(p(v) := 0 + v^1 \\mathbf{i} + v^2 \\mathbf{j} + v^3 \\mathbf{k}\\). Equation 2 is actually \\(\\dot{q} = \\frac{1}{2} q \\cdot p(\\boldsymbol{\\Omega})\\).\n\n\n\n\n\n\nFigure 4: Attitude of the quadrocopter as a path in \\(D^3/\\sim\\)\n\n\n\nIn other words, the attitude \\(q(t)\\) of a quadrocopter can be represented as a path in \\(D^3 / \\sim\\) (shown in Figure 4), how to know the angular velocity vector \\(\\mathbf{\\Omega}(t)\\) at a time \\(t_0\\)? Equation 2 tells us just take the tangent vector (actually a quaternion \\(\\dot{q}\\)) of the path at time \\(t_0\\), multiplied by 2 then divide by \\(q\\).\n\n\n\n\n\n\n\nProof of Equation 2\n\n\n\n\n\nIf both the attitude of the quadrocopter and the angular velocity vector is given at time \\(t\\), then the attitude configuration at time \\(t + \\Delta t\\) can be determined and can be considered as the composition of two consecutive rotations:\n\nFirst, rotate the quadrocopter by \\(q(t)\\).\nSecond, rotate the quadrocopter by a quaternion \\(r(t)\\) defined by \\(\\boldsymbol{\\Omega}(t)\\) and \\(\\Delta t\\), which represents a small rotation (where \\(\\Delta \\theta\\) is a small angle around the axis \\(\\hat{\\Omega}(t)\\)): \\[\n\\begin{aligned}\nr(t) &= \\cos\\left(\\frac{\\Delta \\theta}{2}\\right) + \\sin\\left(\\frac{\\Delta \\theta}{2}\\right) \\hat{\\Omega}(t) \\\\\n&= \\cos\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) + \\sin\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) \\hat{\\Omega}(t).\n\\end{aligned}\n\\]\n\nTherefore, the attitude at time \\(t + \\Delta t\\) can be expressed as3: \\[\n\\begin{align*}\n   &\\begin{aligned}\n   q(t + \\Delta t) &= q(t) \\cdot r(t) \\\\\n   &= q(t) \\cdot \\left( \\cos\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) + \\sin\\left(\\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2}\\right) \\hat{\\Omega}(t) \\right) \\\\\n   &= q(t) \\cdot \\left( 1 + \\frac{\\lVert\\boldsymbol{\\Omega}(t)\\rVert \\Delta t}{2} \\frac{\\Omega(t)}{\\lVert\\boldsymbol{\\Omega}(t)\\rVert} \\right)  + o(\\Delta t) \\quad \\text{(First order approximation)}\n   \\end{aligned} \\\\\n   \\implies\\quad & \\frac{q(t + \\Delta t) - q(t)}{\\Delta t} \\approx \\frac{1}{2} q(t) \\cdot \\Omega(t) \\\\\n   \\implies\\quad & \\dot{q}(t) = \\frac{1}{2} q(t) \\cdot \\Omega(t).\n\\end{align*}\n\\]\nWe are done!\n\n\n\n\n\n3 In this post, \\(q \\cdot p\\) reads from left to right, i.e., \\(q\\) is rotated first and then \\(p\\).\n\n\n\n\n\nQ&A for Equation 2\n\n\n\n\n\n\nQ1: The attitude of the quadrocopter can be represented by two quaternions \\(\\pm q \\in U(\\mathbb{H})\\), but there’s only one possible \\(\\mathbf{\\Omega}(t)\\) at a given time. Why?\nA1: Both \\(q\\) and \\(-q\\) satisfy Equation 2 with the same \\(\\mathbf{\\Omega}(t)\\): \\[\n\\begin{aligned}\n\\frac{\\mathrm{d}}{\\mathrm{d} t} q &= \\frac{1}{2} q \\cdot \\Omega \\\\\n\\frac{\\mathrm{d}}{\\mathrm{d} t} (-q) &= \\frac{1}{2} (-q) \\cdot \\Omega\n\\end{aligned}\n\\]\nQ2: Given any path4 \\(q(t)\\) in \\(D^3/\\sim\\), the angular velocity vector can be computed by: \\[\n\\Omega = 2 \\frac{\\dot{q}}{q}.\n\\] Does this result \\(\\Omega\\) guaranteed to be purely imaginary? (Because angular velocity vector must be purely imaginary).\nA2: Yes. We give the following theorems first:\n\n\n\n\n\n\n\n\nQuaternion product rule\n\n\n\n\nTheorem 1 Let quaternions \\[\n\\begin{aligned}\np &\\equiv a + \\mathbf{u}, \\\\\nq &\\equiv b + \\mathbf{v}.\n\\end{aligned}\n\\]\nTheir product is given by: \\[\np \\cdot q = ab - \\mathbf{u} \\cdot \\mathbf{v} + a \\mathbf{v} + b \\mathbf{u} + \\mathbf{u} \\times \\mathbf{v}.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nInner product in \\(\\mathbb{H}\\)\n\n\n\n\nTheorem 2 Since \\(\\mathbb{H} \\simeq \\mathbb{R}^4\\) as vector spaces, we can borrow the inner product structure on \\(\\mathbb{R}^4\\) to \\(\\mathbb{H}\\). Let \\(p, q \\in \\mathbb{H}\\), define: \\[\n\\langle p, q \\rangle = \\sum_{i=0}^3 p_i q_i.\n\\] Also we have: \\[\n\\Re(p \\cdot q) = \\langle p, \\bar{q} \\rangle = \\langle \\bar{p}, q \\rangle.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof of Theorem 2\n\n\n\n\n\nBy Theorem 1, \\[\n\\begin{aligned}\n\\Re(p \\cdot q) &= \\Re(\\overbrace{ab - \\mathbf{u} \\cdot \\mathbf{v}}^{\\text{scalar}} + \\overbrace{a \\mathbf{v} + b \\mathbf{u} + \\mathbf{u} \\times \\mathbf{v}}^{\\text{vector}}) \\\\\n&= ab - \\mathbf{u} \\cdot \\mathbf{v} \\\\\n&= p_0 q_0 - p_1 q_1 - p_2 q_2 - p_3 q_3 \\\\\n&= \\langle p, \\bar{q} \\rangle \\\\\n&= \\langle \\bar{p}, q \\rangle.\n\\end{aligned}\n\\]\n\n\n\n\nRemember \\(q(t)\\) also lives on the surface \\(\\mathbb{S}^3\\), so: \\[\n   \\frac{\\dot{q}}{q} = \\dot{q} \\bar{q}.\n   \\]\nSince \\(\\dot{q}(t)\\) is a tangent vector to the surface \\(\\mathbb{S}^3\\), \\(\\dot{q} \\perp q\\) as vectors in \\(\\mathbb{R}^4\\), i.e., \\[\n   \\langle \\dot{q}, q \\rangle = 0.\n   \\] By Theorem 2, \\[\n   \\langle \\dot{q}, q \\rangle = \\Re (\\dot{q} \\cdot \\bar{q}) = 0,\n   \\] i.e., \\[\n   \\Re (\\Omega) = 0.\n   \\]\nSo \\(\\Omega\\) is purely imaginary. Done!\n\n\n\n\n4 Any path in \\(D^3/\\sim\\) is a legitimate attitude change of the quadrocopter.\nThe rest content may contain some errors, please be careful when reading."
  },
  {
    "objectID": "posts/quadrocopter-control/index.html#model",
    "href": "posts/quadrocopter-control/index.html#model",
    "title": "UAV Control 无人机控制原理",
    "section": "2 Model",
    "text": "2 Model\n\n2.1 Dynamics Equations without thrust\nThe dynamics \\(\\dot{\\mathbf{x}} = \\phi(\\mathbf{x})\\) is given by:\nPosition dynamics:\n\\[\\dot{\\mathbf{r}} = \\mathbf{v}\\]\nVelocity dynamics (Newton’s second law with only gravity):\n\\[\\dot{\\mathbf{v}} = -g\\mathbf{e}_3\\]\nOrientation dynamics (quaternion kinematics):\n\\[\\dot{q} = \\frac{1}{2}q \\cdot p(\\boldsymbol{\\Omega})\\]\nAs shown in equation (20) of the paper:\n\\[\\dot{q} = \\begin{pmatrix} \\dot{q}_0 \\\\ \\dot{q}_{1:3} \\end{pmatrix} = \\frac{1}{2} \\begin{pmatrix} -q_{1:3}^T\\boldsymbol{\\Omega} \\\\ (S(q_{1:3}) + q_0\\mathbf{I})\\boldsymbol{\\Omega} \\end{pmatrix}\\]\nWhere \\(S(q1:3)S(q_{1:3})\nS(q1:3​)\\) is the skew-symmetric matrix:\n\\[S(q_{1:3}) = \\begin{pmatrix} 0 & -q_3 & q_2 \\\\ q_3 & 0 & -q_1 \\\\ -q_2 & q_1 & 0 \\end{pmatrix}\\]\nAngular velocity dynamics (Euler’s equations without external torques):\n\\[\\dot{\\boldsymbol{\\Omega}} = -\\mathbf{J}^{-1}(\\boldsymbol{\\Omega} \\times (\\mathbf{J}\\boldsymbol{\\Omega}))\\]\n\\[\\dot{\\mathbf{x}} = \\phi(\\mathbf{x}) = \\begin{pmatrix}\n\\mathbf{v} \\\n-g\\mathbf{e}_3 \\\n\\frac{1}{2}q \\cdot p(\\boldsymbol{\\Omega}) \\\n-\\mathbf{J}^{-1}(\\boldsymbol{\\Omega} \\times (\\mathbf{J}\\boldsymbol{\\Omega}))\n\\end{pmatrix}\\]\nIt’s worth noting that this represents the dynamics of a free-falling quadrocopter with no thrust forces (as the human specified “without control”). In reality, even in a passive state, a quadrocopter would have some baseline thrust from spinning propellers. For a more realistic “passive” model, we could include a constant collective thrust ff f acting along the body’s z-axis, which would modify the velocity dynamics to:\n\\[\n\\dot{\\mathbf{v}} = -g \\mathbf{e}_3 + \\frac{f}{m} R(q) \\mathbf{e}_3\n\\]\nWhere \\(R(q)\\) is the rotation matrix corresponding to quaternion \\(q\\).\nThese equations capture the full nonlinear dynamics of the quadrocopter in phase space, representing how position, velocity, orientation, and angular velocity evolve over time in the absence of control inputs."
  },
  {
    "objectID": "posts/quadrocopter-control/index.html#quadrocopter-dynamics-with-motor-control-in-phase-space",
    "href": "posts/quadrocopter-control/index.html#quadrocopter-dynamics-with-motor-control-in-phase-space",
    "title": "UAV Control 无人机控制原理",
    "section": "3 Quadrocopter Dynamics with Motor Control in Phase Space",
    "text": "3 Quadrocopter Dynamics with Motor Control in Phase Space\n\n3.1 State Vector and Basic Parameters\nAs before, the state vector in phase space is: \\[\\mathbf{x} = (\\mathbf{r}, \\mathbf{v}, q, \\boldsymbol{\\Omega})\\]\nWhere: - \\(\\mathbf{r} \\in \\mathbb{R}^3\\) is the position in inertial frame - \\(\\mathbf{v} \\in \\mathbb{R}^3\\) is the linear velocity in inertial frame - \\(q \\in \\mathbb{S}^3\\) is the unit quaternion representing orientation - \\(\\boldsymbol{\\Omega} \\in \\mathbb{R}^3\\) is the angular velocity vector in body frame\n\n\n3.2 Motor and Physical Parameters\n\n\\(m\\): mass of the quadrocopter\n\\(\\mathbf{J} \\in \\mathbb{R}^{3 \\times 3}\\): inertia tensor (typically diagonal for a symmetric quadrocopter)\n\\(g\\): gravitational acceleration (9.81 m/s²)\n\\(L\\): distance from center of mass to each motor (arm length)\n\\(k_T\\): thrust coefficient (converts squared motor speed to thrust force)\n\\(k_M\\): moment coefficient (relates thrust to reactive torque)\n\\(\\omega_i\\): angular velocity of motor \\(i\\) for \\(i \\in \\{1,2,3,4\\}\\)\n\\(\\mathbf{e}_3 = (0,0,1)^T\\): unit vector in the z-direction\n\n\n\n3.3 Motor Forces and Torques\nEach motor produces: - Thrust force: \\(F_i = k_T\\omega_i^2\\) - Reactive torque: \\(M_i = k_M\\omega_i^2\\)\nFor a typical “+” configuration (1-front, 2-right, 3-back, 4-left):\n\nTotal thrust: \\(F = \\sum_{i=1}^4 F_i = k_T\\sum_{i=1}^4 \\omega_i^2\\)\nMoment vector in body frame: \\[\\boldsymbol{\\tau} = \\begin{pmatrix} \\tau_x \\\\ \\tau_y \\\\ \\tau_z \\end{pmatrix} = \\begin{pmatrix}\nL(F_4 - F_2) \\\\\nL(F_1 - F_3) \\\\\nM_1 - M_2 + M_3 - M_4\n\\end{pmatrix}\\]\nSubstituting motor forces: \\[\\boldsymbol{\\tau} = \\begin{pmatrix}\nLk_T(\\omega_4^2 - \\omega_2^2) \\\\\nLk_T(\\omega_1^2 - \\omega_3^2) \\\\\nk_M(\\omega_1^2 - \\omega_2^2 + \\omega_3^2 - \\omega_4^2)\n\\end{pmatrix}\\]\n\n\n\n3.4 Control Input Mapping\nWe can define a mapping from motor speeds to control inputs: \\[\\begin{pmatrix} F \\\\ \\tau_x \\\\ \\tau_y \\\\ \\tau_z \\end{pmatrix} =\n\\begin{pmatrix}\nk_T & k_T & k_T & k_T \\\\\n0 & -Lk_T & 0 & Lk_T \\\\\nLk_T & 0 & -Lk_T & 0 \\\\\nk_M & -k_M & k_M & -k_M\n\\end{pmatrix}\n\\begin{pmatrix} \\omega_1^2 \\\\ \\omega_2^2 \\\\ \\omega_3^2 \\\\ \\omega_4^2 \\end{pmatrix}\\]\n\n\n3.5 Dynamics Equations with Control\n\nPosition dynamics: \\[\\dot{\\mathbf{r}} = \\mathbf{v}\\]\nVelocity dynamics (with thrust force): \\[\\dot{\\mathbf{v}} = -g\\mathbf{e}_3 + \\frac{F}{m}R(q)\\mathbf{e}_3\\]\nWhere \\(R(q)\\) is the rotation matrix corresponding to quaternion \\(q\\), which transforms the body-fixed thrust direction to the inertial frame.\nOrientation dynamics (quaternion kinematics): \\[\\dot{q} = \\frac{1}{2}q \\cdot p(\\boldsymbol{\\Omega})\\]\nAs expressed in component form: \\[\\dot{q} = \\begin{pmatrix} \\dot{q}_0 \\\\ \\dot{q}_{1:3} \\end{pmatrix} = \\frac{1}{2} \\begin{pmatrix} -q_{1:3}^T\\boldsymbol{\\Omega} \\\\ (S(q_{1:3}) + q_0\\mathbf{I})\\boldsymbol{\\Omega} \\end{pmatrix}\\]\nWhere \\(S(q_{1:3})\\) is the skew-symmetric matrix of the vector part of the quaternion.\nAngular velocity dynamics (Euler’s equations with motor torques): \\[\\dot{\\boldsymbol{\\Omega}} = \\mathbf{J}^{-1}(\\boldsymbol{\\tau} - \\boldsymbol{\\Omega} \\times (\\mathbf{J}\\boldsymbol{\\Omega}))\\]\n\n\n\n3.6 Complete System Dynamics\nThe full dynamics of the controlled quadrocopter in phase space are:\n\\[\\dot{\\mathbf{x}} = \\phi(\\mathbf{x}, \\mathbf{u}) = \\begin{pmatrix}\n\\mathbf{v} \\\\\n-g\\mathbf{e}_3 + \\frac{F}{m}R(q)\\mathbf{e}_3 \\\\\n\\frac{1}{2}q \\cdot p(\\boldsymbol{\\Omega}) \\\\\n\\mathbf{J}^{-1}(\\boldsymbol{\\tau} - \\boldsymbol{\\Omega} \\times (\\mathbf{J}\\boldsymbol{\\Omega}))\n\\end{pmatrix}\\]\nWhere the control input \\(\\mathbf{u} = (\\omega_1^2, \\omega_2^2, \\omega_3^2, \\omega_4^2)\\) represents the squared motor speeds.\nThese nonlinear differential equations fully describe the quadrocopter’s motion under motor control, capturing the complex interactions between thrust forces, aerodynamic torques, and rigid body dynamics.\nNote that in practice, there may be additional terms for aerodynamic drag, motor dynamics, and other effects, but this model captures the essential physics of quadrocopter flight with motor control."
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#problem-formulation",
    "href": "posts/pde-solve-laplace-equation/index.html#problem-formulation",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "1 Problem Formulation",
    "text": "1 Problem Formulation\nSuppose we have a rectangular sheet of steel sized \\(p \\times q\\). We somehow force the temperature on the boundary of the sheet to be some deterministic function \\(f, g, h, w\\) shown in Figure 1. When the system settles stablely, what is the temperature distribution \\(v(x, y)\\) inside the sheet?\n\n\n\n\n\n\nFigure 1: How to solve the temperature distribution given boundary condition?\n\n\n\nSince the steady heat distribution is governed by the Laplace’s equation. The problem is basically to:\n\nSolve the Laplace’s equation given a (Dirichlet) boundary condition1 (temperature functions):\\[ \\nabla^2 v = 0. \\]\n1 See here for different types of boundary conditions."
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#existence-and-uniqueness-of-solutions",
    "href": "posts/pde-solve-laplace-equation/index.html#existence-and-uniqueness-of-solutions",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "2 Existence and uniqueness of solutions",
    "text": "2 Existence and uniqueness of solutions\nIt’s good habit to always check the existence and uniqueness of a mathematical object.\n\nExistence: Does the solution exist?\nIn this case, one can guess by life experience that the solution exists since no matter how we force the temperature on the boundary, there must be a temperature distribution inside the sheet.\nUniqueness: Does the temperature distribution settles to a unique solution?\nThis is not immediately obvious2. Could there exist two different stable temperature distributions? The answer is no.\n\n2 Not every PDE has a unique solution. For example, the uniqueness of the famous Navier-Stokes equation is still unsolved."
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#linearity-simplifies-the-problem",
    "href": "posts/pde-solve-laplace-equation/index.html#linearity-simplifies-the-problem",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "3 Linearity simplifies the problem",
    "text": "3 Linearity simplifies the problem\nStare Figure 2 for a while, you will find we just need to solve the steady heat distribution \\(F(x, y)\\) with an easier boundary condition: \\[\n\\begin{align}\nF(0, y) &= 0, & y \\in [0, q] \\tag{BC1} \\\\\nF(0, y) &= 0, & y \\in [0, q] \\tag{BC2} \\\\\nF(x, 0) &= 0, & x \\in [0, p] \\tag{BC3} \\\\\nF(x, q) &= f(x), & x \\in [0, p] \\tag{BC4}\n\\end{align}\n\\tag{1}\\]\n\n\n\n\n\n\nFigure 2: Linearity of Laplace’s equation simplifies the boundary condition\n\n\n\n\n\n\nSimulate the subproblem"
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#separation-of-variables-sov",
    "href": "posts/pde-solve-laplace-equation/index.html#separation-of-variables-sov",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "4 Separation of variables (SoV)",
    "text": "4 Separation of variables (SoV)\nSuppose \\(F(x,y)\\) could be written as: \\[\nF(x,y) = A(x)B(y)\n\\tag{2}\\]\n\n\n\n\n\n\n\nUniqueness legitimize seperation of variables!\n\n\n\n\nDefinition 1 Equation 2 is such a bold and unreasonable assumption. Why is that??\n\nIt literally doesn’t make any sense, until it indeed gives a solution!\n\nThe seperation of variables is just a guess. You will later find that if we continue reasoning using this assumption, we will eventually arrive at a solution that satisfies both the Laplace’s equation and the boundary condition.\nHere is the point: The uniqueness theorem guarantees that the solution is unique!, which means the solution we just got is the only solution, though we have no fluent logic to derive it! This is sort of like:\nImagine your primary school teacher ask you to solve the equation: \\[\n2x + 3 = 1.\n\\tag{3}\\]\nYou have no idea how to solve it, but you guess that \\(x\\) satisfies: \\[\nx + 1 = 0,\n\\] and you get \\(x = -1\\), which indeed satisfies Equation 3. By Fundamental theorem of algebra, Equation 3 has and only has one solution. Therefore, its solution is \\(x = -1\\). This is a valid reasoning!!\n\n\n\n\nThen we plugin Equation 2 into the Laplace’s equation: \\[\n\\begin{align*}\n&\\nabla^2 (AB) = 0 \\\\\n\\implies\\quad &\\frac{\\partial^2 (AB)}{\\partial x^2} + \\frac{\\partial^2 (AB)}{\\partial y^2} = 0 \\\\\n\\implies\\quad &A_{xx}(x)B(y) + A(x)B_{yy}(y) = 0 \\\\\n\\implies\\quad &\\underbrace{\\frac{A_{xx}(x)}{A(x)}}_{\\text{function of }x} = \\underbrace{-\\frac{B_{yy}(y)}{B(y)}}_{\\text{function of }y}, \\quad \\forall (x, y) \\in [0, p] \\times [0, q].\n\\end{align*}\n\\]\nNow here is a very important step, for all point in the rectangle, a function of \\(x\\) equals a function of \\(y\\), always. This means they must be constant functions as shown in Figure 3.\n\\[\n\\boxed{\n\\frac{A_{xx}(x)}{A(x)} = -\\frac{B_{yy}(y)}{B(y)} = \\text{const} \\equiv \\lambda.\n}\n\\tag{4}\\]\nIf we denote the constant as \\(\\lambda\\), this is actually problematic because \\(\\lambda\\) could be different numbers as long as \\(A_{xx}(x)/A(x)\\) and \\(-B_{yy}(y)/B(y)\\) are equal. We will later see that there are countably \\(\\lambda\\) values that are available and we shall use series to represent the solution.\n\n\n\n\n\n\nFigure 3: A function of \\(x\\) equals a function of \\(y\\) pointwise forces them constant functions\n\n\n\nNow we get two ODEs from Equation 4: \\[\n\\begin{cases} A_{xx} = \\lambda A \\\\\nB_{yy} = -\\lambda B\n\\end{cases}\n\\tag{5}\\]\nRefer to Section 7 for the solution of this kind of ODE."
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#boundary-conditions-applied",
    "href": "posts/pde-solve-laplace-equation/index.html#boundary-conditions-applied",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "5 Boundary conditions applied",
    "text": "5 Boundary conditions applied\n\n5.1 Determine the sign of \\(\\lambda\\)\n\n\n\n\n\n\n\nClaim\n\n\n\n\nProposition 1 We claim that: \\[\n\\lambda \\le 0.\n\\]\n\nThis is because if \\(\\lambda &gt; 0\\), \\[\nA(x) \\in \\operatorname{span}_\\mathbb{R}\\{\\cosh(\\sqrt{\\lambda} x), \\sinh(\\sqrt{\\lambda} x)\\}.\n\\] But hyperbolic functions look like the right graph of Figure 5, there is no element in \\(\\operatorname{span}_\\mathbb{R}\\{\\cosh(\\sqrt{\\lambda} x), \\sinh(\\sqrt{\\lambda} x)\\}\\) that equals \\(0\\) at both ends of the rectangle. Only periodic sinusoidal functions can do that.\n\n\n\nFrom Proposition 1, Equation 5 implies \\[\n\\begin{cases} A(x) \\in \\operatorname{span}_\\mathbb{R}\\{\\cos(\\omega x), \\sin(\\omega x)\\} \\cup \\{\\alpha_1 x + \\beta_1\\} \\\\\nB(y) \\in \\operatorname{span}_\\mathbb{R}\\{\\cosh(\\omega y), \\sinh(\\omega y)\\} \\cup \\{\\alpha_2 y + \\beta_2\\}\n\\end{cases}\n\\tag{6}\\] where \\(-\\lambda = \\omega^2\\)\n\n\n5.2 Determine valid \\(\\lambda\\) values\n\n5.2.1 Left and right boundary conditions\nLet’s start with the easier boundary conditions @BC1 and @BC2.\n\\(A(x)\\) in Equation 6 are just sinusoidal functions or linear functions. If we force it to be zero on the edges, all of a sudden \\(\\alpha_1\\) and \\(\\beta_1\\) should be both zero, and the coefficients before \\(\\cos(\\omega x)\\) also must be zero, otherwise the function will never be zero at the line \\(x=0\\). Also the horizontal length \\(p\\) must be integer multiple of half period of \\(\\sin(\\omega x)\\), i.e., \\[\nn \\cdot \\frac{\\pi}{\\omega} = p, \\quad n = 1, 2, 3, \\cdots.\n\\]\nTherefore, there are only countably many valid \\(\\omega\\), hence countably many valid \\(\\lambda\\): \\[\n\\lambda = -\\omega^2 \\in \\left\\{ -\\frac{n^2 \\pi^2}{p^2} \\right\\}_{n=1}^\\infty.\n\\]\nSo \\(A(x)\\) in Equation 6 is in a subspace: \\[\n\\boxed{\nA(x) \\in \\operatorname{span}_\\mathbb{R}\\left\\{\\sin\\left(\\frac{n \\pi}{p} x\\right)\\right\\}}\n\\]\nAs shown in Figure 4, \\(A(x)\\) is like the harmonics on a string.\n\n\n\n\n\n\nFigure 4: Mental picture for \\(A(x)\\) and \\(B(y)\\)\n\n\n\n\n\n5.2.2 Top and bottom boundary conditions\nOn top and bottom edges, we have the boundary condition (BC3) and (BC4) in Equation 1.\n\\(B(y)\\) in Equation 6 must obey these boundary conditions. (BC3) in Equation 1 forces \\(\\beta_2 = 0\\), and the coefficients before \\(\\cosh(\\omega y)\\) to be zero. So \\(B(y)\\) in Equation 6 is in a subspace: \\[\n\\boxed{\nB(y) \\in \\operatorname{span}_\\mathbb{R}\\left\\{\\sinh\\left(\\frac{n \\pi}{p} y\\right)\\right\\} \\cup \\{\\alpha_2 y\\}}\n\\]\n\n\n\n5.3 Fourier series for the undetermined coefficients\nWe have not used the boundary condition (BC4) in Equation 1 yet. Actually, it leads to the introduction to Fourier series! Let’s write what does \\(F(x,y)\\) looks like up to now: \\[\n\\begin{aligned}\nF(x, y) &= A(x)B(y) \\\\\n&= c \\sin\\left(\\frac{n \\pi}{p} x\\right) \\sinh\\left(\\frac{n \\pi}{p} y\\right) \\\\\n\\text{or } &= c' 0 \\cdot y\n\\end{aligned}\n\\tag{7}\\] where \\(c\\) depends on the choice of \\(n\\), \\(n\\) can be any positive integer. Now we have a very important claim:\n\n\n\n\n\n\n\nClaim\n\n\n\n\nProposition 2 If we add these valid \\(F\\) together, the sum is still valid: \\[\n\\boxed{\nF(x,y) = \\sum_{n=1}^\\infty c_n \\sin\\left(\\frac{n \\pi}{p} x\\right) \\sinh\\left(\\frac{n \\pi}{p} y\\right).}\n\\tag{8}\\]\n\nThink about why!?\nEach solution in Equation 7 is a solution to the Laplace’s equation, right? By the superposition principle, their sum is also a solution to the Laplace’s equation!\n\n\n\nHere is the most beautiful part: We plugin (BC4) in Equation 1 into Equation 8: \\[\nF(x, q) = \\sum_{n=1}^\\infty \\underbrace{c_n \\sinh\\left(\\frac{n \\pi}{p} q\\right)}_{\\mathclap{\\scriptsize \\text{Fourier coefficients of }f(x)}} \\sin\\left(\\frac{n \\pi}{p} x\\right) = f(x).\n\\tag{9}\\]\nThe \\(c_n \\sinh(n \\pi q/p)\\) are just constants, which is exactly the Fourier coefficients of the function \\(f(x)\\)!\n\n\n\n\n\n\n\nDeriving \\(c_n\\) through Fourier analysis\n\n\n\n\n\nWe know that a real-valued function \\(f(x)\\) of period \\(T\\) could be decomposed as: \\[\nf(x) = a_0 + \\sum_{n=1}^\\infty a_n \\cos(n \\omega_0 x) + \\sum_{n=1}^\\infty b_n \\sin(n \\omega_0 x),\n\\tag{10}\\] where \\[\n\\begin{cases}\na_n &= \\frac{2}{T} \\langle f, \\cos(n \\omega_0 x) \\rangle \\\\\nb_n &= \\frac{2}{T} \\langle f, \\sin(n \\omega_0 x) \\rangle \\\\\na_0 &= \\frac{1}{T} \\langle f, 1 \\rangle.\n\\end{cases}\n\\tag{11}\\]\nWe consider the function \\(f(x)\\) to be a periodic function with period \\(T=2p\\) (not \\(p\\)) since we need \\[\n\\omega_0 = \\frac{\\pi}{p}.\n\\]\nNow we know that all \\(a_n = 0\\). Compare Equation 11 with Equation 9, \\[\nb_n = \\frac{2}{2p} \\left\\langle f, \\sin\\left(\\frac{n \\pi}{p}x\\right) \\right\\rangle = c_n \\sinh\\left(\\frac{n \\pi}{p} q\\right).\n\\] Solve for \\(c_n\\): \\[\n\\begin{aligned}\nc_n &= \\frac{1}{p \\sinh\\left(\\frac{n \\pi}{p} q\\right)} \\left\\langle f, \\sin\\left(\\frac{n \\pi}{p}x\\right) \\right\\rangle \\\\\n&= \\frac{1}{p \\sinh\\left(\\frac{n \\pi}{p} q\\right)} \\int_0^{2p} f(x) \\sin\\left(\\frac{n \\pi}{p}x\\right) \\mathrm{d}x \\\\\n&= \\frac{2}{p \\sinh\\left(\\frac{n \\pi}{p} q\\right)} \\int_0^{p} f(x) \\sin\\left(\\frac{n \\pi}{p}x\\right) \\mathrm{d}x.\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#conclusion",
    "href": "posts/pde-solve-laplace-equation/index.html#conclusion",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "6 Conclusion",
    "text": "6 Conclusion\nThe solution to the simplified boundary condition subproblem is: \\[\nF(x,y) = \\sum_{n=1}^\\infty c_n \\sin\\left(\\frac{n \\pi}{p} x\\right) \\sinh\\left(\\frac{n \\pi}{p} y\\right),\n\\tag{12}\\]\nwhere \\(c_n\\) satisfies: \\[\nc_n = \\frac{2}{p \\sinh\\left(\\frac{n \\pi}{p} q\\right)} \\int_0^{p} f(x) \\sin\\left(\\frac{n \\pi}{p}x\\right) \\mathrm{d}x.\n\\]\nBy the superposition principle (shown in Figure 2), the solution to the original problem is the linear combination of the solutions in the form of Equation 12."
  },
  {
    "objectID": "posts/pde-solve-laplace-equation/index.html#sec-2nd-order-ode-refresh",
    "href": "posts/pde-solve-laplace-equation/index.html#sec-2nd-order-ode-refresh",
    "title": "Solving Laplace’s Equation using Separation of Variables",
    "section": "7 2nd-order ODE Refresh",
    "text": "7 2nd-order ODE Refresh\n\n\n7.1 Complex domain solution\nConsider the following 2nd-order ODE: \\[\n\\ddot{x} = \\lambda x,\n\\tag{13}\\] where \\(x(t) \\in \\mathbb{C}, \\lambda \\in \\mathbb{R}\\). What function satisfies this special property that if we differentiate it twice, we get itself up to a constant? Exponentials! So we guess: \\[\nx(t) = e^{rt}\n\\] with \\[\nr = \\pm \\sqrt{\\lambda}.\n\\]\nTherefore, the general solution to Equation 13 is: \\[\nx(t) = c_1 e^{\\sqrt{\\lambda} t} + c_2 e^{-\\sqrt{\\lambda} t},\n\\tag{14}\\] where \\(c_1, c_2 \\in \\mathbb{C}\\) are constants. Done!\nWe can use different notation according to the sign of \\(\\lambda\\):\n\n\\(\\lambda &lt; 0\\): Let \\(-\\lambda = \\omega^2\\), then Equation 14 can also be written as: \\[\nx(t) = c_1' \\cos(\\omega t) + c_2' \\sin(\\omega t) \\quad (c_1', c_2' \\in \\mathbb{C})\n  \\tag{15}\\] since \\[\n\\operatorname{span}_\\mathbb{C}\\{e^{i\\omega t}, e^{-i\\omega t}\\} = \\operatorname{span}_\\mathbb{C}\\{\\cos(\\omega t), \\sin(\\omega t)\\}\n\\]\n\\(\\lambda &gt; 0\\): Let \\(\\lambda = a^2\\), then Equation 14 can also be written as: \\[\nx(t) = c_1'' \\cosh(at) + c_2'' \\sinh(at) \\quad (c_1'', c_2'' \\in \\mathbb{C})\n  \\tag{16}\\] since \\[\n\\operatorname{span}_\\mathbb{C}\\{e^{at}, e^{-at}\\} = \\operatorname{span}_\\mathbb{C}\\{\\cosh(at), \\sinh(at)\\}.\n\\]\n\\(\\lambda = 0\\):\n\n\\[\n\\begin{align*}\n&\\ddot{x} = 0 \\\\\n\\implies\\quad &\\dot{x} = \\alpha \\\\\n\\implies\\quad &x(t) = \\alpha x + \\beta\n\\end{align*}\n\\]\n\n\n\n\n\n\nFigure 5: The graph of trigonometric and hyperbolic functions\n\n\n\n\n\n7.2 Real domain solution\nThe solution of Equation 13 when \\(x(t)\\) is confined to \\(\\mathbb{R}\\) is very simple. One just need to confine \\(c_1', c_2'\\) in Equation 15 and \\(c_1'', c_2''\\) in Equation 16 to \\(\\mathbb{R}\\): \\[\nx(t) = c_1 \\cos(\\omega t) + c_2 \\sin(\\omega t) \\quad (\\lambda &lt; 0, -\\lambda = \\omega^2, c_1, c_2 \\in \\mathbb{R})\n\\] and \\[\nx(t) = c_1 \\cosh(at) + c_2 \\sinh(at) \\quad (\\lambda &gt; 0, \\lambda = a^2, c_1, c_2 \\in \\mathbb{R}).\n\\]"
  },
  {
    "objectID": "posts/music-theory-crash-course/index.html",
    "href": "posts/music-theory-crash-course/index.html",
    "title": "Music Theory Introduction 音乐理论入门",
    "section": "",
    "text": "c' 之类的为 ABC notation."
  },
  {
    "objectID": "posts/music-theory-crash-course/index.html#change-of-mind",
    "href": "posts/music-theory-crash-course/index.html#change-of-mind",
    "title": "Music Theory Introduction 音乐理论入门",
    "section": "1 Change of Mind",
    "text": "1 Change of Mind\n\n音乐中没有绝对, 下文所有句子前面都默认加上「一般情况下」."
  },
  {
    "objectID": "posts/music-theory-crash-course/index.html#basic-terms-基础术语",
    "href": "posts/music-theory-crash-course/index.html#basic-terms-基础术语",
    "title": "Music Theory Introduction 音乐理论入门",
    "section": "2 Basic Terms 基础术语",
    "text": "2 Basic Terms 基础术语\n\nNote 音符:\n\nPitch 音高\n\n\n\n\n\n\nFigure 1: Pitch on piano\n\n\n\n时值\n\n\n\n音符的时值\n\n\n\nClef 谱号:\n\nTreble clef 高音谱号 𝄞\nBass clef 低音谱号 𝄢\nAlto clef 中音谱号 𝄡"
  },
  {
    "objectID": "posts/music-theory-crash-course/index.html#four-part-harmony-四部和声",
    "href": "posts/music-theory-crash-course/index.html#four-part-harmony-四部和声",
    "title": "Music Theory Introduction 音乐理论入门",
    "section": "3 Four-part harmony 四部和声",
    "text": "3 Four-part harmony 四部和声\n\n和声写作指的是四部和声写作.\n\n\n3.1 声部特征\n\nSoprano 高音部 / 女高音:\n\n旋律性, 平稳 (2-3 度, 一般不大跳)\n上限: C6 (c', High C, 参考 Figure 1)\n\nAlto 中音部 / 女中音:\n\n中间声部, 平稳\n上限: B4 (B), C5 (c) 可以偶尔使用.\n\nTenore 次中音部 / 男高音:\n\n中间声部, 可以大跳\n上下限: [D3, F4] ([D, F]), G4 (G) 可以偶尔使用.\n\nBasso 低音部 / 男低音:\n\n下限: C2 (C,,)"
  },
  {
    "objectID": "posts/learning-things/index.html",
    "href": "posts/learning-things/index.html",
    "title": "How I Learn 我的学习心得",
    "section": "",
    "text": "Directly exported from Notion, may contain some formatting issues."
  },
  {
    "objectID": "posts/learning-things/index.html#general-spirits",
    "href": "posts/learning-things/index.html#general-spirits",
    "title": "How I Learn 我的学习心得",
    "section": "1 General Spirits",
    "text": "1 General Spirits\n\n\n\n\n\n\n\n\n\nNo.\nDate\nIdeas\n\n\n\n\n41\n2025-8-17\nLearn by terminology: 我曾经看轻术语的重要性, 事实上每个术语都有自己的一套哲学在里面, 你需要分辨哪些术语是必要的 (总线、分布式, etc), 哪些是不必要的. 当一个领域所有的资料都以术语的方式呈现时, 你必须先掌握所有的术语的意义, 然后才能理解这些资料. So enjoy the art of terminologing!\n\n\n40\n2025-8-3\n检验一流智力的标准, 就是在头脑中同时存在两种截然相反的想法时仍能保持行动能力. – F. Scott Fitzgerald\n\n\n39\n\n适当的不合理的假设 (其实就是帮助建立一个模块) 能够帮助快速进展. 一个不合理的假设没有你想象的那么不合理和顽固, 知识本身你都会忘 let alone 不合理的假设.\n\n\n38\n\n一个学科形成时的 Paradigm Shift 范式转变: 一个概念的形成需要一条完整的动机链, 其中包含很多个关键的 Paradigm Shift, 学会一个概念很容易, 只需要找到属于你自己的动机链和这些 Paradigm Shift, 你就学会了. 但是也很复杂, 因为这些都要你自己去寻找. 举个栗子: 白云和挂科有什么关系? 只要三个 Paradigm Shift: 白云 -&gt; White Cloud -&gt; WC -&gt; CW -&gt; 挂科. 虽然每个 Paradigm Shift 都是相对显然的. 我不认为一个 new comer 能够「理解」数学里的 Set, Morphism, Limits in categories 抑或者控制系统里的 Phasor, Transfer function, etc. 我也不认为科普文或视频对外行 (或内行) 有任何的实质性帮助.\n\n\n37\n\nThe imageries and the method by which we are storing it (knowledge) all and the way we think about it, could be really, if we get to each other’s head, entirely different. – Richard Feynman\n\n\n36\n2025-3-8\nRemember what Richard Feynman thought when he went to the dentist? He thought about the entire process of generating the electricity, from the big wheel in the factory, the transmission lines, to the rotor he’s looking at right now. All of these are one realization of Maxwell’s Equations. Isn’t that amazing? 如果你能这么思考一个领域的内容, 你才真正理解了它! 不过这并不难, know how things work只是人类的本能, 只不过这种本能已经在无数的教育框架和所谓模型中渐渐变成了一种邪教, 使人不加思考地相信他们, 以至于搞懂他们都会被表扬.\n\n\n35\n2025-3-8\n为什么看懂代码能够让你快速学会一个领域的知识(如ML)? 是因为当你看懂程序并且该程序能够跑出正确的结果的时候, 你的脑袋中就有了Ah, this is nothing but …的一句话. 看懂代码是让你得出这句话的很有效的方法, 但或许并不是最高效的方法. 亦或者有更高效率的看懂代码的方法?\n\n\n34\n2025-3-8\n理解了一个问题也就解决了这个问题.\n\n\n33\n2025-3-6\n阻碍你进行科研的原因之一是你不清楚其问题的抽象程度, 而大多数问题的抽象程度比较高, 不需要你进行很多原理上的了解, 将它变成纯粹的数学问题进行思考. 比如信道的模型你就当作一个“有趣”的结构, 讨论其正确性的工作有别于你现在研究的问题.\n\n\n32\n2025-1-4\n如果把一句话里的关键词换成其他很多词也成立，那么这句话本身就是废话。\n\n\n31\n2024-12-21\n理解一个东西大致分为：弄懂它讲的是什么、对它建立认知和充分理解。前者需要查阅大量的资料和克服恐惧心理，后者需要充分的独立的自主思考时间。本科科研的本质就是耗费你大量的时间来完成前一个步骤，后一个步骤将很慢地进行。所以有一个shortcut就是通过其他同学来告诉你它是什么、用来干什么的、细节是怎样的。这样你就省去了大量读懂它的时间。\n\n\n30\n2024-12-4\nWhen you realize that an idea or a subject could’ve been reinvented if it is lost totally, this feeling is very important because you already know the direction of science.\n\n\n29\n2024-12-4\nOnce you know the motivation and the cool aspects of something (like the spirit of phase space), you already possess all of that subject (Everything is just propositions, which will naturally arise with a little bit extra proofs and paper-and-pencil thing. If your brain has enough speed and memory, the whole subject can even appear in your head all of a sudden! Those “propositions” are just used to correct imperfect intuitions!), and you could have brought about the whole scenery yourself, provided that you just know the initial spirit! A new subject is formed exactly when a cool idea is proposed and that idea happens to be true in the most cases and suddenly has rich application for no reason. The rest of the years are just years of proofing and proposition derivations. In other words, a subject is formed right after the axioms are written! By the way, this is how I learn Hamiltonian physics.\n\n\n28\n2024-11-25\n人类学习的特点：只需要一个例子、或一个类比, 而不需要两个\n\n\n27\n2024-11-23\nReinterpreting existing things that no one states like that before is invention.\n\n\n26\n2024-11-18\n当你知道题目是考什么的后，他就变得不再神圣。\n\n\n25\n\n如果你想快速地学好工程中的某个领域，你可以（而且需要）囫囵吞枣，但是你得记得你吞了几个枣。\n\n\n24\n2024-11-4\nDoing the same thing, what’s going on in people’s heads can be completely different! Which means it’s totally possible to fall in love with something that you suck at by change what’s going on in your minds. (for example, programming as another way of thinking, or think about its mathematical essence.)\n\n\n23\n2024-10-5\n学习能力指学任何东西的能力。你一定会低估任何这个词所包含的事情，就想你一定会低估阿列夫1比阿列夫0大的程度、一个范畴中可以包含哪些东西一样。\n\n\n22\n\nRecognition has a hierarchy.\n\n\n21\n\nThere are two things we should never have to chase: true friends, true love.\n\n\n20\n2024-10-2\nCheap Dopamine.\n\n\n19\n2024-9-7\n一本书、一系列视频中真正有用的观点其实也就那么几个， take it easy!\n\n\n18\n2024-6-25\n你真的要严格区分your thoughts和政治经济学吗？\n\n\n17\n2024-6-20\nNow I’m talking like a psychologist, and you know, I know nothing about this. —Richard Feynman\n\n\n16\n2024-6-20\nThe problem with the world is that intelligent people are full of doubts and the stupid ones are full of confidence. —Charles Bukowski\n\n\n15\n2024-6-20\nYou don’t have to be focused while studying, you just need to be relaxed, chilled, and enjoy what you are studying. —YouTube comment\n\n\n14\n2024-6-20\nMaybe it’s not that the way to learn math is different from computer science, it’s that you are more interested in math! Math is for me a field where you have to run before you can walk.\n\n\n13\n\n“If all of human knowledge, everything that’s known, is believed to be an enormous hierarchic structure, then the high country of the mind is found at the uppermost reaches of this structure in the most general, the most abstract considerations of all. Few people travel here. There’s no real profit to be made from wandering through it, yet like this high country of the material world all around us, it has its own austere beauty that to some people make the hardships of traveling through it seem worthwhile.” — ROBERT PIRSIG, Zen and the Art of Motorcycle Maintenance (1974)\n\n\n12\n\nFind differences first, then find similarities.\n\n\n11\n\nYou cannot experience another realm without stepping out of your current zone.\n\n\n10\n\n学习的过程本身就是以片面、孤立的视角看问题。\n\n\n9\n\n你的精神寄托可以是马勒、柴可夫斯基，可以是工作、学习，也可以是星辰大海，唯独不能是人，活着的人。——改编自罗翔\n\n\n8\n\n从你写下以上这些文字以及实际做出的改变，到对记笔记原则的思考与实际行动，反映出了人真正转变固有思维方式与“信仰”和实际行动比你想象的更难改变.\n\n\n7\n\n记住专有名词还是有必要的 (它不是目的，而是手段), 特别是你想深入理解一个概念之前, 它不仅加速了学习、理解的速率, 给大脑带来间歇性刺激, 也减小了人脑对知识的过拟合.\n\n\n6\n\n自发的、清晰表述的问题能够给自己带来不少的潜在价值. ——王木头\n\n\n5\n\n让我们的学习有进展的, 并非正确的知识, 而是能够被自己认可的解释.\n\n\n4\n\n我们登上并非我们所选择的舞台, 演出并非我们所选择的剧本.\n\n\n3\n\nOkay, why can’t you learn something new? You are the person who likes systematic learning, which does have benefits, but also has fatal weaknesses: You can’t learn fast. However, the reason behind that is you don’t have trees of that particular field in your head, you don’t know where to put newcomers. So build your trees first!\n\n\n2\n\nIf you are in the state of learning, you are not in the status of worrying. (NOTE Learning is generalized!)\n\n\n1\n\n知识结构决定学习方法. (如单片机、通信网络这种课非常有别于数学或物理课，其知识有明显的网状特点，应该采用逐步加深而不是扩散的学习方法, 其中逐步加深的过程中出现 “不是很明白” 或 “没有学习的感觉” 的情况是正常的, 要靠时间去磨专业名词等等, 但是一定要花时间去看! 另外这种学科中的实例比定义更有价值!)"
  },
  {
    "objectID": "posts/learning-things/index.html#how-to-learn-math",
    "href": "posts/learning-things/index.html#how-to-learn-math",
    "title": "How I Learn 我的学习心得",
    "section": "2 How to Learn Math",
    "text": "2 How to Learn Math\n\n\n\n\n\n\n\n\n\nNo.\nDate\nIdeas\n\n\n\n\n184\n2025-6-30\n我发现好像名词的定义不再神圣了. 重要的是一个概念的动机和结论.\n\n\n183\n2025-5-10\ncurrying 是 “\\(\\text{Hom}\\) 与 \\(\\otimes\\) 的伴随性”的程序员版本！\n\n\n182\n2025-5-7\n你真的懂得方程思想吗 – 大胆假设未知的量或函数, 然后列出他们满足的方程!!!!!\n\n\n181\n2025-4-7\nWhen visualizing things, you should be clear what space you are looking at, it could be a different space than what you think. (For example, in stereographics projection, what you are looking at is the projective space, not the common complex space.)\n\n\n180\n2025-3-30\nYou should always think about a homomorphism whenever there is a quotient.\n\n\n179\n2025-3-30\nThe quotient of a group \\(G\\) by a normal subgroup \\(N\\) is a means of organizing the group elements according to how they fail—or don’t fail—to satisfy the property required to belong to \\(N\\). Think about \\(\\mathbb{Z}/5\\mathbb{Z}\\).\n\n\n178\n2025-3-10\nThe second order derivative commutes is called the Levi-Civita connection!\n\n\n177\n2025-1-31\nI would rather have questions that can’t be answered than answers that can’t be questioned. —Richard Feynman\n\n\n176\n2025-1-31\nScience is the belief in the ignorance of experts.\n\n\n175\n2025-1-31\nPhysics is to math what sex is to masturbation. Sure it might give some practical results but that’s not why we do it. — Richard Feynman\n\n\n174\n2025-1-5\n之前你经常听到群描述了某种对称性，今天通过strongly symmetric channel的概念终于理解了这句话。对称性就是某个群作用到某个集合上，关于这个集合的某个函数不变（G-invariant）。\n\n\n173\n2025-1-5\nGaussian 分布在连续意义上是一种“最混乱”的分布，Uniform 分布在离散意义上是一种“最混乱”的分布。\n\n\n172\n2025-1-5\n你要分清哪些是数学上tedious的证明，哪些是关键的思想。往往一个理论的思想只有一两个，其他的只是因为人脑的内存不足以至于不能一眼就看出来结论（所以如果人脑推理速度很快的话，这些结论没有很多的价值，比如熵是凸函数就是这样一个结论）。\n\n\n171\n2025-1-3\n\\((u,v)\\) 在某些情况下可以写成 \\(u+iv\\), 其中u和v是某个向量空间中的元素。\n\n\n170\n2025-1-2\nHermitian 性总是和实数性联系在一起：\\[x(t) \\in \\mathbb{R} \\iff H(-f) = H^*(f) \\\\ S(f) \\in \\mathbb{R} \\iff R(-t) = R^*(t)\\] 但是如何统一 \\(f\\) is \\(\\text{P.D.} \\iff\\) induced matrix F is Hermitian \\(\\iff\\) spectrum of \\(F\\) is real?\n\n\n169\n2025-1-2\n傅立叶变换是伸缩的积分变换；卷积是平移的积分变换。\n\n\n168\n2025-1-2\nHilbert transform is unique in some sense. (The only one singular integral in dimension 1)\n\n\n167\n2025-1-2\n当你觉得你学的某个知识是某种东西的特例的时候，你将感到很快乐。\n\n\n166\n2025-1-1\n为什么我们不能将一个概念向别人解释地很清楚？一个很重要的点是我们会忘记当时我们怎么学会的（包括参考资料、视频等），当我们向别人解释时，我们大脑里呈现的是那个例子，但是我们并没有把这个例子告诉对方\n\n\n165\n2025-1-1\nentropy是分布的函数而不是随机变量的函数 (similar to moments) (The random variable does not contain the information on its own distribution, so it is impossible to define the entropy of the distribution —or any moments of the distribution — purely as a function of the random variable!)\n\n\n164\n2024-12-28\n定理的条件是如何诞生的：先是有一个新颖的观点，然后通过直觉驱动的不严谨的推导，得出一个很有可能正确的结论（这里需要正确的数学审美素养）。然后为了论述这个结论，加上了很多分析限制（比如局部紧的）。产出论文时，把这些限制写在论文开头来防止你很快地看懂你浅陋的思维。\n\n\n163\n2024-12-26\nHermitian 跟实数总是有一定的关系！比如 Hermitian 矩阵的特征值值一定是实数，实信号的 Fourier 变换具有 Hermitian 性，那内积、相关函数好像也具有 Hermitian 性，其“实数”性体现在哪呢？跟 Positive definite 有关？\n\n\n162\n\n随机信号过的不是线性系统，而是线性系统在 \\(\\text{Hom}(\\Omega, -)\\) 函子下的像！！\n\n\n161\n2024-12-17\n如果你要求一个函数或数列，不要想办法求出具体的某一项，而是先写出整个函数或数列要满足的方程！！\n\n\n160\n2024-12-16\nWhen you have uncertain things, just think of one of the possible explanations and believe it is true.\n\n\n159\n2024-12-14\n“Kernel” also means weighted sum (or integral).\n\n\n158\n2024-12-3\nFourier transform is a group algebra homomorphism between the group algebra and endomorphisms of the direct sum of irreducible representations\n\n\n157\n2024-12-2\nWhenever a mathematical statement looks magical, it never actually is.\n\n\n156\n2024-11-20\nDynamical system is a concept in math, not physics. (But yeah you are right if you disagree) There are two versions of ergodicity, using measuring-preserving transformations, and in the language of stochastic process.\n\n\n155\n2024-11-20\nSymplectic manifolds provide the generalized setting for classical mechanics, where the motion of a mechanical system is described by a geodesic.\n\n\n154\n2024-11-19\nfree这个概念和形式定义相关。形式定义是切入一个概念的重要方法。\n\n\n153\n2024-11-19\n线性变换的性质已经完美地融合在了矩阵的运算中，但是这种融合过于完美，以至于大多数人都不能从其中抽取出一条适合于人类大脑线性思维的学习轨迹。（矩阵运算的各个理解方式都对应了一些及其重要的性质！）\n\n\n152\n2024-11-1\nYou should be aware of how we model real-world things. (how do we think of information sources? —Stochastic processes; how do we imagine channel? —Just a little conditional probability matrix.)\n\n\n151\n2024-10-23\nIt’s a funny thing about square matrices: they can represent several very different things, especially two–linear transformations from a space to itself and bilinear forms.\n\n\n150\n2024-10-20\n数学家想用最高的抽象性描述尽可能多的事物，然而最后描述出来的却没想象的那么多，这不是数学的问题，而是挖掘的问题（我在避免用application这个词，因为人类已经对它麻木了）\n\n\n149\n2024-10-20\n分布的函数和随机变量的函数是不一样的。\n\n\n148\n2024-10-17\nIt seems that some genius people talking about a very visual problem (say a random walk), what’s going on in their heads is totally different from what he describes. There will always be some abstraction and soul of this particular subject in his head simultaneously, but it’s hard to speak them out. (For example, a sum in a random process is not just adding numbers but random variables.) The described version is always a special case of a more generalized problem.\n\n\n147\n2024-10-15\n很多概念的学习顺序其实没你想的那么重要，不同的教材中介绍他们的顺序都不一样，你要做的不是去找一个通用的学习顺序，而是去揣摩作者这样写的目的。（比如KL散度和Mutual information 哪个先介绍好一点？）但是往往概念有很多等价的定义，有必要清楚你认为哪一个是出发点！\n\n\n146\n2024-10-14\n一本好的书应该给你足够的心理准备，即使他没有给你，你自己也应该做好某种心理准备来应对可能的难于理解的问题，关键词：“只不过是”.\n\n\n145\n\nOK there are several things in math that make you feel uncomfortable: repetitive proofs, intimidating notations, lack of motivation for new concepts, etc. Now stop worrying and fix them!\n\n\n144\n\nChanging perspective is both essential in math and life.\n\n\n143\n\n你要相信你独立发现的数学结构之间的相似性一定是一门学问的有效动机！\n\n\n142\n2024-10-5\n理解一个概念只需要一个例子！你一定会低估你理解一个概念所需要的例子数量！但是这个例子需要足够的surprising, 并且多余的结构越少越好！\n\n\n141\n\n确实你有必要刻意地区分一下随机变量、观测值、样本的区别了。\n\n\n140\n\n我不认为说一个东西没有意义有任何的好处。\n\n\n139\n2024-9-25\n如何听课？“这个时刻的值是随机的”，当老师说这句话时，没必要去为严谨性去反驳，当我自己尝试严谨地表达我头脑中理解的画面时，我发现只能这么表达了。然而这句话的背后蕴含了大量对学科本质及思想的理解。\n\n\n138\n2024-9-25\n是谁改变了你对数学的看法？Feynman. (你真的要区分应用数学和纯数吗，what is understanding?, 数学真的是过剩的，任何一个将纯数理论用在其他领域的人都是里程碑式的人物，比如纤维丛，然而他们只是理解了这个数学概念，没有那么伟大，他们也不会认为自己很伟大、亦或是有多天才)\n\n\n137\n2024-9-21\nGPT在学习数学中的作用——强化萌生的观点。\n\n\n136\n2024-9-18\n认识到你学的东西知识一个宏图的局部是一件很难的事情。（比如香农熵只是One of the methods）\n\n\n135\n\n当你在学所谓的“严格数学”时，很容易就忘记这样做背后的指导思想，它是什么东西的抽象？定理填补了哪个直觉漏洞？代数是直觉的量化、是为了避免大脑内存溢出时做的信息压缩。万不得已才做代数推导。\n\n\n134\n\n内秉是学习几何的指导思想。\n\n\n133\n2024-9-13\n寻求本质的过程就是抽象的过程。\n\n\n132\n\n人的学习和机器的学习差别之一在于人只要少量甚至一个例子就会觉得自己学会了。（这既是人的优点也是人的缺点，但是往往理解就发生于一个非平凡的例子中（如有理数不完备这个事实其实是你对完备性的唯一认识，但是你会觉得你理解了完备性这个概念，而且大多数时候这个理解也够用了，之所以说大多数是因为我没碰到过反例，而且我崇尚认知的最高指导思想））\n\n\n131\n\n如果你认为范性质是特殊的，你也应该立即觉得特殊的东西也许满足范性质。\n\n\n130\n2024-9-10\nWhen you thought two things are analogous, that’s what a normal person should’ve noticed. You should step further by considering their difference.\n\n\n129\n2024-8-25\n知道对什么的抽象比知道抽象本身更有意义。\n\n\n128\n2024-8-25\n作为一个数学民科，你要做的不是会证明一个定理，而是看着一个定理而觉得它很显然。（如果觉得不是很显然，找到为什么觉得不显然具体的原因，然后在证明中找到对应的那一步）\n\n\n127\n2024-8-21\n如果你只知道一个概念的范畴语言定义，那你完全没有理解它。范畴语言的好处在于你可以将不同概念的交换图进行比较从而对比他们的相似之处。（比如张量积的范性质定义）\n\n\n126\n2024-8-13\nYou are learning the story not part of the story.\n\n\n125\n2024-8-10\n再多的抽象语言不如否定一个trivial的例子（信号，“有某种意义的下降”）\n\n\n124\n2024-8-5\nLet I be an interval in the real line. —-think about the worst condition of I, not the nicest!\n\n\n123\n2024-7-15\nI keep iterating that when you define some structure such as a group or vector space, you should always immediately look for functions that preserve that structure. –All Angles youtube\n\n\n122\n\nYoung man, in mathematics you don’t understand things. You just get used to them. —John von Neumann\n\n\n121\n\nConsider things at the highest abstract layer. (Help to find the essence of it, e.g. 摩尔条纹)\n\n\n120\n\nLie groups are kind of “continuous” groups (which can be thought of as a curved surface, or a manifold), and Lie algebra is at the tangent space at the identity of the Lie group, with the “additional bilinear-ish operation” Lie brackets.\n\n\n119\n\n知识间的连接比知识本身的内容更重要\n\n\n118\n\nA formal definition is needed when dealing abstractly with sequences. —-Jeremy Orloff\n\n\n117\n\n表面上对样本值进行的操作其实背后是对概率密度函数进行对应的操作。（如加法对应卷积）–Frequentist\n\n\n116\n\n数学发现往往不是靠逻辑完成的（而是对称性、灵感、延拓：如实数域扩展到复数域，然后借用复数域中的结论来反映某种现实意义），靠逻辑完成的是严格化过程。\n\n\n115\n\n数学中引入“space”的原因之一是提供了一个全局的、广阔的的视角来观察所有元素。（如probability space中的sigma algebra归纳列举了所有可测集，top space中的topology归纳列举了所有开集）\n\n\n114\n\nInspiration is cheap, but rigor is expensive. –Cassie Kozyrkov\n\n\n113\n\nIt’s always easy to learn a thing when you first have the map, the big picture on your hand, just don’t be overwhelmed by the details.\n\n\n112\n\nMathematics is a lattice, not a ladder. –Marcus Pivato\n\n\n111\n\nIt is entirely possible that future generations will look back, from the vantage point of view of a more sophisticated theory, and wonder how we could have so gullible. –David J. Griffiths\n\n\n110\n\n你的概率论打开方式不对。\n\n\n109\n\n旋转是缩放的高维延拓。\n\n\n108\n\n数学语言不应是你掩饰无知的工具。\n\n\n107\n\n看山是山，看水是水；看山不是山，看水不是水；看山还是山，看水还是水。（从解构和建构）\n\n\n106\n\nYou gotta have taste! —杨振宁\n\n\n105\n\n如果你发现了好的学习资料，应该感到悲哀，因为你可能因此少了很多独立发现规律的机会与兴奋感。\n\n\n104\n\n概率应该叫做归一测度，随机变量应该叫做归一映射，期望应该叫做一阶原点矩，方差应该叫做二阶中心距，总之概率的一切命名都应该听起来与概率无任何关系！\n\n\n103\n2023-11-7\n今天（11-7-2023）我打算采用一个看上去很有希望的思考方式：用封闭性和映射来思考一切事物（注意是一切！）\n\n\n102\n\n如果你发现初学符号体系或概念非常不可理解（如vector和covector的指标规定），则他一定是对数学体系的高瞻远瞩。\n\n\n101\n\n有些概念是以你目前的阅历难以理解的，那么先让它随风去吧。你不是天才，只是一个追求知识的普通人。\n\n\n100\n\nDon’t be lost in math!!\n\n\n99\n\nThe trick is to learn as much math as possible, without becoming a mathematician. (Haha, that’s really accurate!!!) —Jonathan Gardner\n\n\n98\n\nThe derivative is the opposite (or dual) of the boundary!!!!!\n\n\n97\n\n能定义自然数结构的系统，具有个体对整体进行概括和抽象的能力。——王木头\n\n\n96\n\n教材是偏序的。——Maki\n\n\n95\n\n以教学为目的的学习总是好的。(注意不是以学习为目的，具体方法是写讲义)——Maki\n\n\n94\n\n数学家只需要纸和笔，不需要电脑。\n\n\n93\n\n其实大部分的概念你感觉理解了，实际上只是熟悉了它的使用（“磨”，“be comfortable with the idea”）。\n\n\n92\n\n平均值与采样方法有关！\n\n\n91\n\n将直线投影到圆上，感觉上原本均匀分布的点不再均匀了，这种感觉就是“非线性”，其中局部的密度之比便是导数。(所谓的对某某量进行微分，d theta, dl)\n\n\n90\n\nMath is not just about solving problems. It’s about gaining insight, finding connections, and explanations. –Terence Tao\n\n\n89\n\n差生文具多。\n\n\n88\n\n纯数学是为了提升我们对数学本身的认识；应用数学是利用数学去提升我们对其他学科的认识。\n\n\n87\n\nDon’t be intimated by the math jargon – I just want to get a point across, so bear with this bit. Still, it is very important to see the big picture first, and care about those little details later.\n\n\n86\n\n阅读数学书要揣摩作者这样安排概念、定理的理由，寻找a chain that connect them together.\n\n\n85\n\nThe simpler, the better. (任何让你感觉很痛苦的事一定是你没有在恰当的地方认识他，如Lagrange’s Thm, 国内的任何一本抽代教材，去s吧！TM看了一天的国内视频，还没最后youtube10分钟学的多！！！我***)\n\n\n84\n\n你要发挥双语者在学习数学中的优势。（我想强调的是对于每一个英文数学概念，如果有的话，尽量要知道其中文名称）\n\n\n83\n\n你无需保证第一次学的东西就是正确的。一个相对符合直觉的陈述比一个正确的理论往往在一开始更有价值。\n\n\n82\n\n每当事实与直觉相悖时，不要惊慌，务必弄清 where is the point?? What’s wrong exactly with your intuition??（e.g. 生日悖论）\n\n\n81\n\n当你用图形思考数学时，要考虑其最大失效程度是多少。（如用图论中的Cycle思考循环群的失效程度比用开区间理解拓扑空间的失效程度低很多）\n\n\n80\n\n自学要假装是在上讨论班（用语言尝试表达出来，毕竟人类文明进化程度太低，对事物的理解还是大部分建立在语言上的）（事实证明这样能极大提高自学效率）\n\n\n79\n\n多线程学习+定义链逻辑梳理\n\n\n78\n\nIf that doesn’t blow your mind, I don’t know what will. (de Rham cohomology)\n\n\n77\n\n如何理解定义？——What do you want it to behave?\n\n\n76\n\nBe humble.\n\n\n75\n\n学任何的数学都需要从直观走向严格。（注意是先直观）\n\n\n74\n\n理解一个概念时（如Topological Space），尽量用接近这个定义的例子来理解（如如果用R来理解就会不完善，因为R不光有拓扑结构，还有序结构、几何结构）\n\n\n73\n\n向量是向量，面积可以是向量，线性泛函也可能是向量。\n\n\n72\n\n你不一定要知道会证明每一个定理、推论或引理，但你需要一种安全感并且认识到他们不是魔法。\n\n\n71\n\n离开实践的认识是不可能的。——毛泽东《实践论》\n\n\n70\n\n教会别人往往不能从完全“正确”的理论开始，而是从不正确到正确，从直觉到严格的过程（教会自己也是同理）（如光滑流形，叶状结构流形的可积性严格化过程）(Accepting some of the mathematics behind the pictures but not enough to overwhelm you with theoretical details. –Fortney Manifolds)\n\n\n69\n\n数学喜欢给不同的事物相同的名字，也喜欢给相同的事物不同的名字。（对应一般化思想和不同的数学分支）\n\n\n68\n\n一本书只能从头开始读是非常可悲的\n\n\n67\n\n定义链是很有必要研究的（不论是数学还是物理）\n\n\n66\n\nOMG, I just found that Feynman had said the same thing: What I cannot create, I do not understand. Know how to solve every problem that has been solved. (知识的本体不是书上写的文字)\n\n\n65\n\nYou actually learned something as if you invented them. (You’d be confident using them)\n\n\n64\n\n数学对象都在自己的独立空间中，置身与他们自己的空间，设身处地为他们着想（如向量在切空间中，不在光滑流形之中；1-form在余切空间中，不在切空间中）\n\n\n63\n\nReading a book is nothing more than buying vegetables, you check them carefully first, package what you want, take away the packages, and digest them afterwards. (NOTE I wanna say the process of packaging is especially important)\n\n\n62\n\n要有宏观意识，知道学这个他在试着告诉你什么，它是一些技巧还是核心思想，还是一些不显然的结论，它能否通过计算机技术代替手工解决？\n\n\n61\n\n注重它给你带来的feeling，而不是具体细节，细节应当能通过它给你的feeling推自然导出。\n\n\n60\n\nIt takes a lot of imagination.\n\n\n59\n\n学习的饱和现象：当学习一门新技术达到一定广度（或深度）时，总有几个问题无法完全理解，这时需要学习更深入的知识才能打破这种状况。\n\n\n58\n\nIf you cannot “think something in one way”, then learn something else!\n\n\n57\n\n数学是一门赋予不同事物相同名字的艺术，而数学家的这个做法会让学生理所应当地认为他们是一样的，然而他们确实是一样的。（e.g. 向量空间上的乘法和数域上的乘法）(Original: Mathematics is the art of giving the same name to different things. –Henry Poincare)\n\n\n56\n\n数学中过多的对称性正在阻碍你的理解\n\n\n55\n\n在好教材泛滥的世界中如何生存？选一本形象、严谨、全面的教材作为主要参考资料，其他的books作为补充（快速了解目录结构，直接跳到想要看的地方学习，看不懂再去看前面）\n\n\n54\n\n独立调研和思考探索的价值远远高于任何形式的资料（包括好的教材）。\n\n\n53\n\n数学基础课程必备：线性代数，傅立叶分析，复变函数，概率论，信息论，随机过程，微分几何，数值分析，微分方程，场论，离散数学，最优化理论\n\n\n52\n\n快速入手一样你不太敢下手的学科：干它（直接做题），再学习概念，形成正反馈\n\n\n51\n\n系统性的学习可能不是最有效的（从一本书的中间开始学看起来很扯，而且容易强迫症，但往往这种方法最符合大脑的学习模式）\n\n\n50\n\n一门新的学科就是一种全新的思考方式\n\n\n49\n\n参数化的本质是转为独立变量（usu. 单变量或双变量）的积分，因为只有这样才能积出来\n\n\n48\n\n理解的代价是不会写证明，说出这句话的人对“理解”这个概念的理解有待提高\n\n\n47\n\n牛顿发明的那套好像很喜欢处理加权和似的\n\n\n46\n\n几重积分其实是看有几个自由度\n\n\n45\n\n不要试图脱离三维空间来理解高维或抽象空间，恰恰相反，对这些抽象空间的理解一定建立在欧几里得空间中的几何直观（但是事后一定要尝试脱离三维欧式空间来进行思考！）\n\n\n44\n\n当你觉得一个概念无法理解时（无法理解它的动机，表达了什么），那么暂时先忽视它（假设没有发明这个概念），再通过实际问题体会为什么要有这个概念\n\n\n43\n\n场论是另一种看待存在的方式\n\n\n42\n\nGood explanation&gt;symbolic proof\n\n\n41\n\nIt seems almost cruel of the universe to fill its language with riddles that we either can’t solve, or where we know that any solution would be useless for long-term prediction anyway. It is cruel, but then again, it should also be reassuring. It gives some hope, that the complexity we see in the world can be studied somewhere in this math, and that it’s not hidden away in the mismatch between model and reality.\n\n\n40\n\n同一词汇在不同领域内的应用要做区分（如数学上的维度和物理上的维度，权重矩阵和对象矩阵）\n\n\n39\n\n不是系统学习才叫学习，以需求为导向的学习才是（如果学一个孤立于应用范围之外的知识，只会增大精神内耗）\n\n\n38\n\n如何判断数学书质量高？有习题答案，习题精炼（数量少），文本中的例子数量较多，文本分段，有严格定义和证明，有图。\n\n\n37\n\nPerhaps, there isn’t the definition of a matrix, but only, interpretations of the matrices. —See Matrices\n\n\n36\n\n学习是为了增强泛化能力，是为了解决从未见过的情况而进行的思维网络构建\n\n\n35\n\n要注意知识的输入范围和输出范围（直接上手解题可以增强这种泛化能力，因为学习过程中往往只能碰到用这种方法能解决的问题，这些问题有什么共同特征却被忽略了，用这种方法不能解决的问题也非常有思考价值）\n\n\n34\n\n指令学习和归纳学习并重（先指令学习构建“底稿”，防止过拟合，再用归纳学习建立知识的网状结构，大脑的潜意识会自动拟合，大量的例子来体会知识非常重要！）\n\n\n33\n\n学习任何一样东西，都要有方法论！\n\n\n32\n\n连接词很重要（引入的过程比知识本身更重要，“good teacher”的本质区别, “motivation”）\n\n\n31\n\n明确输入输出\n\n\n30\n\n将要做的课后习题提前打勾\n\n\n29\n\n先把书读厚，再把书读薄。——华罗庚\n\n\n28\n\n如果你不能用简单的语言描述你所学的东西，你就没有真正学会它。——费曼\n\n\n27\n\n有时我们只知道了知识的内容，而忘记了它的motivation\n\n\n26\n\n对于数学，学什么都不过分\n\n\n25\n\n一个清晰问题表述的形成所需的时间可能不亚于解决它所花的时间\n\n\n24\n\n一个事物没有本身的样子，只有你看见它的样子\n\n\n23\n\n有时候数学也要先会用，再理解。（“如果我早看到这个视频…”–你也不一定能学好！）\n\n\n22\n\n维度是数学概念而不是物理概念\n\n\n21\n\nThe primary reason that you don’t understand a book is that you are not aware of what the writers said. You may be aware of what others have told you, and that’s the very great significance of discussion.\n\n\n20\n\n当你觉得问题很多，想不清或提不出明确的问题时，你就该做题了（看看stack exchange上的提问就知道什么是“明确”了，与知乎没法比）\n\n\n19\n\n数学没有物理是瞎子，物理没有数学是跛子\n\n\n18\n\n数值计算要检验现实性！\n\n\n17\n\n一个等式(关系式)正向、逆向都成立!\n\n\n16\n\n以有崖随无涯，殆已！（此无涯非彼无涯）\n\n\n15\n\n分而治之：化指数复杂度为线性复杂度\n\n\n14\n\n“学会”概念的最高境界：Aware of it’s motivation and intuition(sometime loose).\n\n\n13\n\n人类永远无法“了解”知识，知识在更高的维度上，我们学到的，只是那个抽象形象的投影(例如用open set来理解topological space)，学到的投影越多，就越能体会知识的结构以及其哲学含义。\n\n\n12\n\nImages of knowledge in your brain are built through examples.(对一个抽象知识的理解一定建立在已经存在的具体物质之上，比如理解int U, ext U)\n\n\n11\n\nimagination. –Feynman\n\n\n10\n\n知识结构决定学习方法\n\n\n9\n\n若一个概念有多种定义，态度：先确定一个定义，另一个定义用“碰巧成立”（happen to hold）.\n\n\n8\n\nYou can learn anything, right now!\n\n\n7\n\n对某些方法，思想，定理的重要性非常 aware\n\n\n6\n\n数学是优美的，数学是自然的，数学是严格的\n\n\n5\n\n你要知道你在做什么\n\n\n4\n\n我相信如果抛开数学符号，有关数学定理的理解会容易一半\n\n\n3\n\n有目的的学习\n\n\n2\n\nintuition and axiom are both important!\n\n\n1\n\nA good question is far more valuable than it’s Sol."
  },
  {
    "objectID": "posts/learning-things/index.html#how-to-learn-physics",
    "href": "posts/learning-things/index.html#how-to-learn-physics",
    "title": "How I Learn 我的学习心得",
    "section": "3 How to Learn Physics",
    "text": "3 How to Learn Physics\n\n\n\n\n\n\n\n\n\nNo.\nDate\nIdeas\n\n\n\n\n34\n2025-4-22\nHamiltonian mechanics is the conservation of information entropy. — Assumptions of Physics\n\n\n33\n2025-4-9\n直觉是需要修正的。 —杨振宁\n\n\n32\n\n光子数对应的波动物理量是电场的最大振幅！\n\n\n31\n\n你看到的、经历的每一件事都对应一个动力学方程，hence对应一个电路。（这是多么令人振奋的消息！爱情变化-混沌电路，弹簧振子-震荡电路等等）\n\n\n30\n\nControl Theory: 弹簧-电容，质量-电感，阻尼-电阻；弹性势能-电场能，动能-磁场能，阻力系数（damping coeff）-电阻\n\n\n29\n\n动量是空间平移的生成元。\n\n\n28\n\n我们的科学竟然对想像提出如此可怕的要求。——Feynman\n\n\n27\n\nNo writing, No Reading!\n\n\n26\n\nNo Reading, No learning!\n\n\n25\n\n伤其十指不如断其一指！You gotta have taste! –杨振宁，张颢\n\n\n24\n\n不要想在不清楚事实的条件下尝试研究问题！\n\n\n23\n\n看视频记得跳着看（无论那个视频讲的多么好，如3b1b的同理），连着看容易obsessed by details or kidnapped locally. 看视频不要一次性看懂，要留一些小的空隙，让大脑主动把他们连接起来。\n\n\n22\n\nThink of the same thing in multiple different ways! That’s how you understand things.\n\n\n21\n\nThe electric field is the time version of the magnetic field. Energy is the time version of momentum.\n\n\n20\n\n物理是试图建立一套简单符号逻辑体系，解释并预言复杂客观世界的学科。\n\n\n19\n\n要注意你对这个世界的认识有没有实质性的进展（如Physics I中的光的衍射等，只需知道光是波就能推导出所有结论，等于没有实质性进展）\n\n\n18\n\nPhysics works, and I’m still alive.\n\n\n17\n\nYou’d better have a picture of each physical quantities in which you can be free to analyse then, and the picture should be able to contain as much quantities as possible.(Set up relationships)\n\n\n16\n\n物理中cos里面的东西是现实量与抽象量的映射，由于cos能够接受的量只能是角度，现实量一般不会带有角度，所以在转化时一般会乘上带有 \\(2\\pi\\) 的量（角空间中的量，如 \\(\\omega, k\\)）\n\n\n15\n\nIdeal Lab中的规则：只要理论上能测出的物理量都能被精确测出（如1ns通过某微小界面的氧分子数量）\n\n\n14\n\n每个物理量都要有“直观的认识”（即要清楚物理意义），这些物理量能够在Ideal Lab里被测出。\n\n\n13\n\n理解的本质是找到了知识本身与现实物体的相似性（映射）。但这种映射一定是片面的，我们之所以感觉到“理解”了某个知识，是因为偏差很小以至于可以忽略。然而对于某些抽象知识（如微观粒子的行为），可能不存在足够精确的映射以至于人类无法“理解”它们，我们能做的，就是针对它们不同的行为应用不同的映射来进行研究和尝试理解，这样做的后果是某些映射相互矛盾（常识层面上）。\n\n\n12\n\n物理建模时要区分哪些是事实，哪些是假设，哪些是简化\n\n\n11\n\n学习的时候可以适当放宽逻辑，比如为什么在研究复摆的时候可以只分析质心？但事后一定要 “complete the story”.\n\n\n10\n\nIt’s nice to do a quick gut check that our formula makes physical sense. (符合: That checks out)\n\n\n9\n\n开拓型学习和扩张型学习（开拓型指已有的知识不断扩张，已达到学习新知识的效果；扩张型指每个知识范畴在幼年时期都是较为独立的孤岛，学习过程中不同大小的孤岛不断扩张，从而建立知识之间的联系），事实证明扩张型的学习更为有效和高效。\n\n\n8\n\n某种理论既然能解释某些问题，证明它肯定存在某种真理，我们要读懂的就是这某种真理，而非其他。（波恩看到海森堡的论文能解释一维谐振子问题，他的理论肯定在某种角度来说是对的）（《一个人两个人三个人的文章》）\n\n\n7\n\n从可观测的量出发。——海森堡（小方格子力学），原子光谱可观测，而原子轨道无法观测\n\n\n6\n\nIt takes a lot of imagination. —Feynman\n\n\n5\n\n什么叫了解一门学科？我不知道怎么做，但我知道一定存在某种方法可以解决\n\n\n4\n\n世上本没有动能，自从有人类以后，才有的动能\n\n\n3\n\nStand back and look at what you’re doing, that’s when you get an understanding of it.\n\n\n2\n\n总是用离散的思想思考，这既具有普适性，又尊重了思维的自然性和牛顿深刻的哲学思想。（离散体模型与连续统模型）\n\n\n1\n\n物理学本质上是对宇宙的一种总结和不完全归纳，假设这个宇宙是定域的、物质的（这个假设也使物理学脱离了神学），那么物理学被要求能够自洽地解释人能够感知的外界变化、预测下一个能被人类感知的运动、并追求大道至简。这决定了物理学是一门以实验为基础的科学。"
  },
  {
    "objectID": "posts/java-to-launchpad/index.html",
    "href": "posts/java-to-launchpad/index.html",
    "title": "java项目导入Launchpad方案 MacOS",
    "section": "",
    "text": "我想在launchpad上面启动一个 java 项目，但是application只支持启动 .app 文件，怎么办？"
  },
  {
    "objectID": "posts/java-to-launchpad/index.html#intro",
    "href": "posts/java-to-launchpad/index.html#intro",
    "title": "java项目导入Launchpad方案 MacOS",
    "section": "",
    "text": "我想在launchpad上面启动一个 java 项目，但是application只支持启动 .app 文件，怎么办？"
  },
  {
    "objectID": "posts/java-to-launchpad/index.html#解决方案",
    "href": "posts/java-to-launchpad/index.html#解决方案",
    "title": "java项目导入Launchpad方案 MacOS",
    "section": "2 解决方案",
    "text": "2 解决方案\nspotlight 搜索 Automator，打开 Automator，按 command+W 关闭弹出的窗口：\n\n在导航栏中再次打开 Automator，选择 Application：\n\n搜索栏中搜索 Run AppleScript，拖拽到右侧的空白区域:\n\n加入以下内容：\non run {input, parameters}\n    set p to POSIX path of (path to me)\n    do shell script \"java -jar \" & p & \"/Contents/Java/YOURJARFILE.jar\"\n \nend run\n记得替换 YOURJARFILE.jar 为你的 jar 文件名。但是此时 \"/Contents/Java/ 这个路径是不存在的，而且 YOURJARFILE.jar 也没有在这个路径下，所以以后我们需要创建这个路径。但是首先我们先保存(Command+S)这个文件为一个 .app 文件，路径为 /Application，文件名为你期待这个app的名字，如：YOURJARFILE.app。\n进入 /Application/YOURJARFILE.app，右键点击 Show Package Contents，在 Contents 文件夹下创建 java 文件夹，将你的 YOURJARFILE.jar 拷贝放入这个文件夹。\n\n然后你就可以通过 launchpad .app 文件启动你的 java 项目了。"
  },
  {
    "objectID": "posts/java-to-launchpad/index.html#改图标",
    "href": "posts/java-to-launchpad/index.html#改图标",
    "title": "java项目导入Launchpad方案 MacOS",
    "section": "3 改图标",
    "text": "3 改图标\n还是在 Contents 文件夹下，把这个 .icns 文件换成你自己的图标文件，比如可以把 png 文件转换成 icns 文件，然后替换这个文件(文件名不变)。\n\n然后 Refresh the Icon Cache (if necessary):\ntouch /path/to/YOURJARFILE.app\nkillall Dock\nFinish!"
  },
  {
    "objectID": "posts/java-to-launchpad/index.html#references",
    "href": "posts/java-to-launchpad/index.html#references",
    "title": "java项目导入Launchpad方案 MacOS",
    "section": "4 References",
    "text": "4 References\n\nHow to convert .jar to .app on Mac - a Java tutorial\nLaunching a jar file as an app on Mac (from the dock)"
  },
  {
    "objectID": "posts/inverted-pendulum/index.html",
    "href": "posts/inverted-pendulum/index.html",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "",
    "text": "Control block diagram\n\n\nThe objective of this article is to provide a self-contained guide to building a linear feedback control system for the classical inverted pendulum problem in MATLAB, i.e., to design a controller by applying a force to the cart \\(M\\) to balance the pendulum at the upright position (shown in Figure 1). We will use the following standard equations of a control system: \\[\n\\begin{aligned}\n    \\dot{\\mathbf{x}} &= A \\mathbf{x} + B \\mathbf{u} \\\\\n    \\mathbf{y} &= C \\mathbf{x} + D \\mathbf{u} \\\\\n    \\mathbf{u} &= -K \\mathbf{y}.\n\\end{aligned}\n\\]\nA brief description of the symbols and their physical interpretation is given in the following table. If you have difficulty understanding their meanings, don’t worry, feel free to scan the next section.\n\n\n\n\n\n\n\n\nSymbol\nDescription\nThis Article\n\n\n\n\n\\(\\mathbf{x} \\in TM\\)\nSystem state vector in the tangent bundle of dimension \\(n\\).\n\\(\\mathbf{x} = [x, \\dot{x}, \\theta, \\dot{\\theta}]^t \\in T(\\mathbb{R}^1 \\times \\mathbb{S}^2)\\)\n\n\n\\(\\mathbf{u} \\in TM_c\\)\nThe values control knobs (“actuators”) in a space of dimension \\(q\\) (\\(q &lt; n\\)).\nForce on the cart \\(\\mathbf{u} = \\mathbf{F} \\in \\mathbb{R}\\).\n\n\n\\(\\mathbf{y} \\in TM_o\\)\nThe observable output vector of the system (the values that we can measure) in a space of dimension \\(p\\) (\\(p &lt; n\\)).\nAll dimension of \\(\\mathbf{x}\\) is observable \\(\\mathbf{y} = \\mathbf{x}\\).\n\n\n\\(A^{n \\times n}\\)\nThe linear infinitesimal generator of the system.\nModelling and linearization needed, see Equation 5.\n\n\n\\(B^{n \\times q}\\)\nHow the control knobs affect the state vector.\nForce analyzing needed, see Equation 6.\n\n\n\\(C^{p \\times n}\\)\nConvert the state vector to what we can actually measure.\n\\(C = I\\).\n\n\n\\(D^{p \\times q}\\)\nSometimes the control knobs affect the system observable output directly.\nApplying the force has no direct effect on the observable \\(D = 0\\).\n\n\n\\(K^{q \\times p}\\)\nThe linear feedback matrix. The observable \\(\\mathbf{y}\\) is mapped linearly to the control knobs.\nWe use LQR to optimize this matrix."
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#intro",
    "href": "posts/inverted-pendulum/index.html#intro",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "",
    "text": "Control block diagram\n\n\nThe objective of this article is to provide a self-contained guide to building a linear feedback control system for the classical inverted pendulum problem in MATLAB, i.e., to design a controller by applying a force to the cart \\(M\\) to balance the pendulum at the upright position (shown in Figure 1). We will use the following standard equations of a control system: \\[\n\\begin{aligned}\n    \\dot{\\mathbf{x}} &= A \\mathbf{x} + B \\mathbf{u} \\\\\n    \\mathbf{y} &= C \\mathbf{x} + D \\mathbf{u} \\\\\n    \\mathbf{u} &= -K \\mathbf{y}.\n\\end{aligned}\n\\]\nA brief description of the symbols and their physical interpretation is given in the following table. If you have difficulty understanding their meanings, don’t worry, feel free to scan the next section.\n\n\n\n\n\n\n\n\nSymbol\nDescription\nThis Article\n\n\n\n\n\\(\\mathbf{x} \\in TM\\)\nSystem state vector in the tangent bundle of dimension \\(n\\).\n\\(\\mathbf{x} = [x, \\dot{x}, \\theta, \\dot{\\theta}]^t \\in T(\\mathbb{R}^1 \\times \\mathbb{S}^2)\\)\n\n\n\\(\\mathbf{u} \\in TM_c\\)\nThe values control knobs (“actuators”) in a space of dimension \\(q\\) (\\(q &lt; n\\)).\nForce on the cart \\(\\mathbf{u} = \\mathbf{F} \\in \\mathbb{R}\\).\n\n\n\\(\\mathbf{y} \\in TM_o\\)\nThe observable output vector of the system (the values that we can measure) in a space of dimension \\(p\\) (\\(p &lt; n\\)).\nAll dimension of \\(\\mathbf{x}\\) is observable \\(\\mathbf{y} = \\mathbf{x}\\).\n\n\n\\(A^{n \\times n}\\)\nThe linear infinitesimal generator of the system.\nModelling and linearization needed, see Equation 5.\n\n\n\\(B^{n \\times q}\\)\nHow the control knobs affect the state vector.\nForce analyzing needed, see Equation 6.\n\n\n\\(C^{p \\times n}\\)\nConvert the state vector to what we can actually measure.\n\\(C = I\\).\n\n\n\\(D^{p \\times q}\\)\nSometimes the control knobs affect the system observable output directly.\nApplying the force has no direct effect on the observable \\(D = 0\\).\n\n\n\\(K^{q \\times p}\\)\nThe linear feedback matrix. The observable \\(\\mathbf{y}\\) is mapped linearly to the control knobs.\nWe use LQR to optimize this matrix."
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#physics-model",
    "href": "posts/inverted-pendulum/index.html#physics-model",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "2 Physics Model",
    "text": "2 Physics Model\nIn this section, we will derive the equations of motion for the cart-pendulum system using Lagrangian Mechanics. I hope Figure 1 will be enough to explain the notations used in this article.\n\n\n\n\n\n\nFigure 1: Cart-pendulum Model\n\n\n\nThe dynamics of the system can be computed using Lagrangian Mechanics:\n\\[\n\\boxed{\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\frac{\\partial L}{\\partial q_i} - \\frac{\\partial L}{\\partial q_i} = Q_i^{\\text{non-conservative}},\n}\n\\tag{1}\\] where \\(q_i\\) is either \\(x\\) or \\(\\theta\\) in our case. The lagrangian \\(L\\) is system kinetic energy minus potential energy: \\[\nL = T - V.\n\\]\n\n2.1 Kinetic Energy\nThe total kinetic energy of the system is the sum of the kinetic energy of the cart and the kinetic energy of the pendulum: \\[\nT = T_M + T_m.\n\\]\nFirst we compute the position of \\(m\\): \\[\n\\mathbf{r}_m = \\begin{bmatrix} x + \\ell \\sin \\theta \\\\ -\\ell \\cos \\theta \\end{bmatrix}.\n\\]\nTherefore, \\[\n\\begin{aligned}\n    T_m &= \\frac{1}{2} m \\dot{\\mathbf{r}}_m^T \\dot{\\mathbf{r}}_m \\\\\n    &= \\frac{1}{2} m \\left[(\\dot{x} + \\ell \\dot{\\theta} \\cos \\theta)^2 + (\\ell \\dot{\\theta} \\sin \\theta)^2\\right] \\\\\n    &= \\frac{1}{2} m \\left[ \\dot{x}^2 + \\ell^2 \\dot{\\theta}^2 + 2 \\ell \\dot{x} \\dot{\\theta} \\cos \\theta \\right].\n\\end{aligned}\n\\]\nThe kinetic energy of \\(M\\) is easy: \\[\nT_M = \\frac{1}{2} M \\dot{x}^2.\n\\]\nThe total kinetic energy is: \\[\nT = \\frac{1}{2} (M + m) \\dot{x}^2 + \\frac{1}{2} m \\ell^2 \\dot{\\theta}^2 + m \\ell \\dot{x} \\dot{\\theta} \\cos \\theta.\n\\]\n\n\n2.2 Potential Energy\nOnly the pendulum has potential energy: \\[\nV = - m g \\ell \\cos \\theta.\n\\]\n\n\n2.3 Euler-Lagrange Equation\nThe lagrangian of the system is: \\[\n\\begin{aligned}\n    L &= T - V \\\\\n    &= \\frac{1}{2} (M + m) \\dot{x}^2 + \\frac{1}{2} m \\ell^2 \\dot{\\theta}^2 + m \\ell \\dot{x} \\dot{\\theta} \\cos \\theta + m g \\ell \\cos \\theta.\n\\end{aligned}\n\\]\n\n2.3.1 Euler-Lagrange in \\(x\\)\nFor \\(q_1 = x\\): \\[\n\\begin{aligned}\n    \\frac{\\partial L}{\\partial \\dot{x}} &= (M + m) \\dot{x} + m \\ell \\dot{\\theta} \\cos \\theta \\\\\n    \\frac{\\mathrm{d}}{\\mathrm{d}t} \\left( \\frac{\\partial L}{\\partial \\dot{x}} \\right) &= (M + m) \\ddot{x} + m \\ell (-\\sin \\theta \\dot{\\theta}^2 + \\cos \\theta \\ddot{\\theta}) \\\\\n    \\frac{\\partial L}{\\partial x} &= 0 \\\\\n    Q_x^{\\text{non-conservative}} &= F - b \\dot{x}.\n\\end{aligned}\n\\]\nBy Equation 1, we have: \\[\n(M + m) \\ddot{x} + m \\ell (-\\sin \\theta \\dot{\\theta}^2 + \\cos \\theta \\ddot{\\theta}) = F - b \\dot{x}.\n\\tag{2}\\]\n\n\n2.3.2 Euler-Lagrange in \\(\\theta\\)\nFor \\(q_2 = \\theta\\): \\[\n\\begin{aligned}\n    \\frac{\\partial L}{\\partial \\dot{\\theta}} &= m \\ell^2 \\dot{\\theta} + m \\ell \\dot{x} \\cos \\theta \\\\\n    \\frac{\\mathrm{d}}{\\mathrm{d}t} \\left( \\frac{\\partial L}{\\partial \\dot{\\theta}} \\right) &= m \\ell^2 \\ddot{\\theta} + m \\ell (\\ddot{x} \\cos \\theta - \\dot{x} \\sin \\theta \\dot{\\theta}) \\\\\n    \\frac{\\partial L}{\\partial \\theta} &= - m g \\ell \\sin \\theta - m \\ell \\dot{x} \\sin \\theta \\dot{\\theta} \\\\\n    Q_{\\theta}^{\\text{non-conservative}} &= 0.\n\\end{aligned}\n\\]\nBy Equation 1, we have: \\[\nm \\ell \\ddot{x} \\cos \\theta + m \\ell^2 \\ddot{\\theta} + m g \\ell \\sin \\theta = 0.\n\\tag{3}\\]\n\n\n2.3.3 Matrix Form\nWrite Equation 2 and Equation 3 in matrix form: \\[\n\\begin{bmatrix}\n    M + m & m \\ell \\cos \\theta \\\\\n    m \\ell \\cos \\theta & m \\ell^2\n\\end{bmatrix}\n\\begin{bmatrix}\n    \\ddot{x} \\\\ \\ddot{\\theta}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n    F - b \\dot{x} + m \\ell \\sin \\theta \\dot{\\theta}^2 \\\\\n    - m g \\ell \\sin \\theta\n\\end{bmatrix}.\n\\tag{4}\\]\n\n\n\n2.4 Matlab Code\nThe following function computes the state-space model of the inverted pendulum:\n\n\ninvpend.m\n\n% x -&gt; state vector (x, xdot, theta, thetadot)\n% m -&gt; mass of pendulum\n% M -&gt; mass of cart\n% L -&gt; length of pendulum\n% g -&gt; gravity\n% b -&gt; friction = -b*xdot\n% F -&gt; force applied to cart\n% dx -&gt; derivative of state vector\n\nfunction dx = invpend(x, m, M, L, g, b, F)\n    % Unpack state variables\n    x1 = x(1);     % cart position\n    x2 = x(2);     % cart velocity (xdot)\n    x3 = x(3);     % pendulum angle (theta)\n    x4 = x(4);     % angular velocity (thetadot)\n    \n    % Precompute useful terms\n    sin_theta = sin(x3);\n    cos_theta = cos(x3);\n    theta_dot = x4;\n    \n    % Mass matrix\n    D = [M + m,         m * L * cos_theta;\n         m * L * cos_theta,   m * L^2];\n\n    % Right-hand side (forces/accelerations)\n    RHS = [F - b * x2 + m * L * sin_theta * theta_dot^2;\n           -m * g * L * sin_theta];\n\n    % Solve for accelerations\n    accel = D \\ RHS;  % Equivalent to inv(D) * RHS, but more stable\n    \n    % Return time derivative of state vector\n    dx = zeros(4, 1);\n    dx(1) = x2;         % xdot\n    dx(2) = accel(1);   % xddot\n    dx(3) = x4;         % thetadot\n    dx(4) = accel(2);   % thetaddot\nend\n\nThe following function simulates the motion of the system without damping and external force:\n\n\nsimulation_invpend.m\n\nclear all; close all; clc;\n\n% Simulation parameters\nm = 2;          % Mass of pendulum\nM = 4;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 30;          % damping coefficient\ntime = 0:.1:10; % Time samples\n\n% Initial conditions\nx0 = [0; 0; .2; 0]; % x, xdot, theta, thetadot\n\n% Solve ODE\n[t, x] = ode45(@(t, x) invpend(x, m, M, L, g, b, 0), time, x0);\n\n% Animation\nfor k = 1:length(t)\n    invpend_plot(x(k, :), L, true, 'simulation_invpend.gif');\nend\n\n\n\n\n\n\n\n\ninvpend_plot() function\n\n\n\n\n\nfunction invpend_plot(x, L, saveGif, gifFileName)\n    % Extract state variables\n    cart_x = x(1);    % Cart position\n    theta = x(3);     % Pendulum angle\n    \n    % Compute pendulum position\n    pend_x = cart_x + L * sin(theta);\n    pend_y = L * cos(theta);\n    \n    % Figure setup\n    clf; hold on; axis equal; grid on;\n    xlim([-2 2]); ylim([-1.5 1.5]);\n    \n    % Draw cart\n    cart_w = 0.4; cart_h = 0.2;\n    rectangle('Position', [cart_x - cart_w/2, -cart_h/2, cart_w, cart_h], ...\n              'Curvature', 0.1, 'FaceColor', [0.5 0.5 0.5]);\n    \n    % Draw pendulum\n    plot([cart_x, pend_x], [0, pend_y], 'k-', 'LineWidth', 2); % Rod\n    plot(pend_x, pend_y, 'ro', 'MarkerSize', 10, 'MarkerFaceColor', 'r'); % Mass\n    \n    % Draw ground\n    plot([-2 2], [0, 0], 'k', 'LineWidth', 2);\n    \n    % If saveGif is true, save the current frame to a GIF file\n    persistent gifFile frameCount currentGifName\n    if nargin &lt; 3\n        saveGif = false;\n    end\n    \n    if saveGif\n        % Set default filename if not provided\n        if nargin &lt; 4 || isempty(gifFileName)\n            gifFileName = 'invpend_animation.gif';\n        end\n        \n        % Reset frame count if this is a new gif file\n        if isempty(currentGifName) || ~strcmp(currentGifName, gifFileName)\n            frameCount = 1;\n            currentGifName = gifFileName;\n        else\n            frameCount = frameCount + 1;\n        end\n        \n        % Capture the current figure as an image\n        frame = getframe(gcf);\n        im = frame2im(frame);\n        [imind, cm] = rgb2ind(im, 256);\n        \n        % Write to the GIF file\n        if frameCount == 1\n            imwrite(imind, cm, gifFileName, 'gif', 'Loopcount', inf, 'DelayTime', 0.1);\n        else\n            imwrite(imind, cm, gifFileName, 'gif', 'WriteMode', 'append', 'DelayTime', 0.1);\n        end\n    end\n    \n    drawnow;\nend\n\n\n\n\n\n\n\nSimulation result of simulation_invpend.m"
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#linearized-phase-space-model",
    "href": "posts/inverted-pendulum/index.html#linearized-phase-space-model",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "3 Linearized Phase Space Model",
    "text": "3 Linearized Phase Space Model\n\n3.1 Linearization of the original dynamics\nIn this section, we build the linear version of the original system (without control) in the phase space.\nFirst of all, the state of the system can be described in a vector: \\[\n\\mathbf{x} = \\begin{bmatrix}\nx \\\\ \\dot{x} \\\\ \\theta \\\\ \\dot{\\theta}\n\\end{bmatrix}\n\\in T (\\mathbb{R}^1 \\times \\mathbb{S}^1)\n\\]\nNow we want to use a linear model \\(\\dot{\\mathbf{x}} = \\mathbf{Ax}\\) to analyze the system at \\(\\theta = 0\\), i.e., we want to find matrix \\(A \\in \\mathbb{C}^{4 \\times 4}\\) s.t., \\[\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\n\\begin{bmatrix}\n    x \\\\ \\dot{x} \\\\ \\theta \\\\ \\dot{\\theta}\n\\end{bmatrix}\n=\n\\overbrace{\n\\begin{bmatrix}\n    \\dot{x} \\\\ \\ddot{x} \\\\ \\dot{\\theta} \\\\ \\ddot{\\theta}\n\\end{bmatrix}\n}^{\\dot{\\mathbf{x}}}\n=\n\\overbrace{\n\\begin{bmatrix}\n    0 & 1 & 0 & 0 \\\\\n    ? & ? & ? & ? \\\\\n    0 & 0 & 0 & 1 \\\\\n    ? & ? & ? & ?\n\\end{bmatrix}\n}^{A}\n\\overbrace{\n\\begin{bmatrix}\n    x \\\\ \\dot{x} \\\\ \\theta \\\\ \\dot{\\theta}\n\\end{bmatrix}\n}^{\\mathbf{x}}\n\\]\nNote the the first and third row are trivial identities, we only need to derive the second and fourth row of \\(A\\). We already solved Equation 4 in invpend.m. But now we have to solve it explicitly to derive the partial derivatives for the jacobian: \\[\n\\begin{bmatrix}\n    \\ddot{x} \\\\ \\ddot{\\theta}\n\\end{bmatrix}\n=\n\\phi (x, \\dot{x}, \\theta, \\dot{\\theta})\n=\n\\begin{bmatrix}\n    \\frac{F - b \\dot{x} + m \\ell \\sin \\theta \\dot{\\theta}^2 - mg \\cos \\theta \\sin \\theta}{M + m \\sin^2 \\theta} \\\\\n    \\frac{- \\cos \\theta \\left(F - b \\dot{x} + m \\ell \\sin \\theta \\dot{\\theta}^2\\right) + (M+m) g \\ell \\sin \\theta}{M \\ell + m \\ell \\sin^2 \\theta}\n\\end{bmatrix}.\n\\]\nNow obviously the function \\(\\phi\\) is non-linear. Its jacobian1 at phase point \\(\\mathbf{x}_{\\text{up}} = [x, 0, 0, 0]^t\\) is: \\[\n\\begin{aligned}\n    [J]\n    &=\n    \\begin{bmatrix}\n    \\frac{\\partial \\phi_1}{\\partial x} & \\frac{\\partial \\phi_1}{\\partial \\dot{x}} & \\frac{\\partial \\phi_1}{\\partial \\theta} & \\frac{\\partial \\phi_1}{\\partial \\dot{\\theta}} \\\\\n    \\frac{\\partial \\phi_2}{\\partial x} & \\frac{\\partial \\phi_2}{\\partial \\dot{x}} & \\frac{\\partial \\phi_2}{\\partial \\theta} & \\frac{\\partial \\phi_2}{\\partial \\dot{\\theta}}\n    \\end{bmatrix}_{\\mathbf{x} = \\mathbf{x}_{\\text{up}}} \\\\\n    &=\n    \\begin{bmatrix}\n    0 & -\\frac{b}{M} & -\\frac{mg}{M} & 0 \\\\\n    0 & -\\frac{b}{M \\ell} & -\\frac{(m + M)g}{M \\ell} & 0\n    \\end{bmatrix}.\n\\end{aligned}\n\\]\n1 Just to refresh, the Jacobian \\(J\\) of a (non-linear) function \\(\\phi: \\mathbb{R}^n \\to \\mathbb{R}^m\\) at point \\(p \\in \\mathbb{R}^n\\) can be viewed as the local transformation from the neighborhood of \\(p\\) to the neighborhood of \\(\\phi(p)\\). \\(\\mathbb{R}^n\\) and \\(\\mathbb{R}^m\\) are not viewed as vector spaces but manifolds. In our case it’s a little weird to compute the jacobian of \\(A\\) since \\(A\\) defines a vector field, not mapping between manifolds. Or it is? \\(A\\) is indeed a mapping between manifolds! Because vector field themselves are a section of the tangent bundle. By the way, this jacobian actually takes me a lot of effort to compute.Therefore, \\[\nA =\n\\begin{bmatrix}\n    0 & 1 & 0 & 0 \\\\\n    0 & -\\frac{b}{M} & -\\frac{mg}{M} & 0 \\\\\n    0 & 0 & 0 & 1 \\\\\n    0 & -\\frac{b}{M \\ell} & -\\frac{(m + M)g}{M \\ell} & 0\n\\end{bmatrix}.\n\\tag{5}\\]\n\n\n3.2 Deriving matrix \\(B\\) for control\nThe only control knob is \\(\\mathbf{u} = \\mathbf{F}\\), the force on the cart.\n\n\n\nThe control knob \\(\\mathbf{F}\\) affects \\(\\dot{x}\\) and \\(\\dot{\\theta}\\)\n\n\nBy Newton’s second law, it’s obvious that \\[\nB \\mathbf{u} =\n\\begin{bmatrix}\n    0 \\\\ \\frac{1}{M} \\\\ 0 \\\\ -\\frac{1}{M \\ell}\n\\end{bmatrix} F.\n\\tag{6}\\]\nEach entry of \\(B\\) in Equation 6 is explained in the following table:\n\n\n\n\n\n\n\nEntry\nExplanation\n\n\n\n\nB(1,1) = 0\nThe velocity \\(\\dot{x}\\) of the cart \\(M\\) will not suddenly change due to the force \\(F\\).\n\n\nB(2,1) = \\(\\frac{1}{M}\\)\nThe acceleration \\(\\ddot{x}\\) flash to \\(\\frac{F}{M}\\) due to \\(F\\).\n\n\nB(3,1) = 0\nThe angular velocity \\(\\dot{\\theta}\\) of the pendulum \\(m\\) will not suddenly change due to the force \\(F\\).\n\n\nB(4,1) = \\(-\\frac{1}{M \\ell}\\)\nThe angular acceleration \\(\\ddot{\\theta}\\) of the pendulum \\(m\\) flash to \\(-\\frac{F}{M \\ell}\\) due to \\(F\\). The pendulum is moving backward relative to the cart, hence the negative sign."
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#controllability-of-the-system",
    "href": "posts/inverted-pendulum/index.html#controllability-of-the-system",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "4 Controllability of the system",
    "text": "4 Controllability of the system\n\n4.1 Original system stability\nFrom intuition, the system where \\(\\theta = 0\\) is unstable. How to know that from Equation 5? We know that the system \\(\\dot{\\mathbf{x}} = A \\mathbf{x}\\) is stable iff all the eigenvalues of \\(A\\) are rigorously negative. The instability of the system can be verified by the following Matlab code:\n\n\noriginal_system_stability.m\n\nclear all; close all; clc;\n\n% Simulation parameters\nm = 3;          % Mass of pendulum\nM = 5;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 5;          % damping coefficient\n\n% Define matrix, xdot = Ax + Bu\nA = [0, 1,          0,              0;\n     0, -b/M,       -m*g/M,         0;\n     0, 0,          0,              1;\n     0, -b/(M*L),   -(M+m)*g/(M*L), 0];\n\nB = [0; 1/M; 0; -1/(M*L)];\n\neig(A)\n\n\n\n\n\n\n\n\nResult of original_system_stability.m\n\n\n\n\n\nans =\n         0\n   -4.1883\n   -0.6157\n    3.8040\nSince there are two non-negative eigenvalues, the system is unstable.\n\n\n\n\n\n\n4.2 Controllability\nOne great thing about feedback is that we can change the fundamental dynamics of the system, changing its eigenvalues2 to make it stable (as shown in Figure 2).\n2 Also called poles for historical reasons.\n\n\n\n\n\nFigure 2: Feedback control change the underlying dynamics of the system\n\n\n\nThe system with linear feedback is: \\[\n\\begin{aligned}\n    \\dot{\\mathbf{x}} &= A \\mathbf{x} + B \\mathbf{u} \\\\\n    \\mathbf{u} &= -K \\mathbf{x},\n\\end{aligned}\n\\] or \\[\n\\dot{\\mathbf{x}} = (A - B K) \\mathbf{x},\n\\] whose dynamics could be very different from the original system \\(\\dot{\\mathbf{x}} = A \\mathbf{x}\\).\nWe want to take full control of the system, i.e., does there exist some \\(\\mathbf{F} = \\mathbf{u}(t)\\) to drive the system state point to anywhere in the phase space? In other words, is the system controllable?\n\n\n\n\n\n\n\nControllability\n\n\n\n\nTheorem 1 The following statements are equivalent:\n\nThe system is controllable.\nIts controllability matrix \\(\\mathcal{C}\\) is full rank, \\[\n\\mathcal{C} :=\n\\begin{bmatrix}\nB & AB & A^2 B & \\cdots & A^{n-1} B\n\\end{bmatrix}.\n\\]\nThe poles of the system can be placed arbitrarily3, i.e., the matrix \\(A - B K\\) could have arbitrary eigenvalues.\n\n\nThe reachability space \\(\\mathcal{R}\\) is the full phase space, \\[\n\\mathcal{R} := \\{\\mathbf{\\xi} \\in TM: \\exists \\text{ input } \\mathbf{u}(t) \\text{ s.t. } \\mathbf{x}(t) = \\mathbf{\\xi}\\}\n\\]\n\n\n\n\n\n3 In fact, there is a built-in Matlab function K = place(A, B, desired_eigs_vec) to help you place the poles of the system to any desired locations.By Theorem 1, the system is controllable iff ctrb(A, B) has rank \\(4\\). In fact, the following Matlab code can verify this.\n\n\nsys_controllability.m\n\nclear all; close all; clc;\n\n% Simulation parameters\nm = 3;          % Mass of pendulum\nM = 5;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 5;          % damping coefficient\n\n% Define matrix, xdot = Ax + Bu\nA = [0, 1,          0,              0;\n     0, -b/M,       -m*g/M,         0;\n     0, 0,          0,              1;\n     0, -b/(M*L),   -(M+m)*g/(M*L), 0];\n\nB = [0; 1/M; 0; -1/(M*L)];\n\nrank(ctrb(A, B))\n\n\n\n\n\n\n\n\nResult of sys_controllability.m\n\n\n\n\n\nans =\n     4\nSince \\(\\mathcal{C}=\\) ctrb(A, B) has full rank \\(4\\), the system \\(\\dot{\\mathbf{x}} = (A - B K) \\mathbf{x}\\) is controllable."
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#finding-the-feedback-matrix-k",
    "href": "posts/inverted-pendulum/index.html#finding-the-feedback-matrix-k",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "5 Finding the feedback matrix \\(K\\)",
    "text": "5 Finding the feedback matrix \\(K\\)\n\n5.1 Random pole placement\nFor controllable systems, Theorem 1 also guarantees that we can place the poles of the system to any desired locations, say desired_eigs_vec = [-3; -4; -5; -6], just randomly some numbers in the left half of the complex plane, to ensure the stability of the system. We use place() in Matlab to find such \\(K\\) and use that \\(K\\) to simulate the control effect of the system.\n\n\nsimulation_linear_control.m\n\nclear all; close all; clc;\n\n%% Simulation parameters\nm = 2;          % Mass of pendulum\nM = 10;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 2;          % damping coefficient\ntime = 0:.1:6; % Time samples\n\n%% Initial conditions\nx0 = [0; 0; -.4; 0]; % x, xdot, theta, thetadot\n\n%% pole placement\n\n% Define matrix, xdot = Ax + Bu\nA = [0, 1,          0,              0;\n     0, -b/M,       -m*g/M,         0;\n     0, 0,          0,              1;\n     0, -b/(M*L),   -(M+m)*g/(M*L), 0];\n\nB = [0; 1/M; 0; -1/(M*L)];\n\ndesired_eigs_vec = [-3; -4; -5; -6];\nK = place(A, B, desired_eigs_vec);\n\n% Just to verify that the poles are where we want them\neig(A - B*K)\n\n%% Solve ODE\ndesired_state_vec = [1; 0; 0; 0];\n[t, x] = ode45(@(t, x) invpend(x, m, M, L, g, b, -K * (x - desired_state_vec)), time, x0);\n\n%% Animation\nfor k = 1:length(t)\n    invpend_plot(x(k, :), L, true, 'simulation_linear_control.gif');\nend\n\n\n\n\n\n\n\nFigure 3: Simulation result of simulation_linear_control.m\n\n\n\nWe can see in Figure 3, the inverted pendulum is able to be stabilized at the status \\(\\mathbf{x} = [1, 0, 0, 0]^t\\).\nBy changing the desired eigenvalues, we can adjust the convergent speed of the system.\n\n\n\n\n\n\n\nMatlab code for changing the desired eigenvalues\n\n\n\n\n\nclear all; close all; clc;\n\n%% Simulation parameters\nm = 2;          % Mass of pendulum\nM = 10;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 2;          % damping coefficient\ntime = 0:.1:12; % Time samples\n\n%% Initial conditions\nx0 = [0; 0; -.4; 0]; % x, xdot, theta, thetadot\n\n%% pole placement\n\n% Define matrix, xdot = Ax + Bu\nA = [0, 1,          0,              0;\n     0, -b/M,       -m*g/M,         0;\n     0, 0,          0,              1;\n     0, -b/(M*L),   -(M+m)*g/(M*L), 0];\n\nB = [0; 1/M; 0; -1/(M*L)];\n\ndesired_eigs_vec_1 = [-1; -2; -3; -4];\ndesired_eigs_vec_2 = [-2; -3; -4; -5];\ndesired_eigs_vec_3 = [-3; -4; -5; -6];\ndesired_eigs_vec_4 = [-4; -5; -6; -7];\n\nK = place(A, B, desired_eigs_vec_4);\n\n% Just to verify that the poles are where we want them\neig(A - B*K)\n\n%% Solve ODE\ndesired_state_vec = [1; 0; 0; 0];\n[t, x] = ode45(@(t, x) invpend(x, m, M, L, g, b, -K * (x - desired_state_vec)), time, x0);\n\n%% Animation\nfor k = 1:length(t)\n    % invpend_plot(x(k, :), L, true, 'convergence_speed_4.gif');\n    invpend_plot(x(k, :), L, false);\nend\n\n\n\n\n\n\n\n\n\n\ndesired_eigs_vec_1 = [-1; -2; -3; -4]\n\n\n\n\n\n\n\ndesired_eigs_vec_2 = [-2; -3; -4; -5]\n\n\n\n\n\n\n\n\n\ndesired_eigs_vec_3 = [-3; -4; -5; -6]\n\n\n\n\n\n\n\ndesired_eigs_vec_4 = [-4; -5; -6; -7]\n\n\n\n\n\nWe can see that more negative eigenvalues lead to faster convergence, at the risk of breaking the linearity limit and making the system less robust. So we need to make a trade-off between the convergence speed and the robustness (convergence speed is usually limited by the power of the control). Also, we may want to change the convergence style: whether to make the cart move as quickly as possible, or save as much energy as much as possible as long as the pendulum is inverted? Thankfully there is a way to find the required and “optimal” (in a sense) eigenvalues – the Linear Quadratic Regulator (LQR).\n\n\n5.2 Linear Quadratic Regulator (LQR)\nThe idea is to define a metric (“loss function” in optimization jargon) to measure the badness of the eigenvalues (either too less robust or cost a lot to control), and then minimize that metric. Someone came up with this weird Equation 7:\n\\[\n\\tilde{J} := \\int_0^\\infty (\\mathbf{x}^t Q \\mathbf{x} + \\mathbf{u}^t R \\mathbf{u}) \\ \\mathrm{d}t,\n\\tag{7}\\] where \\(Q^{n \\times n}\\) and \\(R^{q \\times q}\\) are symmetric, positive-definite matrices, which typically are diagonal. In our example, we could choose \\[\nQ =\n\\begin{bmatrix}\n    1 & 0 & 0 & 0 \\\\\n    0 & 1 & 0 & 0 \\\\\n    0 & 0 & 5 & 0 \\\\\n    0 & 0 & 0 & 70\n\\end{bmatrix},\n\\quad\nR = 0.5,\n\\] which we put bigger penalties on \\(\\theta\\) and \\(\\dot{\\theta}\\) because we want them to converge to their expected value quickly. For the position \\(x\\) and velocity \\(\\dot{x}\\), we don’t care much, so we put a small penalty on them. Also we put a penalty on the control input \\(F\\) since our control device is able to provide large enough instantaneous force and we don’t care the expenditure of energy.\nTherefore, \\(\\tilde{J}\\) will be: \\[\n\\tilde{J} = \\int_0^\\infty (x^2 + \\dot{x}^2 + 5 \\theta^2 + 70 \\dot{\\theta}^2 + 0.5 F^2) \\  \\mathrm{d}t.\n\\]\nNow we are using Linear feedback to Regulate a system to minimize a Quadratic loss function, hence the name Linear Quadratic Regulator (LQR).\nThe solution to this LQR problem deserves a separate lecture, the solution is given by the Algebraic Riccati Equation. But in Matlab, there is a one-line command we can use to solve the corresponding \\(K\\) matrix:\nK = lqr(A, B, Q, R)\n\n\n5.3 Simulation by changing Q matrix\nWe simulate the dynamics result with different \\(Q\\) matrices and fixed \\(R = 0.01\\):\n\n\n\n\n\n\n\nMatlab code for comparing different Q matrices\n\n\n\n\n\nclear all; close all; clc;\n\n%% Simulation parameters\nm = 2;          % Mass of pendulum\nM = 10;         % Mass of cart\nL = 1;          % Length of pendulum\ng = -9.81;       % Gravity\nb = 2;          % damping coefficient\ntime = 0:.4:100; % Time samples\n\n%% Initial conditions\nx0 = [0; 0; -.4; 0]; % x, xdot, theta, thetadot\n\n%% LQR pole placement\n\n% Define matrix, xdot = Ax + Bu\nA = [0, 1,          0,              0;\n     0, -b/M,       -m*g/M,         0;\n     0, 0,          0,              1;\n     0, -b/(M*L),   -(M+m)*g/(M*L), 0];\n\nB = [0; 1/M; 0; -1/(M*L)];\n\n% Define penalty Q and R matrix\n% Desired: Move the cart to the desired position as fast as possible\n% Q = [400, 0,  0,  0;\n%      0, 50,  0,  0;\n%      0, 0,  1,  0;\n%      0, 0,  0,  1];\n\n% Desired: Move the cart as smooth as possible\nQ = [20, 0,  0,  0;\n     0, 400,  0,  0;\n     0, 0,  1,  0;\n     0, 0,  0,  1];\n\n% Desired: Don't change the angle so much\n% Q = [4, 0,  0,  0;\n%      0, 4,  0,  0;\n%      0, 0,  500,  0;\n%      0, 0,  0,  50];\n\n% Desired: Save energy\nR = .01;\n\nK = lqr(A, B, Q, R)\n\n% Just to verify the stability of the closed loop system\neig(A - B*K)\n\n%% Solve ODE\ndesired_state_vec = [1; 0; 0; 0];\n[t, x] = ode45(@(t, x) invpend(x, m, M, L, g, b, -K * (x - desired_state_vec)), time, x0);\n\n%% Animation\nfor k = 1:length(t)\n    invpend_plot(x(k, :), L, true, 'simulation_lqr_4.gif');\n    % invpend_plot(x(k, :), L, false);\nend\n\n\n\n\n\n\n\n\n\n\n\\(Q = \\operatorname{diag}(400, 50, 1, 1)\\): Fast lock in\n\n\n\n\n\n\n\n\\(Q = \\operatorname{diag}(20, 400, 1, 1)\\): Smooth cart movement\n\n\n\n\n\n\n\n\\(Q = \\operatorname{diag}(4, 4, 500, 50)\\): Keep straight up\n\n\n\n\n\n\n\n5.4 Simulation by changing R values\nWe simulate the dynamics result with fixed \\(Q - \\operatorname{diag} (20, 400, 1, 1)\\) matrix and different \\(R\\) values:\n\n\n\n\n\n\n\\(R = 0.001\\): More control power\n\n\n\n\n\n\n\n\n\n\\(R = 1.5\\): Median control power\n\n\n\n\n\n\n\n\n\n\\(R = 5\\): Least control power"
  },
  {
    "objectID": "posts/inverted-pendulum/index.html#references",
    "href": "posts/inverted-pendulum/index.html#references",
    "title": "Control Case Study: LQR for Inverted Pendulum!",
    "section": "References",
    "text": "References\n\n\nÅström, Karl Johan, and Richard M Murray. 2021. Feedback Systems. Princeton University Press.\n\n\nBrunton, Steven L, and Jose Nathan Kutz. 2019. Data-Driven Science and Engineering : Machine Learning, Dynamical Systems, and Control. Cambridge University Press.\n\n\nPowell, J David. 2012. Feedback Control of Dynamic Systems : International Version/Matlab & Simulink. Pearson Education Limited."
  },
  {
    "objectID": "posts/em-crash-course/index.html",
    "href": "posts/em-crash-course/index.html",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "",
    "text": "宇宙安全声明: 本笔记是本人电子科技大学格院大三《电磁场与波》课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性. 框中的公式比较重要. 本文有较多超出考试范围的内容, 仅供参考."
  },
  {
    "objectID": "posts/em-crash-course/index.html#change-of-mind-这个可能有用",
    "href": "posts/em-crash-course/index.html#change-of-mind-这个可能有用",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "1 Change of Mind 这个可能有用",
    "text": "1 Change of Mind 这个可能有用\n\n“我们永远无法认识事物本身 (Ding an sich), 我们只能认识它在我们感官和理解结构下所呈现的现象.” — 康德《纯粹理性批判》\n\n\n电磁场从来都不会「传播」: 电磁场本身就是空间中每个点都对应一个矢量, 而且这些矢量会随着时间摇摆, 用二维来做比喻, 就像是风吹过一片草坪, 草坪上每个点的草构成一个时变矢量场, 但草本身并没有「传播」. 我们感觉波在传播是因为波恰好就被画成了空间域周期性的样子, 而且它碰巧又是在时域周期性运动, 当我们一眼看过去的时候, 我们大脑被欺骗地认为是一个波正在往前运动, But there is nothing moving! 波的速度需要人为定义!!!\n\n当波是时空域正弦的时候, 它的移动方向和速度所有人都觉得一样, 但是:\n如果波是 Figure 1 的样子呢? 有些人会觉得它速度快, 有些人会觉得它速度慢, 甚至移动的方向每个人看起来都不一样! 所以我们引入了群速度和相速度两个速度来描述波「传播」的快慢.\n能流密度的定义是把波的速度当作了相速度时的定义 (所以能量才有了「流动」的概念).\n\n\n\n\n\n\nFigure 1: 群速度与相速度\n\n\n\n\n波的行为完全由一组偏微分方程 (Maxwell 方程组) 描述\n\n电场和磁场为什么会传播? 因为求解偏微分方程后得到的是空间二阶导与时间二阶导 (而不是一阶导) 的方程, 这决定了这两个场的行为是「传播」而不是「扩散」(如果是时间一阶导, 则是扩散, 比如热量).\n电磁波为什么会反射和折射? 当你写下 Maxwell 方程组的那一刻, 它定义的对象 (电磁波) 就已经会反射和折射了. 设想你轻轻摇动一根绳子, 左行波和右行波 (还有无数其它奇形怪状的波) 都满足振动方程. 如果没有边界条件, 就用右行波当作这个情形的 mental picture 吧. 若将绳子的另一头固定在墙上, 单独一个右行波并不能保证满足这个边界条件, 所以再叠加一个左行波试试, 诶已经可以满足边界条件了! 这个左行波就是反射波, 它完全就是为了满足边界条件而引入的. 所以 反射的本质是为了让偏微分方程的解满足边界条件而引入的修正项 (\\(E_r e^{jkz}\\)).\n\n电磁波不需要一定是一个正弦波的样子, 可以是任何随时间变化的场, 只要满足 Maxwell 方程组就行. 就像水面的波纹也是由一个偏微分方程所描述的, 但水波微澜不定，自有万千形态.\n\n那为什么我们好像指讨论过正弦波? 因为正弦波是 Maxwell 方程组的特征解, 其他的解都是特征解的线性组合. 所以只需要研究特征解就行了, 而 Maxwell 方程组的 Phasor 表示就是专门描述特征解的, 所以只需要研究 Phasor 表示就足够.\n\n要优雅地理解电磁场理论, 必须引入狭义相对论、四元数 (或 Maxwell 电磁张量). 在经典力学中, 比较难看清电磁场的本质."
  },
  {
    "objectID": "posts/em-crash-course/index.html#vector-analysis-向量分析",
    "href": "posts/em-crash-course/index.html#vector-analysis-向量分析",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "2 Vector Analysis 向量分析",
    "text": "2 Vector Analysis 向量分析\n\n2.1 Vector operations 向量运算\n\nMixed product 混合积: \\[\n  \\mathbf{a} \\cdot (\\mathbf{b} \\times \\mathbf{c}) = \\mathbf{b} \\cdot (\\mathbf{c} \\times \\mathbf{a}) = \\mathbf{c} \\cdot (\\mathbf{a} \\times \\mathbf{b})\n  \\]\nBAC-CAB rule 三叉乘 BACK-CAB 规则: \\[ \\begin{aligned} \\mathbf{a} \\times (\\mathbf{b} \\times \\mathbf{c}) &= \\mathbf{b} (\\mathbf{a} \\cdot \\mathbf{c}) - \\mathbf{c} (\\mathbf{a} \\cdot \\mathbf{b}) \\\\ \\nabla \\times (\\nabla \\times \\mathbf{A}) &= \\nabla (\\nabla \\cdot \\mathbf{A}) - \\nabla^2 \\mathbf{A} \\\\ \\end{aligned}\\]\n\n\\(\\mathbf{a} \\times (\\mathbf{b} \\times \\mathbf{c})\\) 的结果在 \\(\\mathbf{a}\\) 和 \\(\\mathbf{b}\\) 的平面内.\n三叉乘操作等价于先投影 \\(\\mathbf{a}\\) 再旋转 \\(90^\\circ\\): \n空间二阶导算子 \\(\\nabla^2\\)\n\n当 \\(\\nabla^2\\) 作用在标量场 \\(\\psi\\) 上时, \\(\\nabla^2 \\psi \\equiv \\nabla \\cdot \\nabla \\psi\\).\n当 \\(\\nabla^2\\) 作用在向量场上时, 约定为 作用在向量场的每个分量上 (相当于三个标量场). 注意这个时候 \\(\\nabla^2 \\neq \\nabla \\times \\nabla \\neq \\nabla \\cdot \\nabla\\).\n引入 \\(\\nabla^2\\) 是因为 \\(\\nabla^2\\) 是二阶导的自然高维推广 (而不是 \\(\\nabla \\times \\nabla\\)). 用 \\(\\nabla^2\\) 列出的方程的每个分量一般就是二阶一维 PDE. 所以涉及到 \\(\\nabla^2\\) 的方程我们都 component-wise 地求解.\n\n\n\n\n\n2.2 Vector fields 向量场\n\n约定: 标量场是 \\(0\\)-form, 向量场是 \\(1\\)-form, 只考虑三维向量场 \\(\\omega: \\mathbb{R}^3 \\to \\mathbb{R}^3\\).\nGradient, curl, divergence 梯度, 旋度, 散度: 都可看作某种导数:「外微分算子」. \n\n旋度计算: 用 symbolic 叉乘 (“掐头去尾取中间”, 见 Figure 2).\n\n\n\n\n\n\nFigure 2: 叉乘的计算技巧\n\n\n\n\n外微分算子的 Exact 正和性 与 Poincaré’s lemma 庞加莱引理:\n\nExact 正和性 \\(\\mathrm{d}^2 = 0\\): 梯度无旋, 旋度无散. \nPoincaré’s lemma 庞加莱引理: 闭形式一定是恰当形式, 即无旋场一定是梯度场, 无散场一定是旋度场.\nPotential 势函数:\n\n若恰当形式 \\(\\alpha = \\mathrm{d}\\beta\\), 则称 \\(\\beta\\) 是 \\(\\alpha\\) 的 (矢)势 (比如磁场, \\(\\alpha = \\mathbf{B}\\), \\(\\beta = \\mathbf{A}\\))\n若恰当形式 \\(\\alpha = -\\mathrm{d}\\beta\\), 则称 \\(\\beta\\) 是 \\(\\alpha\\) 的 (标量)势 (比如电场, \\(\\alpha = \\mathbf{E}\\), \\(\\beta = \\varphi\\))\n\n恰当形式是不唯一的, 不同的恰当形式之间相差一个 Gauge:\n\n若 \\(\\mathbf{B} = \\nabla \\times \\mathbf{A}\\), 则 \\(\\mathbf{A} + \\nabla \\psi\\) 也是 \\(\\mathbf{B}\\) 的磁势.\n若 \\(\\mathbf{E} = -\\nabla \\varphi\\), 则 \\(\\varphi + c\\) 也是 \\(\\mathbf{E}\\) 的电势.\n不同的 \\(\\psi\\) 和 \\(c\\) 称为不同的 Gauge (e.g. Coulomb gauge, Lorenz gauge).\n\n\nStokes’ theorem 广义斯托克斯定理: 即 Newton–Leibniz theorem 牛顿-莱布尼茨定理 的推广, \\(\\omega\\) 在流形 \\(M\\) 边界上的积分等于 \\(\\mathrm{d}\\omega\\) 在 \\(M\\) 内部的积分: \\[\n  \\int_{\\partial M} \\omega = \\int_M \\mathrm{d}\\omega\n  \\]\n\n特例: Gauss’s 定理 和 Green’s 定理.\nStokes’ 定理可从积分形式的 Maxwell 方程推导出其微分形式, 反之亦然."
  },
  {
    "objectID": "posts/em-crash-course/index.html#magnetostatics-静磁学",
    "href": "posts/em-crash-course/index.html#magnetostatics-静磁学",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "3 Magnetostatics 静磁学",
    "text": "3 Magnetostatics 静磁学\n\n3.1 Conduction current 传导电流\n\n因电荷运动产生的电流. 每秒通过指定截面的电荷量1 \\[I = \\frac{\\mathrm{d}q}{\\mathrm{d}t}.\\]\n\n1 这不是 \\(I\\) 的定义! 国际上用力定义了电流, 再用电流定义了电荷量.\nCurrent density 电流密度: 每秒通过单位截面的电荷量 \\[|\\mathbf{j}| := \\frac{I}{A}.\\]\n传导电流产生静磁场, 可由以下关系描述:\n\\[\n  \\begin{aligned}\n      \\mathbf{B}(\\mathbf{r}) &= \\frac{\\mu_0}{4\\pi} \\int \\frac{\\mathbf{I} \\times \\mathbf{\\hat{r}}}{r^2} \\mathrm{d}l' \\quad &\\text{(Biot-Savart law)} \\\\\n      \\operatorname{Flow}_C (\\mathbf{B}) &= \\mu_0 I_{\\text{enc}} \\quad &\\text{(Ampère's law)} \\\\\n      \\mathbf{\\nabla} \\times \\mathbf{B} &= \\mu_0 \\mathbf{J} + \\mu_0 \\varepsilon_0 \\frac{\\partial \\mathbf{E}}{\\partial t} \\quad &\\text{(Ampère's law)}\n  \\end{aligned}\n  \\]\n\n\n\n3.2 Displacement current 位移电流\n\n因电场 (电位移矢量) 的变化"
  },
  {
    "objectID": "posts/em-crash-course/index.html#capacitance-inductance-电容与电感",
    "href": "posts/em-crash-course/index.html#capacitance-inductance-电容与电感",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "4 Capacitance & Inductance 电容与电感",
    "text": "4 Capacitance & Inductance 电容与电感\nOmitted."
  },
  {
    "objectID": "posts/em-crash-course/index.html#mathbfd-和-mathbfh-的引入",
    "href": "posts/em-crash-course/index.html#mathbfd-和-mathbfh-的引入",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "5 \\(\\mathbf{D}\\) 和 \\(\\mathbf{H}\\) 的引入",
    "text": "5 \\(\\mathbf{D}\\) 和 \\(\\mathbf{H}\\) 的引入\n\n动机: 静电场和静磁场分别由电荷和恒定电流产生, 而介质中这两者会由于 极化 和 磁化 而发生变化 (激发出额外的 感应电荷 \\(\\rho_b\\) 和 磁化等效电流 \\(\\mathbf{j}_b\\)), 而我们并不关心感应出来的量的变化, 只关心本来的电荷和电流 (称为 自由电荷 \\(\\rho_f\\) 和 自由电流 \\(\\mathbf{j}_f\\)). 我们将他们的变化融入 \\(\\mathbf{E}\\) 和 \\(\\mathbf{B}\\), 得到新的量 \\(\\mathbf{D}\\) 和 \\(\\mathbf{H}\\).\n\n\n本章假设存在磁单极子.\n\n\n本章可能有错误, 请谨慎阅读!\n\n\nDipole 偶极子\n\nElectric Dipole 电偶极子: 一正一负两个电荷 \\(q\\) 组成的整体 或 环形磁流 \\(\\mathbf{I}_m\\)\n\nElectric Dipole Moment 电偶极矩 \\(\\mathbf{p}\\): \\[\\mathbf{p} := q \\mathbf{d} \\tag{1}\\] 其中 \\(\\mathbf{d}\\) 的方向由负电荷指向正电荷. 这样定义是为了方便计算作用在 dipole 上的力矩: \\[\\mathbf{\\tau} = \\mathbf{p} \\times \\mathbf{E}\\]\n磁流版本的电偶极矩 \\(\\mathbf{m}_e\\)2: 磁单极子的流动可等效于极化电荷: \\[\\mathbf{m}_e := I_m \\mathbf{A} \\tag{2}\\] 其中 \\(\\mathbf{A}\\) 是环形磁流的面积向量, \\(I_m\\) 是磁流大小. 注意 \\(\\mathbf{m}_e\\) 不是 \\(\\mathbf{p}\\), 而是差一个常数: \\[\\mathbf{p} = \\epsilon_0 \\mathbf{m}_e\\]\nGeneralized Electric Dipole Moment 广义电偶极矩: 区域 \\(V_0\\) 内的 任意连续电荷分布 \\(\\rho(x,y,z)\\) 的 电偶极矩 或 任意连续磁流 \\(\\mathbf{j}_m(x,y,z)\\) 版本: \\[\\begin{aligned}\\mathbf{p} &:= \\int_{V_0} \\rho \\mathbf{r} ~\\mathrm{d}V \\\\ \\mathbf{m}_e &:= \\frac{1}{2} \\int_{V_0} \\mathbf{r} \\times \\mathbf{j}_m ~\\mathrm{d}V \\end{aligned} \\tag{3}\\]\nElectric Dipole Moment Density 电偶极矩密度: 即 Equation 3 在某点的密度: \\[\\mathbf{P} := \\lim_{V_0 \\to 0} \\frac{\\mathbf{p}}{V_0}, \\mathbf{M}_e := \\lim_{V_0 \\to 0} \\frac{\\mathbf{m}_e}{V_0}\\] 因而 \\[\\mathbf{p} = \\int_{V_0} \\mathbf{P} ~\\mathrm{d}V, \\mathbf{m}_e = \\int_{V_0} \\mathbf{M}_e ~\\mathrm{d}V\\]\n\nMagnetic Dipole 磁偶极子: 一正一负两个磁荷 \\(q_m\\) 组成的整体 或 环形电流 \\(\\mathbf{I}\\), 所有的概念跟上面是完全对称的, 直接给出:\n\nMagnetic Dipole Moment 磁偶极矩 \\(\\mathbf{p}\\): \\[\\begin{aligned}\\mathbf{p}_m &:= q_m \\mathbf{d} \\\\ \\mathbf{\\tau} &= \\mathbf{p}_m \\times \\mathbf{H}\n  \\end{aligned} \\tag{4}\\]\n电流版本的磁偶极矩 \\(\\mathbf{m}\\): \\[\\begin{aligned}\\mathbf{m} &:= I \\mathbf{A} \\\\ \\mathbf{p}_m &= \\mu_0 \\mathbf{m}\\end{aligned}\\]\nGeneralized Magnetic Dipole Moment 广义磁偶极矩: \\[\\begin{aligned}\\mathbf{p}_m &:= \\int_{V_0} \\rho_m \\mathbf{r} ~\\mathrm{d}V \\\\ \\mathbf{m} &:= \\frac{1}{2} \\int_{V_0} \\mathbf{r} \\times \\mathbf{j} ~\\mathrm{d}V \\end{aligned}\\]{#eq-m-generalized-dipole-moment}.\nMagnetic Dipole Moment Density 磁偶极矩密度: \\[\\mathbf{P}_m := \\lim_{V_0 \\to 0} \\frac{\\mathbf{p}_m}{V_0}, \\mathbf{M} := \\lim_{V_0 \\to 0} \\frac{\\mathbf{m}}{V_0}\\] 因而 \\[\\mathbf{p}_m = \\int_{V_0} \\mathbf{P}_m ~\\mathrm{d}V, \\mathbf{m} = \\int_{V_0} \\mathbf{M} ~\\mathrm{d}V\\]\n\n\n\n\n2 为了对偶我自己发明的词.\n\n\n\n\n\n广义电偶极子的引入动机与定义公式的原因\n\n\n\n\n\n\n动机: 其实就是解决如何定义电偶极矩密度的问题, 偶极子本身就是用点电荷定义的, 密度肯定要用连续电荷分布来定义, 如果电荷是连续的, 还有偶极子吗?\n\n\n所以我们引入了 Generalized Dipole 广义偶极子3: 广义电偶极子不再是两个正负电电荷的组合或环形磁流, 而是任意 (连续的也行) 的电荷分布 或 磁流 (不需要是环形的) 分布!\n然后为了推广 Equation 1 到这个广义偶极子上, 有两个问题要解决:\n\n任意离散电荷分布的情况, 电荷没有想电偶极子那样两两配对, 如何定义 \\(q\\) 和 \\(\\mathbf{d}\\)?\n\n\\(\\mathbf{d}\\) 可以看作 \\(\\mathbf{r_1} - \\mathbf{r_2}\\)\n\n连续的情况怎么处理?\n\n\\(q\\) 可以看作 \\(\\rho ~\\mathrm{d}V\\)\n\n最终, \\[\\mathbf{p} := \\int_{V_0} \\rho \\mathbf{r} ~\\mathrm{d}V \\tag{5}\\]\n\n\n\n\n\n\n\nFigure 3: 电偶极矩的推广\n\n\n\n为了推广 Equation 2 到这个广义偶极子上\n\n我们先对面积 \\(A\\) 用以下方法重新表示 (符号见 Figure 4): \\[\n  \\begin{aligned}\n  \\mathbf{A} &= \\sum_i A_i \\\\\n  &= \\frac{1}{2} \\oint \\mathbf{r}' \\times ~\\mathrm{d} \\mathbf{l} \\\\\n  &= \\frac{1}{2} \\oint (\\mathbf{a}-\\mathbf{b}) \\times ~\\mathrm{d} \\mathbf{l} = \\frac{1}{2} \\oint \\mathbf{a} \\times ~\\mathrm{d} \\mathbf{l} - \\underbrace{\\frac{1}{2} \\oint \\mathbf{b} \\times ~\\mathrm{d} \\mathbf{l}}_{=0} \\\\\n  &= \\frac{1}{2} \\oint \\mathbf{a} \\times ~\\mathrm{d} \\mathbf{l} \\\\\n  &= \\frac{1}{2} \\oint (\\mathbf{r} - \\mathbf{h}) \\times ~\\mathrm{d} \\mathbf{l} = \\frac{1}{2} \\oint \\mathbf{r} \\times ~\\mathrm{d} \\mathbf{l} - \\underbrace{\\frac{1}{2} \\oint \\mathbf{h} \\times ~\\mathrm{d} \\mathbf{l}}_{=0} \\\\\n  &= \\frac{1}{2} \\oint \\mathbf{r} \\times ~\\mathrm{d} \\mathbf{l}\n  \\end{aligned}\n  \\]\n\n\n\n\n\n\nFigure 4: 面积的连续化\n\n\n\n所以 Equation 2 变成了: \\[\\mathbf{m}_e = I_m \\mathbf{A} = \\frac{1}{2} \\oint \\mathbf{r} \\times \\mathbf{I}_m ~\\mathrm{d}l\\]\n直接把去掉环路积分, 把 \\(\\mathbf{I}_m\\) 改成 \\(\\mathbf{j}_m\\) 就是广义偶极子的磁流形式: \\[\\mathbf{m}_e = \\frac{1}{2} \\int_{V_0} \\mathbf{r} \\times \\mathbf{j}_m ~\\mathrm{d}V \\tag{6}\\]\n\n\n\n\n\n\n3 为了逻辑的顺畅自己起的名字.\nElectric Displacement 电位移矢量\n\nDipole Moment 电偶极矩: 为了研究 dipole 偶极子在均匀电场中的转动, 如果引入电偶极矩: \\[\\mathbf{p} := q \\mathbf{d}\\] (\\(\\mathbf{d}\\) 的方向由负电荷指向正电荷), 作用在 dipole 上的力矩将会变得很方便记忆和计算: \\[\\mathbf{\\tau} = \\mathbf{p} \\times \\mathbf{E} \\tag{7}\\]\n\n\n\n电偶极矩的引入最初仅仅是为了让力矩的计算 (Equation 7) 变得方便\n\n\n感应电荷在介质内部的体密度 \\(\\rho_b\\) 和 介质边界的面密度 \\(\\rho_{bs}\\) 可以被 Dipole Moment Density 偶极矩密度4 \\(\\mathbf{P}\\) 表示:\n\n\n4 也叫 Polarization Density 极化密度."
  },
  {
    "objectID": "posts/em-crash-course/index.html#electromagnetic-induction-电磁感应",
    "href": "posts/em-crash-course/index.html#electromagnetic-induction-电磁感应",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "6 Electromagnetic Induction 电磁感应",
    "text": "6 Electromagnetic Induction 电磁感应\n\n6.1 Faraday’s Law 法拉第定律\n\n两种完全不同的机制 Figure 5 [1]:\n\n\nLorentz force 洛伦兹力 (「切割磁感线」): \\[\n  \\begin{aligned}\n  \\mathbf{F} &= q \\mathbf{v} \\times \\mathbf{B} \\\\\n  &= q \\mathbf{E} \\\\\n  \\implies \\mathcal{E} &= \\oint \\mathbf{E} \\cdot \\mathrm{d}\\mathbf{l} = BLv\n  \\end{aligned}\n  \\]\n\n\n\nInduced electric field 感应电场: \\[\\operatorname{curl} \\mathbf{E} = -\\frac{\\partial \\mathbf{B}}{\\partial t}.\\]\n\n\n\n\n\n\n\n\n\nFigure 5: 法拉第做的三个实验\n\n\n\n但这两种机制都产生了 EMF, 且都可以用「磁通量的变化」来描述: \\[\\mathcal{E} = \\operatorname{Flow}_C (\\mathbf{E}) = -\\frac{\\mathrm{d}\\Phi}{\\mathrm{d}t}.\\] 这个巧合直接导致了狭义相对论的出现!"
  },
  {
    "objectID": "posts/em-crash-course/index.html#complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量",
    "href": "posts/em-crash-course/index.html#complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "7 Complexification, Phasor and Jones Vector 场的复化, 相量和琼斯矢量",
    "text": "7 Complexification, Phasor and Jones Vector 场的复化, 相量和琼斯矢量\n\n简要动机\n\nField 场: 空间每一点都附加三个实数 (\\(E^x, E^y, E^z\\)), 且可以随时间变化.\nComplexification 复化: 场在某一点的每个分量都可以看作一个旋转5的复数的实部. 以 \\(E^x\\) 为例: \\[E^x = \\Re (E^x_m e^{j \\varphi(t)})\\] 其中 \\(E^x_m\\) 是 \\(E^x\\) 的最大值, \\(\\varphi(t)\\) 定义了这个复数如何旋转.\nPhasor 相量: 如果场是时谐的 (即每一点的每个分量都是正弦的), 则 \\(\\varphi(t) = \\omega t\\), 可以将这部分剥离出来, 剩下的称为Phasor 相量.\nJones Vector 琼斯矢量: 如果场是不仅是时谐, 还是空谐的, 则可以继续将 \\(e^{-jkz}\\) 剥离出来 (假设波沿 \\(-z\\) 方向传播), 剩下的称为Jones 矢量.\n\n\n5 不能伸缩, 所以要取 \\(E^x\\) 的最大值作为复数的模长.\n表格总结6\n\n6 以电场为例.\n\n\nTable 1: 场的表示, 导数算子在各表示中的形式\n\n\n\n\n\n\n\n\n\n\n\n\nType\nElectric Field\nComplexified Field\nPhasor Field\nJones Vector\n\n\n\n\nDescription\nOriginal field\nReal part of this is the original field\nOnly record the phase at \\(t=0\\)\nOnly record the phase at \\(t=0, z=0\\)\n\n\nNotation\n\\(\\mathbf{E}=\\begin{pmatrix} E^x \\\\ E^y \\\\ E^z \\\\\\end{pmatrix}\\)\n\\(\\underline{\\mathbf{E}}=\\begin{pmatrix} \\underline{E}^x \\\\ \\underline{E}^y \\\\ \\underline{E}^z \\\\\\end{pmatrix}\\)\n\\(\\tilde{\\mathbf{E}}=\\begin{pmatrix} \\tilde{E}^x \\\\ \\tilde{E}^y \\\\ \\tilde{E}^z \\\\\\end{pmatrix}\\)\n\\(J_E=\\begin{pmatrix} J_E^x \\\\ J_E^y \\\\ J_E^z \\\\\\end{pmatrix}\\)\n\n\nMath Nature\n\\(\\mathbb{R}^3 \\to \\mathbb{R}^3 \\times \\mathbb{T}\\)\n\\(\\mathbb{R}^3 \\to \\mathbb{C}^3 \\times \\mathbb{T}\\)\n\\(\\mathbb{R}^3 \\to \\mathbb{C}^3\\)\n\\(\\mathbb{CP}^1\\)\n\n\nRelation\n-\n\\(\\mathbf{E} = \\Re{(\\underline{\\mathbf{E}})}\\)\n\\(\\underline{\\mathbf{E}} = \\tilde{\\mathbf{E}} e^{j \\omega t}\\)\n\\(\\tilde{\\mathbf{E}} = J_E e^{-jkz}\\)\n\n\nExample\n\\(\\begin{pmatrix} \\sin(\\omega t - kz -\\frac{\\pi}{4}) \\\\ \\cos(\\omega t - kz -\\frac{\\pi}{4}) \\\\ 0 \\\\\\end{pmatrix}\\)\n\\(\\begin{pmatrix} -j e^{j(\\omega t - kz - \\frac{\\pi}{4})} \\\\ e^{j(\\omega t - kz - \\frac{\\pi}{4})} \\\\ 0 \\\\\\end{pmatrix}\\)\n\\(\\begin{pmatrix} -je^{j(-kz - \\frac{\\pi}{4})} \\\\ e^{j(-kz - \\frac{\\pi}{4})} \\\\ 0 \\\\\\end{pmatrix}\\)\n\\(\\begin{pmatrix} -j e^{-j \\frac{\\pi}{4}} \\\\ e^{-j \\frac{\\pi}{4}} \\\\ 0 \\\\\\end{pmatrix} \\equiv [-j:1]\\)\n\n\nTime Derivative\n\\(\\frac{\\mathrm{d}}{\\mathrm{d}t}\\)\n-\n\\(j \\omega \\cdot\\)\n\\(\\text{id}(\\cdot)\\)\n\n\n\n\\(\\frac{\\mathrm{d}^2}{\\mathrm{d}t^2}\\)\n-\n\\(-\\omega^2 \\cdot\\)\n\\(\\text{id}(\\cdot)\\)\n\n\nSpace Derivative\n\\(\\nabla^2\\)\n-\n\\(\\nabla^2\\)\n\\(\\text{id}(\\cdot)\\)\n\n\n\n\\(\\nabla \\times\\)\n-\n\\(\\nabla \\times\\)\n-\n\n\n\n\\(\\nabla \\cdot\\)\n-\n\\(\\nabla \\cdot\\)\n-\n\n\n\\(\\Box^2\\)\n\\(\\nabla^2 - \\epsilon \\mu \\frac{\\partial^2}{\\partial t^2}\\)\n-\n\\(\\nabla^2 + k_c^2, \\quad k_c = \\omega \\sqrt{\\epsilon \\mu}\\)\n-\n\n\n\n\n\n\n\n\n\n\n\n\n\n详细动机\n\n\n\n\n\n\nPhasor 相量\n\nTime-harmonic 时谐波: 固定空间的任意一点, 这一点的 \\(\\mathbf{E}\\) 和 \\(\\mathbf{H}\\) 的三个分量都是时间的正弦函数.\n\n没有说空间上是周期性的!\n\nPhasor 相量:\n\n固定角频率 \\(\\omega\\) 的正弦波集合 在向量空间的意义上 同构于复数域 \\(\\mathbb{C}\\), 对应的复数称为 Phasor 相量\n为何同构? 每个正弦波只与初始状态有关, 每个初始状态与一个复数一一对应.\n为何固定角频率? 因为很多系统 (RC 电路, 弹簧振子, etc.) 在正弦输入下所有的物理量 (电压, 电流, 位移, 速度, etc.) 时间上一定是同频的.\n相量 \\(Ae^{j\\theta_0}\\) 中没有时间信息!\n\n对于时谐 EM 波, 我们只关心初始状态, 即相量场: \\(\\tilde{\\mathbf{E}}: \\mathbb{R}^3 \\to \\mathbb{C}^3\\) (三维空间的每个点上在三个方向上各有一个相量).\n\nE.g., 时谐场与相量的转化: \\[\\begin{pmatrix} E^x \\cos(\\omega t - z) \\\\ E^y \\sin(\\omega t - z) \\\\ 0 \\\\\\end{pmatrix} \\xrightarrow{\\text{complexification}} \\begin{pmatrix} E^x e^{j(-z)} e^{j\\omega t} \\\\ E^y (-j) e^{j(-z)} e^{j\\omega t} \\\\ 0 \\\\\\end{pmatrix} \\xrightarrow{\\text{phasor}} \\begin{pmatrix} E^x e^{j(-z)} \\\\ E^y \\boxed{(-j)} e^{j(-z)} \\\\ 0 \\\\\\end{pmatrix}\\]\n\\(\\sin\\) 为什么是 \\(-j\\)? (\\(\\sin\\) 可以看作 \\(\\cos\\) 的求导的相反数, 而求导操作是直接乘 \\(j\\))\n\n\nJones vector 琼斯矢量\n\n动机: 在时谐波的相量表示里, 我们不关心波的频率, 只关心波的初始状态, 所以在相量里我们省略了时间信息 (\\(\\omega t\\)), 只保留了波在每一点的初始相位 (时间意义上的初始), 通过观察这个相位的周期性变化, 所以我们仍然可以在相量中获取波长信息. 但是为了分类偏振状态, 我们也并不关心这个波长信息. 所以我们进一步省略了波长信息, 进一步简化了波的初始状态 (空间意义上的初始), 得到的矢量称为 Jones vector 琼斯矢量.\n\n不失一般性, 先要取坐标系使得波沿 \\(+z\\) 传播 (所以如果是 \\(-z\\) 方向, 所有结论都要取反!!!)\nJones 矢量不再是一个场, 而是一个 (复二维) 向量 (由于我们已经让波沿 \\(+z\\) 传播, 所以 \\(z\\) 分量为 \\(0\\), 后面我们会看到, 其实不止一个复二维向量可以对应一种极化方式, 要模掉他们, 得到的是 Spinors 旋量).\nE.g., 时谐场与 Jones 矢量的转化: \\[\\begin{pmatrix} E^x \\cos(\\omega t - z) \\\\ E^y \\sin(\\omega t - z) \\\\ 0 \\\\\\end{pmatrix} \\xrightarrow{\\text{phasor}} \\begin{pmatrix} E^x e^{j(-z)} \\\\ E^y \\boxed{(-j)} e^{j(-z)} \\\\ 0 \\\\\\end{pmatrix} \\xrightarrow{\\text{Jones}} \\begin{pmatrix} E^x \\\\ E^y (-j) \\\\\\end{pmatrix} \\tag{8}\\]\n\nJones 矢量在 Poincaré Sphere 庞加莱球上7\n\n动机: 我们已经知道一种极化方式可以用一个复二维向量表示, 但是我们会发现, 这种表示并不是唯一的. 所以, 对每一种表示, 我们都只留下一个矢量 (模掉一个等价关系 \\(\\sim\\)), 得到的空间为 \\(\\mathbb{C}^2 / \\sim\\), 其中的元素才是真正的 Jones 矢量 (也称旋量).\n等价关系: 两个 Jones 矢量 \\(J_1 \\sim J_2 :\\iff J_1 = \\alpha J_2\\) for some \\(\\alpha = A e^{j\\theta} \\in \\mathbb{C}^{\\times}\\). 其物理意义是:\n\n不关心空间初始相位: \\[\\begin{pmatrix} E^x \\\\ E^y (-j) \\\\\\end{pmatrix} \\sim e^{j\\theta} \\begin{pmatrix} E^x \\\\ E^y (-j) \\\\\\end{pmatrix}, \\quad \\forall \\theta \\in [0, 2\\pi)\\]\n不关心电磁波的振幅: \\[\\begin{pmatrix} E^x \\\\ E^y (-j) \\\\\\end{pmatrix} \\sim A \\begin{pmatrix} E^x \\\\ E^y (-j) \\\\\\end{pmatrix}, \\quad \\forall A \\in \\mathbb{R}^{\\times}\\]\n\n这正是 \\(\\mathbb{CP}^1\\) 的定义! Surprise!!!\n\n\n\n\n\n\n\n\n7 名字很多: Riemann Sphere (通用), Bloch Sphere (一般在量子力学中), Poincaré Sphere (电磁学), Complex Projective Line \\(\\mathbb{CP}^1\\) (数学中), Extended Complex numbers \\(\\mathbb{\\hat{C}}\\). 其中的元素也叫 Spinors 旋量.\n\n\n\n\n\nTable 1 内容的证明\n\n\n\n\n\n不失一般性, 大部分 Claim 只需证明其中一个分量即可.\n\nLemma 1: The conjugation operation \\(^*\\) distributes over \\(+\\) and \\(\\cdot\\), i.e.,\\[\\begin{aligned} (z+w)^* &= z^* + w^* \\\\ (zw)^* &= z^* w^* \\end{aligned}\\]\nPf. 这是显然的.\nLemma 2: \\(\\frac{\\mathrm{d}}{\\mathrm{d}t}\\) 与 \\(^*\\) 可交换, i.e., \\[\\frac{\\mathrm{d}}{\\mathrm{d}t} \\circ ^* = ^* \\circ \\frac{\\mathrm{d}}{\\mathrm{d}t}\\]\nPf. 设 \\(z(t) = a(t) + jb(t) \\in \\mathbb{C}\\), \\[\n  \\begin{aligned}\n  z^*(t) &= a(t) - jb(t) \\\\\n  \\implies \\frac{\\mathrm{d}}{\\mathrm{d}t} z^*(t) &= \\frac{\\mathrm{d}}{\\mathrm{d}t} (a(t) - jb(t)) = \\frac{\\mathrm{d} a(t)}{\\mathrm{d}t} - j \\frac{\\mathrm{d} b(t)}{\\mathrm{d}t} \\\\\n  &= \\left(\\frac{\\mathrm{d}}{\\mathrm{d}t} z(t)\\right)^*\n  \\end{aligned}\n  \\]\nQ.E.D. (同理可证 \\(\\frac{\\partial}{\\partial x}\\) 和 \\(^*\\) 也可交换)\nLemma 3: \\(\\Re\\) 与 \\(\\frac{\\mathrm{d}}{\\mathrm{d}t}\\) 可交换, i.e., \\[\\Re \\circ \\frac{\\mathrm{d}}{\\mathrm{d}t} = \\frac{\\mathrm{d}}{\\mathrm{d}t} \\circ \\Re\\]\nPf. \\(\\Re\\) 是 \\(+\\) 和 \\(\\cdot\\) 的组合, 由 Lemma 1 和 Lemma 2 易证.\nClaim 1: \\(~\\tilde{}~\\) 与 \\(\\frac{\\mathrm{d}}{\\mathrm{d}t}\\) 可交换, i.e., \\[\\widetilde{\\frac{\\mathrm{d}}{\\mathrm{d}t} E^x} = j \\omega \\tilde{E^x}\\]\nPf. 时谐波一定满足: \\[\n  \\begin{aligned}\n  E^x &= \\Re{(\\tilde{E}^x e^{j \\omega t})} \\\\\n  \\implies \\frac{\\mathrm{d}}{\\mathrm{d}t} E^x &= \\frac{\\mathrm{d}}{\\mathrm{d}t} \\Re{(\\tilde{E}^x e^{j \\omega t})} \\\\\n  &= \\Re{(\\tilde{E}^x \\frac{\\mathrm{d}}{\\mathrm{d}t} e^{j \\omega t})} \\\\\n  &= \\Re{(\\tilde{E}^x j \\omega e^{j \\omega t})} \\\\\n  \\implies\\widetilde{\\frac{\\mathrm{d}}{\\mathrm{d}t} E^x} &= j \\omega \\tilde{E}^x\n  \\end{aligned}\n  \\]\nQ.E.D. (同理可证 \\(~\\tilde{}~\\) 与 \\(\\frac{\\partial}{\\partial x}\\) 也可交换)\nClaim 2: \\(~\\tilde{}~\\) 与 \\(\\nabla^2\\) 可交换, i.e., \\[\\widetilde{\\nabla^2 E^x} = \\nabla^2 \\tilde{E}^x\\]\nPf. \\(\\nabla^2\\) 是 \\(\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}, \\frac{\\partial}{\\partial z}\\) 的复合和线性组合, 由 Claim 1 可证.\nQ.E.D. (同理可证 \\(~\\tilde{}~\\) 与 \\(\\nabla \\times\\) 和 \\(\\nabla \\cdot\\) 也可交换)\n\n另外注意: \\[\\widetilde{E \\times H} \\neq \\tilde{E} \\times \\tilde{H}\\]"
  },
  {
    "objectID": "posts/em-crash-course/index.html#maxwells-equations-麦克斯韦方程组",
    "href": "posts/em-crash-course/index.html#maxwells-equations-麦克斯韦方程组",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "8 Maxwell’s Equations 麦克斯韦方程组",
    "text": "8 Maxwell’s Equations 麦克斯韦方程组\n\n8.1 Without magnetic monopoles 无磁单极子\n\\[\n\\nabla \\cdot \\mathbf{D} = \\rho_f\n\\tag{9}\\] \\[\n\\nabla \\cdot \\mathbf{B} = 0\n\\tag{10}\\] \\[\n\\nabla \\times \\mathbf{E} = -\\frac{\\partial \\mathbf{B}}{\\partial t}\n\\tag{11}\\] \\[\n\\nabla \\times \\mathbf{H} = \\mathbf{j}_f + \\frac{\\partial \\mathbf{D}}{\\partial t}\n\\tag{12}\\]\n\nSource-free 无源: 没有自由电荷, i.e., \\(\\rho_f = 0\\).\nLossless 无损: 当 \\(\\mathbf{E}\\) 存在时不会产生电流, i.e., \\(\\mathbf{j}_f = 0\\) or \\(\\sigma = 0\\).\n\nSource-free Lossless Maxwell’s equations 无源无损介质的麦克斯韦方程组: \\[\n  \\begin{cases}\n      \\nabla \\cdot \\mathbf{D} &= 0 \\\\\n      \\nabla \\cdot \\mathbf{B} &= 0 \\\\\n      \\nabla \\times \\mathbf{E} &= -\\frac{\\partial \\mathbf{B}}{\\partial t} \\\\\n      \\nabla \\times \\mathbf{H} &= \\frac{\\partial \\mathbf{D}}{\\partial t} \\\\\n  \\end{cases}\n   \\tag{13}\\]\n\nIdeal conductor 理想导体: 当 \\(\\mathbf{E}\\) 存在时, 电流无穷大 (所以不能存在 \\(\\mathbf{E}\\)), i.e., \\(\\sigma = \\infty\\).\n\n\n\n8.2 With magnetic monopoles 有磁单极子\n\\[\n\\begin{cases}\n    \\nabla \\cdot \\mathbf{D} &= \\rho_f \\\\\n    \\nabla \\cdot \\mathbf{B} &= \\rho_{mf} \\\\\n    \\nabla \\times \\mathbf{E} &= -\\mathbf{j}_{mf} -\\frac{\\partial \\mathbf{B}}{\\partial t} \\\\\n    \\nabla \\times \\mathbf{H} &= \\mathbf{j}_f + \\frac{\\partial \\mathbf{D}}{\\partial t} \\\\\n\\end{cases}\n\\]\n\n\\(\\rho_{mf}\\): 自由磁荷密度, \\(\\mathbf{j}_{mf}\\): 自由磁流密度\n\n\n\n8.3 Potential functions 势函数的麦克斯韦方程组\n\n我们希望通过引入势函数来将 Maxwell 方程变成只有两个 (称为 D’Alembert 方程).\n我们拿出 Maxwell 方程组的中间两个 (Equation 10 和 Equation 11) 来定义8 \\(\\mathbf{A}\\) 和 \\(\\varphi\\): \\[\n  \\begin{cases}\n      \\nabla \\cdot \\mathbf{B} &= 0 \\\\\n      \\nabla \\times \\mathbf{E} &= -\\frac{\\partial \\mathbf{B}}{\\partial t}\n  \\end{cases}\n  \\implies\n  \\boxed{\n  \\begin{cases}\n      \\mathbf{B} &=: \\nabla \\times \\mathbf{A} \\\\\n      \\mathbf{E} &=: -\\frac{\\partial \\mathbf{A}}{\\partial t} - \\nabla \\varphi\n  \\end{cases}\n  }\n   \\tag{14}\\]\n\n由 \\(\\mathbf{B}\\) 的无散性 (Equation 10) 可引入磁势 \\(\\mathbf{A}\\).\n代入到 Equation 11 由 \\(\\mathbf{E}+\\frac{\\partial \\mathbf{A}}{\\partial t}\\) 的无旋性可引入电势 \\(\\varphi\\).\n\n\n8 说是定义, 其实没有 well-defined, 因为对于给定的 \\(\\mathbf{B}\\), 有无数个磁势 \\(\\mathbf{A}\\) 可以选择 (通过不同的 Gauge). 但是一旦选择了 \\(\\mathbf{A}\\) 的 Gauge, 由 Equation 14 中右边的第二个式子可知 \\(\\varphi\\) 和 \\(\\mathbf{A}\\) 是关联在一起的, 所以 \\(\\varphi\\) 的 Gauge 也就随之确定了 (这叫做 Gauge 变换).\nGauge 变换: 由 Section 2.2 有关 Gauge 的介绍可知: \\(\\varphi\\) 和 \\(\\mathbf{A}\\) 都不是唯一的, 他们可以分别选择各自的 Gauge 吗? 不能! 由 Equation 14 知: \\(\\mathbf{A}\\) 和 \\(\\varphi\\) 是关联在一起的, 当 \\(\\mathbf{A}\\) 变化时, \\(\\varphi\\) 必须跟着变, 稍加推导可得: \\[\n  \\begin{aligned}\n  A \\to A + \\nabla \\psi \\\\\n  \\varphi \\to \\varphi - \\frac{\\partial \\psi}{\\partial t}\n  \\end{aligned}\n   \\tag{15}\\]\n\n\n\n\n\n\n\n\nGauge 变换 (Equation 15) 的证明\n\n\n\n\n\n两个势 (\\(\\mathbf{A}\\) 和 \\(\\varphi\\)) 由以下式子相关联: \\[\n\\mathbf{E} =: -\\frac{\\partial \\mathbf{A}}{\\partial t} - \\nabla \\varphi\n\\]\n当 \\(\\mathbf{A}\\) 变化成 \\(\\mathbf{A} + \\nabla \\psi\\) 时, 假设 \\(\\varphi\\) 变成了 \\(\\varphi'\\). 不管 \\(\\mathbf{A}\\), \\(\\varphi\\) 怎么变, \\(\\mathbf{E}\\) 都不能变, 即: \\[\n\\begin{aligned}\n-\\frac{\\partial \\mathbf{A}}{\\partial t} - \\nabla \\varphi &= -\\frac{\\partial (\\mathbf{A} + \\nabla \\psi)}{\\partial t} - \\nabla \\varphi' \\\\\n&= -\\frac{\\partial \\mathbf{A}}{\\partial t} - \\nabla \\frac{\\partial \\psi}{\\partial t} - \\nabla \\varphi' \\\\\n&= -\\frac{\\partial \\mathbf{A}}{\\partial t} - \\nabla (\\varphi' + \\frac{\\partial \\psi}{\\partial t}) \\\\\n\\implies \\varphi &= \\varphi' + \\frac{\\partial \\psi}{\\partial t} \\\\\n\\implies \\varphi' &= \\varphi - \\frac{\\partial \\psi}{\\partial t}\n\\end{aligned}\n\\]\nQ.E.D.\n\n\n\n\n\n我们把剩下两个方程 (Equation 9 和 Equation 12) 用 Equation 14 中的 \\(\\mathbf{A}\\) 和 \\(\\varphi\\) 替换掉, 得到 D’Alembert 方程: \\[\n  \\begin{cases}\n      \\nabla \\cdot \\mathbf{D} &= \\rho_f \\\\\n      \\nabla \\times \\mathbf{H} &= \\mathbf{j}_f + \\frac{\\partial \\mathbf{D}}{\\partial t}\n  \\end{cases}\n  \\implies\n  \\begin{cases}\n      \\epsilon \\mu \\frac{\\partial^2 \\varphi}{\\partial t^2} - \\nabla^2 \\varphi &= \\frac{1}{\\epsilon} \\rho_f \\\\\n      \\epsilon \\mu \\frac{\\partial^2 \\mathbf{A}}{\\partial t^2} - \\nabla^2 \\mathbf{A} &= \\mu \\mathbf{j}_f - \\nabla (\\nabla \\cdot \\mathbf{A} + \\epsilon \\mu \\frac{\\partial \\varphi}{\\partial t})\n  \\end{cases}\n   \\tag{16}\\]\n\nD’Alembert 算子: 这个算子经常以整体出现, 是 Minkowski 时空 上的 Laplace 算子9: \\[\\boxed{\\Box^2 \\equiv \\nabla^2 - \\epsilon \\mu \\frac{\\partial^2}{\\partial t^2}}\\]\n\n\n9 有地方也省略平方, 或定义为相反数 (sign convention)\nEquation 16 几乎快要对称10了, 但是第二个式子过于魔怔, 我们希望通过选择一个合适的 Gauge, 使后面的 \\(- \\nabla (\\nabla \\cdot \\mathbf{A} + \\epsilon \\mu \\frac{\\partial \\varphi}{\\partial t})\\) 消失掉.\n\nLorenz gauge 洛伦兹规范11: \\[\\boxed{\\nabla \\cdot \\mathbf{A} + \\epsilon \\mu \\frac{\\partial \\varphi}{\\partial t} = 0} \\tag{17}\\] Equation 16 变为 (\\(4\\) 维 Poisson 方程, 非常 nice!): \\[\n  \\boxed{\n  \\begin{cases}\n      \\Box^2 \\varphi = - \\frac{1}{\\epsilon} \\rho_f \\\\\n      \\Box^2 \\mathbf{A} = - \\mu \\mathbf{j}_f\n  \\end{cases}\n  }\n   \\tag{18}\\]\nCoulomb gauge 库伦规范: \\[\\boxed{\\nabla \\cdot \\mathbf{A} = 0} \\tag{19}\\] Equation 16 变为: “rubbish” ╯°Д°）╯ \\[\n  \\begin{cases}\n      \\Box^2 \\varphi = -\\frac{1}{\\epsilon} \\rho_f \\\\\n      \\Box^2 \\mathbf{A} = \\nabla (\\epsilon \\mu \\frac{\\partial \\varphi}{\\partial t}) - \\mu \\mathbf{j}_f\n  \\end{cases}\n  \\]\n\n\n\n10 为什么这里的 \\(\\mu\\) 好像对应的是 \\(1/\\epsilon\\)? 不是说 \\(\\mu\\) 应该对应 \\(\\epsilon\\) 吗? 原因是 \\(\\varphi\\) 和 \\(\\mathbf{A}\\) 就不是「对应」的. \\(\\varphi\\) 用来定义了 \\(\\mathbf{E}\\), 照理来说 \\(\\mathbf{E}\\) 对应 \\(\\mathbf{H}\\), 所以应该定义 \\(\\nabla \\times \\mathbf{A} := \\mathbf{H}\\), 但没这么做, 导致这个地方没有完全对称.11 此 Lorenz 非彼 Lorentz (. 而且这个式子并没有显式地给出 \\(\\psi\\) 是什么, 事实上能不能这样做是需要验证的, 如果存在合法的 \\(\\psi\\) 才能这么做! 所以我们后面对其进行了合法性验证.\n\n\n\n\n\nLorenz gauge 和 Coulomb gauge 的合法性验证\n\n\n\n\n\n我们需要证明 Equation 17 和 Equation 19 中确实定义了 \\(\\psi\\) (也许没有唯一定义, 但我们至少得证明存在一个合法的 \\(\\psi\\)).\n\nEquation 17 的合法性验证:\n将 Equation 15 代入 Equation 17, 得到: \\[\n  \\begin{aligned}\n  \\nabla \\cdot (\\mathbf{A} + \\nabla \\psi) + \\epsilon \\mu \\frac{\\partial}{\\partial t} (\\varphi - \\frac{\\partial \\psi}{\\partial t}) &= 0 \\\\\n  \\implies \\underbrace{\\nabla \\cdot \\mathbf{A} + \\epsilon \\mu \\frac{\\partial \\varphi}{\\partial t}}_{0} + \\nabla \\cdot \\nabla \\psi - \\epsilon \\mu \\frac{\\partial^2 \\psi}{\\partial t^2} &= 0 \\\\\n  \\implies \\nabla^2 \\psi - \\epsilon \\mu \\frac{\\partial^2 \\psi}{\\partial t^2} &= 0 \\\\\n  \\implies \\Box^2 \\psi &= 0\n  \\end{aligned}\n  \\]\n所以这样的 \\(\\psi\\) 肯定是存在的, 只要满足 \\[\\boxed{\\Box^2 \\psi = 0}\\] 所以 Equation 17 是合法的.\nEquation 19 的合法性验证:\n将 Equation 15 代入 Equation 19, 得到: \\[\n  \\begin{aligned}\n  \\nabla \\cdot (\\mathbf{A} + \\nabla \\psi) &= 0 \\\\\n  \\implies \\underbrace{\\nabla \\cdot \\mathbf{A}}_{0} + \\nabla^2 \\psi &= 0 \\\\\n  \\implies \\nabla^2 \\psi &= 0\n  \\end{aligned}\n  \\]\n同理, 这样的 \\(\\psi\\) 肯定也是存在的, 只要满足 \\[\\boxed{\\nabla^2 \\psi = 0}\\] 所以 Equation 19 也是合法的.\n\n\n\n\n\n\n\n8.4 Phasor representation 相量麦克斯韦方程组12\n\\[\n\\begin{cases} \\nabla \\cdot \\mathbf{D} &= \\rho_f \\\\\n\\nabla \\cdot \\mathbf{B} &= 0 \\\\\n\\nabla \\times \\tilde{\\mathbf{E}} &= -j \\omega \\tilde{\\mathbf{B}} \\\\\n\\nabla \\times \\tilde{\\mathbf{H}} &= \\tilde{\\mathbf{j}}_f + j \\omega \\tilde{\\mathbf{D}} \\\\\n\\end{cases}\n\\tag{20}\\]\n由于时谐波的情况下产生的电流 \\(\\mathbf{j}_f\\) 一定也是时谐的: \\(\\tilde{\\mathbf{j}}_f = \\sigma \\tilde{\\mathbf{E}}\\), 我们代入 Equation 20, 得到:\n\\[\n\\begin{cases} \\nabla \\cdot \\mathbf{D} &= \\rho_f \\\\\n\\nabla \\cdot \\mathbf{B} &= 0 \\\\\n\\nabla \\times \\tilde{\\mathbf{E}} &= -j \\omega \\tilde{\\mathbf{B}} \\\\\n\\nabla \\times \\tilde{\\mathbf{H}} &= (\\sigma + j \\omega \\epsilon) \\tilde{\\mathbf{E}} \\\\\n&=: j \\omega \\epsilon_c \\tilde{\\mathbf{E}} \\\\\n\\end{cases}\n\\tag{21}\\]\n\nComplex permittivity 复介电常数 \\(\\epsilon_c\\)\n\n动机: 由于无损介质 (\\(\\sigma = 0\\)) 中第四个 Maxwell 方程是 \\[\\nabla \\times \\mathbf{H} = j \\omega \\epsilon \\tilde{\\mathbf{E}}\\] 我们希望在有损介质的情况下也有形式上完全一样的方程.\n\\(\\epsilon_c\\) 与频率有关13: \\[\\boxed{\\epsilon_c = \\epsilon - j \\frac{\\sigma}{\\omega}}\\]\n\n\n13 就像电容或电感的阻抗 \\(Z\\) 也与频率有关.\n12 Phasor representation 只是 Maxwell 方程组在「时谐」下的特例. 但由于 Fourier 变换, 仅仅考虑这种特例已经足够了 (“faithfully”)."
  },
  {
    "objectID": "posts/em-crash-course/index.html#maxwells-equations-solution-麦克斯韦方程组的解",
    "href": "posts/em-crash-course/index.html#maxwells-equations-solution-麦克斯韦方程组的解",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "9 Maxwell’s Equations Solution 麦克斯韦方程组的解",
    "text": "9 Maxwell’s Equations Solution 麦克斯韦方程组的解\n\n9.1 波在单一无源介质中的传播\n\n9.1.1 \\(\\mathbf{E}\\) 和 \\(\\mathbf{H}\\) 单独的表现 (解耦合)\n\nEquation 11, Equation 12 是经典的两个变量的耦合方程, 显然他的解是波动的, 联立它们 (还有 \\(\\rho_f = 0, \\mathbf{j}_f = \\sigma \\mathbf{E}\\)), 解耦合得到:\n\n时域化简结果: \\[\n  \\begin{cases}\n      \\nabla^2 \\mathbf{E} - \\mu \\sigma \\frac{\\partial \\mathbf{E}}{\\partial t} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{E}}{\\partial t^2} &= 0 \\\\\n      \\nabla^2 \\mathbf{H} - \\mu \\sigma \\frac{\\partial \\mathbf{H}}{\\partial t} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{H}}{\\partial t^2} &= 0\n  \\end{cases}\n   \\tag{22}\\]\n相量域化简结果: 根据 Table 1, 可将 Equation 22 转换为相量形式 (也可以直接联立 Equation 21): \\[\n  \\begin{cases}\n      \\nabla^2 \\tilde{\\mathbf{E}} + k_c^2 \\tilde{\\mathbf{E}} &= 0 \\\\\n      \\nabla^2 \\tilde{\\mathbf{H}} + k_c^2 \\tilde{\\mathbf{H}} &= 0\n  \\end{cases}\n   \\tag{23}\\] 其中 \\[\\boxed{k_c = \\omega \\sqrt{\\epsilon_c \\mu}}\\] 注意 Equation 22 的耗散项 \\(-\\sigma \\mu \\frac{\\partial \\mathbf{E}}{\\partial t}\\) 融入进了复介电常数 \\(\\epsilon_c\\) 里面.\n\n\n\n\n\n\n\n\n\nEquation 22 和 Equation 23 的推导\n\n\n\n\n\n将 Equation 11 再套一层旋度, 得到:\n\\[\n\\nabla \\times (\\nabla \\times \\mathbf{E}) = - \\frac{\\partial}{\\partial t} (\\nabla \\times \\mathbf{B})\n\\tag{24}\\]\n无源条件 (\\(\\nabla \\cdot \\mathbf{E} = 0\\)) 下,\n\\[\n\\begin{aligned}\n\\text{LHS} &= \\nabla \\times (\\nabla \\times \\mathbf{E}) = \\nabla (\\nabla \\cdot \\mathbf{E}) - \\nabla^2 \\mathbf{E} = -\\nabla^2 \\mathbf{E} \\\\\n\\text{RHS} &= - \\frac{\\partial}{\\partial t} (\\nabla \\times \\mathbf{B}) = -\\frac{\\partial}{\\partial t} (\\mu \\mathbf{j}_f + \\epsilon \\mu \\frac{\\partial E}{\\partial t}) = -\\frac{\\partial}{\\partial t} (\\mu \\sigma \\mathbf{E} + \\epsilon \\mu \\frac{\\partial E}{\\partial t})\n\\end{aligned}\n\\]\n由 \\(\\text{LHS} = \\text{RHS}\\) 得到: \\[\n\\nabla^2 \\mathbf{E} - \\mu \\sigma \\frac{\\partial \\mathbf{E}}{\\partial t} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{E}}{\\partial t^2} = 0\n\\tag{25}\\]\n同理可得:\n\\[\n\\nabla^2 \\mathbf{H} - \\mu \\sigma \\frac{\\partial \\mathbf{H}}{\\partial t} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{H}}{\\partial t^2} = 0\n\\]\n现在推导 Equation 23, 有两种方法:\n\n从 Equation 21 开始, 直接联立得到. (Omitted)\n从 Equation 25 开始, 用 Table 1 将其转换到相量表示: \\[\n  \\begin{aligned}\n  \\nabla^2 \\mathbf{E} - \\mu \\sigma \\frac{\\partial \\mathbf{E}}{\\partial t} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{E}}{\\partial t^2} &= 0 \\\\\n  \\implies \\nabla^2 - \\mu \\sigma j \\omega \\tilde{\\mathbf{E}} - \\epsilon \\mu (-\\omega^2) \\tilde{\\mathbf{E}} &= 0 \\\\\n  \\implies \\nabla^2 \\tilde{\\mathbf{E}} + \\mu \\omega^2 (\\epsilon - j \\frac{\\sigma}{\\omega}) \\tilde{\\mathbf{E}} &= 0 \\\\\n  \\implies \\nabla^2 \\tilde{\\mathbf{E}} + \\epsilon_c \\mu \\omega^2 \\tilde{\\mathbf{E}} &= 0\n  \\end{aligned}\n  \\] \\(\\mathbf{H}\\) 同理.\n\n\n\n\n\n\n若无源无损 (\\(\\sigma = 0\\)), 则 Equation 22 变为:\n\n时域化简结果: (右边的是 \\(4\\) 维的 Laplace 方程描述) \\[\n  \\boxed{\n  \\begin{cases}\n      \\nabla^2 \\mathbf{E} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{E}}{\\partial t^2} &= 0 \\\\\n      \\nabla^2 \\mathbf{H} - \\epsilon \\mu \\frac{\\partial^2 \\mathbf{H}}{\\partial t^2} &= 0 \\\\\n  \\end{cases} \\quad \\text{or}\n  \\begin{cases}\n  \\Box^2 \\mathbf{E} = 0 \\\\\n  \\Box^2 \\mathbf{H} = 0 \\\\\n  \\end{cases}\n  }\n   \\tag{26}\\]\n相量域化简结果: 与有损介质中的 Equation 23 一样 (这就是用复数的好处!), 只不过 \\(\\epsilon_c\\) 退化为了 \\(\\epsilon\\): \\[k_c = \\omega \\sqrt{\\epsilon \\mu}\\]\n\nPhase velocity 相速度\n\n将 Equation 26 与波动方程的一般形式比较, 可知相速度 \\[\\boxed{v = \\frac{1}{\\sqrt{\\epsilon \\mu}}}\\]\n\n一般我们说的「波速」就是指相速度. 光在 \\(T\\) 时间里刚好走了一个波长 \\(\\lambda\\) (见 Figure 6), 所以波速就是: \\[\\boxed{v := \\frac{\\lambda}{T} = \\lambda f} \\tag{27}\\]\n光速: 真空中的波速. 神说「要有光」:\\[c = \\frac{1}{\\sqrt{\\epsilon_0 \\mu_0}}.\\]\n特例: 对于 \\(\\epsilon_r, \\mu_0\\) 的介质, 波速为 \\[v = \\frac{1}{\\sqrt{\\epsilon_r \\epsilon_0 \\mu_0}} = \\frac{c}{\\sqrt{\\epsilon_r}}\\]\n\n\n\n\n\n\n\n\n\n\n\nFigure 6: 光在 \\(T\\) 时间里刚好走了一个波长 \\(\\lambda\\)\n\n\n\n\n复值二阶 ODE (Equation 23) 解的结构:\n设 \\(\\mathbf{E}\\) 是平行于 \\(z\\) 传播的水平偏振时谐波, \\(\\tilde{\\mathbf{E}}: \\mathbb{R}^3 \\to \\mathbb{C}^3\\) 为其相量场, 我们只考虑其 \\(x\\) 分量 \\(f \\equiv \\tilde{E}^x: \\mathbb{R}^3 \\to \\mathbb{C}\\), 满足: \\[\n      \\frac{\\partial^2}{\\partial z^2} f + k_c^2 f = 0\n      \\] 这是一个复值二阶 ODE, 其通解为: \\[\n      f = \\underbrace{A e^{j k_c z}}_{-z \\text{ direction}} + \\underbrace{B e^{-j k_c z}}_{+z \\text{ direction}}\n      \\] Let \\(\\gamma := j k_c = \\alpha + j \\beta\\), 则有: \\[\n      \\begin{aligned}\n      f &= A e^{(\\alpha + j \\beta) z} + B e^{-(\\alpha + j \\beta) z} \\\\\n      &= A e^{\\alpha z} e^{j \\beta z} + B e^{-\\alpha z} e^{-j \\beta z} \\\\\n      \\end{aligned}\n      \\] 这是一个衰减和一个增大的复指数信号.\n\n\n\n\n\n\n\n\n复衰减指数信号 (或振荡衰减波) 的参数\n\n\n\n\n\n\n\n\n各参数的例子和可视化\n\n\n时域 (或空间域) 复指数信号是形如 \\(e^{\\gamma t}\\) (或 \\(e^{\\gamma z}\\)) 的函数, 振荡衰减波是其实部. 其中 \\(\\gamma = \\alpha + j \\beta\\) 是一个复数. 其参数含义如下:\n\nPhase constant 相位常数 \\(\\beta\\): \\(1 \\text{ s}\\) (或 \\(1 \\text{ m}\\)) 内复化波转了多少度. 其实就是角波数14 \\(k\\).\n\nPhase factor 相位因子: \\(e^{j \\beta t}\\) (或 \\(e^{j \\beta z}\\))\n\nAttenuation / Decay constant 衰减常数 \\(\\alpha\\): 表示在任意时间 \\(t\\) (或任意位置 \\(z\\)), 若保持当前的衰减速率, \\(1\\text{ s}\\) (或 \\(1\\text{ m}\\)) 内能够衰减当前数量的多少倍.\n\nAttenuation factor 衰减因子: \\(e^{-\\alpha t}\\) (或 \\(e^{-\\alpha z}\\))\n\nTime constant 时间常数15 \\(\\tau := 1/\\alpha\\): 表示在任意时间 \\(t\\) (或任意位置 \\(z\\)), 若保持当前的衰减速率, 衰减完毕所需要的时间 (或空间距离).\nHalf life 半衰期 \\(t_{1/2} := \\ln 2 \\cdot \\tau\\): 表示在任意时间16 \\(t\\) (或任意位置 \\(z\\)), 若保持当前的衰减速率, 衰减到一半所需要的时间 (或空间距离).\n\n\n\n\n\n16 这些参数居然跟具体处于什么时间 (或空间) 无关! 比如一堆放射性元素, 刚开始的时候放射性元素很多, 衰减得很快, 以这个速度衰减一半需要的时间是 \\(t_{1/2}\\). 但过一段时间, 放射性元素的数量减少了, 衰减速度变慢了, 但以这个速度衰减一半所需要的时间还是 \\(t_{1/2}\\)! 这个性质叫做 Self-similarity 自相似性. 15 空间的话其实应该叫「空间常数」. 时间常数之于衰减常数如同: 频率 \\(f\\) 之于周期 \\(T\\), 波长 \\(\\lambda\\) 之于线波数 \\(\\tilde{\\nu}\\).14 其实就是角波数 \\(k\\).\n\n9.1.2 \\(\\mathbf{E}\\) 和 \\(\\mathbf{H}\\) 的关系\n\n本章只研究17 无源介质中向 \\(+z\\) 传播的水平偏振 (\\(\\mathbf{E}\\) 只有 \\(x\\) 分量) 的时谐平面波.\n17 这种波是 Maxwell 方程组的特殊解, 而且比较常见.\n\n\n\n\n\n\nFigure 7: 有损介质中 \\(\\mathbf{E}, \\mathbf{H}\\) 的幅度逐渐减小且它们的相位不同\n\n\n\n\nIntrinsic Impedance 特征阻抗 \\(\\eta_c\\): 在这种情况下, \\(\\mathbf{E}\\) 和 \\(\\mathbf{H}\\) 始终垂直, 且它们的相位和幅度关系由复数 \\(\\eta_c\\) 衡量: \\[\n  \\boxed{\n  \\eta_c := \\frac{\\tilde{E}^x}{\\tilde{H}^y} = \\sqrt{\\frac{\\mu}{\\epsilon_c}}}\n   \\tag{28}\\]\n\n\\(\\eta_c\\) 的单位恰好为 \\(\\Omega\\): \\(E: [\\text{V/m}], H: [\\text{A/m}]\\).\n无损介质中 \\(\\eta_c\\) 退化为实数, 即 \\[\\eta = \\frac{E}{H} = \\sqrt{\\frac{\\mu}{\\epsilon}} \\tag{29}\\] 表明 无损介质中 \\(\\mathbf{E}\\) 和 \\(\\mathbf{H}\\) 是同相的 (见 Figure 7). 而且我们有:\n\n\\(E\\) 恰好是 \\(B\\) 的波速倍: \\[\\boxed{\\frac{E}{B} = \\frac{E}{\\mu H} = \\frac{1}{\\sqrt{\\epsilon \\mu}} = v}\\]\n真空中的特征阻抗: \\[\\eta_0 = \\sqrt{\\frac{\\mu_0}{\\epsilon_0}} \\approx 377 ~\\Omega\\] 说明一般情况下 \\(E\\) 都要比 \\(H\\) 大很多.\n\n\n\n\n\n\n\n\n\n\n特征阻抗 Equation 28 的推导\n\n\n\n\n\n设该电磁波是:\n\n沿 \\(+z\\) 方向传播的平面波\n水平偏振, 即 \\(\\mathbf{E}\\) 只有 \\(x\\) 分量, \\(\\mathbf{H}\\) 只有 \\(y\\) 分量.\n时谐, 但随空间指数衰减18 (因为有损介质 \\(\\sigma \\neq 0\\)).\n\n\\[\n\\tilde{\\mathbf{E}} = \\begin{pmatrix} \\tilde{E}^x \\\\ 0 \\\\ 0 \\end{pmatrix}, \\quad \\tilde{\\mathbf{H}} = \\begin{pmatrix} 0 \\\\ \\tilde{H}^y \\\\ 0 \\end{pmatrix}\n\\]\n代入 Equation 11 (或 Equation 12, 再用 Table 1 翻译成相量表示): \\[\n\\begin{aligned}\n\\nabla \\times \\tilde{\\mathbf{E}} &= -\\frac{\\partial}{\\partial t} \\tilde{\\mathbf{B}} \\\\\n\\implies \\begin{pmatrix} 0 \\\\ (- \\gamma) \\tilde{E}^x \\\\ 0 \\end{pmatrix} &= \\begin{pmatrix} 0 \\\\ (-j \\omega) \\tilde{B}^y \\\\ 0 \\end{pmatrix} \\\\\n\\implies \\frac{\\tilde{E}^x}{\\tilde{B}^y} &= \\frac{j \\omega}{\\gamma} = \\frac{j \\omega}{j k_c} = \\frac{\\omega}{k_c} = \\frac{\\omega}{\\omega \\sqrt{\\epsilon_c \\mu}} = \\frac{1}{\\sqrt{\\epsilon_c \\mu}} \\\\\n\\implies \\frac{\\tilde{E}^x}{\\tilde{H}^y} &= \\frac{\\mu}{\\sqrt{\\epsilon_c \\mu}} = \\sqrt{\\frac{\\mu}{\\epsilon_c}} =: \\eta_c\n\\end{aligned}\n\\]\n\n\n\n\n18 不能假设空谐!\n电磁波的能量密度: 在无损介质中, 空间中某一点的能量密度有电场和磁场的贡献: \\[\\boxed{u = \\frac{1}{2} \\epsilon E^2 + \\frac{1}{2} \\mu H^2}\\]\n\n由 Equation 29 可知: 电场和磁场贡献的能量是一样的: \\[\\boxed{\\frac{1}{2} \\epsilon E^2 = \\frac{1}{2} \\mu H^2}\\]\n由于 \\(E\\) 和 \\(H\\) 在每一点都是不一样的, 假设是时谐波, 我们想求出空间中某一点 \\(u\\) 的时间平均值. 只考虑电场, 其平均值为 \\(\\epsilon E_m^2/4\\), 再乘 \\(2\\) 得: \\[\\langle u \\rangle = \\frac{1}{2} \\epsilon E_m^2 \\tag{30}\\]\nEnergy Flux Density 能流密度: 单位时间流过单位面积的能量 (即单位面积的功率, 也叫 Intensity 强度), 由于 \\(1\\text{ s}\\) 内单位面积吸收了数值上为波速 \\(v\\) 长度的能量, 只需要将 Equation 30 放大 \\(v\\) 倍: \\[I := \\text{Energy Flux Density} = \\frac{1}{2} v \\epsilon E_m^2\\]\nPoynting vector \\(\\mathbf{S}\\): 一个矢量, 我们希望用它的方向表征能量流动的方向, 长度的时间平均代表能流密度. 可以证明以下定义可同时满足这两个需求: \\[\\boxed{\\mathbf{S} := \\mathbf{E} \\times \\mathbf{H}} \\tag{31}\\]\n\n\\(\\langle S \\rangle\\) 与能流密度的关系: \\[\\langle S \\rangle = I = \\frac{1}{2} v \\epsilon E_m^2\\]\n\\(\\langle \\mathbf{S} \\rangle\\) 的相量表示: \\[\\boxed{\\langle \\mathbf{S} \\rangle = \\frac{1}{2} \\Re (\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^*)} \\tag{32}\\]\n\n\n\n\n\n\n\n\n\n\n\\(\\mathbf{S}\\) 为什么这么定义 Equation 31?\n\n\n\n\n\n首先 \\(\\mathbf{S}\\) 的方向肯定是波传播的方向, 我们只需要验证其长度的时间平均值是能流密度.\n\\[\n\\begin{aligned}\nS &= EH = \\frac{E^2}{\\eta} \\\\\n\\implies \\langle S \\rangle &= \\frac{1}{2} \\frac{E_m^2}{\\eta} \\\\\n&= \\frac{1}{2} \\sqrt{\\frac{\\epsilon}{\\mu}} E_m^2 \\\\\n&= \\frac{1}{2} \\epsilon \\sqrt{\\frac{1}{\\epsilon \\mu}} E_m^2 \\\\\n&= \\frac{1}{2} \\epsilon v E_m^2 = \\text{Energy Flux Density}\n\\end{aligned}\n\\]\n\n\n\n\n\n\n\n\n\n\n\nEquation 32 的证明\n\n\n\n\n\nPf.\n\\[\n\\begin{aligned}\n\\mathbf{S} = \\mathbf{E} \\times \\mathbf{H} &= \\Re{(\\tilde{\\mathbf{E}} e^{j \\omega t}) \\times \\Re{(\\tilde{\\mathbf{H}} e^{j \\omega t})}} \\\\\n&= \\frac{1}{2} \\left(\\tilde{\\mathbf{E}} e^{j \\omega t} + \\tilde{\\mathbf{E}}^* e^{-j \\omega t}\\right) \\times \\frac{1}{2} \\left(\\tilde{\\mathbf{H}} e^{j \\omega t} + \\tilde{\\mathbf{H}}^* e^{-j \\omega t}\\right) \\\\\n&= \\frac{1}{4} \\left(\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}} e^{2 j \\omega t} + \\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^* + \\tilde{\\mathbf{E}}^* \\times \\tilde{\\mathbf{H}} + \\tilde{\\mathbf{E}}^* \\times \\tilde{\\mathbf{H}}^* e^{-2 j \\omega t}\\right) \\\\\n\\implies \\langle \\mathbf{S} \\rangle = \\langle \\mathbf{E} \\times \\mathbf{H} \\rangle &= \\frac{1}{4} \\left(\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^* + \\tilde{\\mathbf{E}}^* \\times \\tilde{\\mathbf{H}}\\right) \\\\\n&= \\frac{1}{4} \\left(\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^* + \\left(\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^*\\right)^*\\right) \\\\\n&= \\frac{1}{2} \\Re (\\tilde{\\mathbf{E}} \\times \\tilde{\\mathbf{H}}^*)\n\\end{aligned}\n\\]\nQ.E.D.\n\n\n\n\n\n\n\n9.2 平面波经过两种介质的界面\n\n一个时谐波 \\(\\mathbf{E}_i\\) 从介质 1 入射 (Incident) 介质 2 时, 会发生反射 (Reflect) 和折射 (继续传播, Transmit), 这两种波的相量与入射波相量和介质的性质有关:\n\nReflection coefficient 反射系数: \\[\\boxed{\\Gamma := \\frac{\\tilde{E}_r}{\\tilde{E}_i} = \\frac{\\eta_{2c} - \\eta_{1c}}{\\eta_{2c} + \\eta_{1c}}} \\tag{33}\\] 有些地方 ([1]) 把反射系数定义为反射的能量占比: \\[R := \\left| \\Gamma \\right|^2 = \\left| \\frac{\\eta_{2c} - \\eta_{1c}}{\\eta_{2c} + \\eta_{1c}} \\right|^2\\]\nTransmission coefficient 透射系数: \\[\\boxed{\\tau := \\frac{\\tilde{E}_t}{\\tilde{E}_i} = \\frac{2 \\eta_{2c}}{\\eta_{2c} + \\eta_{1c}}} \\tag{34}\\] 也可以用能量占比来定义: \\[T := \\left| \\tau \\right|^2 = \\left| \\frac{2 \\eta_{2c}}{\\eta_{2c} + \\eta_{1c}} \\right|^2\\]\n能量守恒: \\[R + T = 1\\]\n\n\n\n\n\n\n\n\n\n从边界条件推导反射系数和透射系数\n\n\n\n\n\n利用切向边界条件:\n\\[\n\\begin{aligned}\n    &\\begin{cases}\n    \\tilde{E}_{1t} &= \\tilde{E}_{2t} \\\\\n    \\tilde{H}_{1t} &= \\tilde{H}_{2t}\n    \\end{cases} \\\\\n    \\implies &\n    \\begin{cases}\n    \\tilde{E}_i + \\tilde{E}_r &= \\tilde{E}_t \\\\\n    \\tilde{H}_i - \\tilde{H}_r &= \\tilde{H}_t\n    \\end{cases} \\\\\n    \\implies &\n    \\begin{cases}\n    \\tilde{E}_i + \\tilde{E}_r &= \\tilde{E}_t \\\\\n    \\frac{\\tilde{E}_i - \\tilde{E}_r}{\\eta_{1c}} &= \\frac{\\tilde{E}_t}{\\eta_{2c}}\n    \\end{cases}\n\\end{aligned}\n\\]\n求解即可得到 Equation 33 和 Equation 34.\n反射的本质是为了让偏微分方程的解满足边界条件而引入的修正项, 如果不引入 \\(\\tilde{E}_r\\), 则由切向边界条件得:\n\\[\n\\begin{cases}\n\\tilde{E}_i &= \\tilde{E}_t \\\\\n\\frac{\\tilde{E}_i}{\\eta_{1c}} &= \\frac{\\tilde{E}_t}{\\eta_{2c}}\n\\end{cases}\n\\]\n这是无解的."
  },
  {
    "objectID": "posts/em-crash-course/index.html#harmonic-waves-谐波",
    "href": "posts/em-crash-course/index.html#harmonic-waves-谐波",
    "title": "Electromagnetism Crash Course 电磁场与波速成笔记",
    "section": "10 Harmonic Waves 谐波",
    "text": "10 Harmonic Waves 谐波\n\n10.1 Wave parameters 波参数\n\nEM 波并不都是 Harmonic 的. 可以在空间上周期, 也可以在时间上周期.\n谐波在 「空间」 和 「时间」 都是周期性的振动, 怎么描述这种振动的快慢呢:\n\n单位长度 (或 时间) 内振了几下.\n\n(linear) wave number 波数 \\(\\tilde{\\nu}\\): \\(1\\text{ m}\\) 内振了几下.\nfrequency 频率 \\(f\\): \\(1\\text{ s}\\) 内振了几下.\n\n振一下花了多少长度 (或 时间).\n\nwavelength 波长 \\(\\lambda\\): 振一下占了多少米.\nperiod 周期 \\(T\\): 振一下花了多久.\n\n以上二者度量方法相反, 显然数值上互为倒数: \\(\\tilde{\\nu} = 1/\\lambda, f = 1/T\\).\n角度的世界: 周期性的东西可以很自然的 wind up to 一个圆上, 度量方式也从「振了几下」变成了「转了多少度」. 每振一下对应 \\(2\\pi\\). 所以以上四个概念通通可翻译成角度世界的度量: 乘 \\(2\\pi\\).\n\nangular wave number 角波数 \\(k\\), angular frequency 角频率 \\(\\omega\\), angular wavelength 角波长 \\(\\bar{\\lambda}\\), angular period 角周期 \\(\\bar{T}\\).\n\\(\\cos\\) 里面 还有 \\(e\\) 指数 上的量 就是角度世界的生物, 现实世界的量 (\\(\\tilde{\\nu}, f, \\lambda, T\\)) 不允许不乘 \\(2\\pi\\) 出现在这些地方. (错误搭配: \\(\\cos (ft)\\), \\(e^{j \\tilde{\\nu} x}\\))\n\n\n\n线性世界中的参数 与 角度世界的参数 的关系\n\n\n\n\n\n\n\n10.2 Polarization 极化 (偏振)\n\n一束光可以分解一些光波的叠加, 每个光波 (的电场分量) 都只会表现出 Figure 8 的三种状态之一, 称为 Polarization 极化. 当一束光里面的光波几乎都以相同方式极化时, 这束光就被称为 Polarized 偏振光.\n\n\n\n\n\n\nFigure 8: 电磁波的三种极化状态\n\n\n\n圆极化可以进一步分为右旋圆极化和左旋圆极化.\n\nRight-handed 右旋圆极化: 固定空间19一点, 其电场的随时间旋转方向用右手环绕时, 大拇指指向光波传播方向.\nLeft-handed 左旋圆极化: 固定空间一点, 其电场的随时间旋转方向用左手环绕时, 大拇指指向光波传播方向.\n\n\n19 注意一定是固定空间而不是时间, 不然就搞反了!\n\n\n\n\n\n右旋圆极化\n\n\n\n\n\n\n\n左旋圆极化\n\n\n\n\n\n\n10.2.1 极化类型的判断:\n\n\n\n\n\n\nFigure 9: 庞加莱球上的每个点代表了一种极化类型\n\n\n\n\n我们知道 \\(\\mathbb{CP}^1\\) 上的点可以用 Homogeneous coordinates 齐次坐标 \\([z:1]\\) 表示 (\\(\\infty\\) 用 \\([1:0]\\) 表示), 如 Figure 9:\n\n\\([0:1]\\) Vertical 垂直极化 (因为水平分量 \\(z = 0\\))\n\\([1:0]\\) Horizontal 水平极化 (因为垂直分量 \\(1/z = 0\\))\n\\([1:1]\\) Diagonal 对角极化 (因为水平分量和垂直分量在任意时刻相等)\n\\([-1:1]\\) Anti-diagonal 反对角极化 (因为水平分量和垂直分量在任意时刻相等但符号相反)\n\\([j:1]\\) Right-handed Circular 右旋圆极化20 (比如在 Equation 8 中, 当 \\(E^x = E^y = 1\\) 时就是这种极化).\n\\([-j:1]\\) Left-handed Circular 左旋圆极化\n\n当 \\(E^x \\neq E^y\\) 时, 为 Elliptical 椭圆极化. 在 Figure 9 的 R 半球上则为 Right-handed Elliptical 右旋椭圆极化, 在 L 半球上则为 Left-handed Elliptical 左旋椭圆极化.\n\n\n\n\n20 记忆方法: 将虚轴 \\(j\\mathbb{R}\\) 横过来, \\(j\\) 在正半轴 (右边), 所以对应的就是右旋圆极化."
  },
  {
    "objectID": "posts/dsp-crash-course/index.html",
    "href": "posts/dsp-crash-course/index.html",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "",
    "text": "本笔记是本人电子科技大学格院大三《数字信号处理》课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 不保证严谨性和绝对正确性."
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#fft-快速傅里叶变换",
    "href": "posts/dsp-crash-course/index.html#fft-快速傅里叶变换",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "1 FFT 快速傅里叶变换",
    "text": "1 FFT 快速傅里叶变换"
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#fourier-transform-傅里叶变换",
    "href": "posts/dsp-crash-course/index.html#fourier-transform-傅里叶变换",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "2 Fourier Transform 傅里叶变换",
    "text": "2 Fourier Transform 傅里叶变换"
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#complex-analysis-basics-复变函数基础",
    "href": "posts/dsp-crash-course/index.html#complex-analysis-basics-复变函数基础",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "3 Complex Analysis Basics 复变函数基础",
    "text": "3 Complex Analysis Basics 复变函数基础"
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#mathcalz-变换-mathcall-变换",
    "href": "posts/dsp-crash-course/index.html#mathcalz-变换-mathcall-变换",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "4 \\(\\mathcal{Z}\\) 变换, \\(\\mathcal{L}\\) 变换",
    "text": "4 \\(\\mathcal{Z}\\) 变换, \\(\\mathcal{L}\\) 变换\n\n在傅立叶分析中我们用 线性空间和内积 的思维框架来处理信号, 但是在 \\(\\mathcal{Z}\\) 变换和 \\(\\mathcal{L}\\) 变换中, 一般用 级数 来思考.\n\n\n4.1 动机: 复频率的引入\n\n动机很重要, 它决定了今后你对 \\(\\mathcal{Z}\\) 变换和 \\(\\mathcal{L}\\) 变换的 Mental picture.\n\n\\(\\mathcal{Z}\\) 变换和 \\(\\mathcal{L}\\) 变换初看有点不自然, 是因为复频率的引入经历了以下几个重要的数学思想:\n\n不妨都在复数域上看一看: 这导致了 Complexification 复化 (见 EM Crash Course) 这个概念. 这将从 “研究复信号的实部” 到 “研究复信号本身”.\n复频率的引入: 由于指数信号和正弦信号都长这样 \\(e^{s t}\\) (\\(s\\) 是实数或纯虚数的区别), 我们发现指数增长和振荡的本质在复信号看来是一样的, 干脆让 \\(s\\) 为复数, 它的:\n\n实部 \\(\\Re(s)\\) 代表指数增长\n虚部 \\(\\Im(s)\\) 代表振荡\n\n称 \\(x(t)\\) 在 \\(e^{s t}\\) 基上的 Fourier 变换为 Laplace 变换. (要注意内积的话要取共轭 \\(e^{-st}\\))\n\n动机: 我们可以将「频率 \\(\\omega\\)」这个概念推广到 \\(\\mathbb{C}\\) 上!\n\n如果是离散时间信号, 频率一定限制在 \\([0, 2\\pi]\\) 之间, 一个很自然的想法是用一个复数 \\(z\\) 的:\n\n角度 \\(\\omega\\) 来表示频率\n模长 \\(r\\) 来表示指数衰减\n\n所以\n\n\\(\\mathcal{Z}\\)-Transform: 我们可以将每一个离散时间信号 \\(x[n]\\) 都对应一个复变函数 \\(X(z)\\): \\[\n      X(z) := \\sum_{n=-\\infty}^{+\\infty} x[n] z^{-n}.\n       \\tag{1}\\] 即将 \\(x[n]\\) 作为一个 Laurent 级数的系数. 称 \\(X(z)\\) 为 \\(x[n]\\) 的 \\(\\mathcal{Z}\\) 变换.\n\n使 Equation 1 收敛的 \\(z\\) 的集合称为 ROC (收敛域).\n任何一个复变函数1 \\(X(z)\\) 在单位圆上的取值即为 其 Laurent 级数的系数 Fourier 变换的结果.\n由对偶性知: 任何一个复变函数 \\(X(z)\\) 在单位圆上取值的 Fourier 变换的结果即为 其 Laurent 级数的系数.\n\n\n1 这个复变函数应该在包含单位圆的一个 Annulus 上解析 (holomorphic).\n\\(\\mathcal{L}\\)-Transform: 多一个对数映射, 单位圆变成了虚轴: \\[ X(s) := \\int_{-\\infty}^{+\\infty} x(t) e^{-st} dt.  \\tag{2}\\]\n\n使 Equation 2 收敛的 \\(s\\) 的集合称为 ROC (收敛域).\n\\(X(s)\\) 在虚轴上的取值即为 \\(x(t)\\) 的 Fourier 变换的结果.\n\n\n\n\n\\(z = e^s\\)\n\n\n\n\n\n\nCode\nimport {PlotContext, ComplexVariable, DomainColoringLayer, glslFunctionMapping} from \"39fe342decb60c30\"\n\nviewof expr = Inputs.text({\n    label: \"Function f(z)=\",\n    value: \"(z-0.5)*(z+0.7)/((z+0.4*i)*(z-0.4*i))\",\n    placeholder: \"e.g. (z-i)/(z+1)\"\n})\n\ndomainColoringConfig = ({\n    phaseColoring: 1,\n    phaseShading: 0,\n    magnitudeShading: 0\n})\n\nplot = PlotContext({\n    xrange: [-1.4, 1.4],\n    yrange: [-1.2, 1.2],\n    width: 0.7*width,\n    height: Math.max(400, Math.floor(width * 0.4))\n})\n\nplot([DomainColoringLayer(expr, \"z\", domainColoringConfig)])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n4.2 ROC (Region of Convergence) 收敛域\n\n关键信息:\n\n包不包含单位圆: 包含 -&gt; BIBO Stable\n向外还是向内:\n\n外 -&gt; Right-sided\n内 -&gt; Left-sided\n环 -&gt; Finite-length\n\nCausal 是 Right-sided 的特例, 仅看 ROC 不能判断 causal.\n\n\\(s\\) 平面右侧 和 \\(z\\) 平面圆外 为 原信号乘上衰减的指数信号后 Fourier 变换的结果.\n\\(s\\) 平面左侧 和 \\(z\\) 平面圆内 为 原信号乘上增长的指数信号后 Fourier 变换的结果.\nROC 的边界一定有 pole! ROC 的内部一定不包含 pole!\n\n\n\n\\(z\\) 平面的 ROC"
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#transfer-function-的分类",
    "href": "posts/dsp-crash-course/index.html#transfer-function-的分类",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "5 Transfer Function 的分类",
    "text": "5 Transfer Function 的分类\n\n5.1 Time 时间上\n\nFIR\nIIR\n\n\n\n5.2 Freq 频域上\n\n幅度 \\(|H|\\):\n\n理想滤波器: Passband, Stopband (涉及的概念)\nBR (Bounded Real): 因果、稳定、实系数系统, \\(|H| \\leq 1\\), 由 Parseval’s 定理知: 能量减少 $ |Y|^2 |X|^2 $ Passive structure.\nLBR (Lossless BR): 因果、稳定、实系数系统, \\(|H| = 1\\). 能量无损耗.\nAll pass 全通: 仅仅是 \\(|H| = 1, \\forall \\omega\\).\n\nMirror-image Polynomial 镜像多项式: 比如以下两个多项式互为镜像:\\[\\begin{aligned}D_3(z) &= 1 + 2z^{-1} + 3z^{-2} + 4z^{-3} \\\\ D_3^{\\circ}(z) &= 4 + 3z^{-1} + 2z^{-2} + z^{-3} \\end{aligned}\\]\n实系统 \\(H(z) = \\frac{B(z)}{A(z)}\\) all-pass \\(\\iff\\) \\(B(z)\\) 与 \\(A(z)\\) 互为镜像.\n\n\n\n\n\n\n\n\n\n\nPROOF: 实系统全通等价于分子与分母互为镜像\n\n\n\n\n\n我们知道对于实系统 \\(H(e^{j \\omega})\\), \\[\nH^*(e^{j \\omega}) = H(e^{-j \\omega}).\n\\]\n\n\n\n\n\n相位 \\(\\angle H\\):\n\nGroup Delay 群延迟: \\(\\omega\\) 的频率成分通过系统后延迟了多少秒. 反过来思考, 我们知道延迟 \\(\\tau\\) 会导致不同的频点有不同的相位变化 (乘了 \\(e^{-j\\omega \\tau}\\)), 相位变化为 \\(-\\omega \\tau\\). 那对于一般的系统, 在频点 \\(\\omega\\) 的相位变化就是 \\(\\angle H(\\omega)\\), 如何从中获取 \\(\\tau\\)? \\[ \\tau_g (\\omega) = - \\frac{\\mathrm{d} (-\\omega \\tau)}{\\mathrm{d} \\omega} = \\frac{\\mathrm{d} \\angle H(\\omega)}{\\mathrm{d} \\omega}. \\]\nZero-Phase 零相位系统: \\(H \\in \\mathbb{R}\\) 且 \\(|H| \\ge 0\\). 注意幅值也要非负! 对因果系统不存在??\nLinear-Phase 线性相位系统: 就是时域延迟系统 (群延迟为常数), i.e., 波通过系统后在 \\(\\omega\\) 频点上的相位变化 \\(\\propto \\omega\\), 正比系数就是 \\(\\tau\\), 表现为信号延迟了 \\(\\tau\\) 秒.\nMinimum Phase 最小相位系统: \\(H\\) 的 zeros 都在单位圆内.\nMaximum Phase 最大相位系统: \\(H\\) 的 zeros 都在单位圆外.\nMixed Phase 混合相位系统: \\(H\\) 的 zeros 在单位圆内外都有."
  },
  {
    "objectID": "posts/dsp-crash-course/index.html#digital-filter-数字滤波器",
    "href": "posts/dsp-crash-course/index.html#digital-filter-数字滤波器",
    "title": "DSP Crash Course 数字信号处理速成笔记",
    "section": "6 Digital Filter 数字滤波器",
    "text": "6 Digital Filter 数字滤波器\n\ndB 分贝: 人类的构造决定了感知物理量 (声音、光强等) 是对数的, 我们引入 dB 分贝: \\[ (-) \\quad 10 \\lg |H|^2. \\]\n\n\\(10\\) 表示 d, 平方表示功率.\n放大 \\(-0.1 \\text{ dB}\\) 也称 attenuate \\(0.1 \\text{ dB}\\), 包含负号.\n\n\n\n6.1 Characteristics 数字滤波器指标\n以 LPF 为例, 关键参数:\n\nTolerance 容差: \\(\\delta_p, \\delta_s\\).\nEdge Frequency 边界频率: \\(\\omega_p, \\omega_s\\).\n\n若不在 \\([0, \\pi]\\) 内, 则需要 数字归一化: \\(\\omega_p = 2\\pi \\frac{F_p}{F_{\\text{sample}}}.\\)\n\n\n\n\n\n\n\n\n\nEXAMPLE: 边界频率的归一化\n\n\n\n\n\nLet the specified passband and stopband edge frequencies of a digital highpass filter operating at a sampling rate of \\(25 \\text{ kHz}\\) be \\(7 \\text{ kHz}\\) and \\(3 \\text{ kHz}\\), respectively. We determine the corresponding band edge frequencies of the digital filter: \\[\n\\omega_p = \\frac{2\\pi (7 \\times 10^3)}{25 \\times 10^3} = 0.56\\pi, \\quad\n\\omega_s = \\frac{2\\pi (3 \\times 10^3)}{25 \\times 10^3} = 0.24\\pi.\n\\]\n\n\n\n\n\nPeak Passband Ripple 峰值通带波纹: \\(\\boxed{\\alpha_p = -20 \\lg (1- \\delta_p)}\\), 越小越好.\nMinimum Stopband Attenuation 最小阻带衰减: \\(\\boxed{\\alpha_s = -20 \\lg \\delta_s}\\), 越大越好.\n\n\n\nCharacteristics of a LPF\n\n\n\n\n\n6.2 Design 数字滤波器设计\n\nObjective: 设计出来的必须是 causal 和 stable 的. IIR 和 FIR 的优缺点:\n\nIIR: 一般 lower order, 计算复杂度低, 但要确保稳定. 可想象成反馈系统.\nFIR: 一般 higher order, 计算复杂度高, 一定稳定. 可想象成开环系统.\n\n\n\n6.2.1 IIR 数字滤波器设计\n\n步骤\n\nConvert the digital filter specifications into analog lowpass prototype one. (因为 analog filter 的设计方法有很多表可以查, 更成熟)\nDetermine the analog lowpass filter \\(H_a(s)\\) meeting these specifications.\nTransform it into the desired digital filter transfer function \\(G(z)\\). (涉及到 \\(s\\) 域到 \\(z\\) 域的变换)\n\nImpulse Invariance Method 脉冲不变法: 数字系统的冲激响应是模拟系统冲激响应在采样点处的取值. (会发生混叠 aliasing)\n\n\n\n\nEXAMPLE: 脉冲不变法举例\n\n\n\nBilinear Transformation 双线性变换:"
  },
  {
    "objectID": "posts/create-first-web/index.html",
    "href": "posts/create-first-web/index.html",
    "title": "Create your own website using Hugo on MacOS",
    "section": "",
    "text": "Building a generic website from scratch is a tough work. However, personal websites for blogs, a special type of website, is actually programmatic. Hugo provides a convenient building templates for that. To make a new blog in Hugo, one could only just create a new folder, write a markdown file (in a specific format) and that’s it. You don’t need ANY knowledge about HTML or CSS. Well do you need to buy a domain name for everyone to see your posts? Well, GitHub Pages is a free service where you just push some contents in a repository of your own with some extremely easy command line, you created your sites of names like yourname.github.io."
  },
  {
    "objectID": "posts/create-first-web/index.html#introduction-and-overview",
    "href": "posts/create-first-web/index.html#introduction-and-overview",
    "title": "Create your own website using Hugo on MacOS",
    "section": "",
    "text": "Building a generic website from scratch is a tough work. However, personal websites for blogs, a special type of website, is actually programmatic. Hugo provides a convenient building templates for that. To make a new blog in Hugo, one could only just create a new folder, write a markdown file (in a specific format) and that’s it. You don’t need ANY knowledge about HTML or CSS. Well do you need to buy a domain name for everyone to see your posts? Well, GitHub Pages is a free service where you just push some contents in a repository of your own with some extremely easy command line, you created your sites of names like yourname.github.io."
  },
  {
    "objectID": "posts/create-first-web/index.html#tools-needed",
    "href": "posts/create-first-web/index.html#tools-needed",
    "title": "Create your own website using Hugo on MacOS",
    "section": "2 Tools needed",
    "text": "2 Tools needed\n\n2.1 Homebrew (Packet Manager)\nWe will use a packet manager called Homebrew to install Hugo. Follow the commands here to download Homebrew first, or you can execute:\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\nOnce downloaded, if you don’t get any error by entering this in the terminal in any folder, you installed it properly (Install testing):\nbrew --version\n\n\n2.2 Git (Version Control System)\nYou can use Homebrew to install Git:\nbrew install git\ngit --version # install testing"
  },
  {
    "objectID": "posts/create-first-web/index.html#install-hugo",
    "href": "posts/create-first-web/index.html#install-hugo",
    "title": "Create your own website using Hugo on MacOS",
    "section": "3 Install Hugo",
    "text": "3 Install Hugo\nRun this in any folder:\nbrew install hugo\nInstall testing:\nhugo version"
  },
  {
    "objectID": "posts/create-first-web/index.html#run-example-theme",
    "href": "posts/create-first-web/index.html#run-example-theme",
    "title": "Create your own website using Hugo on MacOS",
    "section": "4 Run Example Theme",
    "text": "4 Run Example Theme\n\n4.1 Create Framework\nEnter the terminal in any folder, you will be creating another main folder called mysite in it. Folder mysite will contain all the contents that are relevant to your website:\nhugo new site mysite\ncd mysite\nFolder mysite should look like this:\n\n\n\nInside mysite folder\n\n\nwith most folders in it empty. This is the framework.\n\n\n4.2 Choose Theme\nThe themes folder is empty, now we will add some code representing a theme inside it. Now choose a template here and downlaod its source code folder inside the themes folder. I use Stack\ncd themes/\ngit clone https://github.com/CaiJimmy/hugo-theme-stack.git # Replace as needed\n\n\n4.3 Run Theme\nNow there should be a folder inside themes. Now copy all the things inside a folder like exampleSite into the main mysite folder (‘’replace’’).\n\n\n\nCopy the contents in exampleSite into mysite\n\n\nGo to the main mysite folder and remove the original hugo.tomal file, or you can do:\npwd # should be in \"mysite\"\nrm hugo.tomal\nThen (in mysite folder), run:\nhugo server -D\nit will prompt something like:\nBuilt in 865 ms\nEnvironment: \"development\"\nServing pages from disk\nRunning in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender\nWeb Server is available at http://localhost:53844/ (bind address 127.0.0.1) \nPress Ctrl+C to stop\nEnter the link provided (http://localhost:53844/). You are done!"
  },
  {
    "objectID": "posts/create-first-web/index.html#play-around",
    "href": "posts/create-first-web/index.html#play-around",
    "title": "Create your own website using Hugo on MacOS",
    "section": "5 Play Around",
    "text": "5 Play Around\nThis is easy, just compare the contents in each folder and the website and modify things a little."
  },
  {
    "objectID": "posts/create-first-web/index.html#publish-your-website",
    "href": "posts/create-first-web/index.html#publish-your-website",
    "title": "Create your own website using Hugo on MacOS",
    "section": "6 Publish your website",
    "text": "6 Publish your website\nNote the link (http://localhost:53844/) is private and cannot be visited on other devices. So follow these steps to publish it:\n\n6.1 Create GitHub Repository\nGo to your GitHub page and click ‘+’ on the right upper corner, choose New repository and name it like this:\n\n\n\nName of your repository\n\n\ni.e., yourname.github.io, which will be your own domain name.\n\n\n6.2 Push Contents\nRun this:\nhugo --theme=hugo-theme-stack --baseURL=\"https://yourname.github.io/\" --buildDrafts\nThen push the contents in your folder public on it by:\ncd public\ngit init\ngit remote add origin https://github.com/yourname/yourname.github.io.git # change as needed\ngit add .\ngit commit -m \"Initial commit\"\ngit push -u origin main\nYou can access your website on https://yourname.github.io/ within several minutes.\n\n\n6.3 Notes\nAfter you change contents locally, the contents on https://yourname.github.io/ will not change automatically, you will have to push it on GitHub again:\ncd public\ngit add .\ngit commit -m \"Add something new\"\ngit push origin main\nAlso the public website will not update instantly, you will have to wait several minutes."
  },
  {
    "objectID": "posts/IELTS/index.html",
    "href": "posts/IELTS/index.html",
    "title": "IELTS 笔记",
    "section": "",
    "text": "一下是按照官方的评分标准整理的, 供参考.\n\n\nSignposting language\nlogical\navoid repetition of same words\nEncourage to use less common words\nAll tenses should be covered\nPitch should change 语调要改变\nDo not rush\nI don’t have strong preferences.\n\n\n\n\n\n\n\n\nTips\n\n\n\n\nProvide details:\n\nE.g., What do you do? I’m current a 4th year student at …, …\n\nWhen you stuck:\n\nreasons\neffects\ncomparisons\nsupporting examples\npersonal experiences\nSpeak out your current feelings:\n\nIt’s difficult to explain how I feel.\nI’m not sure about this question, but …\n\n\nDo not\n\nOveruse body language\nCreative idea\n\n\n\n\n\n\n\n\n\n\n\n\nPrediction\n\n\n\n\n\n\nYour major\n\nMy major is Electronic and Computer Engineering, also known as ECE, which is basically about the design, implementation and optimization of electronic systems, both hardware and software.\nWhy? Well, I found myself a person who enjoys both the theoretical and practical aspects of engineering.\nHow things are done under the hood.\n\n\n\n\n\n\n\n\n\n\nMusic\n\nListening to Bach’s music is like building a grand architecture masterpiece in my mind. I mean it’s so structured and harmonious, every note has its reason.\nemotional / rational music\nBach’s music and Mahler’s music represent two extremes.\nMahler was a late-romantic composer. His music is meant to be not listened to but experienced. Every symphony is like a journey, with ups and downs, twists and turns, from the beginning to the end, so many unexpected moments.\nHis 1st symphony: tell the story of the birth of a giant, the emergence. You can even hear the giant’s footsteps in the first movement.\n2nd: Can be viewed as a continuation of the character in his 1st symphony, I mean it’s quite abundant in musical ideas, but it’s basically about the death and resurrection of the giant.\nThe curse of the ninth.\nvivid, intense, powerful, large scale\nIt’s like experiencing the big bang.\nA symphony must be like the world, it must embrace everything. – Gustav Mahler\nMusical qualities: emotional expression, length of the work, size of orchestra, loudness and quietness, pushed through the absolute limits.\nThey managed to express some kind of world philosophy, someway of looking at, or experiencing the world.\n\nWeather\n\nblistering, sweltering, scorching: 炎热的\ndamp / humid 潮湿的, cloudy 多云的, always drizzling 毛毛雨\n\nCurrent Affairs\nclothing\n\nlooks very smart: formal clothing\ncasual: 休闲\ntracksuit: 运动服, hoodie: 连帽衫, sneakers: 运动鞋\nloose-fitting: 宽松的\npuffer jacket: 羽绒服, sweater: 毛衣, gloves: 手套\n\nfood\n\ntasty snacks: 零食\nNever have I ever gotten drunk before a performance?\ntipsy: 微醺\nDo you cook often? Following the ingredients.\ngreen tea flavored chocolate\n\nGardening\n\ncactus: 仙人掌\nbalcony: 阳台, veggie patch: 菜园子, spindly chairs: 长椅\n\ntransportation\n\ntraffic congestion: 交通拥堵\nget a cab: 打车\n\nElse\n\nI don’t like to do things in a hurry.\noversleep: 睡过头\nnever do things in a rush.\nAlso important decisions in life are worth taking time over.\nGo off rail\nMemory slips\n做选择但是选项中没有你想说的: I’d say I actually prefer studying at night because it’s quieter and I can focus better. But if I had to choose between morning and afternoon, I’d go for the afternoon.\n\nHometown\n\nThe weather is very nice here, just a little scorching in summer, if you don’t mind the heat. Nanchang is also known for a famous revolutionary event, the Nanchang Uprising. Therefore Nanchang is often referred to as the “Hero City”. The city is well-connected by subways.\nHere in Nanchang, we have some iconic landmarks such as the Tengwang Pavilion, one of the four great towers of China, and the Star of Nanchang, a giant Ferris wheel, you can take a ride on it to have a bird’s-eye view of the beautiful city.\nNanchang is also the spiciest city in China. It’s very easy to accidentally order something insanely spicy by the way.\n\nTraveling\n\nI rocked up with my luggage and my backpack, super excited.\nSanya, a city on the southern end of Hainan Island of China, which is often referred to as the “Hawaii of China” where you can enjoy the sunshine, the beach, and the sea.\nI went there with my family last summer break.\nIt was one of my best experiences.\nI think it was the first time I tried diving.\nAnd I also tried – I’m not sure what’s it called, like a banana boat, where you sit on a banana-shaped inflatable boat and get pulled by a speedboat.\nCool seawater splashes up and hits me right in the face. I can never forget that feeling, it’s like, my hormone level is high above, just refreshing.\nbreathtaking: 令人惊叹的\n\nShopping\n\nwindow shopping: 逛街但一般不买东西\nbuy -&gt; make a purchase\nreturn and get a refund: 退货退款\nshipping cost is not a big deal: 运费不是大问题\nShopping mall, tech mall, grocery store, convenience store\n\nFestival\n\nCCTV Spring Festival Gala: 春节联欢晚会\n\nDaily routine\n\nnapping 午睡\nbad sleeping habit\nFor me, when it comes to taking a nap, there are only two options: either no nap at all, or I wake up two hours later, not refreshing, but like super groggy and disoriented. And that affects my night sleep as well.\nHousehold necessities: toothbrush, toothpaste, shampoo, soap, toilet paper, tissues, detergent, etc.\n\nSports\n\nrent a badminton court\nplay competitively\nBadminton is both physically demanding – players must perform quick movements, jumping, rapid directional changes – but you don’t often get injured. That’s an ideal sport for me.\n\nFilm\n\nSuperhero movies, Comedy movies, Action movies, Sci-fi movies\nIron man, the Notebook, Good will hunting, Interstellar.\n\nBook\n\nLong science fiction novel, psychology and philosophy books, popular science books\nspecialized books 专业类书籍\naudiobook 有声小说\nDuring the day, I rarely read novels because of my academic schedule. I usually make use of the time before bed at night to listen to podcasts or audiobooks, which I find very relaxing and enjoyable.\nThree body 三体, The Crowd: A Study of the Popular Mind 乌合之众, Thinking, fast and slow 思考, 快与慢 by Daniel Kahneman\n\nPersonality\n\nperfectionist\nI guess I’m not too much of a party person, at least not amounts of people drinking or talking loudly.\n\nFill-in words:\n\nIt was one of my best experiences.\nI would say that …\nYeah, I do like to …\nYeah, I think so.\nI think it would depends on …, if …\nI would definitely … / absolutely.\nI suppose …\nWell, the first thing that comes to my head is …\nDuring this semester (uni times)\nThat would probably be …\nI mean I would probably …\n… comes to my mind.\nI mean it’s probably really lame, but it’s like just\nIt used to be …, and now I think it recently changed to …\nHe’s such a cleshé.\nI think it’s gonna be …\n\nTwoset:\n\nHe’s what our parents wish we were on the violin.\nWhy are you acting as if I’m gonna be the one punished?\nrepertoire: 曲目\ntake a selfie and post it on one of your socials.\nThere you go.\nSounds pretty right to me.\nI’m not used to playing these games where actually having like, good-sounding playing.\nWhen did you last cut your nails?\nYou could not’ve gone after.\nI knew there was like a limit to this.\nThat was so epic.\nI would say that …\nScissors paper rock.\nBut now I’m questioning myself.\nThat’s if you can reach the note.\nI should’ve just gone for it.\nI’m going all out after your bullied my intonation.\nTrash talk, it’s all part of it.\nHang on a second, a thought suddenly occurred to me, it’s like, …\nHave you not done that?\nSecondly I like, smell my breath smell.\nThis is another one of those things where if I say …\nI recently realized that, like, it’s definitely down to three things – accountability (问责的), like someone to tell you that, with the stick. The praise, the encouragement. And the third thing is like, a little bit of friendly competition. And then with the three things mixed together, create this perfect, brew of like, learning.\n\nFeeling\n\ncalm, encouraged, motivated\nEmbarrassed, desperate, anxious, panic, stressful, complacent (自满的)\nTo be honest, I had mixed feelings.\n\n\n\n\n\n\nNatural talent to improve\n\nWhat it is? Drawing\nWhen you discover it? Reading the book: Thinking, fast and slow\nHow you want to improve it?\n\n\n\n\n\n\nIn my view\n…, in my opinion.\nI think we’ll probably see more …\nI felt … in retrospect. 事后回想起来\nLater on, …\nIt really depends on the person and the situation.\n\n\n\n\n\nlike -&gt; into\nnowadays -&gt; these days\nI think -&gt; I believe\nimportant -&gt; essential / make a huge difference\n\n\n\n\n\n用完整句子回答 yes or no: Yes, I do think it’s quite important.\n先让步再陈述观点: Although most people rely on GPS or mobile apps these days, knowing how to read a map is still a valuable skill."
  },
  {
    "objectID": "posts/IELTS/index.html#speaking",
    "href": "posts/IELTS/index.html#speaking",
    "title": "IELTS 笔记",
    "section": "",
    "text": "一下是按照官方的评分标准整理的, 供参考.\n\n\nSignposting language\nlogical\navoid repetition of same words\nEncourage to use less common words\nAll tenses should be covered\nPitch should change 语调要改变\nDo not rush\nI don’t have strong preferences.\n\n\n\n\n\n\n\n\nTips\n\n\n\n\nProvide details:\n\nE.g., What do you do? I’m current a 4th year student at …, …\n\nWhen you stuck:\n\nreasons\neffects\ncomparisons\nsupporting examples\npersonal experiences\nSpeak out your current feelings:\n\nIt’s difficult to explain how I feel.\nI’m not sure about this question, but …\n\n\nDo not\n\nOveruse body language\nCreative idea\n\n\n\n\n\n\n\n\n\n\n\n\nPrediction\n\n\n\n\n\n\nYour major\n\nMy major is Electronic and Computer Engineering, also known as ECE, which is basically about the design, implementation and optimization of electronic systems, both hardware and software.\nWhy? Well, I found myself a person who enjoys both the theoretical and practical aspects of engineering.\nHow things are done under the hood.\n\n\n\n\n\n\n\n\n\n\nMusic\n\nListening to Bach’s music is like building a grand architecture masterpiece in my mind. I mean it’s so structured and harmonious, every note has its reason.\nemotional / rational music\nBach’s music and Mahler’s music represent two extremes.\nMahler was a late-romantic composer. His music is meant to be not listened to but experienced. Every symphony is like a journey, with ups and downs, twists and turns, from the beginning to the end, so many unexpected moments.\nHis 1st symphony: tell the story of the birth of a giant, the emergence. You can even hear the giant’s footsteps in the first movement.\n2nd: Can be viewed as a continuation of the character in his 1st symphony, I mean it’s quite abundant in musical ideas, but it’s basically about the death and resurrection of the giant.\nThe curse of the ninth.\nvivid, intense, powerful, large scale\nIt’s like experiencing the big bang.\nA symphony must be like the world, it must embrace everything. – Gustav Mahler\nMusical qualities: emotional expression, length of the work, size of orchestra, loudness and quietness, pushed through the absolute limits.\nThey managed to express some kind of world philosophy, someway of looking at, or experiencing the world.\n\nWeather\n\nblistering, sweltering, scorching: 炎热的\ndamp / humid 潮湿的, cloudy 多云的, always drizzling 毛毛雨\n\nCurrent Affairs\nclothing\n\nlooks very smart: formal clothing\ncasual: 休闲\ntracksuit: 运动服, hoodie: 连帽衫, sneakers: 运动鞋\nloose-fitting: 宽松的\npuffer jacket: 羽绒服, sweater: 毛衣, gloves: 手套\n\nfood\n\ntasty snacks: 零食\nNever have I ever gotten drunk before a performance?\ntipsy: 微醺\nDo you cook often? Following the ingredients.\ngreen tea flavored chocolate\n\nGardening\n\ncactus: 仙人掌\nbalcony: 阳台, veggie patch: 菜园子, spindly chairs: 长椅\n\ntransportation\n\ntraffic congestion: 交通拥堵\nget a cab: 打车\n\nElse\n\nI don’t like to do things in a hurry.\noversleep: 睡过头\nnever do things in a rush.\nAlso important decisions in life are worth taking time over.\nGo off rail\nMemory slips\n做选择但是选项中没有你想说的: I’d say I actually prefer studying at night because it’s quieter and I can focus better. But if I had to choose between morning and afternoon, I’d go for the afternoon.\n\nHometown\n\nThe weather is very nice here, just a little scorching in summer, if you don’t mind the heat. Nanchang is also known for a famous revolutionary event, the Nanchang Uprising. Therefore Nanchang is often referred to as the “Hero City”. The city is well-connected by subways.\nHere in Nanchang, we have some iconic landmarks such as the Tengwang Pavilion, one of the four great towers of China, and the Star of Nanchang, a giant Ferris wheel, you can take a ride on it to have a bird’s-eye view of the beautiful city.\nNanchang is also the spiciest city in China. It’s very easy to accidentally order something insanely spicy by the way.\n\nTraveling\n\nI rocked up with my luggage and my backpack, super excited.\nSanya, a city on the southern end of Hainan Island of China, which is often referred to as the “Hawaii of China” where you can enjoy the sunshine, the beach, and the sea.\nI went there with my family last summer break.\nIt was one of my best experiences.\nI think it was the first time I tried diving.\nAnd I also tried – I’m not sure what’s it called, like a banana boat, where you sit on a banana-shaped inflatable boat and get pulled by a speedboat.\nCool seawater splashes up and hits me right in the face. I can never forget that feeling, it’s like, my hormone level is high above, just refreshing.\nbreathtaking: 令人惊叹的\n\nShopping\n\nwindow shopping: 逛街但一般不买东西\nbuy -&gt; make a purchase\nreturn and get a refund: 退货退款\nshipping cost is not a big deal: 运费不是大问题\nShopping mall, tech mall, grocery store, convenience store\n\nFestival\n\nCCTV Spring Festival Gala: 春节联欢晚会\n\nDaily routine\n\nnapping 午睡\nbad sleeping habit\nFor me, when it comes to taking a nap, there are only two options: either no nap at all, or I wake up two hours later, not refreshing, but like super groggy and disoriented. And that affects my night sleep as well.\nHousehold necessities: toothbrush, toothpaste, shampoo, soap, toilet paper, tissues, detergent, etc.\n\nSports\n\nrent a badminton court\nplay competitively\nBadminton is both physically demanding – players must perform quick movements, jumping, rapid directional changes – but you don’t often get injured. That’s an ideal sport for me.\n\nFilm\n\nSuperhero movies, Comedy movies, Action movies, Sci-fi movies\nIron man, the Notebook, Good will hunting, Interstellar.\n\nBook\n\nLong science fiction novel, psychology and philosophy books, popular science books\nspecialized books 专业类书籍\naudiobook 有声小说\nDuring the day, I rarely read novels because of my academic schedule. I usually make use of the time before bed at night to listen to podcasts or audiobooks, which I find very relaxing and enjoyable.\nThree body 三体, The Crowd: A Study of the Popular Mind 乌合之众, Thinking, fast and slow 思考, 快与慢 by Daniel Kahneman\n\nPersonality\n\nperfectionist\nI guess I’m not too much of a party person, at least not amounts of people drinking or talking loudly.\n\nFill-in words:\n\nIt was one of my best experiences.\nI would say that …\nYeah, I do like to …\nYeah, I think so.\nI think it would depends on …, if …\nI would definitely … / absolutely.\nI suppose …\nWell, the first thing that comes to my head is …\nDuring this semester (uni times)\nThat would probably be …\nI mean I would probably …\n… comes to my mind.\nI mean it’s probably really lame, but it’s like just\nIt used to be …, and now I think it recently changed to …\nHe’s such a cleshé.\nI think it’s gonna be …\n\nTwoset:\n\nHe’s what our parents wish we were on the violin.\nWhy are you acting as if I’m gonna be the one punished?\nrepertoire: 曲目\ntake a selfie and post it on one of your socials.\nThere you go.\nSounds pretty right to me.\nI’m not used to playing these games where actually having like, good-sounding playing.\nWhen did you last cut your nails?\nYou could not’ve gone after.\nI knew there was like a limit to this.\nThat was so epic.\nI would say that …\nScissors paper rock.\nBut now I’m questioning myself.\nThat’s if you can reach the note.\nI should’ve just gone for it.\nI’m going all out after your bullied my intonation.\nTrash talk, it’s all part of it.\nHang on a second, a thought suddenly occurred to me, it’s like, …\nHave you not done that?\nSecondly I like, smell my breath smell.\nThis is another one of those things where if I say …\nI recently realized that, like, it’s definitely down to three things – accountability (问责的), like someone to tell you that, with the stick. The praise, the encouragement. And the third thing is like, a little bit of friendly competition. And then with the three things mixed together, create this perfect, brew of like, learning.\n\nFeeling\n\ncalm, encouraged, motivated\nEmbarrassed, desperate, anxious, panic, stressful, complacent (自满的)\nTo be honest, I had mixed feelings.\n\n\n\n\n\n\nNatural talent to improve\n\nWhat it is? Drawing\nWhen you discover it? Reading the book: Thinking, fast and slow\nHow you want to improve it?\n\n\n\n\n\n\nIn my view\n…, in my opinion.\nI think we’ll probably see more …\nI felt … in retrospect. 事后回想起来\nLater on, …\nIt really depends on the person and the situation.\n\n\n\n\n\nlike -&gt; into\nnowadays -&gt; these days\nI think -&gt; I believe\nimportant -&gt; essential / make a huge difference\n\n\n\n\n\n用完整句子回答 yes or no: Yes, I do think it’s quite important.\n先让步再陈述观点: Although most people rely on GPS or mobile apps these days, knowing how to read a map is still a valuable skill."
  },
  {
    "objectID": "posts/IELTS/index.html#reading",
    "href": "posts/IELTS/index.html#reading",
    "title": "IELTS 笔记",
    "section": "2 Reading",
    "text": "2 Reading\n\n\n\n\n\n\n\nTips\n\n\n\n\n要有明显的证据才行! 如果是推断出来的结论不算 (比如 may switch job 不等于 may demand higher salary).\n注意以下句子, 句子一定要看完整, 有时候看起来是相反的其实后面又转折回来了!\n\nIt’s not … but … (but 后面才是重点)\n\n填词要填完整 (只要不超过 1/2/3 个词)! (尽量多!!!)\nDo not seek for the exact words cause the they must have changed it for the test.\n选项要看完整!! 每个选项的意思和强调的点都要明白, 对比相似的选项, 哪个最合适?\n\n或者从出题人的角度, 误导项会怎么出?\n\n句子读不懂一般是划分有问题, 比如:\n\na study by David Storey of Warwick University found that in Britain 70% of businesses started by people over 55 survived. (over 55 是形容 people 的).\n\n选项一般都按照文章的顺序出现."
  },
  {
    "objectID": "posts/IELTS/index.html#listening",
    "href": "posts/IELTS/index.html#listening",
    "title": "IELTS 笔记",
    "section": "3 Listening",
    "text": "3 Listening\n\n\n\n\n\n\n\nTips\n\n\n\n\n注意单复数!!\n注意是合起来的一个词还是两个:\n\nwashbasin (not wash basin)\nwaterproof (not water-proof)\n\n答案不一定按顺序出现! 不要听到关键词后再等答案, 有可能答案在前面就出现了! 也尽量不要听关键词, 而是听意思! (因为有可能关键词一直不出现, 已经讲到后面的题目了)\n\n如果感觉后面某个空的答案已经出来了, 先记上!\n\n听力的时候 Mental picture 文章大意结构树, 要分段明确!\n能写两个词就不要写一个!\n如果有人名, 一定要听清谁是谁!"
  },
  {
    "objectID": "posts/IELTS/index.html#writing",
    "href": "posts/IELTS/index.html#writing",
    "title": "IELTS 笔记",
    "section": "4 Writing",
    "text": "4 Writing\n\n\n\n\n\n\n\nTips\n\n\n\n\nGeneral Requirements:\n\n词汇丰富度要高\n连贯与衔接 (Coherence and Cohesion)\n语法多样性和准确性\n\nTask 1:\n\n不单要描述趋势, 也要描述绝对值、斜率等.\n\n\n\n\n\n\n4.1 Task 1\n\n\n\n\n\n\n\n模版 (4~5 段)\n\n\n\n\n\n\nIntroduction: Paraphrase\n\nThe table gives information about …\nThe bar chart compares …\n\nPerceptual Overview: 总体趋势\n\nWhile the figures for imprisonment fluctuated over the period shown, it is clear that … had the highest number of prisoners overall. …, on the other hand, had the lowest number of prisoners for … . (描述 extreme)\nE.g., It is noticeable that levels of poverty were higher for single people than for couples, and people with children were more likely to be poor than those without. Poverty rates were considerably lower among elderly people.\nOverall, it is notable that … exhibits significant fluctuations corresponding to changes in …, whereas … demonstrates considerably greater stability. Additionally, … shows the most pronounced deviation from the overall mean.\n\nDetails: 具体数据对比 (注意是对比而不是描述!)\nConclusion: 总结 (也可以不写)\n\n\n\n\n\n\nBeginning sentence\n\n图表类型: Bar chart / histogram / pie chart / line chart / scatter plot / flow chart.\nshow -&gt; compare / illustrate\nE.g., The bar chart compares the total number of trips per year made by children aged 5 to 12 in the UK, using five different modes of transport to travel to and from school, in 1990 and 2010.\n简洁开头: It has been observed from the graph that … (Paraphrase)\n\ngraph 描述图表:\n\nComparison:\n\nin 1990, there was twice (three times) as many students as in 1970.\n\nSlope:\n\nsharply / steadily / progressively / slightly / considerably / dramatically\n\nTendency:\n\nreached / raised / climb / rise / grow / shot up to a peak of …\nCar travel saw a dramatic increase / experienced significant decline.\nfall / drop / decline\ndipped slightly / minor drop 稍微下降\nhalved to … 减半到\nthe percentage plummeted to a low of … 大幅下降\nfluctuated at / hovered around … 波动\nmost significant volatility 波动最大\n连接变化趋势:\n\nfollowed by …\nThe figure rose to 30% at 8 a.m., after which it began to fall.\nIn/By contrast, …\n\n\npeak:\n\nreached a peak of / peaked at / jumped to\nspiked at\nhit the maximum of\n\n\nProcess 描述过程:\n\ngeneral\n\nThe process begins / ends with …\nThe dried bricks are placed onto / send into / transported / transferred to\nshaped by …\nAt the final stage …\n\n\n\n\n\n4.2 Task 2\n\nWhile / Although early technologies certainly changed the lived of normal people, I believe that recent breakthroughs have had an even greater impact."
  },
  {
    "objectID": "posts/IELTS/index.html#sep-2-update",
    "href": "posts/IELTS/index.html#sep-2-update",
    "title": "IELTS 笔记",
    "section": "5 Sep-2 Update",
    "text": "5 Sep-2 Update\n\n阅读先扫一眼问题, 确定大意, 然后仔细读文章, 每段的大意一定要知道\n听力先看问题, 看的时候一定要会断句, 确定空白的词性, 并预测. 听的时候一定不要只听关键词, 一定要听懂意思 (意思是第一位的)\n\n听力尤其是选择题很容易错, 填词倒还好. 而且一般情况下所有的选项都会听到, 千万不要只听关键词!\n听的时候要在大脑中分段! 比如 OK, 他说完了一件事情, 开始说下一件事情了, 这个时候一定要缓过神来.\n\n听力的心态: 不要当作考试, 比如询问租房的场景, 要想象成与他进行对话!"
  },
  {
    "objectID": "posts/IELTS/index.html#sep-8-update",
    "href": "posts/IELTS/index.html#sep-8-update",
    "title": "IELTS 笔记",
    "section": "6 Sep-8 Update",
    "text": "6 Sep-8 Update\n\n机考阅读选择题一般都会有两个明显的错误答案, 所以其实每道就是两个选项, 所以一定要回排除法!\n阅读一定要在文章中看完句子, 后面的内容有可能有转折!!!"
  },
  {
    "objectID": "posts/IELTS/index.html#sep-10-update",
    "href": "posts/IELTS/index.html#sep-10-update",
    "title": "IELTS 笔记",
    "section": "7 Sep-10 Update",
    "text": "7 Sep-10 Update\n\n阅读不一定要读懂文章的意思, 先看题, 然后其实每个选项就考察文章的某个句子, 只要看懂那个句子就行了! 而且一半题目的顺序就是按照文章顺序的!\n\n锁定段落后, 一定要把整段都快速扫描一遍, 而不是某个句子的后面!\n\n阅读填词的时候不要被定语从句干扰, 比如 into the pouch on the belly of their mother, 重点是 pouch 而不是 belly."
  },
  {
    "objectID": "cv/index.html",
    "href": "cv/index.html",
    "title": "Marcobisky",
    "section": "",
    "text": "University of Electronic Science and Technology of China (UESTC) (Sept 2022 — Present)\nUniversity of Glasgow, Dual Degree Program (Sept 2022 — present)\n\nMajor: Communication Engineering; GPA: 3.87/4.0, Ranking: 2/164 (Top 1.2%)\nRelevant Coursework: Signals and Systems, Stochastic Processes, Artificial Intelligence and Machine Learning, Information Theory, Electrodynamics, Digital Circuit Design, etc.\nOnline Course: Abstract Algebra, Complex Analysis, Differential Geometry, Control Theory, etc."
  },
  {
    "objectID": "cv/index.html#education",
    "href": "cv/index.html#education",
    "title": "Marcobisky",
    "section": "",
    "text": "University of Electronic Science and Technology of China (UESTC) (Sept 2022 — Present)\nUniversity of Glasgow, Dual Degree Program (Sept 2022 — present)\n\nMajor: Communication Engineering; GPA: 3.87/4.0, Ranking: 2/164 (Top 1.2%)\nRelevant Coursework: Signals and Systems, Stochastic Processes, Artificial Intelligence and Machine Learning, Information Theory, Electrodynamics, Digital Circuit Design, etc.\nOnline Course: Abstract Algebra, Complex Analysis, Differential Geometry, Control Theory, etc."
  },
  {
    "objectID": "cv/index.html#research",
    "href": "cv/index.html#research",
    "title": "Marcobisky",
    "section": "RESEARCH",
    "text": "RESEARCH\nGAT-based Multi-Task RL for Robust PVT-Aware Analog Design (On going)\nResearch Assistant, Prof. Yun Li, UESTC\n\nProposed a GAT-based multi-task Reinforcement Learning framework to optimize analog circuits under diverse PVT corners.\nModeled PVT conditions as graph nodes, enabling adaptive attention to corner-specific bottlenecks.\nReduced specific violations by \\(19\\times\\) and simulations by \\(69\\%\\) on AnalogGym benchmarks.\n\nSystem-level Co-Design of RISCV Accelerators for TinyML at the Edge (On going)\nResearch Assistant, Prof. Yun Li, UESTC\n\nDesigning and implementing hardware-accelerated TinyML kernels that are adaptable and efficient for edge computing scenarios using Chisel, Verilog, Python and C++.\nExploring a large multi-dimensional design space using automated methods (such as heuristic or evolutionary algorithms) to identify optimal configurations balancing accuracy, energy, and latency.\n\n\nMovable Antenna (MA) for Anti-jamming (Feb 2025 — Jun 2025)\nResearch Assistant, Prof. Weidong Mei, UESTC\n\nConducted a heuristic investigation into Anti-jamming through stochastic antenna movement."
  },
  {
    "objectID": "cv/index.html#projects",
    "href": "cv/index.html#projects",
    "title": "Marcobisky",
    "section": "PROJECTS",
    "text": "PROJECTS\nYOPO: You Only Pick Once – Light Object Tracking Algorithm (Sept 2025)\n\n\n\n\nRed Car Tracking Demo\n\n\nDeveloped a lightweight object tracking algorithm that requires only one initial selection, successfully mitigate the intense computation of DNN forward propagation on every frame.\nUtilized NCC-based matching, adaptive kernel updating, capable of tracking objects with gradual color and size changes.\n\nControl and Computer Vision for Autonomous Quadcopter System (Feb 2025 — Jun 2025)\n\n\n\n\nAssembled Drone\n\n\nDeveloped a automatic quadrotor aircraft for objection detection, route planning, and closed-loop flight control.\nUsed ROS2 and OpenCV library to implement originally designed computer vision algorithms for real-time landing area detection.\n\nDesign and Visualization of a Complete Single-cycle RV32I CPU Core (Jan 2025 — Mar 2025)\n\n\n\n\nGPIO blink demo in Digital\n\n\nDesigned and simulated an entire RISCV 32-bit CPU from scratch in Verilog for RTL simulation and in Digital Software for working principle visualization.\nSupported basic peripherals: GPIOs, IIC, UART, etc.\nImplemented a simple boot ROM in assembly, minimal interrupt service for running a Linux kernel.\n\nAdaptive Markov Entropy Source Encoding (Oct 2024 — Nov 2024)\n\n\n\n\nProposed AME coding scheme\n\n\nOriginally-designed the second-order Markov Adapative Approximation (AME) to perform source coding of the Game of Thrones using Python and Matlab.\nEvaluated and compared the performance of AME, Huffman and Fano coding.\n\nCNN for Embedded Systems (Feb 2024 — May 2024)\n\n\n\n\nReal-time fall probability monitoring\n\n\nIntegrated a convolutional neural network (CNN) into an MCU using C in MbedOS.\nEnabled smart fall detection, body temperature monitoring and real-time data visualization for patients.\n\nHuman Voice Recognition Smart Car (Sept 2023 — Dec 2023)\n\n\n\n\nVoice-controlled car\n\n\nDesigned and implemented a voice-controlled car on STM32F103 using C standard libraries, supporting actions such as moving forwards/backwards, turning/sliding left/right.\nLed a 4-member team in the project.\n\nDigital Door Lock for Dormitory (Sept 2023 — Oct 2023)\n\n\n\n\nSmart lock tested on breadboard\n\n\nDesigned and implemented an embedded digital door lock system in on Nucleo L432KC MCU.\nDeveloped basic functions include manually setting up password, automatically lock for repeated wrong passwords, OLED message displaying, etc.\nLed a 3-member team in the project."
  },
  {
    "objectID": "cv/index.html#academic-recordfullscore",
    "href": "cv/index.html#academic-recordfullscore",
    "title": "Marcobisky",
    "section": "ACADEMIC RECORD1",
    "text": "ACADEMIC RECORD1\n\nCore courses score (GPA: 3.87/4.00, Avg: 87.94/100, rank: 2/164)\n\n\n\n\n\n\n\nYear\nSubject\nScore (Full mark: 100)\n\n\n\n\nYear 1\nCalculus I/II   Linear Algebra   C Programming   Physics I  \n91/92   84   95   88  \n\n\nYear 2\nPhysics II   Signal and Systems   Probability and Statistics   Microelectronic Systems   Embedded Processors   Circuit Analysis and Design   Computer Network   Academic English  \n96   91   92   92   95   95   94   89  \n\n\nYear 3\nInformation Theory   Principles of Communication   Digital Circuit Design   Machine Learning   Stochastic Signal Analysis   Communication Circuit Design   Electromagnetic Field and Microwave Technology \n91   95   86   86   82   92   88 \n\n\n\nSee my detailed scores here."
  },
  {
    "objectID": "cv/index.html#relevant-skills",
    "href": "cv/index.html#relevant-skills",
    "title": "Marcobisky",
    "section": "RELEVANT SKILLS",
    "text": "RELEVANT SKILLS\n\nIT Skills: Latex, Quarto Markdown, Typst, Manim, Github, Microsoft Office.\nComputer Programming: C/C++, Python, Matlab, Verilog, Chisel, RISCV Assembly.    \nLanguage: Native Chinese, Fluent English (IELTS 7.0)."
  },
  {
    "objectID": "cv/index.html#awards",
    "href": "cv/index.html#awards",
    "title": "Marcobisky",
    "section": "AWARDS",
    "text": "AWARDS\nTop Academic Scholarship of UESTC (Top 5%) (Dec 2023, Dec 2024)\n\nFirst-class Scholarship for the past two years.\n\nChina National Scholarship (Top 3%) (Dec 2024)\n\nPrestigious national award granted for academic excellence, leadership, and overall achievement.\n\n\n\n\n\nSchumann Symphony No. 4 performance\n\nFirst Prize: 7th National College Art Exhibition and Performance (Sept 2024)\n\nSymphony No. 4 in D minor, Op. 120, 4th movement, by Robert Schumann. (In violin section)"
  },
  {
    "objectID": "cv/index.html#interests",
    "href": "cv/index.html#interests",
    "title": "Marcobisky",
    "section": "INTERESTS",
    "text": "INTERESTS\n\nClassical Music Enthusiast🎻: Violin player in UESTC symphony orchestra, votary of legendary composer Gustav Mahler and Johann Sebastian Bach.\nBadminton Lover🏸: Sports always refreshes me at any time.\nLearning Everything🔍: I believe everything is learnable by First Principle Thinking and curiosity.\nVolunteer Work🤝: Enjoy helping others. Over 15 hours of volunteering."
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "We don’t read books, we write them. – Grothendieck",
    "section": "",
    "text": "DIP Crash Course 数字图像处理速成笔记\n\n\n\nCrash-Course\n\nCN-blogs\n\n\n\n更新中…\n\n\n\n\n\nDec 20, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nInformation Security Crash Course 信息安全速成笔记\n\n\n\nCrash-Course\n\nCN-blogs\n\n\n\n更新中…\n\n\n\n\n\nDec 20, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nWSN Crash Course 无线传感器网络速成笔记\n\n\n\nCrash-Course\n\nCN-blogs\n\n\n\n更新中…\n\n\n\n\n\nDec 18, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nProbability Theory Takeaways 概率论极简笔记\n\n\n\nAnalysis\n\nCN-blogs\n\n\n\n一套测度论语言的概率论极简笔记\n\n\n\n\n\nNov 5, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nComplement for 3b1b’s Diffusion Models Video 扩散模型学习笔记 (更新中)\n\n\n\nMachine-Learning\n\nCN-blogs\n\n\n\nI’m learning this, updating notes here.\n\n\n\n\n\nOct 19, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nYOPO – You Only Pick Once\n\n\n\nProjects\n\nEN-blogs\n\n\n\nLight object detection without neural networks\n\n\n\n\n\nSep 25, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nIELTS 笔记\n\n\n\nEnglish\n\nCN-blogs\n\n\n\n8/7/7/6.5 (7分) 散水, 已停更\n\n\n\n\n\nAug 5, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nMusic Theory Introduction 音乐理论入门\n\n\n\nMusic\n\nCN-blogs\n\n\n\nZen mode updating 佛系更新中\n\n\n\n\n\nJul 16, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nTouchpad Cannot Use for Ubuntu 24.04 on Thinkbook 16+ Solution\n\n\n\nLinux\n\nCN-blogs\n\n\n\n触控板用不了的解决方案\n\n\n\n\n\nJul 14, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nHow I Learn 我的学习心得\n\n\n\nThoughts\n\nCN-blogs\n\n\n\nI record my thoughts and ideas about math, physics, CS and many more here (constantly updating).\n\n\n\n\n\nJul 10, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nDSP Crash Course 数字信号处理速成笔记\n\n\n\nCrash-Course\n\nCN-blogs\n\n\n\n(已停更 Jul 2, 10:53, 2025)\n\n\n\n\n\nJun 29, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nElectromagnetism Crash Course 电磁场与波速成笔记\n\n\n\nPhysics\n\nCrash-Course\n\nCN-blogs\n\n\n\n(以停更 Jun 27, 17:24, 2025), 第 2, 7, 8, 9, 10 章相对比较完整\n\n\n\n\n\nJun 27, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nEPMF Crash Course 工程项目管理与财务速成笔记\n\n\n\nCrash-Course\n\nCN-blogs\n\n\n\n已完更\n\n\n\n\n\nJun 22, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nCCD Crash Course 通信电路速成笔记\n\n\n\nCircuit\n\nCrash-Course\n\nCN-blogs\n\n\n\n祝大家会的全考, 蒙的全对 (Jun 17, 2025, 16:38 已完更)\n\n\n\n\n\nJun 17, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nSolving Laplace’s Equation using Separation of Variables\n\n\n\nDifferential-Equation\n\nEN-blogs\n\n\n\nLearn how to solve stationary heat distribution problem under specific boundary conditions\n\n\n\n\n\nMay 1, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nBasics of Projective Space and Projective Linear Group 射影空间与射影线性群\n\n\n\nAlgebra\n\nDifferential-Geometry\n\nEN-blogs\n\n\n\nProjective spaces, unit quaternions, \\(SU(2), SO(3)\\), 3-sphere, Möbius transformations, double cover, etc.\n\n\n\n\n\nApr 21, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nUAV Control 无人机控制原理\n\n\n\nControl-Theory\n\nEN-blogs\n\n\n\n基于四元数的无人机姿态控制原理 (待完成)\n\n\n\n\n\nApr 7, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nPDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程\n\n\n\nDifferential-Equation\n\nEN-blogs\n\n\n\nFirst chapter of PDE series!\n\n\n\n\n\nApr 5, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nUnderstanding Isomorphism Theorems for Groups 群同构定理的理解\n\n\n\nAlgebra\n\nEN-blogs\n\n\n\nIf you struggle to have a clear mental picture of the isomorphism theorems, I hope this helps.\n\n\n\n\n\nMar 31, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nControl Case Study: LQR for Inverted Pendulum!\n\n\n\nControl-Theory\n\nEN-blogs\n\n\n\n一个完整的 MATLAB 控制系统设计指南，平衡倒立摆的线性反馈控制系统。\n\n\n\n\n\nMar 25, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nSpecial Matrices 特殊矩阵与算子\n\n\n\nAlgebra\n\nEN-blogs\n\n\n\n正规矩阵、厄米矩阵、酉矩阵、反厄米矩阵等性质\n\n\n\n\n\nMar 15, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nThree ways to Understand the Mixed Product of Vectors! 向量混合积的三种理解\n\n\n\nDifferential-Geometry\n\nEN-blogs\n\n\n\nWhen it comes to \\(a \\cdot (b \\times c)\\), what’s in your head?\n\n\n\n\n\nMar 9, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nEM Chapter I: Maxwell’s First Equation\n\n\n\nPhysics\n\nEN-blogs\n\n\n\nUnderstand \\(\\mathbf{\\nabla} \\cdot \\mathbf{E} = \\frac{\\rho}{\\varepsilon_0}\\) in one article!\n\n\n\n\n\nMar 7, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nQ&A: Basis vectors are exactly the same as partial derivative operator? 为什么向量等价于微分算子?\n\n\n\nDifferential-Geometry\n\nEN-blogs\n\n\n\nWhy \\(e_i\\) is exactly the same as \\(\\frac{\\partial}{\\partial x^i}\\)? How to define tangent space at some point of a manifold?\n\n\n\n\n\nMar 4, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is symmetry? 什么是对称性?\n\n\n\nAlgebra\n\nEN-blogs\n\n\n\nSymmetry is nothing but a group acts on an object!\n\n\n\n\n\nMar 3, 2025\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nJK Flip-flop not Behavioral (VHDL version)\n\n\n\nHardware\n\nEN-blogs\n\n\n\nEasy to write a behavioral description of JK-FF in VHDL, what about writing it in terms of gates?\n\n\n\n\n\nDec 8, 2024\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\n在 ios 下载第三方应用\n\n\n\nAwesome-Mac\n\nCN-blogs\n\n\n\n会闪退, 散了吧(´･_･`)\n\n\n\n\n\nOct 29, 2024\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nLeast Squares as Projection 最小二乘法的投影解释\n\n\n\nAlgebra\n\nEN-blogs\n\n\n\nThinking least squares in this way really helps!\n\n\n\n\n\nSep 21, 2024\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\njava项目导入Launchpad方案 MacOS\n\n\n\nAwesome-Mac\n\nCN-blogs\n\n\n\n\n\n\n\n\n\nSep 11, 2024\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nCreate your own website using Hugo on MacOS\n\n\n\nCS\n\nEN-blogs\n\n\n\nThis is how I built my first personal website without any prior knowledge of HTML.\n\n\n\n\n\nAug 31, 2024\n\n\nMarcobisky\n\n\n\n\n\n\n\n\n\n\n\n\nRTL Analysis on MacOS under 300MB\n\n\n\nAwesome-Mac\n\nEN-blogs\n\n\n\nWanna compile verilog on MacOS but without programing an FPGA? Check this out!\n\n\n\n\n\nAug 31, 2024\n\n\nMarcobisky\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jinming Ren",
    "section": "",
    "text": "Hi! I’m an fourth-year undergraduate student at University of Electronic Science and Technology of China (UESTC) and University of Glasgow (UofG, Dual-degree Program). I majored in electronic and computer engineering (ECE). I’m a CS and math enthusiast, classical music lover. I love innovation and challenges!\nI’m looking for a PhD position in ML accelerators or AI-EDA in 2026.\n\n\n\n\nCV: My projects, GPA, rank and interests.\nTinyML: My ongoing graduation project. (Supervisor: Prof. Yun Li)\nBlog: I share my learning notes here (actively updating).\nStory: I’m currently working on this personal story here.\n\n\n\n\n\n📧 Email: 3191293752@qq.com | marcobisky@outlook.com\n\n📞 Phone: +86 17882004164"
  },
  {
    "objectID": "index.html#bio",
    "href": "index.html#bio",
    "title": "Jinming Ren",
    "section": "",
    "text": "Hi! I’m an fourth-year undergraduate student at University of Electronic Science and Technology of China (UESTC) and University of Glasgow (UofG, Dual-degree Program). I majored in electronic and computer engineering (ECE). I’m a CS and math enthusiast, classical music lover. I love innovation and challenges!\nI’m looking for a PhD position in ML accelerators or AI-EDA in 2026."
  },
  {
    "objectID": "index.html#more-about-me",
    "href": "index.html#more-about-me",
    "title": "Jinming Ren",
    "section": "",
    "text": "CV: My projects, GPA, rank and interests.\nTinyML: My ongoing graduation project. (Supervisor: Prof. Yun Li)\nBlog: I share my learning notes here (actively updating).\nStory: I’m currently working on this personal story here."
  },
  {
    "objectID": "index.html#contact",
    "href": "index.html#contact",
    "title": "Jinming Ren",
    "section": "",
    "text": "📧 Email: 3191293752@qq.com | marcobisky@outlook.com\n\n📞 Phone: +86 17882004164"
  },
  {
    "objectID": "posts/ccd-crash-course/index.html",
    "href": "posts/ccd-crash-course/index.html",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "",
    "text": "宇宙安全声明: 本笔记是本人电子科技大学格院大三《通信电路设计》2025 年课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性."
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#sec-change-of-mind",
    "href": "posts/ccd-crash-course/index.html#sec-change-of-mind",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "1 Change of Mind 这个可能有用",
    "text": "1 Change of Mind 这个可能有用\n\n人生苦短, 你还应去仰望深夜星河万顷的浩瀚，去聆听黄昏海风拂面的低语.\n事实证明 \\(5\\) 天学完 CCD 是可行的.\n别当数学来学: 模电里面有很多 abuse of notation (AoN, 比如你看看「增益」这个词在 PLL 里面是怎么用的, dddd) 和抽象指标 (Carson’s rule 首当其冲, Modulation index 等) 和符号, 他们并不值得你品味和推导, 因为这里面人为的因素太多 (比如规定 \\(-3\\text{ dB}\\) 就很小了, Carson 频带内包含 \\(98\\%\\) 的能量等等), 这不是数学, 即使你理解了其推导也没有任何意义.\n不同问题情景下我们大脑中的模型是不一样的, 比如:\n\n普通电路分析中二极管就是单向导通; 但是 BJT 的 DC 分析中, 要用到 \\(0.7\\text{ V}\\) 的开启电压; 而 AC 分析中由于小信号, \\(0.7\\text{ V}\\) 这个模型就不能用了, 而要用更复杂的 Shockley 方程.\n放大电路中 \\(C, L\\) 都可以看作理想, 但是在 RLC 电路中 (Section 6) 就不行.\n适合的模型才是最好的, 不是越复杂越精确越好.\n\n关于「电压」和「电流」, 不要认为电压才是我们可以控制的, 然后再通过给电阻来控制电流. 有些元件 (BJT) 其实本质是通过操控电子的流动趋势来主动操控电流, 电流确定了以后, 再通过加电阻来获得电压.\n关于「背诵」的价值的问题, 有一些是纯 sb (比如某4046的参数, FM 的最大频偏), 还有一些 (IF 放大器比 RF 放大器更不容易发生自激振荡) 这种性质, 如果给足你时间进行分析和实验, 你是可以独立地发现这个结论的. 你不知道这个结论只是时间的问题, 所以你可以非常无负罪感地将它记下来, 因为你明白这不是死记硬背, 而是用前人的经验给自己节约时间1.\n考虑负载的习惯: 往往一个电路的性质 (滤波中心频率, 增益) 不仅取决于电路本身的参数, 还取决于你把它接在什么上面 (经典例子 Section 6.4). 你接在了抽象的东西上面, 它的作用也就变了. 这也是引入 「输入阻抗」和 「输出阻抗」 的动机.\n往往一个问题的解决方法的得出会经历若干个重要思想, 这些思想:\n\n的数量没你想象的多, 可能只有 4-5 个. 以下概念的引入可以称作「思想」:\n\n稳态解和瞬态解是完全不同的两个思维角度: 比如反馈实际上是需要时间的, 输出不断地被送回输入, 然后再改变输出, 再回来改变输入, 这个过程既耗实际时间, 也耗思维时间. 当反馈电路变得很复杂时这个过程几乎不可能被人类的大脑想清楚, 于是我们才用「假设量-列方程」的方法来将这个过程各个量权衡的结果需要满足的关系形式化出来, 我们解方程的过程就已经符号化地完成了整个分析过程并求出了最终的稳态解.\nPhasor: 正弦波与复数的同构, 接着引入阻抗, 颠覆了我们对信号的 mental picture (“信号是时域的”这种我们自己都无法察觉的直觉).\n信号是复值的: 傅立叶变换的基础思维, 这个思想都没有的话你就完全不理解 Fourier.\n传递函数及 \\(s\\) 域: Phasor 只是频谱里的一个频率点了, 频谱甚至可以外延到 \\(s\\) 域, 发现系统稳定性等可以在 \\(s\\) 域中很好地描述.\n信号流图: 给机械系统、电路系统甚至生物进化等等提供了统一的分析方法, 进而发展出控制论.\n\n不 trivial, 以至于通过这些思想堆叠出来的解决方法看起来非常不直观和莫名其妙. 但是其实他们就是基于这些思想逻辑推理的自然产物2!\n\n\n1 有些数学家对工程学嗤之以鼻的原因本质上是对「经验主义」的怀疑.2 这一点在纯数上尤为明显."
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#transistors-晶体管元件",
    "href": "posts/ccd-crash-course/index.html#transistors-晶体管元件",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "2 Transistors 晶体管元件",
    "text": "2 Transistors 晶体管元件\n\n2.1 Diode 二极管 ★☆☆☆☆\n以下是二极管的三种由简入繁的模型:\n\nForward/Reverse Bias 正/反向偏置 \nThreshold / Barrier potential 开启电压 \\(V_t\\) : PN 结导通所需克服的势垒电压.\n\nSilicon 硅管 \\(\\boxed{V_t = 0.7 \\text{ V}}\\) (默认这个值!)\nGermanium 锗管 \\(V_t = 0.3 \\text{ V}\\)\nBJT 的 BE 间在 DC 工作模式下也有这个开启电压.\n\n*Shockley 二极管方程: \\[ I_{\\text{D}} = I_{\\text{S}} \\left( e^{\\frac{V_{\\text{D}}}{V_{\\text{T}}}} - 1 \\right) \\tag{1}\\]\n\n\\(I_{\\text{S}}\\) 反向饱和电流 (非常小 \\(10^{-15}\\))\nThermal Voltage 热电压 \\(V_T\\): \\[\\boxed{V_T = \\frac{kT}{q}}\\]\n\n玻尔兹曼常数: \\(k = 1.38 \\times 10^{-23} \\text{ J/K}\\). 工作温度: \\(T = t + 273.15 \\text{ K}\\). 电荷量: \\(q = 1.6 \\times 10^{-19} \\text{ C}\\).\n室温 \\(20^{\\circ}\\) 下: \\(\\boxed{V_{\\text{T}} = 25 \\text{ mV}}\\)\n\n“Diode Mixer”: 用到了这个方程, 见 Section 5.1.1.\n\n\n\n\n\n\n\n二极管的 Shockley 指数性质\n\n\n\nVaricap Diode: 其实是电容, 见 Section 7.3.\n\n\n\n2.2 MOSFET 场效应管 ★☆☆☆☆\n\nJFET 可近似看作 depletion-mode MOSFET (Figure 1), 因此省略 JFET 的讨论.\n结构: Gate, Source, Drain 栅极, 源极, 漏极.\n\nS 源极指的是电子的源 而不是电流的源. D 漏极同理.\n计算题一般假设 \\(I_{\\text{S}} = I_{\\text{D}}\\).\nJFET 的 GS 在 \\(V_{\\text{GS}}\\) 下可能有极微弱的 leakage current3 \\(I_{\\text{GSS}}\\), 造成 input resistance 输入电阻 (很大): \\[R_{\\text{in}} := \\left\\vert \\frac{V_{\\text{GS}}}{I_{\\text{GSS}}} \\right\\vert\\]\nMOSFET 由于有氧化层隔离, GS 无电流.\n\n\n\n\nG 闸门, \\(V_{\\text{DS}}\\) 水压, \\(I_{\\text{D}}\\) 水流\n\n\n\n3 AoN, 应该记为 \\(I_{\\text{GSL}}\\) (gate-source leakage).\nMOSFET 分类:\n\n\n\n\n\n\nFigure 1: 箭头 in 代表 n-channel\n\n\n\n\nP/N channel 通道: 根据沟道类型 (不是 substrate 类型!), 空穴: P channel, 电子: N channel.\nDepletion/Enhancement mode 耗尽/增强型: 默认 (GSS, gate-source short) 闸门的状态, 导通: depletion, 不导通: enhancement (符号上断开).\n\\(V_{\\text{GS}}\\) 控制闸门的方法是不一样的 (Figure 1):\n\nP-channel D Mode: 正电压 -&gt; 吸引 n substrate 的电子 -&gt; 中和掉 channel 的空穴 -&gt; 截止\nN-channel D Mode: 负电压 -&gt; 吸引 p substrate 的空穴 -&gt; 中和掉 channel 的电子 -&gt; 截止\nP-channel E Mode: 负电压 -&gt; 排斥 n substrate 的电子 -&gt; 增加 channel 的空穴 -&gt; 导通\nN-channel E Mode: 正电压 -&gt; 排斥 p substrate 的空穴 -&gt; 增加 channel 的电子 -&gt; 导通\n\n\n特性:\n\n以 S 源极为基准, 我们关心 \\(V_{\\text{GS}}, V_{\\text{DS}}, I_{\\text{D}}\\) 三者的关系 (\\(I_{\\text{D}}\\) 曲面)\nQ-point (Quiescent)4: 静态工作点, Figure 2 上的每个点都是 Q-point.\n\n引入 Q-point 的原因是: 半导体元件在不同的输入变化频率下 即使输入的数值相同, 输出会有所差别. Q-point 代表这些点都是在输入变化很慢的情况下测出来的值, 即 DC 工作点、稳态值.\n所以模拟电路有必要区分 DC 和 AC 分析, 他们是不一样的.\n\n\n\n\n\n\n\n\nFigure 2: \\(I_{\\text{D}}\\) 曲面\n\n\n\n\nDrain curve 漏极特性曲线: 固定闸门 \\(V_{\\text{GS}}\\) 后的 水压与水流的关系.\n\nOhmic region 欧姆区: 相当于固定电阻. (改变闸门可以充当可变电阻)\nActive region 饱和区: 水流不变了.\nBreakdown region 击穿区: 水压太大, 水管坏了.\nPinch-off 对应的点是抛物线.\n\n\n\n\n\nDrain curve 漏极特性曲线\n\n\n\nTransfer curve 转移特性曲线: 水压足够大时水流和闸门的关系 (\\(I_{\\text{D}}\\) 曲面沿 \\(V_{\\text{DS}}\\) 轴的投影).\n\n抛物线 关系.\n默认饱和电流 \\(I_{\\text{DSS}}\\): Drain to Source current with gate Shorted.\n跨导 \\(g_m\\) (电阻的倒数): Drain curve 的斜率, 与闸门电压有关.\n\n\n\n\n\n\n\n\nFigure 3: Transfer curve 转移特性曲线\n\n\n\n\n4 这是一个典型的教科书讲不明白的问题.\n\n2.3 BJT 三极管 ★★★★☆\n\n大写表示 DC 工作模式 (e.g., \\(I_{\\text{E}}, \\beta_{\\text{DC}}\\)), 小写表示 AC 工作模式 (e.g., \\(I_{\\text{e}}, \\beta_{\\text{ac}}\\)). \\(\\tilde{I}\\): phasor, \\(i\\): 瞬时值.\n\n\n2.3.1 结构 ★☆☆☆☆\n\n\n\n\n\n\n\n\n\n\n\n结构: Base, Collector, Emitter 基极, 集电极, 发射极.\n\nnpn, pnp 两种, 因 doping 浓度不同而不对称 ! npn 性能更好.\n\n模型及可观测参数\n\nr Parameters (resistance): \\(r'_e\\) (最重要★★★★★), \\(r'_b, r'_c, \\alpha_{\\text{ac}}, \\beta_{\\text{ac}}\\)\n\n\n\n\n\n\n\nFigure 4: 根据 \\(r'_b \\approx 0\\) 和 \\(r'_c \\approx \\infty\\) 来简化模型\n\n\n\n\nh Parameters (hybrid): (Omitted).\n\n\n\n\n2.3.2 性质 ★★★★★\n\n特征曲线\n\n一般都在 active region 工作区\n\\(I_C\\) 不一定是 \\(I_B\\) 的 \\(\\beta_{\\text{DC}}\\) 倍, 在饱和区就不行 (Figure 5).\n\n\n\n\n\n\n\n\n\n\nFigure 5: 饱和区没有放大\n\n\n\n\n\n\n抽象命名来了, 看看饱和区和工作区是不是你想的那样\n\n\n\nAC & DC 下都有的性质:\n\n箭头代表 总 (E) 电流 参考方向, 不一定是实际电流方向. 三者满足 KCL: \\[\\boxed{ I_{\\text{E}} - I_{\\text{C}} - I_{\\text{B}} = 0}  \\tag{2}\\]\n\nDC 工作模式性质:\n\n\\(\\alpha, \\beta\\) 参数:\\[ \\alpha_{\\text{DC}} := \\frac{I_{\\text{C}}}{I_{\\text{E}}} \\approx 0.99, \\quad h_{\\text{FE}} = \\boxed{\\beta_{\\text{DC}} := \\frac{I_{\\text{C}}}{I_{\\text{B}}}} \\approx 99\\]\nB, E 可看作导通的二极管, PN结之间存在开启电压: \\[\\boxed{V_{\\text{BE}} = V_t \\approx 0.7 \\text{ V}}\\]\n\nAC 工作模式性质:\n\n发射极动态电阻 \\[\\boxed{r'_e \\approx \\frac{V_T}{I_{\\text{E}}} = \\frac{25\\text{ mV}}{I_E}}\\]\n\\(\\beta\\) 参数: \\[ \\beta_{\\text{ac}} := \\frac{\\Delta I_{\\text{C}}}{\\Delta I_{\\text{B}}}\\]\n\n造成 \\(\\beta_{\\text{DC}} \\neq \\beta_{\\text{ac}}\\) 的原因是 \\(I_{\\text{C}}\\)-\\(I_{\\text{B}}\\) 关系是曲线:\n\n\n\n\nDC 模式相当于全局的流形, AC 模式相当于局部的切空间\n\n\n\n\n\n\n\n\n\n\n\n有关 \\(V_T\\) 和 \\(V_t\\)\n\n\n\n\n\nMental picture: 当我们将信号输入到 BJT 的 Base 时, 几乎就是 DC 信号, 波动幅度非常小!\nBJT 正常工作时, 将 BE 看作导通的二极管, 自然有电压 \\(V_t \\approx 0.7 \\text{ V}\\). \\(r'_e\\) 不能被 DC 信号感受到, 只有小信号才能感受到. 小信号需要用更精确的模型 Equation 1 来计算. Figure 6 在 \\(V_{BE} = 0.7\\text{ V}\\) 处的斜率就是 \\(r'_e\\) 的倒数: \\[\n\\text{slope}|_{V = 0.7\\text{ V}} = \\frac{I_S}{V_T} \\cdot e^{\\frac{V}{V_T}} = \\frac{1}{r'_e}\n\\]\n我们 利用 Equation 1 将 \\(e^{\\frac{V}{V_T}}\\) 用 \\(I_E\\) 表示: \\[\n\\text{slope}|_{I = I_E} = \\frac{I_S}{V_T} \\cdot \\left(\\frac{I}{I_S} + 1\\right) = \\frac{I}{V_T} + \\underbrace{\\cancel{\\frac{I_S}{V_T}}}_{\\to 0} = \\frac{1}{r'_e}\n\\]\n求得: \\[\nr'_e = \\frac{V_T}{I}\n\\]\n\\(I\\) 就是当前 E 上的直流电流大小!\n\n\n\n\n\n\nFigure 6\n\n\n\n\n\n\n\n\n\n2.3.3 CE, CC 与 CB\n\nCE (Common Emitter) 共射放大器:\n\n\\(A_v \\gg 1, A_i \\gg 1\\): 电压、电流增益都很高.\n可以推导: Base 输入电阻 \\(\\boxed{R_{\\text{in (base)}} = \\beta_{\\text{ac}} r'_e}\\)\n\nCC (Common Collector) 共集放大器:\n\n\\(A_v \\approx 1\\): 基本不会放大电压, 所以称为 Emitter Follower 跟随器.\n\\(A_i \\gg 1\\): 用于电流放大, 而不用于电压放大.\n输入阻抗很高.\n\nCB (Common Base) 共基放大器:\n\n\\(A_v \\gg 1\\): 电压增益 \\(A_v\\) 很高.\n\\(A_i \\le 1\\): 电流只会减小.\n输入阻抗很低."
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#network-analysis-网络分析",
    "href": "posts/ccd-crash-course/index.html#network-analysis-网络分析",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "3 Network Analysis 网络分析 ★★☆☆☆",
    "text": "3 Network Analysis 网络分析 ★★☆☆☆\n\n3.1 Thevenin & Norton 定理\n\n任何一个只有电压源、电流源和电阻的二端网络, 都可以等效为 一个有内阻的电压源 或 一个有内阻的电流源5.\n5 任何线性二端网络都可以这么等效, 原因是电源的 \\(V\\)-\\(I\\) graph 是直线! 而有内阻的 电压源 和 电流源 也是直线, 二者自由度都是 \\(2\\), 因此相互等价.\n\\[\n\\boxed{\n\\begin{aligned}\nV_{\\text{TH}} &= V_{\\text{open}} \\\\\nI_{\\text{N}} &= I_{\\text{short}} \\\\\nR_{\\text{TH}} &= R_{\\text{N}} = \\frac{V_{\\text{open}}}{I_{\\text{short}}} \\\\\n\\end{aligned}\n}\n\\tag{3}\\]\n\n\n\nThevenin 等效 和 Norton 等效\n\n\n\n\n3.2 Input & Output Impedance 输入/输出阻抗\n\n一个线性网络作为负载时一定可以等效成一个电阻 (输入阻抗), 作为电源时一定可以等效成一个非理想电压源或电流源 (内阻就是输出阻抗).\n\n\n\\(R_{\\text{in}}\\) 就是该网络作为负载时两端的电压和电流之比.\n\n\n\n3.3 Conjugate Matching & Maximum Power Transfer 匹配负载与最大功率传输\n\n阻抗匹配是一个实际中要考虑的问题, 而不是在纯理论层面上的问题, 所以会觉得有点脱节的感觉.\n\n\n问题建模: Section 3.1 的结论对稳态交流电路同样适用 (见 Figure 7)! 任意复杂线性网络:\n\n从外面看都只是一个内阻 \\(\\tilde{Z}_0\\) 的电压源 \\(\\tilde{V}_0\\) (相当于 Thevenin 等效).\n看外面都是一个阻抗为 \\(\\tilde{Z}_L\\) 的负载.\n问: 给定工作频率6 \\(\\omega_0\\) 和 \\(\\tilde{V}_0\\), \\(\\tilde{Z}_0, \\tilde{Z}_L\\) 满足什么的时候负载热功率最大?\n\n\n6 注意一个匹配电路只在一个工作频率下匹配, 而不是所有频率! 而我们会看到, 匹配后的频率恰好是协振频率 \\(\\omega_0\\), 所以用 \\(\\omega_0\\) 来表示工作频率.\n当内外阻抗互为共轭时, 称该电路阻抗匹配, 此时负载热功率7达到最大. \\[\\boxed{\\tilde{Z}_0 = \\tilde{Z}_L^*} \\tag{4}\\]\n\n\n\n阻抗匹配时相当于只有两个一样的纯电阻\n\n\n\n7 稳态电路功率有很多定义 (比如: 有功功率, 无功功率, 视在功率, 热功率等), 这里指热功率.\nReflection Coefficient 反射系数: 反映了负载阻抗与源阻抗的匹配程度, omitted.\n\n\n\n\n\n\n\n\n阻抗匹配条件 Equation 4 的证明\n\n\n\n\n\n\n\n\n\n\n\nFigure 7: 问题建模情景\n\n\n\n设 \\(\\tilde{Z}_0 = R_0 + jX_0, \\tilde{Z}_L = R_L + jX_L\\), 负载的热功率: \\[\n\\begin{aligned}\nP_L &= I_{\\text{rms}}^2 R_L \\\\\n&= \\frac{1}{2} |\\tilde{I}|^2 R_L \\\\\n&= \\frac{1}{2} \\left| \\frac{\\tilde{V}_0}{\\tilde{Z}_0 + \\tilde{Z}_L} \\right|^2 R_L \\\\\n&= \\frac{1}{2} \\frac{|\\tilde{V}_0|^2}{(R_0 + R_L)^2 + (X_0 + X_L)^2} R_L \\\\\n\\end{aligned}\n\\]\n要 \\(P_L\\) 最大, 分母必须最小, 显然当 \\(X_0 + X_L = 0\\) 时即 Equation 4 时取最小.\n\n\n\n\n\n\n3.4 Matching Network Design 匹配网络设计\n\n有很多种匹配网络可供选择: \\(\\pi, T\\) 形网络等, 本文只考虑 \\(T\\) 形网络. 本章重度依赖 Section 6.2.2 的结论.\n\n\n问题描述: 给定 纯电阻内阻 \\(R_0\\) 的交流电源 \\(V_0\\) 和 纯电阻负载 \\(R_L\\), 在它们中间设计一个 \\(T\\) 形网络使阻抗匹配.\n\n既然是设计匹配网络, 就不能用纯电阻了 (Figure 8), 不然能量白白消耗掉了, 只能用纯电抗 \\(X\\) 元件 (\\(X_p, X_s\\) 都可以是 \\(L\\) 或 \\(C\\), 一般串联的用 \\(L\\), 并联的用 \\(C\\)), 它们只储能, 不耗能.\n\n\n\n\n\n\n\n\n\n\nFigure 8: 谁教你这样设计网络的?\n\n\n\n\n\n\n\n\n\nFigure 9: 根据 \\(R_0, R_L\\) 的大小结合 Equation 9 的结论要设计成不同的 \\(T\\) 形网络\n\n\n\n\n解法: ★★★★★\n\n根据 \\(R_0, R_L\\) 的大小选择网络类型: 见 Figure 9.\n用电阻之比算 \\(Q\\): Equation 9 的第一个公式.\n再用 Figure 16 的两个公式得出 \\(X_s, X_p\\).\n最后用 \\(X_s, X_p\\) 计算出 \\(L, C\\) 的值: 一般串联的用 \\(L\\), 并联的用 \\(C\\).\n\n\n\n\n\n\n\n\n\nEXAMPLE: 匹配网络设计\n\n\n\n\n\n\n\n\n题目描述\n\n\n\n\n\n设计图, \\(R_{-}, R_{+}\\) 对应 \\(R_0, R_L\\)\n\n\n\n\n\n计算电抗和其对应的 \\(L, C\\) 值"
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#amplifier-circuit-放大电路分析",
    "href": "posts/ccd-crash-course/index.html#amplifier-circuit-放大电路分析",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "4 Amplifier Circuit 放大电路分析 ★★★★☆",
    "text": "4 Amplifier Circuit 放大电路分析 ★★★★☆\n\n4.1 分析纲领 ★★★★★\n\n一个放大电路对 DC 和 AC 的作用是单独的, 我们先分开分析, 实际上的情况是两个分析结果的叠加!\n\n\n\n\n\n\n电容通交隔直\n\n\n\nDC 和 AC 的情况下, 放大电路的等效电路是不一样的.\n我们只需要考虑等效电路, 电容和电感在等效电路中是不存在的.\n\nDC 分析:\n\n电容开路, 电感短路8.\n画 Thevenin 等效电路\n\n\n\n\n\n\nFigure 10: DC等效电路 及其Thevenin等效\n\n\n\n\nAC 分析:\n\n电容短路, 电感开路.\n\\(V_{\\text{CC}}\\) 相当于接地 (任何不变的信号都相当于接地)\n电压、电流默认取 RMS \\(V_{\\text{rms}}\\) 计算 (峰值也行其实), \\(\\boxed{V_p = \\sqrt{2} V_{\\text{rms}}}\\)\nBypass Capacitor: 与某个电阻 \\(R\\) 并联的电容, 使得交流信号在至少 \\(f_{\\min}\\) 频率下看起来无阻抗, \\(C\\) 必须足够大 (\\(X_C\\) 必须足够小): \\[\\boxed{X_C \\le \\frac{R}{10}}\\]\n\n将等效电路中的 BJT 换成 Figure 4 (b) 中的模型, 然后当作正常电路分析即可.\n\n\n8 理想电容记为 \\(C_{\\infty}\\), 理想电感记为 \\(\\text{RFC}\\) (Radio Frequency Choke).\n最后 DC 和 AC 的结果叠加起来, 注意 这时候 \\(V_{\\text{CC}}\\) 不能接地了9, 所有元件都正常.\n\n\n9 特别是在分析为什么 Common Emitter 相位是 180 度的时候, \\(V_\\text{C} = V_{\\text{CC}} - I_\\text{C} R_\\text{C}\\), \\[V_B \\uparrow \\implies I_B \\uparrow \\implies I_C \\uparrow \\implies V_\\text{C} \\downarrow\\]\n\n\n\n\n\nEXAMPLE: Thevenin 等效电路\n\n\n\n\n\n\n\n\n求解 Figure 10\n\n\nFigure 10 中 \\(A\\) 点电压不能直接分压求解! 虽然 \\(I_{\\text{A}}\\) 很小: \\[ V_A \\neq \\frac{R_2}{R_1 + R_2} V_{\\text{CC}}\\]\n要用 Thevenin 等效电路求解!\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: Bypass Capacitor 大小的计算\n\n\n\n\n\n\n\n\nBypass Capacitor 大小的计算"
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#mixer-circuit-混频电路",
    "href": "posts/ccd-crash-course/index.html#mixer-circuit-混频电路",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "5 Mixer Circuit 混频电路 ★★★☆☆",
    "text": "5 Mixer Circuit 混频电路 ★★★☆☆\n\n目的: 其实就是完成了调制和解调的时候将两个正弦信号 \\(v_1, v_2\\) 乘在一起的过程\n\n\\(v_1 = V_1 \\cos(\\omega_1 t), v_2 = V_2 \\cos(\\omega_2 t)\\)\n一般要结合滤波器保留需要的频率成分 (上边带 \\(\\omega_1 + \\omega_2\\) 或 下边带 \\(|\\omega_1 - \\omega_2|\\), 为了区分 Rejection 滤波, 姑且叫做 “Second” 滤波10).\n\n由于产生了新的频率成分, 需要引入二极管之类的非线性元件.\n\n10 我自己起的名字, 只是因为他在 Rejection 滤波器之后.\n5.1 Common Mixer 常见混频器\n\n5.1.1 Diode Mixer 二极管混频器\n\n\n\n\n\n\nFigure 11\n\n\n\n\nFigure 11 1 点电压 \\(V_1 = (v_1+v_2)/2\\), 相当于两个交流电压源 \\(v_1, v_2\\) 串联.\nDiode Mixer 要求 \\(v_1, v_2\\) 很小 (所以 \\(i_D\\) 也很小), 二极管要用 Shockley 方程 来建模!\n由 Taylor 展开 Shockley 方程, \\(i_D\\) 有 \\(v_D, v_D^2, v_D^3, \\cdots\\) 成分, 分别对应:\n\n一次谐波: \\(\\omega_1, \\omega_2\\)\n二次谐波: \\(2 \\omega_1, 2 \\omega_2, \\omega_1 + \\omega_2, |\\omega_1 - \\omega_2|\\)\n更高次谐波 …\n\n\n\n\n\n\n\n二极管混频器输出的频谱\n\n\n\n\n5.1.2 BJT & JFET Mixer 晶体管混频器\n\n\n\n\n\n\nFigure 12: 以 BJT Mixer 为例\n\n\n\n\nBJT 的 B, E 间其实是隐藏的二极管 (见 Section 2.3.2)\nBJT Mixer 自带放大效果 (输出的电流可以比较大).\nFigure 12 的 \\(L, C\\) 是带通滤波器 (“Second” 滤波)\n若换成 JFET Mixer, 不再满足 Shockley 方程, 而是 Transfer curve 的二次关系 (Figure 3), 没有高次谐波成分了, nice!\n\n\n\n5.1.3 Dual-Gate MOSFET Mixer\n(Omitted)\n\n\n5.1.4 Diode Ring Modulator 环形调制器\n\n\n\n环形调制器输入 \\(e_i\\) 输出 DSB-SC 调制信号, 载波一般用矩形波\n\n\n\n\n\n5.2 Image Frequency 镜像频率\n\n混频器输出的二次谐波里的 \\(|\\omega_1 - \\omega_2|\\) 项不仅有希望的 \\(f_{\\text{RF}}\\) 频率, 还有可能存在的 镜像频率 \\(f_{\\text{image}}\\).\nImage frequency rejection: 当我们 mixing 后需要保留 \\(|\\omega_1 - \\omega_2|\\) 成分时, 我们不希望受到 \\(f_{\\text{image}}\\) 的干扰, 所以加一个 BPF 来滤掉它 (Figure 13)\n\n\n\n\n\n\n\n\n\nFigure 13: Rejection 滤波器例子\n\n\n\n\n\n\n\n\n\nFigure 14: 用带通滤波器滤掉可能存在的镜像频率, 定量分析见 Section 6.3, \\(\\omega_{\\text{IF}}\\) 见 Section 8.3.2"
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#sec-rlc-filter",
    "href": "posts/ccd-crash-course/index.html#sec-rlc-filter",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "6 RLC 电路作为滤波器",
    "text": "6 RLC 电路作为滤波器\n\n这门课中 含有 RLC 这个电路整体的地方包括: Image Rejection 滤波器, 振荡器的反馈电路, PLL 的 loop filter 低通滤波, 我们单独来看一看.\n\n\nHigh Frequency Effects/Parasitic Effects 高频/寄生效应: \\(R, L, C\\) 元件甚至导线在高频时表现不再理想, 都有了寄生电容和寄生电感. 但这超出了电路的集总 (lumped) 假设, 一般不讨论.\n\n\n\n\n\n\n\\(L\\) 在高频下变成 \\(RLC\\) 电路了\n\n\n\n6.1 Resonance 协振\n\nTank circuit: 并联 \\(LC\\) 电路中是有储存的能量的, 所以称为 Tank.\nFlywheel effect: \\(LC\\) 电路中 \\(L\\) 和 \\(C\\) 之间有能量交换 (用弹簧振子类比, 弹性势能和动能之间的交换).\n协振时 \\(LC\\) 串联电路相当于短路, \\(LC\\) 并联电路相当于断路. 即电路表现为纯电阻, 即: \\[\\boxed{\\Im{(Z)} = 0, \\quad \\text{or } \\Im{(Y)} = 0}\\]\n\n对 \\(LC\\) 电路, \\[\\Im (Z) = \\Im \\left(\\frac{1}{Cj\\omega_0} + Lj\\omega_0\\right) = 0 \\implies \\boxed{\\omega_0 = \\sqrt{\\frac{1}{CL}}} \\tag{5}\\]\n对 \\(RLC\\) 电路 (Figure 15), 算 \\(Y\\) 更方便: \\[\\Im (Y) = \\Im \\left(\\frac{1}{R + Lj \\omega_0} + Cj \\omega_0\\right) = 0 \\implies \\omega_0 = \\sqrt{\\frac{1}{CL}-\\frac{R^2}{L^2}}\\]\n\n\n\n\n\n\n\n\n\n\nFigure 15: 对于 \\(Q&gt;10\\) 的 \\(RLC\\) 电路可以忽略 \\(R\\)\n\n\n\n\n\n6.2 Q-factor 品质因数\n\nQ-factor 在一阶系统和二阶系统都有定义, 但不太一样. 先是在二阶系统上定义, 再形式化地迁移到了一阶系统上.\n\n\n6.2.1 二阶系统 (\\(C, L\\) 都存在)\n\nQ-factor 衡量了一个二阶电路的滤波品质. \\(Q\\) 越大, 滤波器的频率选择性越好.\n\n\n\n\n\n\n\\(Q\\) 越大, 滤波器的频率选择性越好\n\n\n\nDissipation \\(D := 1/Q.\\)\n等价定义(或推论):\n\n二阶系统 (如弹簧振子模型) 在共振(协振 resonance)条件下 (\\(\\omega_0\\)), 系统储存的能量与一个周期内消耗的能量 (在 \\(R\\) 上) 之比, 的 \\(2\\pi\\) 倍: \\[ Q := 2\\pi \\cdot \\frac{ \\text{Energy stored}}{\\text{Energy dissipated in one period}}\\] 这是其定义式, 但不会用它来计算, 可以由这个式子推出所有以下结论:\n串联协振 (记忆: 串联电流主导, \\(R\\) 在分母, \\(R\\) 越大越耗能, \\(Q\\) 越小): \\[ \\boxed{Q = \\frac{\\omega_0 L}{R} = \\frac{1}{\\omega_0 C R}} \\tag{6}\\] 并联协振 (记忆: 并联电压主导, \\(R\\) 在分子, \\(R\\) 越大泻能越慢, \\(Q\\) 越大): \\[ \\boxed{Q = \\frac{R}{\\omega_0 L} = \\omega_0 C R} \\tag{7}\\] 这两个式子在 Section 6.2.2 被形式化地迁移到了一阶系统上, 在匹配网络设计 (Section 3.4) 中频繁用到!\n不管串/并联协振, \\(Q\\) 都可由 中心频率和 \\(-3\\text{ dB}\\) 带宽之比来表示 : \\[\\boxed{Q = \\frac{\\omega_0}{\\Delta \\omega}}, \\Delta \\omega = \\omega_2-\\omega_1, \\quad \\text{when } 20\\lg|H(\\omega_{1,2})| = -3\\text{ dB} \\tag{8}\\]\n\\(\\omega_0\\) 是 \\(\\omega_1\\) 和 \\(\\omega_2\\) 的几何平均: \\[\\boxed{\\omega_0^2 = \\omega_1 \\omega_2}\\] 但是实际上很接近算数平均, 所以可以这样算截止频率 \\(\\omega_1, \\omega_2\\): \\[ \\begin{cases} \\omega_1 &\\approx \\omega_0 - \\frac{\\Delta \\omega}{2} \\\\ \\omega_2 &\\approx \\omega_0 - \\frac{\\Delta \\omega}{2}\\end{cases}\\]\n\n\n\n\\(\\omega_0\\) 是 \\(\\omega_1\\) 和 \\(\\omega_2\\) 的几何平均, 但计算时可用算数平均来近似计算\n\n\n\n\n\n\n「半功率」点 \\(-3\\text{ dB}\\) 对应的 \\(\\omega\\) 叫 截止频率, \\(|H|^2 = 0.5\\).\n\n\n6.2.2 一阶系统 (\\(RC\\) 或 \\(RL\\) 电路)\n\n直接将 Equation 6 和 Equation 7 的 \\(\\omega_0\\) 形式化地替换成当前的频率 \\(\\omega\\), 所以一阶电路的 \\(Q\\) 不再固定, 跟工作频率有关.\n\n\n\n\n\n\n\nFigure 16: 电容和电感可以进一步抽象为纯虚数的电抗 \\(X\\), \\(s, p\\) 代表 series, parallel\n\n\n\n\nSerial-Parallel Conversion\n\n动机: Figure 16 中两种电路的总体来说就是一个阻抗 \\(Z_s, Z_p\\), 给定频率 \\(\\omega\\), \\(R_s, R_p\\) 和 \\(X_s, X_p\\) 要满足什么条件他们可以完全等效? i.e., \\(Z_s = Z_p\\).\n结论: 等效时, 并联的电阻和电抗都要大一些: \\[\n  \\boxed{\n  \\begin{aligned}\n  \\frac{R_p}{R_s} &= 1+Q^2 \\\\\n  \\frac{X_p}{X_s} &= 1+\\frac{1}{Q^2}\n  \\end{aligned}}\n   \\tag{9}\\]\n\n\n\n\n\n\n\n\n\nEquation 9 的推导\n\n\n\n\n\nFigure 16 中串联和并联的阻抗 \\(Z_s, Z_p\\) 为: \\[\n\\begin{aligned}\nZ_s &= R_s + j X_s \\\\\n\\frac{1}{Z_p} &= \\frac{1}{R_p} + \\frac{1}{j X_p}\n\\end{aligned}\n\\]\n令 \\(Z_s = Z_p\\), 实部与虚部分别相等, 再代入 Figure 16 中的公式 (由于等效, 串联和并联的电路的 \\(Q\\) 肯定一样, \\(Q \\equiv \\frac{X_s}{R_s} = \\frac{R_p}{X_p}\\)) 即可: \\[\n\\begin{aligned}\n&\\frac{1}{R_s + j X_s} = \\frac{1}{R_p} + \\frac{1}{j X_p} \\\\\n\\implies &\\frac{R_s - jX_s}{R_s^2 + X_s^2} = \\frac{1}{R_p} - j \\frac{1}{X_p} \\\\\n\\implies &\\begin{cases} \\Re = \\frac{R_s}{R_s^2 + X_s^2} = \\frac{1}{R_p} \\implies \\frac{R_p}{R_s} = 1 + \\frac{X_s^2}{R_s^2} = 1 + Q^2 \\\\ \\Im = \\frac{X_s}{R_s^2 + X_s^2} = \\frac{1}{X_p} \\implies \\frac{X_p}{X_s} = 1 + \\frac{R_s^2}{X_s^2} = 1+\\frac{1}{Q^2} \\end{cases}\n\\end{aligned}\n\\]\n\n\n\n\n\n\n\n6.3 RLC 电路作为 Image Rejection 滤波器\n将 Figure 13 作为一个整体, 其 admittance (导纳) \\(Y\\) 跟输入频率有关, 算出来是: \\[\n\\boxed{\n|Y| = Y_0 \\sqrt{1+(\\delta Q)^2}\n}\n\\] 其中 \\(Y_0\\) 是电路在协振 \\(\\omega_0\\) 时的导纳. \\(\\delta := \\frac{\\omega}{\\omega_0} - \\frac{\\omega_0}{\\omega}\\), \\(Q\\) 是品质因数.\n给 \\(a, b\\) 输入相同的电流 phasor \\(\\tilde{I}\\), \\(\\tilde{V}_{ab}\\) 的长度代表了滤波后的电压信号振幅, 由 \\(|\\tilde{V}_{ab}| = |\\tilde{I}| / |Y|\\) 知: 滤波器的输出反比于 \\(|Y|\\).\n以 \\(\\omega_0\\) 点为参考, 定义滤波器在 Figure 14 的 任意频率 \\(\\omega\\) 上的 attenuation \\(|A_r|\\) 为 (一般还要化成 \\(\\text{dB}\\) 单位): \\[\n\\boxed{\n|A_r| := \\left|\\frac{\\tilde{V}_\\omega}{\\tilde{V}_{\\omega_0}}\\right| = \\frac{Y_0}{Y} = \\frac{1}{\\sqrt{1+(\\delta Q)^2}}\n}\n\\]\n\n\n\n\n\n\n\nEXAMPLE: RLC Rejection 滤波器 attenuation 的定量分析\n\n\n\n\n\n\n\n\n\n\n\n\n6.4 RLC 电路作为振荡器的反馈电路 ★★★★★ (See Section 7.2)\n\n6.4.1 Phase-shift oscillator 只有 \\(RC\\) 的反馈\n\nFigure 17 结构的振荡器输出的中心振荡频率 \\[\\boxed{\\omega_0 = \\frac{1}{\\sqrt{6}RC}} \\tag{10}\\]\n\n\n\n\n\n\n\nFigure 17: Phase-shift oscillator 的反馈电路结构\n\n\n\n\n\n\n\n\n\n\nEquation 10 推导过程\n\n\n\n\n\n\n\n\n\n\n\nFigure 18: Phase-shift oscillator 的中心频率的推导过程\n\n\n\n注意: 不能用三个 \\(RC\\) LPF 的连级来计算!, 因为每加一个 \\(RC\\) 就相当于加了负载 (这个思想见 Section 1), 会影响之前的电路的滤波性质:\n\n\n\n加 Buffer 才能用连级的思想\n\n\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: 用 Equation 10 来计算输出频率\n\n\n\n\n\n\n\n\n\n\n\n\n6.4.2 Tapped network 含 \\(RLC\\) 的反馈\n\nTapped network: 一个电路从中间某两个部分引出两条线11 (称为 “tap”) 分别作为输入和输出后形成的二端网络.\n11 比如滑动变阻器的滑片可称为 “tap”.\n\n\n\n\n\n\n\n\nFigure 19: Tapped network 例子\n\n\n\n\n根据所用的不同 Tapped network (Figure 19), 给振荡器起了不同名字 (仅仅是起个名字): Hartley, Colpitts, Clapp, etc.\n这里题目一般只会叫你算中心频率 \\(\\omega_0\\), 只要将他给的电路进行 AC 等效, 然后与 Figure 22 进行对比找出 \\(\\beta(s)\\) 的部分, 这个部分是一个 \\(LC\\) 协振电路, 是一个 BPF, 所以其协振频率就是振荡器的输出频率 \\(\\omega_0\\)!12\n\n\n12 这也是为什么协振频率和振荡器的输出频率是都用 \\(\\omega_0\\) 表示的原因.\n\n\n\n\n\nEXAMPLE: 找出下面振荡器的反馈部分 并算出其输出频率\n\n\n\n\n\n\n\n\n\n\n\nHartley: \\(\\omega_0 = 1/\\sqrt{(L_1+L_2)C}\\)\n\n\n\n\n\n\n\nHartley: 跟左边一样\n\n\n\n\n\n\n\n\n\n\n\nFigure 20: Colpitts: \\(\\omega_0 = 1/\\sqrt{[C_1C_2/(C_1+C_2)]L_1}\\)\n\n\n\n注意上面的 BJT 的 Base 上并不是没有输入, 而是省略了正向开启电压提供电路.\n\n\n\n\n\n\n\n6.5 \\(RC\\) 电路作为 PLL 的 Loop Filter\n\n\n\n\n\n\n\n\nFigure 21: \\(RC\\) 低通滤波器\n\n\n\n\nFigure 21 的传递函数为: \\[F(s) = \\frac{1}{1+RCs}\\] 其 截止频率 \\(\\omega_p\\) 来自「半功率」点: \\[|F(s)|^2 = \\frac{1}{1+(RC\\omega_p)^2} = \\frac{1}{2} \\implies \\boxed{\\omega_p = \\frac{1}{RC}}\\]"
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#oscillator-circuit-振荡器",
    "href": "posts/ccd-crash-course/index.html#oscillator-circuit-振荡器",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "7 Oscillator Circuit 振荡器 ★★★☆☆",
    "text": "7 Oscillator Circuit 振荡器 ★★★☆☆\n\n程序的执行需要时钟, 我们需要一个电路, 它可以自发持续稳定 (而不是像 \\(LC\\) 电路被动地) 地输出一个周期信号 (e.g., 正弦波), 称为振荡器. 如果频率还能调整的话就更好 (VCO, Voltage Controlled Oscillator).\n\n\n7.1 电路振荡要满足的条件\n\n\n\n\n\n\nFigure 22: 用正反馈来产生自发振荡, 振荡的根源在于内部的热噪声\n\n\n\n\n为什么会自发震荡? (热噪声见 Section 8.3.3)\n\n热噪声不可避免\n热噪声为白噪声 (频谱中含有所有的频率), 通过线性系统有制造出任意想要的频率的潜力.\n我们希望小噪声在正反馈系统里不断被「放大」13 (用 \\(A(s)\\)), 而且能够筛选出我们想要的频率 \\(\\omega_0\\) (用 \\(\\beta(s)\\), \\(\\omega_0\\) 是振荡器的自发频率, 称为中心频率或工作频率, 是反馈 \\(LC\\) 电路中的协振频率).\n\nBarkhausen Stability Criterion 巴克豪森准则: Figure 22 要振荡, 必须满足 (但不保证振荡): \\[\n\\boxed{\n\\begin{cases} |A \\beta| \\ge 1 \\\\ \\angle (A \\beta) = 0 \\end{cases}\n}\n\\]\n\n\n13 在 Section 1 中我们提到过「信号是复值的」, 这意味着「放大」这个词不一定代表指数增长的信号, 也代表正弦信号, 指数信号和正弦信号的在复数看来本质是一样的.\n\n\n\n\n\nBarkhausen 准则的理解\n\n\n\n\n\n一个小噪声在 \\(\\omega\\) 频点每经过一次系统回来后都被「放大」了: \\[\nH(j \\omega) = A(j \\omega) \\beta(j \\omega)\n\\]\n那这个信号一遍又一遍经过系统出来以后被「放大」了: \\[\n1 + H(j \\omega) + H(j \\omega)^2 + H(j \\omega)^3 + \\cdots\n\\tag{11}\\]\n这是一个等比数列, 要想震荡, 这个值一定不能收敛, 也就是公比不能太小: \\[\n|H(j \\omega)| \\ge 1\n\\]\n另外回来的相位必须跟原来同向 (相位差是零, \\(\\angle(A \\beta) = 0\\)), 不然 Equation 11 的每一项就会均匀分布在复平面上, 会被平均掉.\n真实的过程就是 Equation 11 的求和是很快地一项一项求和 (因为反馈是需要时间的, 如果反馈不需要时间就不会震荡了, 如果宇宙是计算机的话, 直接 run time error), 如果发散的话就一直来回变化怎么也停不下来, 也就是在时间上震荡, 如果我们直接列方程求解的话是想一步到位求出稳态 (见 Section 1), 但是它收敛不了, 最后的结果就是无穷大.\n如果我们要输出固定的频率的话, 只需要在反馈的过程中让 \\(\\beta(s)\\) 筛选出我们想要的频率就行了 (BPF).\n\n\n\n\n\n\n7.2 设计正反馈电路\n\n现在要设计 Figure 22 中的反馈电路 \\(\\beta(s)\\), 目标是要跟 \\(A(s)\\) 一起满足 Barkhausen 准则, 而且要滤出所需震荡频率 \\(\\omega_0\\). 简单起见, 就用 \\(LC\\) 电路吧.\n\n\n这个正反馈电路可以只含有 \\(RC\\) 元件, 也可以利用 \\(RLC\\) 的协振, 所有内容见 Section 6.4.\n\n\n\n7.3 VCO (Voltage Controlled Oscillator) 电压控制振荡器\n\nVCO 接收一个电压14 \\(V_o\\), 输出一个频率与之 近似线性 的周期信号.\n14 Notation 开始变得抽象了, 用 \\(V_o\\) 是因为 PLL 里面 VCO 的输入是 LPF 的输出, 所以用 out.\n\n\n\n\n\n\n\n\nFigure 23: VCO 输入输出近似线性 (见 Equation 13)\n\n\n\n\nVaricap (Varactor) diode 可变电容: 这种电容的电容值 \\(C_D\\) 可通过外界输入的电压 \\(V_D\\) 来调节 (\\(C_0 \\approx 18\\text{ pF}\\) 是 \\(V_D\\) 等于零的电容值): \\[\\boxed{C_D = \\frac{C_0}{\\sqrt{1 + \\frac{|V_D|}{0.5}}}}\\]\n\nVCO 就是用了 varicap diode 的自发 oscillator, 通过输入电压, 改变电容值, 进而通过 Equation 5 改变振荡频率.\n\n\n\n\n7.4 PLL (Phase Locked Loops) 锁相环 ★★★★★\n\n锁相环可以看作 VCO 的应用, 它接收一个周期信号, 输出一个与之相位同步 (当然频率也要一样) 的周期信号 (正弦波或方波)15.\n15 这样做看起来没啥意义? 其实可以改装 PLL 造出电脑里那么高的时钟频率发生器, 也可以让单片机的定时器可以定到宇宙毁灭. (用 frequency multipler 的连级! 见 Figure 24 和 Figure 35).\n\n\n\n\n\n\n\n\nFigure 24: PLL 甚至可以把 frequency divider 变成 frequency multipler\n\n\n\n\n\n\n\n\n\nFigure 25: PLL 都有的结构, LPF 也叫 Loop Filter\n\n\n\n\nPLL 工作的几个阶段 Stages:\n\nFree running: 没有输入, PLL 也会有输出, 频率是 VCO 的中心频率 \\(\\omega_0\\).\nCapture: 突然输入一个周期信号, 只有当这个信号的频率接近 \\(\\omega_0\\) 时 (具体来说, 要在 Capture range 捕获范围内, 见 Figure 26), 输出才能锁定到输入.\nLock: 输出锁定到输入. 而且我们可以改变输入频率, 但是不能超过 Lock range 锁定范围 (大于捕获范围!), 不然失去锁定.\n\n\n\n\n\n\n\n\n\n\nFigure 26: PLL 的锁定范围大于捕获范围\n\n\n\n\nFigure 25 中模块的细节16:\n\nPhase Detector 鉴相器 (PD): 输入两个周期信号 (\\(v_i(t), v_{\\text{osc}}(t)\\)), 输出他们的某种运算后的信号 \\(v_{\\varphi}(t)\\) (一般是乘积 (用 Mixer), 或 \\(XOR\\))\n\nPhase Detector Gain 鉴相器增益17: \\[\\boxed{V_o = \\textcolor{green}{{K_D}} \\Delta \\varphi} \\tag{12}\\]\n\\(K_D\\): 增益, \\(\\Delta \\varphi\\): PD 输入的两路信号的相位差.\n\nLoop Filter 低通滤波器: 对 \\(v_{\\varphi}(t)\\) 进行平滑 (滤波), 变成近似直流信号 \\(V_o\\), 这个电压反应了 \\(v_i(t)\\) 和 \\(v_{\\text{osc}}(t)\\) 的相位差. (具体电路见 Section 6.5)\nVCO\n\nFrequency sensitivity (gain) 频率灵敏度 (增益)18: \\[\\boxed{\\omega_{\\text{osc}} = \\omega_0 + \\textcolor{green}{K_O} V_o} \\tag{13}\\]\n\\(K_O\\): 频率灵敏度\n输入为 \\(0\\) 时也有频率 \\(\\omega_0\\) (Figure 23).\n\nLoop Gain 总增益: \\[\\boxed{\\textcolor{green}{{K_V}} := \\textcolor{green}{{K_D K_O}}}\\]\n\n\n16 抽象 Notation 来了, 大家坐稳.17 准确来说应该是 PD 和 LPF 的组合增益. 这个组合的输入「被隐性地认为」是相位差 (而不是输入信号本身), 输出就是正常的电压.18 开始 AoN 了, 如果 VCO 的输入是电压, 输出是正弦波, 增益应该是输出比输入, 但 \\(K_O\\) 的定义中输出好像变成了频率而不是信号值本身了. 这样的 AoN 在 PLL 中很多, 要注意说增益的时候输入、输出「被隐性地认为」到底什么: 信号值, 频率还是相位?!\n7.4.1 4046 PLL\n\n\n\n\n\n\nFigure 27: 4046 PLL 是一种只能输入和输出方波的锁相环 (因为用了 \\(XOR\\) 做 PD)\n\n\n\n\nFigure 27 中的VCO 增益可以通过 \\(C_1, R_1, R_2\\) 来调节:\n\n为了正常工作, 必须满足19: \\(\\boxed{100\\text{ pF}\\le C_1 \\le 100\\text{ nF}, 10\\text{ k}\\Omega \\le R_{1,2} \\le 1\\text{ M}\\Omega}\\)\nFigure 27 VCO 的 in 的电压 和 out 的频率分别对应 Figure 23 中的 \\(V_0\\) 和 \\(\\omega_{\\text{osc}}\\). 调整 \\(C_1, R_1, R_2\\) 也可以改变20 \\(\\omega_{\\min}\\) 和 \\(\\omega_{\\max}\\): \\[\n  \\boxed{\n  \\begin{aligned}\n  \\omega_{\\min} &= \\frac{1}{R_2(C_1 + 32\\text{ pF})} \\\\\n  \\omega_{\\max} - \\omega_{\\min} &= \\frac{1}{R_1(C_1 + 32\\text{ pF})}\n  \\end{aligned}\n  }\n  \\]\n\n\n19 这 sb 玩意儿都要背, 真是佛了.20 ppt 上写的是 \\(f\\) 而不是 \\(\\omega\\), 但用 \\(f\\) 明显单位不对啊, 牛魔的."
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#modulation-demodulation-调制解调",
    "href": "posts/ccd-crash-course/index.html#modulation-demodulation-调制解调",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "8 Modulation & Demodulation 调制解调 ★★★★★",
    "text": "8 Modulation & Demodulation 调制解调 ★★★★★\n\nModulation 调制是用某个高频 (e.g., \\(1\\text{ GHz}\\)) 的 carrier 载波信号 的某个特性 (幅度, 频率, 相位) 来表示一个低频 (\\(200\\sim 3\\text{ kHz}\\)) 的 intelligence / message 信息信号 的过程.\n\n\n不调制的问题:\n\n信号频率都相近, 信号间会 interference 干扰.\n低频信号传输需要几千米长的天线\n\n!!!!!!!!!!!!!!!!!! Notation 符号声明 !!!!!!!!!!!!!!!!!!\n\nIntelligence 信息信号21: \\(e_i = E_i \\cos(\\omega_i t)\\) (若不是正弦信号, 则约定 \\(E_i := |\\min(e_i)|\\), 调制指数要用.)\nCarrier 载波信号22: \\(e_c = \\cos(\\omega_c t)\\)\nModulated 调制 (后的) 信号: \\(e\\)\n\n\n21 注意跟 modulated 调制 (前的) 信号区分开来.22 这里用 normalized 归一化的载波信号, PPT 上是 \\(e_c = E_c \\cos(\\omega_c t)\\), 但是后面乘载波的时候又用的是 \\(\\cos(\\omega_c t)\\), 回字的四种写法, 研究这个没有意义.\n8.1 AM 调幅\n\nAM 调制的信息在调制信号的幅度里面. 而且有很多种 AM 的方法23: DSB-SC, DSB-WC, SSB, VSB, etc.\n23 Abbr. Double/Single/Vestigial (残留) Sideband- Suppressed/With Carrier.\n\n8.1.1 AM 方法1: DSB-SC\n\n\n\n\n\n\n\nDSB-SC 调制框图古早笔记\n\n\n\n\n\n\n\n\n\n\n\nFigure 28: DSB-SC 调制框图 (省略所有放大器)\n\n\n\n\n\n\n\n\nFigure 28 中的乘法器一般用 Ring Modulator 环形调制器 (见 Section 5.1.4).\n\n生成 SC 调制信号的调制器都叫 Balanced Modulator 平衡调制器, Ring Modulator 是 Balanced Modulator 的一种.\n\n\n\n\n8.1.2 AM 方法2: DSB-WC\n\n目标: 调制信号的 包络 要能还原原始信息信号的波形.\n\n\n\n\n\n\n\nFigure 29: DSB-WC 调制框图 (省略所有放大器)\n\n\n\n\nDSB-WC (Double Sideband With Carrier) 调制出来的信号: \\(e(t) = (e_i(t) + E_c) \\cdot e_c(t)\\)\nModulation Index 调制指数24: (见 Figure 29 红色框框, \\(E_i\\) 的定义见符号声明!) \\[\\boxed{m_a := \\frac{E_i}{E_c}}\\]\n\nUnder-modulation: \\(m_a \\le 1\\), 有效的调制.\nOver-modulation: \\(m_a &gt; 1\\), 包络会被削顶, 无法还原原始信息信号的波形.\n\n\n24 这是一个典型的工程上一拍脑袋想出来的鸡肋度量, 三种调制都有这个概念, 但都不能用统一起来, 极不富有美感. 但根据 Wiki 的说法: “The modulation index indicates by how much the modulated variable varies around its unmodulated level”, 还是有点道理的.\n\n\n\n不同的调制指数\n\n\n\n\nTransmitted Power 传输功率: 当 \\(e_i\\) 为正弦信号 (a.k.a. 单音信号) 时我们有: \\[\\boxed{P_t = P_c \\left(1 + \\frac{m^2}{2} \\right)} \\tag{14}\\]\n\n载波信号的功率 \\(P_c = E_c^2/2\\)\n传输载波的功率至少占了 \\(2/3\\) (\\(m = 1\\) 时).\n若将 \\(e_c\\) 和 \\(e\\) 功率信号分别接到天线 (视为一个电阻 \\(R\\)) 上, 分别产生了电流 \\(I_c, I_t\\). 由 \\(P = I^2 R = V^2/R\\) 知, 功率大的信号 \\(e_c\\) 产生了更大的电流和电压 (正比于幅值 \\(E\\)): \\[\\boxed{I_t = I_c \\sqrt{1 + \\frac{m^2}{2}}, \\quad E_t = E_c \\sqrt{1 + \\frac{m^2}{2}}}\\]\n\n\n\n\n\n\n\n\n\nEquation 14 的推导\n\n\n\n\n\nFigure 29 中调制信号 \\[\n\\begin{aligned}\ne &= (e_i + E_c)e_c  \\\\\n&= E_c (m \\cos(\\omega_i t) + 1) \\cdot \\cos(\\omega_c t) \\\\\n&= \\underbrace{E_c \\cos(\\omega_c t)}_{P_1=\\frac{E_c^2}{2}} + \\underbrace{\\frac{E_c m}{2} \\left[\\cos((\\omega_c + \\omega_m)t) + \\cos((\\omega_c - \\omega_m)t)\\right]}_{P_2=\\left(\\frac{E_c m}{2}\\right)^2}\n\\end{aligned}\n\\]\n总传输功率 \\[\nP_t = P_1 + P_2 = \\frac{E_c^2}{2} \\left(1+\\frac{m^2}{2}\\right)\n\\]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHigh / Low Level Modulation 高/低电平调制: 实际调制过程中 在输入和调制信号发射之间 肯定包含信号的放大 (Figure 29 省略了), 是先调制再放大 还是 先放大再调制呢? (都可以)\n\nHigh Level Modulation: 先放大再调制 (在 High 功率 Level 调制), 适合高功率要求25, 如 radio broadcasting 广播塔台.\nLow Level Modulation: 先调制再放大 (在 Low 功率 Level 调制), 适合功耗低、低功率要求, 如通信模块.\n\n要求后续的放大器是线性的 (不能用 Class C 了)!\n\n\n\n25 为什么不能都用这种调制方法? 有一类放大器 (Class C) 对纯载波 \\(e_c\\) 的功率放大效果非常好, 但是是非线性的, 所以不能用于放大 \\(e\\).\n\n8.1.3 AM 方法3: SSB ★★★★★\n\n动机: 我们发现 (Figure 29) 在 DSB 中调制信号的频谱上有两份原始信息, 为了减小带宽资源, 可以用 SSB Generator26 只传输一份 (USB 或 LSB27, 见 Figure 30) 就可以了, 这就是单边带调制.\n26 SSB Generator 的实现方法包括: phase shift, selective filtering (包括 One-step 和 Two-step 版本), Weaver’s method (“Third Method”), etc.27 Abbr. Upper/Lower Sideband.\n\n\n\n\n\n\nFigure 30: SSB 简化的调制框图 (省略所有放大器)\n\n\n\n\nSSB 与 SSB-SC28: SSB 不传输载波, 但 SSB-SC 传输一个微弱载波! 我没写反.\n\nSuppressed Carrier 又称 Pilot Carrier (导频载波), 可进行同步.\n\n\n28 这样命名是生怕老子学会吗, 不知道你佛不佛, 反正我是佛的.\nSSB 的优点:\n\n节省了传输载波和其中一个边带的功率\n接收端噪声能量少. 因为 SSB 的带宽小, 接收端滤波器带宽也会小, 而噪声功率 \\(\\propto\\) 带宽.\n抗选择性衰落 (Selective Fading). Figure 28 双边带解调端信号的重建用到两个边带的叠加, 不同频的边带从电离层 (ionosphere) 反射回来后折射角和路径不同 (选择性衰落), 使得两个边带不对称, 重建信号失真. 而 SSB 只用一个边带, 不受选择性衰落影响.\n\nSSB Selective Filtering:\n\n是 SSB Generator 的其中一种实现方法.\n原始信号必须要有 Band Gap \\(\\Delta f\\). (比如人声音一般大于 \\(100\\text{ Hz}\\), 所以人声信号 \\(\\Delta f = 200\\text{ Hz}\\), 见 Figure 32)\n需要一个高 roll-off 的滤波器 (原因是 Band Gap 很小), 其 \\(Q\\)-factor 为: \\[\\boxed{Q = \\frac{f_c \\sqrt{|H|}}{4 \\Delta f}}\\] 其中 \\(|H|\\) 是该滤波器的传递函数在 Rejected Sideband 上的取值 (一般告诉你多少 \\(\\text{dB}\\), 代入公式时不能用 \\(\\text{dB}\\)).\n(Two-step) SSB Transmitter 发射机:\n\n动机: 截止频率很高的滤波器很难有很高的 roll-off. 传输的频率一般要达到 \\(\\text{MHz}\\), 如果将 \\(e_i\\) 直接搬移到这个频率, 很难造出高 roll-off 的滤波器进行 SSB filtering. 但是低截止、高 roll-off 的滤波器还是有的. 所以我们先将 \\(e_i\\) 用这个滤波器搬移到一个低的频段, 用低截止高 roll-off 的滤波器滤波 (相当于增大 Band Gap, 见 Figure 33), 再用一个高截止低 roll-off 的滤波器进行真正的 SSB Filtering. 即先增大 Band Gap, 再 SSB Filtering.\n\n\n\n\n\n\nFigure 31: SSB “Two-step Method” 调制过程, 信号频谱变化见 Figure 33\n\n\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: SSB Selective Filter 的 \\(Q\\) 计算\n\n\n\n\n\n\n\n\n\n\n\nFigure 32: \\(\\log^{-1} x = 10^x\\) 抽象符号\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTwo-step SSB 调制框图 (Figure 31) 详细过程古早笔记\n\n\n\n\n\n\n\n\n\n\n\nFigure 33: Two-step SSB 调制信号图\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: Two-step 方法中第二个滤波器的 \\(Q\\)-factor 计算\n\n\n\n\n\nHINT: 用 Equation 8 来算 \\(Q\\). 说实话说这个中心频率应该取 \\(3.1\\text{ MHz}\\) 或 \\(2.9\\text{ MHz}\\), 这道题不好\n\n\n\n“In the previous slide” 指 Figure 31\n\n\n\n\n\n\n\n\n8.1.4 *AM 方法4: VSB\n\nVSB 提供了针对 SSB 中高截止、高 roll-off 的滤波器难以实现的问题, VSB 滤波器不要求高 roll-off, 只需满足一些条件 (易于满足, 见 Figure 34) 即可. SSB 可看作 VSB 的特例.\n\n\n\n\n\n\n\n\nVSB 调制框图古早笔记\n\n\n\n\n\nVSB 很聪明地利用了解调的时候两边的频谱会合起来的特点, 不需要他们完全不重合, 只需要他们重合的部分加起来刚好是原来的频谱就行.\n\n\n\n\n\n\nFigure 34: VSB 调制框图 (省略所有放大器)\n\n\n\n\n\n\n\n\n\n\n8.2 PM & FM 角度调制\n\n我们会看到 (Equation 15, Equation 16) PM 和 FM 不能说一模一样, 只能说完全没区别. 这是因为 frequency 和 phase 是密切相关的, 频率是相位的导数, FM 调 \\(e_i\\) 相当于 PM 调 \\(e_i\\) 的积分; PM 调 \\(e_i\\) 相当于 FM 调 \\(e_i\\) 的微分, 所以它们统称为角度调制.\n\n\nLet \\(e(t) = \\cos (\\varphi(t))\\), (e.g., \\(\\varphi(t) = \\omega t + \\theta\\))\n\n称 \\(\\varphi(t)\\) 为 Phase 相位.\n称 \\(\\mathrm{d} \\varphi / \\mathrm{d} t\\) 为 Instantaneous frequency 瞬时频率.\n\n\n\n8.2.1 PM 调制\n\n目标: 让 \\(e(t)\\) 与 \\(e_c(t)\\) 的 相位差 正比于 \\(e_i(t)\\) 的幅度: \\[\\varphi(t) = \\omega_c t + \\underbrace{k_p e_t(t)}_{\\Delta \\varphi} \\tag{15}\\]\n\nModulation Index 调制指数: 调制信号 \\(e\\) 的最大相移 (\\(\\Delta \\varphi := \\varphi_e - \\varphi_c\\), 调制信号 \\(\\cos\\) 里面的东西减掉载波 \\(\\cos\\) 里面的东西): \\[\\boxed{m_p := (\\Delta \\varphi)_{\\max}}\\]\n\n\n\n\n8.2.2 FM 调制\n\n目标: 让 \\(e(t)\\) 与 \\(e_c(t)\\) 的 瞬时频率差 正比于 \\(e_i(t)\\) 的幅度: \\[\n  \\begin{aligned}\n  \\frac{\\mathrm{d} \\varphi(t)}{\\mathrm{d} t} &= \\omega_c + \\underbrace{k_f e_t(t)}_{\\Delta \\omega} \\\\\n  \\implies \\varphi(t) &= \\omega_c t + \\underbrace{k_f \\int_{-\\infty}^{t} e_t(\\tau) \\mathrm{d} \\tau}_{\\Delta \\varphi}\n  \\end{aligned}\n   \\tag{16}\\]\n\nDeviation Ratio (DR) 偏差比: 调制信号 \\(e\\) 的最大频偏 \\((\\Delta f_e)_{\\max}\\) 与 信息信号 \\(e_i\\) 最大频率 \\((f_i)_{\\max}\\) 之比: \\[\\boxed{\\text{DR} := \\frac{(\\Delta f_e)_{\\max}}{(f_i)_{\\max}}}\\]\n\nModulation Index 调制指数: 是 DR 的特例, 即当 \\(E_i\\) 是单音信号时的 DR: \\[\\boxed{m_f := \\frac{(\\Delta f_e)_{\\max}}{f_i}}\\]\n广播 FM 最大频偏默认值: \\[\\boxed{(\\Delta f_e)_{\\max} = \\pm 75\\text{ kHz}}\\]\nWideband 宽带 FM: \\(\\boxed{\\text{DR}\\ge 1}\\), 反之为 Narrowband 窄带 FM.\n\n\nCarson’s Rule 卡森规则 ★★★★★\n\n引入动机: \\(e(t)\\) 的瞬时频率范围 \\(\\neq\\) \\(e(t)\\) 的频谱带宽!!! (\\(e(t)\\) 的带宽比 瞬时频率范围 要宽)\n对于 FM, \\(e\\) 的 非负频率带宽 大致为 \\(m_f\\) 的分子分母加起来 (的两倍): \\[\\boxed{B = 2 \\left((\\Delta f_e)_{\\max} + (f_i)_{\\max} \\right)}\\]\n\n\n\nFM 调制信号 \\(e(t)\\) 的频谱: \\((\\pm) (\\Delta f_e)_{\\max}\\) 是 Max Frequency Deviation 最大频偏, 瞬时频率范围的一半\n\n\n若后续有 \\(N\\) 倍频器, 则 frequency deviation 也会放大 \\(N\\) 倍 (见 Figure 35).\n对于 PM, 相当于对 \\(e_i\\) 的导数进行 FM 调制.\nBessel 函数: 可用于定量计算单音信号 \\(e_i = \\cos(\\omega_i t)\\) 的频谱 (注意只是单音信号). 由计算29可知单音信号的 FM 调制波的频谱是离散的, 第 \\(n\\) 个 频点上的幅度正比于 第一类 Bessel 函数的系数 \\(J_n(\\beta)\\).\n\n\n29 Jacobi–Anger 展开: \\[\\cos\\left(\\omega_c t + \\beta \\sin \\omega_m t\\right) = \\sum_{n=-\\infty}^{\\infty} J_n(\\beta) \\cdot \\cos\\left[(\\omega_c + n\\omega_m)\\,t\\right]\\]\nFM 调制器电路:\n\nVaractor Modulators: 其实就是直接用 VCO 来当调制器, 比如用 Figure 20, 把其中一个电容换成 \\(e_i\\) 控制的 varicap diode 就行. (PPT 上的图在 Figure 36.)\n\n缺点: 当没输入 (\\(e_i = 0\\)) 的时候, 这种用 \\(LC\\) 当反馈的 VCO 甚至不能输出精确稳定的载波频率! 所以我们会用 晶振 (Crystal Oscillator) 来产生精确的载波频率:\n\nCrystal Oscillator Modulators: 用晶振来产生精确的载波频率. 由于 晶振的频率可以被跟其串联的电容稍稍改变, 所以我们可以用一个 varicap diode 作这个电容, 再用 \\(e_i\\) 来控制这个 varicap diode.\n\n优点: 用晶振来产生载波非常精确, 且受温度影响小.\n问题: 晶体的频率调节范围非常小 (\\(100\\text{ Hz}\\)), 但 FM 的频偏最好要达到 \\(\\text{kHz}\\) (\\(75\\text{ kHz}\\)), 所以要用 Frequency Multiplier 倍频器 来增大频率 (frequency deviation 也会等比增大).\n\n\n\n\n\n\n\nFigure 35: Crystal Oscillator Modulators: 用晶振 + Multipler 的组合来产生 FM 调制信号\n\n\n\n10-GHz SiGe integrated VCO: 看不懂, 见 Figure 37, omitted.\n\n\n\n\n\n\n\n\n\n\nFigure 36: PPT 上的 Varactor Modulators 电路, 本人太菜, 实在没看出当 \\(e_i\\) 为 \\(0\\) 时为啥会振荡, 哪里有反馈?\n\n\n\n\n\n\n\n\n\n\nFigure 37: 10-GHz SiGe integrated VCO 电路\n\n\n\n\n\nFM 解调器电路:\n\nSlope Detector + Envelope Detector 方法: 利用一个频率响应是线性的滤波器 (Slope Detector, 比如 Figure 40 中的 \\(LC\\) 并联电路) 将 FM 信号转换为 AM 信号, 再用 DSB-WC 的方法 (Envelope Detector) 解调 (Figure 40).\n\n由于 Figure 40 以载波频率为中心 \\(2(\\Delta f_e)_{\\max}\\) 的范围内输出幅度没有很线性, 所以这种方法不适用与频偏范围过大的 FM 信号.\n\n\n\n\n先用 Slope Detector 转为 AM 信号, 再直接用 DSB-WC 的方法解调\n\n\nPulse-Averaging Discriminators: 注意到 FM 的幅度其实没有携带信息, 只需要观察 FM 信号 在时间轴上的交点的密集程度 就可以判断瞬时频率了:\n\n\n\n\n\n\nFigure 38: Pulse-Averaging Discriminator: 不用多说, 看图\n\n\n\nQuadrature Detectors 正交解调器: 用 Figure 39 将频率信息转为相位差 \\(\\Delta \\varphi\\) 信息 (调整 \\(C_2, L\\) 的值使其协振频率恰为载波频率 \\(\\omega_0\\) 就可以使: 当 \\(e(t)\\) 的频率恰为 \\(\\omega_0\\) 时 \\(\\Delta \\varphi = 90^\\circ\\) (所以叫 “Quadrature”); 当 \\(e(t)\\) 有频偏 \\(\\Delta f\\) 时 \\(\\Delta \\varphi\\) 会随之线性变化), 然后用一个 PD 和 LPF 的组合 (比如 Figure 39 中的 \\(XOR\\) 和 \\(RC\\) 电路, 增益用 Equation 12 算) 来将这个相位差信息正比地转换为 DC 电压信息.\n\n\n\n\n\n\nFigure 39: 一种用 \\(XOR\\) 作为 PD 的正交解调器, IF input 为 Figure 38 的 B 点信号\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 40: \\(LC\\) 电路作为 Slope Detector: 利用频率响应近似线性的特性将 FM 信号转换为 AM 信号\n\n\n\n\n\n\n8.3 RF 接收机与解调\n\n这一章最难学. RF 接收机的任务就是在空气中提取我们要的信号频率成分, 并恢复原始信号. 这不就是解调吗? 并不是, 在解调之前, 还有一个 “前端电路” , 要解决以下问题: 要根据不同调制方法 (AM, FM) 适配, 必须能调谐 (tune, 俗称调台). 为了保留动机, 我们将从简单到复杂介绍.\n\n\nRF 接收机的特性参数: (概念定义见 Section 8.3.3, 可视化见 Figure 41)\n\nSelectivity 选择性: 接收机能否精准地选出我们要听的台 (BPF 的 \\(Q\\)-factor 越大越好).\nSensitivity 灵敏度: 接收机能听到的最小的信号功率, 等于实际 Noise Floor 乘期待的 SNR, 在对数层面上是加: \\[\\boxed{S_n = \\sum P_n + \\text{SNR}_{\\text{desired}} ~[\\text{dB}]}\\]\nDynamic Range (DR) 动态范围30: 接收机能处理多大范围的输入信号强度, 一般用 \\(\\text{dB}\\) 度量.\n\n一般定义为: 放大器能放大的最大信号功率 (用 \\(1\\text{ dB}\\) 点来定义31) 与 接收机能听到的最小信号功率 (就是灵敏度!) 之比, 在对数层面上是减: \\[\\boxed{\\text{DR} = P_{1\\text{ dB}} - S_n ~[\\text{dB}]}\\]\n如果题目告诉你最小最大的信号对应的电平是 \\(1\\text{ mV}\\) 和 \\(1\\text{ V}\\), 则: \\(\\text{DR} = 20 \\lg \\left(\\frac{1}{0.001}\\right) = 60\\text{ dB}.\\)\n\nFidelity 保真度: 接收机输出的波形是否与原始调制信号一致.\n\n\n30 “Dynamic” 在音乐上是 “强弱” 的意思, 跟这里的意思一样.31 你可能会问: 放大器能一直线性放大信号吗? 肯定不是的! 那什么时候不能放大了? 我们规定: 当放大器输出的信号小于期待值 \\(1\\text{ dB}\\) 的时候, 此时的 输入信号功率 是该放大器能有效放大的最高功率信号, 称为 1dB Compression Point \\(P_{1\\text{ dB}}\\). \n\n\n\n\n\nFigure 41: 部分 RF 接收机的特性参数的总结 (这图挺好的)\n\n\n\n\n8.3.1 TRF (Tuned Radio Frequency) 接收机\n\n\n\n\n\n\nFigure 42: TRF 的三个 stage, \\(\\omega_{\\text{RF}}\\) 是我们想听的台的频率\n\n\n\n\n三个 Stage32: RF stage, Detector stage, Audio stage.\n\n其实这就比解调器多了一个 RF stage (也称 Pre-selector) 的频率选择, 即可以 “调台” 了.\n\n\n32 命名挺抽象的.\n当频率很高时 (RF), 会有如下问题:\n\n低 Selectivity 选择性: 会接收到很多其他的台.\n不稳定, 容易自激振荡: 这样接收器就变成振荡器了哈哈. 一般是由 parasitic capacitance (寄生电容) 导致的.\n\n\n\n\n8.3.2 Heterodyne Receiver 外差接收机\n\n既然直接处理射频频率太高了, 那就先降下来呗. Heterodyne 的核心思想就是把各种射频信号 (RF) “变频”成一个固定的中频 (IF) 信号后再去处理. 其实就在 TRF 的 Stage 1,2 之间加了一个 IF Section. 这样既解决了频率太高的问题, 又让后续的电路只要处理一个固定的 IF 频率就行了.\n\n\n\n\n\n\n\nFigure 43: Heterodyne 比 TRF 多了一个中频率转换, 包含一个 Mixer 和一个 BPF, LNA 只是用来放大的 (见 Section 8.3.3)\n\n\n\n\nSuperheterodyne Receiver 超外差接收机: 有两个或更多的 IF Section.\nIF 中频: 调节 LO 的频率可以使得 IF 的频率固定: \\[\\boxed{\\omega_{\\text{IF}} := |\\omega_{\\text{RF}} - \\omega_{\\text{LO}}|}\\] 由于取了绝对值, 引申出了以下概念:\n\nImage Frequency 镜像频率:\n\n有一个不是 \\(\\omega_{\\text{RF}}\\) 频率的信号 (\\(\\omega_{\\text{image}}\\)) 也混进来了 (见 Section 5.2).\n是 Mixer 的常见问题, Figure 14 中 BPF 就是 RF stage 的 Pre-selector, 目的就是尽可能地减小 \\(\\omega_{\\text{image}}\\).\n\n注入类型:\n\nHigh Side Injection 高侧注入: \\(\\omega_{\\text{LO}} &gt; \\omega_{\\text{RF}}\\)\nLow Side Injection 低侧注入: \\(\\omega_{\\text{LO}} &lt; \\omega_{\\text{RF}}\\)\n\n\nAGC (Automatic Gain Control) 自动增益控制: 输入接收机信号的强度可能会像 Gustav Mahler 的交响曲一样忽大忽小, 造成解调失败. AGC 就是帮你 “平衡音量”, 缩小响度范围的.\nHarmonic distortion 谐波失真: 由于我们的 Mixer 不是理想的, 在混频过程中会产生高次谐波 (见 Section 5.1).\n\nTotal Harmonic Distortion (THD) 总谐波失真: 衡量谐波失真的程度. 设基波与高次谐波的幅度为: \\(V_1, V_2, V_3, \\ldots\\), THD 定义为所有高次波与基波功率的比例: \\[\\boxed{\\text{THD} := \\sqrt{\\frac{V_2^2 + V_3^2 + \\cdots}{V_1^2}}}\\]\n\n\n\n\n8.3.3 Thermal Noise 热噪声\n\n区别于外界的噪声, 热噪声是系统本身的电信号白噪声 (每个频率上的能量密度是均匀的), 由于系统中电阻里的电子会因为温度而发生热运动, 故称为热噪声. 它正是振荡器起振的种子.\n\n\n(导线) 热噪声功率: (不考虑器件热噪声)\n\n正比于温度和带宽 \\[\\boxed{P_n = kTB}\\]\n\n\\(k\\): Boltzmann constant 玻尔兹曼常数: \\(1.38 \\times 10^{-23} \\text{ J/K}\\), \\(T\\): 系统的温度 (单位为 K), \\(B\\): 带宽 (单位为 Hz)\n为什么跟带宽有关? 因为 “每个频率上的能量密度是均匀的”.\nNoise Floor: 单位带宽 (\\(B=1\\text{ Hz}\\)) 上的热噪声功率. \\[\\text{Noise Floor} = kT\\]\n\n当 \\(T = 290\\text{ K}, \\boxed{\\text{Noise Floor} = -174 \\text{ dBm/Hz}} = -204 \\text{ dBW/Hz}\\).\n为什么功率的单位是 \\(\\text{dB}\\)? 因为这里是用了以 \\(1\\text{ W}\\) 和 \\(1\\text{ mW}\\) 为基准的功率度量:\\[\\begin{aligned} \\text{dBW} &:= 10 \\log_{10}\\left( \\frac{P}{1~\\text{W}} \\right) \\\\ \\text{dBm} &:= 10 \\log_{10}\\left( \\frac{P}{1~\\text{mW}} \\right) \\end{aligned}\\]\n\n\n\n(器件) 热噪声因子 Noise factor (\\(F\\)):\n\n\n\n\n\n\nFigure 44\n\n\n\n\n定义: 一个放大器输入信号的信噪比 (SNR) 与输出信号的 SNR 的比值: \\[\\boxed{F := \\frac{\\text{SNR}_{\\text{in}}}{\\text{SNR}_{\\text{out}}} = \\frac{S_i / N_i}{S_i G / ((N_i + N_a) G)} = 1+\\frac{N_a}{N_i}}\\]\n\n\\(N_a\\): 归一化 \\(G\\) 引入的噪声33\nNoise Figure (\\(\\text{NF}\\)): 仅仅是化成 \\(\\text{dB}\\), 注意 \\(F\\) 本来就是功率比了 (而不是幅值比), 所以用 \\(10\\) 当系数: \\[\\boxed{\\text{NF} := 10 \\lg F}\\]\n由于所有放大器都可能有热噪声 (\\(N_a \\ge 0\\)), 所以 \\(F \\ge 1, \\text{NF} \\ge 0\\).\n\nFriis Formula: 用来计算连级放大器的总噪声因子, 稍微算一算, 结果是这个: \\[\\boxed{F_{\\text{total}} = F_1 + \\frac{F_2 - 1}{G_1} + \\frac{F_3 - 1}{G_1 G_2} + \\frac{F_4 - 1}{G_1 G_2 G_3} + \\cdots}\\]\n\n\n\n\n\n\nFigure 45: Friis Formula 用来计算连级放大器的总噪声因子, \\(G = G_1G_2G_3G_4\\)\n\n\n\n\n\n33 这个概念跟 Wiki 的定义不一样, Wiki 上没有归一化 \\(G\\).\n总热噪声功率\n\n在 Noise Floor 的基础上, 我们还要乘上带宽 \\(B\\) 和放大器增强的倍数 \\(F\\), 在 \\(\\log\\) 层面体现为加和: \\[\\boxed{\\sum P_n =  -174 + 10 \\lg B + \\text{NF} ~[\\text{dBm}]}\\]\n\n这是一个电路最低的噪声功率, 也称 True (实际) Noise Floor.\n\n\nLow Noise Amplifier LNA 低噪声放大器: 一个以 \\(\\omega_{\\text{RF}}\\) 为中心频率的放大器. 由于 RF 信号本身很弱, 后续电路听不到 (而 RF stage 只有选择作用而没有放大作用), 所以加一个放大器用来放大微弱的 RF 信号.\n\n叫做 “低噪声” 是因为一般的放大器在放大信号的同时会引入很多的热噪声 (系统本身的噪声, 不是外界的!), 而 LNA 本身的热噪声很小."
  },
  {
    "objectID": "posts/ccd-crash-course/index.html#a-d-模数转换",
    "href": "posts/ccd-crash-course/index.html#a-d-模数转换",
    "title": "CCD Crash Course 通信电路速成笔记",
    "section": "9 A & D 模数转换 ★★★★★",
    "text": "9 A & D 模数转换 ★★★★★\n\n9.1 Op-amp 运算放大器\n\n运算放大器用了反馈电路来实现放大, 微分, 积分等运算. 这些你都不需要会, 这些反馈最后的结果就是下面的模型, 用他们对付模数转换足够. (这个思想见 Section 1)\n\n\\[\n\\boxed{\n\\begin{aligned}\nI_{R_1} &= I_{R_2} \\\\\n\\implies \\frac{V_{\\text{in}}}{R_1} &= -\\frac{V_{\\text{out}}}{R_2}\n\\end{aligned}\n}\n\\]\n\n\n\n用跷跷板来思考 Op-amp, \\(+\\) 接地相当于 \\(-\\) 接地\n\n\n\n\n9.2 ADC\n\n步骤\n\nSampling & Holding 采样保持: 时域离散化 (信号值还是模拟的)\n\nNyquist-Shannon 采样定理:\n\n\n\nNyquist 采样定理34: 如果你看到的版本是用时域诠释的, 我很好奇你是怎么理解的\n\n\n\n\\(2f_0\\): 采样频率的最小值, 称为 Nyquist rate\nAliasing 混叠: \\(f_s \\le 2f_0\\), 由于在频域上频谱重叠在了一起, 所以称为混叠. 这时无法复原原始信号.\n\nBandlimiting 带限化: 此时可对原始信息做一点牺牲, 在采样前用 Anti-aliasing filter 反混叠滤波器 将原信号的频谱缩小到满足 Nyquist 采样定理的范围内.\n\n\n3 种方法采样后的波形: Ideal, Natural, Flattop\n\n\n\n3 种方法采样后的波形\n\n\n\nQuantization & Encoding 量化编码: 信号值也离散化\n\n采样保持的输出是 \\([V_{\\min}, V_{\\max}]\\) 之间的电压信号, 用 \\(n\\)-bit ADC 对其进行均匀分割成 \\(2^n\\) 个 量化区间 (称为量化), 再给每个区间一串二进制数 (称为编码).\nResolution 分辨率: \\[\\boxed{\\Delta := \\frac{V_{\\max} - V_{\\min}}{2^n}}\\]\nQuantization Error 量化误差信号: 是一个电压噪声, (Figure 46). 当我们用每个量化区间中点代表量化后的信号时, 这个噪声的功率达到最小 (所以以后都用区间中点吧).\n\n\n\n34 如果时间上只取部分点的话 (Sampling), 怎么可能复原原来的信号? 其实 Nyquist 采样定理应该反过来理解: 如果只取部分点都能复原原来的信号的话, 那么这个信号一定是被 \\(\\ge 2f_0\\) 的采样频率采样过的.\n\n\n\n\n\n\nFigure 46: 不用区间中点时的量化误差信号\n\n\n\n\n\n电路实现\n\nSuccessive Approximation ADC\nDual Slope (aka Integrating) ADC\nFlash ADC: 速度最快.\n\n\n\n\n9.3 DAC35\n\n为什么需要 DAC? (数字信号的局限性36)\n\n我们 percept 到的信号是模拟的 (比如声音)\n世界是模拟的, 只有模拟信号才能跟他们 interact (DAC as a bridge)\n数字化的过程中有信息损失\n\n\n36 资产阶级的局限性 (幻视\n电路实现\n\nWeighted Resistor DAC\n\n\n\n\n\n\nFigure 47: Weighted Resistor DAC: 通过调整 \\(R_1\\) 来实现 DAC, 用导纳思考更好, 一般情况下 \\(R_f = R\\)\n\n\n\n\nMotivation: 一个很自然的想法是利用 Op-amp, 通过数字输入 \\(D = [D_3:D_0]\\) 来控制接入电阻的数量, 进而控制 \\(R_1\\) 的大小, 我们期待 \\(D\\) 越大, \\(R_1\\) 越小, 这样 \\(V_{\\text{out}}\\) 就会越大, 即 \\(R_1\\) 的导纳满足: \\[Y_1 \\propto D_0+2D_1+4D_2+8D_3\\]\n\\(Y_1\\) 和 \\(D\\) 的关系: \\[\\boxed{Y_1 = \\frac{1}{R}\\left(\\frac{D_0}{8} + \\frac{D_1}{4} + \\frac{D_2}{2} + D_3\\right)}\\]\n局限性: 电阻随比特数指数级增大, 需要精确的电阻\n\nR-2R Ladder DAC37\n\n\n\nR-2R Ladder DAC: 用电流思考而不是等效电阻 \\(R_1\\), 一般情况下 \\(R_f = R\\)\n\n\n\n这个结构要论证叠加的话别看等效电阻 \\(R_1\\), 看电流, 电流满足叠加定理.\n推导可用 Figure 48 树结构思考. 先只考虑单独接通一个节点 (注意没接通的节点是接地而不是浮空!!) 上面的节点接通电流最大, 从上到下指数减小, 因此上面节点是 \\(D\\) 的高位.\n\\(Y_1\\) 和 \\(D\\) 的关系: \\[\\boxed{Y_1 = \\frac{1}{R}\\left(\\frac{D_0}{16} + \\frac{D_1}{8} + \\frac{D_2}{4} + \\frac{D_3}{2}\\right)}\\]\n\n\n\n37 这个结构真是太精妙了, 很难说它是怎么想出来的.\n\n\n\n\n\n\nFigure 48: 每根线段代表 \\(R\\), 电阻树的简化涉及电阻等效和电源等效, 两个节点同时接入电流满足叠加定理\n\n\n\n\n\n\n\n\n35 我只想说 PPT 这一章可真够啰嗦的."
  },
  {
    "objectID": "posts/digital-analysis-mac/index.html",
    "href": "posts/digital-analysis-mac/index.html",
    "title": "RTL Analysis on MacOS under 300MB",
    "section": "",
    "text": "CLAIM: This article synthesizes conclusions and methods from multiple websites and is not pure original. 本文综合了多个网站的结论和方法，并非原创。\nYou may find these websites useful:\n\nWorkflow for FPGA development\nSome open-source tools\nIceStudio for M2 Mac\nFPGA Toolchain\nVHDL compile chain on MacOS\n\n\n\n\n\nYou need these:\n\ngtkwave: main RTL wave creator\nIcarus Verilog, and this manual\nYoSYS: .v to .json\nGHDL: compile, link and simulation tool for VHDL\nnetlistsvg: .json to .svg\n\nNot nessasarily required:\n\nPulseview: Logic Analyzer (Not required though)\nDigital: Visual simulation\n\nUseful vscode plugins:\n\nVerilog Support: vscode verilog language highlighter\nWavetrace: A nice vscode plugin to replace gtkwave"
  },
  {
    "objectID": "posts/digital-analysis-mac/index.html#intro-and-overview",
    "href": "posts/digital-analysis-mac/index.html#intro-and-overview",
    "title": "RTL Analysis on MacOS under 300MB",
    "section": "",
    "text": "CLAIM: This article synthesizes conclusions and methods from multiple websites and is not pure original. 本文综合了多个网站的结论和方法，并非原创。\nYou may find these websites useful:\n\nWorkflow for FPGA development\nSome open-source tools\nIceStudio for M2 Mac\nFPGA Toolchain\nVHDL compile chain on MacOS\n\n\n\n\n\nYou need these:\n\ngtkwave: main RTL wave creator\nIcarus Verilog, and this manual\nYoSYS: .v to .json\nGHDL: compile, link and simulation tool for VHDL\nnetlistsvg: .json to .svg\n\nNot nessasarily required:\n\nPulseview: Logic Analyzer (Not required though)\nDigital: Visual simulation\n\nUseful vscode plugins:\n\nVerilog Support: vscode verilog language highlighter\nWavetrace: A nice vscode plugin to replace gtkwave"
  },
  {
    "objectID": "posts/digital-analysis-mac/index.html#first-project-in-verilog",
    "href": "posts/digital-analysis-mac/index.html#first-project-in-verilog",
    "title": "RTL Analysis on MacOS under 300MB",
    "section": "2 First Project in Verilog",
    "text": "2 First Project in Verilog\n\n2.1 Install Icarus Verilog Compiler\nbrew install icarus-verilog\n\n\n2.2 Compilation and Simulation\n\nCreate new folder called Verilog, then create two test files named GatedDLatch.v and GatedDLatch_tb.v. The former is the description file of the circuit, the latter is for testbench. And write the following contents respectively:\n// in GatedDLatch.v\nmodule GatedDLatch (Data, WE, Out, OutBar);\n\n    input Data;\n    input WE;\n\n    output Out;\n    output OutBar;\n\n    // component name(output, input1, input2)\n    wire S;\n    wire R;\n    wire Dbar;\n    nand g1(S, Data, WE);\n    not g2(Dbar, Data);\n    nand g3(R, WE, Dbar);\n    nand g4(Out, S, OutBar);\n    nand g5(OutBar, R, Out);\n    \n\nendmodule\nand\n// in GatedDLatch_tb.v\n`timescale 1ns / 1ns // simulation time, time precision = 1ns\n//Import the main code into the testbench\n`include \"GatedDLatch.v\"\n\nmodule GatedDLatch_tb;\n//Inputs as registers\nreg Data;\nreg WE;\n\n//Outputs as wires\nwire Out;\nwire OutBar;\n\n//Initialisation\nGatedDLatch uut(Data, WE, Out, OutBar);\n\ninitial begin\n    //Name of the graph file that gets generated after we run\n    $dumpfile(\"GatedDLatch_tb.vcd\");\n    $dumpvars(0,GatedDLatch_tb);\n\n    Data = 0;\n    WE = 0;\n    #10;\n\n    Data = 1;\n    #4;\n    WE = 1;\n    #2;\n    WE = 0;\n    #4;\n\n    Data = 0;\n    #4;\n    WE = 1;\n    #2;\n    WE = 0;\n    #4;\n\n    $display(\"Test complete\");\nend\nendmodule\n\nRun this in the terminal:\niverilog -o GatedDLatch_tb.vvp GatedDLatch_tb.v\n\nUse vvp command to convert the binary temperary file GatedDLatch_tb.vvp to GatedDLatch_tb.vcd waveform file:\nvvp GatedDLatch_tb.vvp\n\nInstall Wavetrace in vscode to view the waveform:\n\n\n\nDisplay the waveform in vscode\n\n\n\nYou can also install gtkwave to view the waveform.\nbrew install gtkwave\ngtkwave GatedDLatch_tb.vcd\n\n\n\nBefore imported\n\n\n\nExpand GatedDLatch_tb list to display the waveform:\n\n\n\nDisplaying waveform\n\n\n\n\n2.3 Synthesis and Visualization\n\nWe can also visualize the circuit topology (called generating schematics). First, use YoSYS to convert the verilog code into gate-level netlist. Of course you should install the command line tool YoSYS:\nbrew install yosys\nyosys -V # Verify Yosys installation\n\nYoSYS will first convert the circuit structure description file GatedDLatch.v into a json file:\nyosys -p \"prep -top GatedDLatch; write_json GatedDLatch.json\" GatedDLatch.v\n\nThen we install another tool called netlistsvg:\n# Install Node.js (if not already installed)\nbrew install node\n\n# Install netlistsvg globally using npm\nnpm install -g netlistsvg\n\n# Verify netlistsvg installation\nnetlistsvg --version\n\nUsing the netlistsvg tool to convert GatedDLatch.json to GatedDLatch.svg:\nnetlistsvg GatedDLatch.json -o GatedDLatch.svg\n\nPreviewing GatedDLatch.svg will give you the circuit schematic:\n\n\n\nGatedDLatch.svg\n\n\n\n\n2.4 Makefile Work Flow\n\nThe entire workflow can be divided into two major independent parts:\n\n\nCompilation and Simulation:\n\niverilog (Compilation)\nvvp (Simulation)\n\nSynthesis and Circuit Structure Visualization:\n\nyosys (Synthesis)\nnetlistsvg (Visualization)\n\n\n\nWe use a Makefile to automate this process (ensure that Make and related components are installed): Create a Makefile file in the previously created Verilog folder and add the following content:\n# Description: Makefile for GatedDLatch\nCIRCUIT_STRUCT = GatedDLatch\n\n# Directories\nBUILD_DIR = build\n\n# Ensure the build directory exists\n$(BUILD_DIR):\n    mkdir -p $(BUILD_DIR)\n\n# Compilation: iverilog compilation\niverilog: $(CIRCUIT_STRUCT).v $(CIRCUIT_STRUCT)_tb.v | $(BUILD_DIR)\n    iverilog -o $(BUILD_DIR)/$(CIRCUIT_STRUCT)_tb.vvp $(CIRCUIT_STRUCT)_tb.v\n\n# Simulation: generate waveform (.vcd)\nvvp: $(BUILD_DIR)/$(CIRCUIT_STRUCT)_tb.vvp\n    vvp $(BUILD_DIR)/$(CIRCUIT_STRUCT)_tb.vvp\n\n# Synthesis: generate circuit structure configuration file (.json)\nYOSYS: $(CIRCUIT_STRUCT).v | $(BUILD_DIR)\n    yosys -p \"prep -top $(CIRCUIT_STRUCT); write_json $(BUILD_DIR)/$(CIRCUIT_STRUCT).json\" $(CIRCUIT_STRUCT).v\n\n# Visualization: generate human readable (.svg) from .json\nNETLISTSVG: $(BUILD_DIR)/$(CIRCUIT_STRUCT).json | $(BUILD_DIR)\n    netlistsvg $(BUILD_DIR)/$(CIRCUIT_STRUCT).json -o $(BUILD_DIR)/$(CIRCUIT_STRUCT).svg\n\n# Schematic diagram only: Synthesis then Visualization\nschematic: YOSYS NETLISTSVG\n\n# Run all steps\nrun_all: iverilog vvp schematic\n\n# Clean build directory\nclean:\n    rm -rf $(BUILD_DIR)\n    rm -f $(CIRCUIT_STRUCT)_tb.vcd\n\nAfter modifying the files, simply execute:\nmake clean\nmake run_all\n\nThis will generate all the relevant files:\n\n\n\nProject File Structure"
  },
  {
    "objectID": "posts/digital-analysis-mac/index.html#first-project-in-vhdl",
    "href": "posts/digital-analysis-mac/index.html#first-project-in-vhdl",
    "title": "RTL Analysis on MacOS under 300MB",
    "section": "3 First Project in VHDL",
    "text": "3 First Project in VHDL\n\n3.1 Install GHDL Compiler\n\nSimilar to Verilog, VHDL is also a hardware description language. Compiling it requires another tool: GHDL. Installing it on macOS can be tricky. The following steps have been tested on an M2 Mac (as of 2024-09-01):\n\nInstall vhdl using brew:\nbrew install vhdl\n\nvhdl has two versions: LLVM and mcode. The LLVM version has some issues on macOS, and the brew-installed version uses LLVM, so we manually download the mcode version from here. I downloaded ghdl-macos-11-mcode.tgz.\nExtract it by double-clicking, and you will get three files:\n\n\n\nGHDL-mcode package\n\n\n\nCopy and paste these three files to the following path: /opt/homebrew/Caskroom/ghdl/4.1.0:\n\n\n\nCopy and Paste\n\n\nIn the terminal, type:\nghdl --version\n\nIf you encounter security prompts, go to System Settings &gt; Privacy & Security to allow access:\n\n\n\nAllow Access in Privacy & Security\n\n\n\n\n3.2 Compilation, Linking and Simulation\n\nUnlike Verilog, VHDL requires an additional Linking step, which connects the component declarations with their implementation files (testbench). Why doesn’t Verilog require this? Because the testbench file in Verilog includes the declaration contents (include \"GatedDLatch.v\"), so it links automatically.\n\nIn Verilog, we used two separate tools (iverilog and vvp) for compilation and simulation. However, for VHDL, we only need one tool: GHDL.\n\nCreate a new folder VHDLDemo, and within it, create two files: demo.vhdl and demo_tb.vhdl. The former describes the circuit structure, and the latter serves as the testbench file (you can also use .vhd as the suffix). Add the following content to the respective files:\nlibrary IEEE;\nuse IEEE.STD_LOGIC_1164.ALL;\n\nentity demo is\n    port (\n        A : in  STD_LOGIC;\n        B : in  STD_LOGIC;\n        O : out STD_LOGIC\n    );\nend demo;\n\narchitecture Behavioral of demo is\nbegin\n    O &lt;= not (A and B); -- NAND gate\nend Behavioral;\nand\nlibrary IEEE;\nuse IEEE.STD_LOGIC_1164.ALL;\n\nentity demo_tb is\nend demo_tb;\n\narchitecture Behavioral of demo_tb is\n    signal A : STD_LOGIC := '0';\n    signal B : STD_LOGIC := '0';\n    signal O : STD_LOGIC;\n\n    -- Instantiate the unit under test (UUT)\n    component demo\n        port (\n            A : in  STD_LOGIC;\n            B : in  STD_LOGIC;\n            O : out STD_LOGIC\n        );\n    end component;\nbegin\n    UUT: demo port map (\n        A =&gt; A,\n        B =&gt; B,\n        O =&gt; O\n    );\n\n    -- Test process\n    process\n    begin\n        -- Test case 1: A = 0, B = 0\n        A &lt;= '0';\n        B &lt;= '0';\n        wait for 10 ns;\n        \n        -- Test case 2: A = 0, B = 1\n        A &lt;= '0';\n        B &lt;= '1';\n        wait for 10 ns;\n\n        -- Test case 3: A = 1, B = 0\n        A &lt;= '1';\n        B &lt;= '0';\n        wait for 10 ns;\n\n        -- Test case 4: A = 1, B = 1\n        A &lt;= '1';\n        B &lt;= '1';\n        wait for 10 ns;\n\n        -- End of simulation\n        wait;\n    end process;\nend Behavioral;\n\nCreate a Makefile to automate the process:\n# Description: Makefile for VHDLDemo\nCIRCUIT = demo\nTB = demo_tb\nBUILD_DIR = build\n\n# Ensure the build directory exists\n$(BUILD_DIR):\n    mkdir -p $(BUILD_DIR)\n\n# Compilation: compile the design and testbench\nghdl_compile: $(BUILD_DIR)\n    ghdl -a --workdir=$(BUILD_DIR) $(CIRCUIT).vhdl\n    ghdl -a --workdir=$(BUILD_DIR) $(TB).vhdl\n\n# Linking: Elaborate the design and testbench\nghdl_elab: ghdl_compile\n    ghdl -e --workdir=$(BUILD_DIR) $(TB)\n\n# Simulation: simulate the testbench\nghdl_simulate: ghdl_elab\n    ghdl -r --workdir=$(BUILD_DIR) $(TB) --vcd=$(BUILD_DIR)/$(TB).vcd\n\n### These cannot work for now##############################################\n# # Synthesis: generate circuit structure configuration file (.json), you should have ghdl plugin installed for yosys, but I have error: \"ERROR: No such command: ghdl\" or \"dyld[5264]: missing symbol called\", possible solution could be to install yosys from source, but not sure\n# YOSYS: $(CIRCUIT).vhdl | $(BUILD_DIR)\n#   yosys -p \"ghdl $(CIRCUIT); prep -top $(CIRCUIT); write_json -compat-int $(BUILD_DIR)/$(CIRCUIT).json\" $(CIRCUIT).vhdl\n\n# # Visualization: generate human readable (.svg) from .json\n# NETLISTSVG: $(BUILD_DIR)/$(CIRCUIT).json  | $(BUILD_DIR)\n#   netlistsvg $(BUILD_DIR)/$(CIRCUIT).json -o $(BUILD_DIR)/$(CIRCUIT).svg\n\n# # Schematic diagram only: Synthesis then Visualization\n# schematic: YOSYS NETLISTSVG\n\n# # Run all steps\n# run_all: ghdl_compile ghdl_elab ghdl_simulate YOSYS NETLISTSVG\n### These cannot work for now##############################################\n\n# Run compilation, linking and simulation\nrun_cls: ghdl_compile ghdl_elab ghdl_simulate\n\n# Clean build directory\nclean:\n    rm -rf $(BUILD_DIR)\n    rm -f $(TB)\n\n# Experiment: Run testbench without the design file\nrun_tb_only: $(BUILD_DIR)\n    ghdl -a --workdir=$(BUILD_DIR) $(TB).vhdl\n    ghdl -r --workdir=$(BUILD_DIR) $(TB) --vcd=$(BUILD_DIR)/$(TB)_no_design.vcd\n\nThe running process is very clear. In the command line, execute:\nmake clean\nmake run_cls\n\nThis will complete the process.\n\nIf you want to see what happens if you skip compiling and linking the design file (demo.vhdl), run:\nmake clean # Cannot omitted!\nmake run_tb_only\n\nYou can compare the two .vcd files generated in VSCode or using GTKWave; they are different as expected.\n\n\n3.3 No Synthesis and Visualization Plan\n\nNote that this Makefile does not include steps to generate a schematic diagram because yosys requires a ghdl plugin. Currently, the integration is not very stable. You can refer to ghdl-yosys-plugin and building-ghdl for more details. However, the suggested methods have been tested on M2 Mac and result in errors:\n /----------------------------------------------------------------------------\\\n |  yosys -- Yosys Open SYnthesis Suite                                       |\n |  Copyright (C) 2012 - 2024  Claire Xenia Wolf &lt;claire@yosyshq.com&gt;         |\n |  Distributed under an ISC-like license, type \"license\" to see terms        |\n \\----------------------------------------------------------------------------/\n Yosys 0.44 (git sha1 80ba43d26, clang++ 15.0.0 -fPIC -O3)\n\n-- Running command `ghdl demo_tb.vhdl -e demo_tb; prep -top demo_tb; write_json demo.json' --\n\n1. Executing GHDL.\ndyld[5264]: missing symbol called\nzsh: abort      yosys -m ghdl -p\n\nThis issue has also been mentioned in the Issues section of ghdl-yosys-plugin, but there is no solution yet.\n\nPossible solutions might include compiling and installing yosys from source, ensuring the correct versions of yosys and ghdl, or checking if any component of the FPGA Toolchain is missing. Alternatively, you could try converting VHDL to Verilog using some tool (like GPT) and then synthesizing the schematics."
  },
  {
    "objectID": "posts/electrostatics/index.html",
    "href": "posts/electrostatics/index.html",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "",
    "text": "Changing the mindset from forces to fields.\nMaxwell’s First Equation = Inverse Square + Superposition\nCurl-free (conservative) property of static electric field has nothing to do with the inverse square property! (It’s because the radial direction of the field.)"
  },
  {
    "objectID": "posts/electrostatics/index.html#takeaway",
    "href": "posts/electrostatics/index.html#takeaway",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "",
    "text": "Changing the mindset from forces to fields.\nMaxwell’s First Equation = Inverse Square + Superposition\nCurl-free (conservative) property of static electric field has nothing to do with the inverse square property! (It’s because the radial direction of the field.)"
  },
  {
    "objectID": "posts/electrostatics/index.html#sec-welcome",
    "href": "posts/electrostatics/index.html#sec-welcome",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "1 Welcome!",
    "text": "1 Welcome!\nThis is the first chapter of my electromagnetics series. I will introduce to you the theory of electromagnetism through this series, not in the order of history, but in the order of a self-contained logic that satisfies people. The reason I did this is that history is too complicated, confusing and sometimes even wrong. One would not fully understand the trajactory of any subject (geometry, Newton’s law, General relativity, etc) without experiencing it. So I would NOT recommend you go through the tedious history of any subject but develop your own logic-complete explanation of it after reading tons of wikipedia and stackexchange, in other words, that explanation should make sense in the history in another parallel universe!\nYou will understand the first one of the famous Maxwell’s Equations in this blog:\n\\[\n\\begin{aligned}\n    \\mathbf{\\nabla} \\cdot \\mathbf{E} &= \\frac{\\rho}{\\varepsilon_0} \\quad &\\text{(Gauss's law)} \\\\\n    \\mathbf{\\nabla} \\cdot \\mathbf{B} &= 0 \\quad &\\text{(Gauss's law for magnetism)} \\\\\n    \\mathbf{\\nabla} \\times \\mathbf{E} &= -\\frac{\\partial \\mathbf{B}}{\\partial t} \\quad &\\text{(Faraday's law)} \\\\\n    \\mathbf{\\nabla} \\times \\mathbf{B} &= \\mu_0 \\mathbf{J} + \\mu_0 \\varepsilon_0 \\frac{\\partial \\mathbf{E}}{\\partial t} \\quad &\\text{(Ampère's law)}\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "posts/electrostatics/index.html#physics-world-to-math-world",
    "href": "posts/electrostatics/index.html#physics-world-to-math-world",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "2 Physics World to Math World",
    "text": "2 Physics World to Math World\nPhysics originates from observations in the real world. If you keep an eye on it, you could discover the following phenomena yourself:\n\nThe force between two charges is proportional to their charge, and inversely proportional to their distance, squared.\nNo isolated “magnetic charges” found in nature.\nChanging magnetic flux leads to current in a circuit!\nTwo parallel wires attract or repel each other when current is applied!\n\nThese four observations leads to the four equations by Maxwell."
  },
  {
    "objectID": "posts/electrostatics/index.html#integral-form-of-maxwells-first-equation",
    "href": "posts/electrostatics/index.html#integral-form-of-maxwells-first-equation",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "3 Integral Form of Maxwell’s First Equation",
    "text": "3 Integral Form of Maxwell’s First Equation\n\n3.1 Inverse Square Law\nAccording to observation 1, we could write1: \\[\nF \\propto \\frac{Qq}{r^2},\n\\] or in an equation: \\[\n\\boxed{\nF = k \\frac{Qq}{r^2},\n}\n\\]\n1 Non-bold-face letters (\\(F\\)) are scalars, bold-face letters (\\(\\mathbf{F}\\)) are vectors.2 The unit of charge (Coulomb) is defined in the following way (The reason Ampere are defined first is because Ampere happens to be one of the base unit of SI): - Current: Ampere (I: A): First we define Ampere (surprise!) to be the intensity of current on two ideal wires that are 1 metre apart and produces a force of \\(2 \\times 10^{-7}\\) N between them (1N is defined to be the force that makes an object of mass 1kg moves at the acceleration of \\(1\\text{m}/\\text{s}^2\\)) - Charge: Coulomb (Q: C): Then we define Coulomb to be the amount of charge the that passes through a point with a current of 1A over 1 second.where \\(k\\) is a constant, \\(Q\\) and \\(q\\) are the amount of charge2 on two small objects, \\(r\\) is their distance.\n\n\n3.2 Conservative Property\nLet’s consider the work done when we fix \\(Q\\) and gradually move \\(q\\) in a certain path. Since the force from \\(Q\\) to \\(q\\) is always radially from \\(Q\\), it turns out that the work done only depends on the initial and final position of \\(q\\) regardless of the moving process in between! We say a force like this Conservative3. We would like to think that there is a number \\(U\\) attached at every spatial point around \\(Q\\) such that the the work done from point \\(A\\) and \\(B\\) is just that \\(U(A)-U(B)\\)4, i.e., \\[\nW_{AB} =: U(A) - U(B).\n\\]\n3 It’s worth noting that conservativity has nothing to do with the inverse square property. The potential energy of hypothetical “inverse force” and “inverse cubic force” are: \\[\nU_{\\frac{1}{r}} = -kQq \\ln r,\n\\] and \\[\nU_{\\frac{1}{r^3}} = \\frac{kQq}{2} \\frac{1}{r^2}.\n\\]4 Why not \\(U(B)-U(A)\\)? Because we want the quantity \\(U\\) also indicates the tendancy that \\(q\\) would move. More likely to move, \\(U\\) should be larger.\n\n\n\n\\(U(A)\\) is expected to be larger than \\(U(B)\\)\n\n\n5 Actually, should be \\(U(r) = -k \\frac{Q}{r} + \\operatorname{const}\\). But when \\(r \\to \\infty\\), we expect \\(U\\) to be \\(0\\) because \\(q\\) do not have the ability to do work.\n\\(U(r)\\) is called the potential energy at \\(r\\). We claim5 that \\[\n\\boxed{\nU(r) = -k \\frac{Qq}{r},\n}\n\\] because \\[\nW_{AB}\n= \\int_{A \\to B} \\mathbf{F} \\cdot \\mathbf{\\mathrm{d}r}\n= \\int_{r_0}^{r_1} k \\frac{Qq}{r^2} \\mathrm{d}r\n= -k \\frac{Qq}{r_1} - k \\frac{Qq}{r_0}\n=: U(A) - U(B).\n\\]\nTherefore, the work done is just the difference of \\(U\\) with a negative sign: \\[\nW_{AB} = - \\Delta U.\n\\]\nWe also know that\n\\[\n\\mathrm{d} W_{AB} = \\mathbf{F} \\cdot \\mathrm{d} \\mathbf{l} = F \\cdot \\mathrm{d} l_\\parallel,\n\\] where \\(\\mathrm{d} \\mathbf{l}\\) is a small displacement and \\(\\mathrm{d} l_\\parallel\\) is the length of the projection of that small displacement onto the direction of \\(\\mathbf{F}\\), i.e., the direction of \\(\\mathbf{\\nabla} U\\), reversed. Hence, \\[\nF = \\frac{\\mathrm{d} W_{AB}}{\\mathrm{d} l_\\parallel} = - \\frac{\\mathrm{d} U}{\\mathrm{d} l_\\parallel}.\n\\]\nIn vector notation, \\[\n\\boxed{\n\\mathbf{F} = - \\mathbf{\\nabla} U.\n}\n\\tag{1}\\]\n\n\n3.3 Get Rid of Test-charge\nWhen \\(q\\) is far smaller than \\(Q\\), it is called a test charge, which is used to “test” the effect of \\(Q\\) to its surroundings and minimize other interference. It is naturally to get rid of \\(q\\) and define a quantity \\(E\\) that only depends on \\(Q\\), we expect that \\(E\\) satisfies: \\[\n\\mathbf{F} =: \\mathbf{E} q,\n\\] where \\(E\\) obviously equal to: \\[\n\\boxed{\nE = k \\frac{Q}{r^2}.\n}\n\\]\nWe call \\(E\\) the electric field generated by \\(Q\\)6.\n6 Since \\(\\mathbf{E}\\) is equivalent to force (just up to a constant), all properties of \\(\\mathbf{E}\\) is inherited from \\(\\mathbf{F}\\), such as vector property, superposition, conservativity, etc.Therefore, Equation 1 could be written as: \\[\n\\mathbf{E}q = - \\mathbf{\\nabla} U.\n\\tag{2}\\]\nWe could also get rid of \\(q\\) in Equation 2 by defining a quantity \\(V\\) called the (Electric) potential generated by \\(Q\\): \\[\n\\boxed{\nU := Vq,\n}\n\\] so we have \\[\n\\mathbf{E}q = -\\mathbf{\\nabla} V q\n\\] \\[\n\\implies\n\\boxed{\n\\mathbf{E} = - \\mathbf{\\nabla} V.\n}\n\\tag{3}\\]\nYou can compare Equation 1 and Equation 3, the latter is test-charge-free version of the former!\n\n\n\n\n\n\nTip 1: The spirit of fields\n\n\n\nThis mindset from force to field is extremely important! “Field” originates from “force” but later evolves independently from it, as you will see. Thinking in terms of “fields” rather than “forces” is a key factor that distinguishes beginners from experts. Now you have evolved to the second level – make “fields” be your second nature!\n\n\n\n\n3.4 An Interesting Question\nHow to know how many charges inside some closed region?\n\n\n\n\n\nThe question\n\n\n\nProposition 1 The charge inside some closed surface \\(S\\) can be calculated by only looking at the field sitting on its surface7: \\[\n\\text{Flux} \\propto Q_{\\text{in}},\n\\] where the flux \\(\\Phi\\) is defined: \\[\n\\Phi := \\oiint_S \\mathbf{E} \\cdot \\mathrm{d} \\boldsymbol{A}.\n\\]\n7 This claim directly comes from the inverse square law and superposition principle of fields.\n\nSolution 1. \n\nWe will consider the case then there is only one point charge \\(q\\) inside \\(S\\).\nConsider a sphere \\(R\\) of radius \\(r\\) around \\(q\\) in Figure 1, it’s obviously that the flux through \\(R\\) does not related to \\(r\\), because the surface area increases at the rate of \\(r^2\\) and the field decays at the rate of \\(1/r^2\\). Just to be intimidating, \\[\n\\Phi_R = \\oiint_R k \\frac{q}{r^2} dA = k \\frac{q}{r^2} \\cdot 4 \\pi r^2 = 4 \\pi k q \\propto q.\n\\]\nWe commonly let \\[\n\\boxed{\n     k = \\frac{1}{4 \\pi \\epsilon_0}\n}\n  \\tag{4}\\] to simpify8 Equation 4 to be \\[\n\\Phi_R = \\frac{q}{\\epsilon_0}.\n\\]\n\n8 We introduce the symbol \\(\\epsilon_0\\) by the motivation to eliminate the “\\(4 \\pi\\)” Equation 4. But the meaning of \\(\\epsilon_0\\) would be clear later until we introduce the electric fields in matter. Don’t worry.\nNow we claim that \\[\n\\Phi_R = \\Phi_S,\n\\] where \\(S\\) is an arbitrary closed surface outside \\(R\\).\nAgain we use the inverse square property, the flux through \\(\\mathrm{d}R\\) should be same as the flux through the blue circle in Figure 1. Plus, the flux through the blue circle is exactly the same as the flux through \\(\\mathrm{d}S\\) as shown in Figure 2 (since their “perpendicular” surface area are the same)\nWe then use superposition property of fields to obtain the equation of multiple charges enclosed.\nSuppose there are \\(N=3\\) point charges inside \\(S\\) as shown in Figure 3, the total flux is\n\\[\n\\Phi\n= \\oiint_S \\mathbf{E} \\cdot  \\mathrm{d} \\mathbf{A}\n= \\sum_{i = 1}^3 \\left(\\oiint_S \\mathbf{E}_i \\cdot  \\mathrm{d} \\mathbf{A}\\right)\n= \\sum_{i = 1}^3 \\frac{q_i}{\\epsilon_0}\n= \\frac{Q_{\\text{in}}}{\\epsilon_0}.\n  \\tag{5}\\]\nOf course Equation 5 can be generalized when \\(N\\) is arbitrary. And ura! We have just proof the integral version of Maxwell’s first equation! \\[\n\\boxed{\n\\oiint_S \\mathbf{E} \\cdot  \\mathrm{d} \\mathbf{A} = \\frac{Q_{\\text{in}}}{\\epsilon_0}.\n}\n  \\tag{6}\\]\nThis is also known as Gauss’s Law. Equation 6 holds for any closed surface \\(S\\).\n\n\n\n\n\n\n\n\n\n\nFigure 1: Single point charge case\n\n\n\n\n\n\n\n\n\nFigure 2: The flux through the blue circle is exactly the same as the flux through \\(\\mathrm{d}S\\)\n\n\n\n\n\n\n\n\n\nFigure 3: Superposition of the fields of every point charge inside \\(S\\)"
  },
  {
    "objectID": "posts/electrostatics/index.html#differential-form-of-maxwells-first-equation",
    "href": "posts/electrostatics/index.html#differential-form-of-maxwells-first-equation",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "4 Differential Form of Maxwell’s First Equation",
    "text": "4 Differential Form of Maxwell’s First Equation\nThe charges in the real world are not commonly appears like an infinitesimal point. They distributed evenly through a body instead of concentrate on a point of no size. Therefore, \\(Q_{\\text{in}}\\) on the RHS9 of Equation 6 could be write as an integral: \\[\n\\frac{Q_{\\text{in}}}{\\epsilon_0} = \\iiint_V \\frac{\\rho}{\\epsilon_0} \\mathrm{d}V,\n\\] where \\(V\\) is the region enclosed by \\(S\\), \\(\\rho\\) is the density10 of charges at some place inside \\(S\\).\n9 Right hand side.10 In the case of point charges, this density if infinite. Mathematicians use so-called \\(\\delta\\)-function to describe the behaviour of this kind of “degenerated” density. It is not a function, just a symbol following some rules that deals with the Mathematical OCD that forces the form of a certain integral unchanged when some mass is concentrated on a small point.\n\n\n\nReal world charges are not point charge\n\n\n\nWhat about the LHS of Equation 6? We expect it to be also written in a kind of volume integral to cancel it out with the RHS: \\[\n\\oiint_S \\mathbf{E} \\cdot  \\mathrm{d} \\mathbf{A} = \\iiint_V \\boxed{???} \\mathrm{d}V.\n\\]\nAnd then \\[\n\\iiint_V \\boxed{???} \\mathrm{d}V = \\iiint_V \\frac{\\rho}{\\epsilon_0} \\mathrm{d}V\n\\tag{7}\\] holds for any11 volume \\(V\\), so we can claim that \\[\n\\boxed{???} = \\frac{\\rho}{\\epsilon_0}.\n\\tag{8}\\]\n11 Any is very important! Without any, we cannot derive Equation 7 from Equation 8.12 Also denoted \\(\\mathbf{\\nabla} \\cdot \\mathbf{E}\\).Luckily! Stoke’s Theorem tells us \\[\n\\boxed{???} = \\operatorname{div} \\mathbf{E}.\n\\] For those of you not familiar with multivariable calculus, \\(\\operatorname{div} \\mathbf{E}\\) is called the divergence12 of \\(\\mathbf{E}\\), which is a scalar-valued function purely derived from \\(\\mathbf{E}\\).\nFinally! We got the differential form: \\[\n\\boxed{\n\\operatorname{div} \\mathbf{E} = \\frac{\\rho}{\\epsilon_0}.\n}\n\\tag{9}\\]"
  },
  {
    "objectID": "posts/electrostatics/index.html#thinking-problem",
    "href": "posts/electrostatics/index.html#thinking-problem",
    "title": "EM Chapter I: Maxwell’s First Equation",
    "section": "5 Thinking Problem",
    "text": "5 Thinking Problem\n\nExercise 1 Think about what properties of \\(\\mathbf{E}\\) ensures that Equation 9 holds true?\n\n\nSolution 2. There are only two properties of electric fields that are used to obtain Equation 9:\n\nInverse square\nSuperposition\n\nStoke’s Theorem don’t count because it holds for any vector fields.\nSuperposition is trivial. The non-trivial part is inverse square. This property ensures that we can extend the sphere to an arbitrary surface in Figure 1. What is the nature of inverse square?\nWell, we live in 3-dimensional space. Everything that spreads should somehow decay at the rate of \\(1/r^2\\), like light, gravity, sound, etc. Otherwise it will against the conservation of energy. In general, if we live in a \\(N\\)-dim world, fields should naturally decay at the rate of \\(1/r^{N-1}\\). In other words, everything in \\(N\\)-dim world should decay at the rate of “area” decay. This paper by myself delved a little deeper inside this inspiration."
  },
  {
    "objectID": "posts/epmf-crash-course/index.html",
    "href": "posts/epmf-crash-course/index.html",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "",
    "text": "本笔记是本人电子科技大学格院大三《工程项目管理与财务》课程的期末考试复习笔记."
  },
  {
    "objectID": "posts/epmf-crash-course/index.html#dfm-design-for-manufacturing",
    "href": "posts/epmf-crash-course/index.html#dfm-design-for-manufacturing",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "1 DFM (Design for Manufacturing)",
    "text": "1 DFM (Design for Manufacturing)\n\n1.1 Introduction & Design for Sustainability\n\nDFM 最有效的阶段是 初始设计阶段 (initial design stage)，因为此时变更代价最低且影响最大\n\n产品总制造成本中有 70% 到 80% 是在设计阶段就已经决定了\n\nDFM 的原则 (principles):\n\nSimplicity: 如果插头不能实现正反插就不要设计成对称的\nStandardization: 比如各种USB接口\nTolerance: 比如电阻的精度, 设计时要考虑到制造误差\nMaterial Selection: 要考虑材料的强度、耐用性、可加工性等\nAutomation: 哪些工序可以自动化?\nProcess Integration: 衔接好 product design, manufacturing processes, and quality control.\n\nDFM 的 错误说法:\n\nMay impose higher manufacturing costs (应该是减少)\nMay increase complexity of manufacturing operations (应该是减少)\n\nDesign for Sustainability (DFS) 可持续性\n\n三大支柱 (pillars): Economic, Environmental, Social (economic growth, environmental care, and social well-being)\n可持续设计应 避免 Design for shorter period of usage (设计成短周期产品)\n4Rs: Reduce, Reuse, Repair, Recycle\n\n\n\n\n1.2 Quality Control & Cost of Quality\n\n7-QC Tools 7个质量工具:\n\nFlowchart: 用来记录和规划过程\n\n\n\nFlowchart 例子\n\n\nCheck sheet: 用来收集数据, 记录问题发生的频率和类型\n\n\n\nCheck sheet 例子\n\n\nPareto chart: 把问题按发生频率排序, 找出最重要的问题\n\n\n\nPareto chart 例子\n\n\n\n80/20 Rule 二八定律: 80% 的投诉来自 20% 的客户, 80% 的利润来自 20% 的产品, 80% 的缺陷来自 20% 的工艺问题\n\nCause-and-effect diagram 因果图: 帮我们识别问题的根本原因 (root causes).\n\n\n\nCause-and-effect diagram 例子\n\n\n\n也叫 fishbone 鱼骨图, Ishikawa diagram\n\nControl chart: 用来实时检测过程的稳定性和变化.\n\n\n\nControl chart 例子\n\n\n\n也叫 Shewhart chart\n一般会根据历史数据算出三个量:\n\nAverage 平均值: \\[\\boxed{\\bar{X} = \\frac{1}{N} \\sum_{i=1}^{N} x_i}\\]\nUpper/Lower Control Limit (UCL/LCL) 上/下控制限: \\[\n  \\boxed{\n  \\begin{aligned}\n  \\hat{\\sigma} &= \\sqrt{\\frac{1}{N-1} \\sum_{i=1}^{N} (x_i - \\bar{X})^2} \\\\\n  \\text{UCL} &:= \\bar{X} + A\\hat{\\sigma} \\\\\n  \\text{LCL} &:= \\bar{X} - A\\hat{\\sigma} \\\\\n  \\text{Process Width} &:= \\text{UCL} - \\text{LCL}\n  \\end{aligned}}\n  \\]\n\n\n\n用 \\(A\\) 来控制严格程度\n\n\n\nInstability: 落在 UCL 和 LCL 之外的点.\nUpper/Lower Specification Limit (USL/LSL) 上/下规格限: 由客户或产品标准规定, 比 Process Width 宽. \\[\\boxed{\\text{Design Width} := \\text{USL} - \\text{LSL}}\\]\n\n\n\n这是一个 \\(3\\sigma\\) 过程, \\(\\text{Design Width} &gt; \\text{Process Width}\\), \\(\\text{LSL}\\) 和 \\(\\text{USL}\\) 也不一定关于 \\(\\bar{X}\\) 对称, \\(1, 1.33, 1.67\\) 临界值要记住\n\n\n\\(6\\sigma\\) 过程: \\(\\bar{X} \\pm 6\\sigma\\) 仍在 Process Width 内, 说明设计接近完美.\n\n5 phases (DMAIC model): Define, Measure, Analyze, Improve, Control.\n5 roles:\n\nExecutive Leadership 高层领导: CEO, 设方向、资源保障、文化推动.\nChampion 主管: 项目推动者.\nMaster Black Belts 大师黑带: 全职从事 Six Sigma, 负责培训和指导.\nBlack Belts 黑带: 项目执行者.\nGreen Belts 绿带: 打工的.\n\n\nProcess Capability Index 过程能力指标 (越大越好): \\[\\boxed{\\begin{aligned} C_p &= \\frac{\\text{Design Width}}{6\\sigma} \\\\ C_{pk} &= \\min\\left(\\frac{\\text{USL} - \\bar{X}}{3\\sigma}, \\frac{\\bar{X} - \\text{LSL}}{3\\sigma}\\right) \\\\ \\end{aligned}}\\]\n\nHistogram\n{#width=50%}\nScatter diagram\n\n\n\nScatter diagram 例子\n\n\n\n\n\n\n1.3 Robust Manufacturing Design\n\nRobust Design (R & D) 鲁棒设计\n\n动机: 不是控制噪声, 而是优化系统设计, 使其对这些“噪声”不敏感, 从而提高质量.\n传统观点: 比如造电阻, 只要电阻值落在目标值的容差范围 (\\(\\Delta_0\\)) 内就算好 (\\(L = 0\\)), 超出就是坏.\n\n\n\n传统观点\n\n\nTaguchi观点: 只有电阻值恰好等于目标值才是好 (\\(L = 0\\)), 偏离越大, 损失以二次函数形式增加 (Figure 1).\n\n\\(k\\): Quality Loss Coefficient, \\(m\\): 目标值.\n\n\n\n\n\n\nFigure 1: Taguchi观点, 要记住三种曲线的名字, \\(m\\) 是设计值不是样本均值\n\n\n\nAverage Quality Loss: 如果有很多测量值, 则 Loss 的计算取他们的平均: \\[\\boxed{Q = \\frac{1}{N} \\sum_{i=1}^{N} k(x_i - m)^2} \\tag{1}\\]\n\n若样本 \\(\\{y_i\\}_{i=1}^{N}\\) 的均值和方差为 \\(\\bar{y}, s^2\\), 当 \\(N\\) 很大时, Equation 1 可以写成: \\[\\boxed{Q = k [(\\bar{y} - m)^2 + s^2]}\\]\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: Taguchi 鲁棒设计计算\n\n\n\n\n\n\n\n\n2024年真题\n\n\n\n\n\n(i) 的答案为 \\(25\\) USD\n\n\n\n\n\n\n\nP Diagram\n\n动机: 有很多因素 (called parameter or factor) 会影响产品质量:\n\nSignal factors: 电压、电流、电阻、温度等.\nControl factors: 材料柏松比、制造工艺、测试方法等.\nNoise factors: 分为:\n\nExternal 外界噪声: 温度、湿度、灰尘、振动.\nUnit-to-unit variation: 所用的电阻的误差.\nDeterioration 老化: 零件老化.\n\n\n\n\n\n\n1.4 6-Sigma & Process Capability\n见 Section 1.2."
  },
  {
    "objectID": "posts/epmf-crash-course/index.html#project-management-项目管理",
    "href": "posts/epmf-crash-course/index.html#project-management-项目管理",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "2 Project Management 项目管理",
    "text": "2 Project Management 项目管理\n\nProject 项目\n\n有开始和结束时间 (Temporary)\n独特 (Unique)，即使包含重复任务\n可交付物可以是：\n\n有形 (Tangible)：软件、设备\n无形 (Intangible)：知识、流程、服务能力等\n\n\nWBS: Work Breakdown Structure\n\nS 不是 Statement!\n\nBCR (Benefit-Cost Ratio) 效益成本比: \\[\\boxed{\\text{BCR} = \\frac{\\text{Total Benefits}}{\\text{Total Costs}}}\\]\n\n分子分母要转换为 PV.\n当 \\(\\boxed{\\text{BCR} \\le 1}\\) 时, 项目不可行.\n\n\n\n\n\nProject Management Process Groups\n\n\n\nStandard 标准 和 Regulation 法规 区别: Regulations are mandatory and standards are optional\n\n\n2.1 Project Schedule Management\n\nCPM 关键路径法 (Watch this video)\n\nForward Pass: 沿着箭头走, 取最大\nBackward Pass: 逆着箭头走, 取最小\nTotal Float (Slack): \\[\\boxed{\\text{Slack} := \\text{LS} - \\text{ES} = \\text{LF} - \\text{EF}}\\]\nCritical Path: 路径上每个节点的 \\(\\boxed{\\text{Slack} = 0}\\).\n\n\n\n\n\n\n\n\n每个任务节点\n\n\n\n\n\n\n\n\nEXAMPLE: Critical Path Method (CPM) 关键路径法\n\n\n\n\n\n\n\n\n题目\n\n\n\n\n\nCPM Network Diagram\n\n\n\n\n\n通过 forward/Backward Pass 分析网络\n\n\n\n\n\n\n\n\n2.2 Cost Management 成本管理\n\n\n\n指标\n数值\n\n\n\n\nPV = 400\n本来应该做 400 元的活\n\n\nEV = 300\n实际只完成了 300 元的活 (落后于进度)\n\n\nAC = 500\n却花了 500 元 (成本超支)\n\n\n\n\n\n\n\n2.3 Communication Management 沟通管理\n\nCommunication Model 的基本组成: Sender, Receiver, Message\n\n没有: Feedback, Noise, Medium, Interference\nMedium: 传递信息的媒介, 如邮件、电话、会议等\n\nCommunication Methods 沟通方式:\n\nPush: 一方向多方传送, 如邮件、报告\nPull: 自主访问信息, 如网站、数据库 (大数据量的)\nInteractive: 双向交流, 如会议、电话\n\nCommunication Channels 沟通渠道数量 (见 Figure 2): \\[\\boxed{\\text{\\#Channels} = \\frac{n(n-1)}{2}}\\], 其中 \\(n\\) 是沟通的参与者数量\n\n\n\n\n\n\n\n\n\nFigure 2: 每个节点都与剩下的节点通信, intentionally 算两遍, 最后除以二\n\n\n\n\nConflict Management 冲突管理:\n\nAvoiding 回避: 不解决问题, 但避免冲突\nAccommodating 迁就: 让步\nCompromising 妥协: 双方各让一步\nCompeting 竞争: 强硬立场, 争取胜利\nCollaborating 合作: 双方共同解决问题, 达成共识"
  },
  {
    "objectID": "posts/epmf-crash-course/index.html#sec-calculation",
    "href": "posts/epmf-crash-course/index.html#sec-calculation",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "3 计算题",
    "text": "3 计算题\n\nCash Flow 现金流:\n\n定义: 你账本上记录的 Cost 成本 (cash-out), Price 价格 (cash-in), Profit 利润的流动.\n动机: 为什么要强调 Cash「现金」? 比如你是卖手机的, 你给客户发货了 \\(1000\\) 万元的产品, 客户说：“我3个月后再付款”. 这时你账本上有 \\(1000\\) 万元的收入, 但实际上你并没有收到钱! 这不是现金流! 如果处理不当, 可能会出现 “账面上赚钱，公司却破产”.\n\nPayment Term 帐期: “3个月”. 包括商家发货 (shipments) 三个月后才收钱 和 客户收到货后三个月才付款 (payment).\n\n\nTime Value of Money 时间价值\n\n动机: 一般来说, “今天的 100 元” 比 “未来的 100 元” 更值钱, 因为:\n\n国家印钱、通货膨胀、经济增长引起的消费增长\n投资机会成本 (Opportunity Cost): 如果你把今天的 100 元冻结, 你就失去了投资它的机会 (尽管投资也可能亏损), 机会也是有成本的.\n\nDiscounting 折现: 把未来钱的价值折算成今天的价值 (Present Value (PV) 现值).\nDiscounted Cash Flow (DCF): 折现现金流\nTotal Cost of Ownership (TCO): 从买到用完这件东西为止，总共要花的钱的折现.\n\nProjected Costs 相同的概念, 但不需要折现.\n\nNPV 净现值: 把未来的每年收益贴现到今天的价值，然后减去初始投资\nProjected Payback Time: 预测的回本时间, 不需要折现计算\n\n\n\n\n\n\n\n\n\nEXAMPLE: Projected Payback Time, NPV 的计算\n\n\n\n\n\n\n\n\n2024 年真题\n\n\n\n\n\n(i)\n\n\n\n\n\n(ii) 注意是除而不是乘\n\n\n\n\n\n(iii)\n\n\n\n\n\n\n\n\n\n\n\n\n\nEXAMPLE: Cumulative Cash Flow 累计现金流计算\n\n\n\n\n\n\n\n\n2024年真题\n\n\n\n\n\n解答"
  },
  {
    "objectID": "posts/epmf-crash-course/index.html#engineering-economics-工程经济学",
    "href": "posts/epmf-crash-course/index.html#engineering-economics-工程经济学",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "4 Engineering Economics 工程经济学",
    "text": "4 Engineering Economics 工程经济学\n\n4.1 Introduction\n\nEvaluating alternatives 分析备选方案:\n\n初始成本 Initial cost\n利率 Interest rate（或期望回报）\n使用寿命 Anticipated life\n年运营成本/收益\n设备寿命结束时的残值 Resale or salvage value.\n\nStatutory Company Reporting 公司法定报告: 每年必须向政府申报财务状况, 包含:\n\n资产负债表 (Balance Sheet): 显示公司“某一时点”的经济状况\n\nAssets 资产: 现在有多少现金, 设备, 库存等.\nLiabilities 负债: 欠的钱\nOwners’ Equity 所有者权益: 净资产, 就是上面两个相减.\n\n损益表 (Profit & Loss):\n\n\n\n项目\n说明\n\n\n\n\nSales\n营业收入\n\n\nCost of Sales\n成本（含人工、制造成本）\n\n\nGross Profit\n毛利润 = 销售 - 成本\n\n\nOther Expenses\n其他开销\n\n\nEBITDA1\n税息折旧摊销前利润\n\n\nITDA\n利息、税、折旧、摊销\n\n\nNet Income\n净利润\n\n\n\n附注 Notes\n董事报告 Director’s Report\n\n\n1 Earning 利润, Interest 利息开支, Taxes 税收, Depreciation 设备折旧, Amortization 无形资产摊销.\n\n4.2 Break-even Analysis\n\n\n\n这个图要记住\n\n\n\n\n4.3 Outsourcing 外包\n\n好处:\n\n降低成本\n专注核心业务\n建立合作关系\n\n坏处:\n\nOut of control 失去控制\nConfidentiality and security 泄密和安全\nProvider may not understand business environment 沟通问题\n\n\n\n\n4.4 CapEx, OpEx, and Total Cost of Ownership (TCO)\n\nCapEx 资本性支出: 用于购买长寿命资产 (\\(&gt;1\\)年)\n\n例子: 购买设备、建筑物、土地等.\n不会一次性计入利润表 (Profit and Loss Statement, P&L), 而是分摊到多个会计期间.\n\nOpEx 运营性支出: 用于日常运营的支出\n\n例子: 电费、水费、人工费、维修费等.\n属于当期费用, 会直接计入利润表.\n\nTCO 见 Section 3."
  },
  {
    "objectID": "posts/epmf-crash-course/index.html#what-is-a-company",
    "href": "posts/epmf-crash-course/index.html#what-is-a-company",
    "title": "EPMF Crash Course 工程项目管理与财务速成笔记",
    "section": "5 What is a Company?",
    "text": "5 What is a Company?\n\n公司的类型:\n\nSole Trader 个体户: 你开了一家炸鸡店, 赚了钱就是自己的. 可以雇人, 但要对债务负责. 顾客起诉食物中毒, 你就要用自己的积蓄赔 (风险大).\nLimited company 有限责任公司: 赚了钱是公司的而不是自己的, 用公司里的钱赔, 个人不承担责任 (所以叫 Limited).\n\nLimited by Shares 股份有限公司:\nLimited by Guarantee 担保有限公司: 慈善机构.\nPublic Limited Company (PLC) 上市公司:\n\n\nCompany Valuation 公司估值"
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html",
    "href": "posts/isomorphism-theorem/index.html",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "",
    "text": "Prerequisites: Quotient group, kernel of a homomorphism, normal subgroup, basic category theory.\nApologize for the handwriting, since it’s hard for quarto to support tikz-cd package."
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html#takeaways",
    "href": "posts/isomorphism-theorem/index.html#takeaways",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "1 Takeaways",
    "text": "1 Takeaways\n\nYou gotta think of a homomorphism whenever there is a quotient.\nHomomorphisms are WAAAAY more important than groups themselves!\nFirst isomorphism theorem: Universal property of quotients, most important.\nSecond isomorphism theorem: How subgroups behave under projections.\nThird isomorphism theorem: Just a diagram commutes."
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html#normal-subgroup-iff-kernel",
    "href": "posts/isomorphism-theorem/index.html#normal-subgroup-iff-kernel",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "2 Normal Subgroup \\(\\iff\\) Kernel",
    "text": "2 Normal Subgroup \\(\\iff\\) Kernel\nIn this section, I will introduce to you a very important mathematical habit: always think of a homomorphism whenever there is a quotient. This helps me a lot in not only understanding the three isomorphism theorems, but also in various topics such as projective geometry, cohomology, etc. First, let’s look at some concepts, if you are familiar with them, you can skip this section.\n\n2.1 Center and Centralizer\nThere are two very similar concepts: center of a group and conjugation operation. Center can be generalized to the concept of a centralizer. Conjugation is related to the concept of a normal subgroup and normalizer.\nWe know that not every group is abelian, but there are some elements in a group that commute with every other element in the group. We collect them to form a set. In fact, not only a set, but also a subgroup, called the center of the group.\n\n\n\n\n\n\n\nCenter\n\n\n\n\nDefinition 1 The center \\(Z(G)\\) of a group \\(G\\) is: \\[\n\\begin{aligned}\nZ(G) :=& \\{ z \\in G \\mid \\forall g \\in G, zg = gz \\} \\\\\n=& \\{ z \\in G \\mid \\forall g \\in G, z = gzg^{-1} \\}.\n\\end{aligned}\n\\]\n\n\n\n\nHere are some properties of the center, you can think about them yourself:\n\n\\(Z(G) \\trianglelefteq G\\). (See Definition 4 for the definition of normal subgroup.)\n\\(Z(G) = G\\) iff \\(G\\) is abelian.\n\\(Z(G)\\) is itself abelian.\n\nIf we do not want to make it commutes with every element in the group, but only with some elements in a set \\(S\\) (not necessarily a subgroup1 of \\(G\\)), this generalize to the definition of the centralizer of \\(S\\) in \\(G\\):\n\n1 \\(S \\le G\\) means \\(S\\) is a subgroup of \\(G\\). \\(S \\subseteq G\\) means \\(S\\) is a subset of \\(G\\).\n\n\n\n\n\nCentralizer\n\n\n\n\nDefinition 2 The centralizer \\(C_G(S)\\) of a set \\(S\\) \\((S \\subseteq G)\\) of group \\(G\\) is: \\[\n\\begin{aligned}\nC_G(S) :=& \\{ c \\in G \\mid \\forall s \\in S, cs = sc \\} \\\\\n=& \\{ c \\in G \\mid \\forall s \\in S, c = scs^{-1} \\}.\n\\end{aligned}\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof: \\(C_G(S) \\le G\\)\n\n\n\n\n\n\nClosure:\nLet \\(a, b \\in C_G(S)\\), i.e., \\(\\forall s \\in S, as = sa, bs = sb\\). We want to show that \\(ab \\in C_G(S)\\): \\[\n(ab)s = a(bs) = a(sb) = (as)b = (sa)b = s(ab) \\implies ab \\in C_G(S), \\forall s \\in S.\n\\]\nAssociativity: Inherited from \\(G\\).\nIdentity: \\(e_G \\in C_G(S)\\) because \\(\\forall s \\in S, es = se = s\\).\nInverse: Let \\(a \\in C_G(S)\\), i.e., \\(\\forall s \\in S, as = sa\\). We want to show that \\(a^{-1} \\in C_G(S)\\): \\[\n\\begin{aligned}\nas = sa & \\implies a^{-1}as = a^{-1}sa \\\\\n& \\implies s = a^{-1}sa \\\\\n& \\implies sa^{-1} = a^{-1}saa^{-1} \\\\\n& \\implies sa^{-1} = a^{-1}s \\\\\n& \\implies a^{-1} \\in C_G(S).\n\\end{aligned}\n\\]\n\n\n\n\n\nClearly, the center is a special case of the centralizer: \\[\nZ(G) = C_G(G).\n\\]\n\n\n2.2 Conjugation\nThe sandwich operation \\(gzg^{-1}\\) in Definition 1 pops out frequenctly in math2. We give it a name: conjugation of \\(z\\) by \\(g\\).\n\n2 Similar matrices, quarternion representation of 3D rotation, etc.\n\n\n\n\n\nConjugation\n\n\n\n\nDefinition 3 \\(a, b \\in G\\) conjugate \\(:\\iff\\) \\(\\exists g \\in G\\) such that \\(a = gbg^{-1}\\).\n\n\n\n\nIt’s easy to show that conjugation defines an equivalence relation on \\(G\\):\n\n\n\n\n\n\n\nProof: Conjugation is an Equivalence Relation\n\n\n\n\n\nTo show conjugation defined in Definition 3 is an equivalence relation \\(\\sim\\), we need to show it is reflexive, symmetric, and transitive.\n\nReflexive: \\(\\exists e \\in G, a = eae^{-1}\\), hence \\(a \\sim a\\).\nSymmetric: \\[\n\\begin{aligned}\na \\sim b & \\iff \\exists g \\in G, a = gbg^{-1} \\\\\n& \\iff \\exists g^{-1} \\in G, b = g^{-1}ag \\\\\n& \\iff b \\sim a.\n\\end{aligned}\n\\]\nTransitive: \\[\n\\begin{aligned}\na \\sim b, b \\sim c & \\iff \\exists g, h \\in G, a = gbg^{-1}, b = hch^{-1} \\\\\n& \\iff \\exists g, h \\in G, a = ghch^{-1}g^{-1} \\\\\n& \\iff \\exists gh \\in G, a = (gh)c(gh)^{-1} \\\\\n& \\iff a \\sim c.\n\\end{aligned}\n\\]\n\n\n\n\n\n\n\n2.3 A Natural Homomorphism\n\n\n\n\n\n\n\nConjugation Homomorphism\n\n\n\n\nProposition 1 Let \\(G\\) be a group and \\(f \\in \\operatorname{Hom}(G, \\operatorname{Aut}(G))\\), where \\(f(g)\\) is defined by conjugation by \\(g\\). Then \\[\n\\ker f = Z(G).\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof of Proposition 1\n\n\n\n\n\n\nConjugation by \\(g\\) (denoted \\(\\operatorname{conj}_g\\)) is in \\(\\operatorname{Aut}(G)\\).\nWe need to check that \\(\\operatorname{conj}_g\\) gives an isomorphism from \\(G\\) to itself.\n\nClaim: \\(\\forall g \\in G, f(g) \\in \\operatorname{End}(G)\\).\n\\[\n  f(g)(h h') = g(h h')g^{-1} = ghg^{-1}gh'g^{-1} = f(g)(h) f(g)(h').\n  \\]\nClaim: \\(f(g)\\) is bijective.\n\\[\n  f^{-1}(g) = f(g^{-1}).\n  \\]\n\n\\(f\\) is indeed a homomorphism.\nTake \\(\\forall g, g' \\in G\\), then: \\[\n\\begin{aligned}\nf(g g')(h) &= gg'h(gg')^{-1} \\\\\n&= gg'hg'^{-1}g^{-1} \\\\\n&= f(g) \\circ f(g')(h).\n\\end{aligned}\n\\]\n\\(\\ker f = Z(G)\\).\n\\[\n\\begin{aligned}\n\\ker f &= \\{g \\in G : \\forall h \\in G, ghg^{-1} = h\\} \\\\\n&= \\{g \\in G : gh = hg \\text{ for all } h \\in G\\} \\\\\n&= Z(G).\n\\end{aligned}\n\\]\n\n\n\n\n\n\n\n\n\n\n\n\nInner and Outer Automorphisms\n\n\n\n\nProposition 2 Under the condition in Proposition 1, \\[\n\\operatorname{im} f \\triangleleft \\operatorname{Aut}(G).\n\\]\nDefine the inner automorphism group to be: \\[\n\\operatorname{Inn}(G) := \\operatorname{im} f,\n\\] and naturally the Outer automorphism group to be: \\[\n\\operatorname{Out}(G) := \\frac{\\operatorname{Aut}(G)}{\\operatorname{Inn}(G)}.\n\\] Then we have the following exact sequence: \\[\n1 \\xrightarrow[]{} Z(G) \\hookrightarrow G \\xrightarrow[]{f} \\operatorname{Aut}(G) \\twoheadrightarrow \\operatorname{Out}(G) \\xrightarrow[]{} 1.\n\\]\n\n\n\n\nWe omitted the proof, but visually,\n\n\n\n\n\n\nFigure 1: Relation between \\(Z(G)\\), \\(\\operatorname{Inn}(G)\\), \\(\\operatorname{Out}(G)\\)\n\n\n\n\n\n2.4 Normal Subgroup and Normalizer\nIn fact, we could weaken the condition of \\(z = gzg^{-1}\\) in Definition 1 and \\(c = scs^{-1}\\) in Definition 2 to \\(N = gNg^{-1}\\) and \\(S = gSg^{-1}\\) to get the definition of a normal subgroup \\(N\\) and a normalizer \\(N_G(S)\\) respectively. This is different, because we no longer need pointwise commutativity but only commutativity as a set. In other words, the element after conjugation does not need to be exactly itself necessarily as long as it remains in some set.\n\n\n\n\n\n\n\nNormal Subgroup\n\n\n\n\nDefinition 4 A subgroup \\(N\\) of a group \\(G\\) is normal (denoted \\(N \\trianglelefteq G\\)), iff \\(\\forall g \\in G, N = gNg^{-1}\\), i.e., \\[\n\\forall g \\in G, \\exists n \\in N, \\forall m \\in N, gmg^{-1} = n,\n\\] i.e., normal subgroups are invariant under any conjugation.\n\n\n\n\n\n\n\n\n\n\n\nNormalizer\n\n\n\n\nDefinition 5 The normalizer \\(N_G(S)\\) of a set \\(S\\) \\((S \\subseteq G)\\) of group \\(G\\) is: \\[\n\\begin{aligned}\nN_G(S) :=& \\{ g \\in G \\mid gS = Sg \\} \\\\\n=& \\{ g \\in G \\mid S = gSg^{-1} \\}.\n\\end{aligned}\n\\]\n\n\n\n\nTheir relationship is: If \\(S \\trianglelefteq G\\), then \\(N_G(S) = G\\).\nThe following two results are important:\n\n\n2.5 Kernels are normal\n\n\n\n\n\n\n\nKernel of a homomorphism is normal\n\n\n\n\nLemma 1 Let \\(G, H\\) be groups and \\(\\varphi \\in \\operatorname{Hom}(G, H)\\). Then \\(\\ker(\\varphi) \\trianglelefteq G\\), \\(\\operatorname{im}(\\varphi) \\le H\\).\n\n\n\n\n\n\n\n\n\n\n\nProof: Kernel of a homomorphism is normal\n\n\n\n\n\nWe just need to show that \\(\\forall k \\in \\ker(\\varphi)\\), the conjugate of \\(k (gkg^{-1})\\) is also in \\(\\ker(\\varphi)\\), i.e., \\[\n\\varphi(gkg^{-1}) = e.\n\\] This is trivial.\n\n\n\n\n\n\n2.6 Normal subgroups are kernels\n\n\n\n\n\n\n\nEvery normal subgroup is the kernel of a homomorphism\n\n\n\n\nLemma 2 Let \\(N \\trianglelefteq G\\). Then \\(\\exists \\varphi \\in \\operatorname{Hom}(G, H)\\) s.t. \\(N = \\ker(\\varphi)\\).\n\n\n\n\nHINT: Take \\(\\varphi: G \\to G/N\\), the natural projection from \\(G\\) to the group of cosets (called the quotient group \\(G/N\\)).\n\n\n\n\n\n\nFigure 2: All homomorphisms factors uniquely through the quotient\n\n\n\nAs shown in Figure 2, any group homomorphism \\(\\varphi: G \\to H\\) factors uniquely through the quotient group \\(G/N\\), where \\(N = \\ker(\\varphi)\\). The unique embedding \\(\\bar{\\varphi}\\) implies the universal property of the quotient group (the pair \\((G/N, \\pi)\\) could be viewed as a initial object of a coslice category3).\n3 A coslice category is the dual of a slice category, which is a special case of a comma category.So we have establish the fact that quotients and group homomorphisms are equivalent!"
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html#isomorphism-theorem-i",
    "href": "posts/isomorphism-theorem/index.html#isomorphism-theorem-i",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "3 Isomorphism Theorem I",
    "text": "3 Isomorphism Theorem I\nFigure 2 could be viewed as part of the canonical decomposition of a group homomorphism:\n\n\n\n\n\n\nFigure 3: The red box in the canonical decomposition is exactly the first isomorphism theorem\n\n\n\nThe red box in Figure 3 is exactly the first isomorphism theorem:\n\n\n\n\n\n\n\nFirst Isomorphism Theorem\n\n\n\n\nTheorem 1 Let \\(G\\) and \\(H\\) be groups and let \\(\\varphi: G \\to H\\) be a homomorphism. Then: \\[\nG/\\ker(\\varphi) \\simeq \\operatorname{im}(\\varphi)\n\\]\n\n\n\n\nThe rest of the isomorphism theorems largely relies on this first theorem."
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html#isomorphism-theorem-ii",
    "href": "posts/isomorphism-theorem/index.html#isomorphism-theorem-ii",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "4 Isomorphism Theorem II",
    "text": "4 Isomorphism Theorem II\n\n\n\n\n\n\n\nSome lemmas\n\n\n\n\nLemma 3 Let \\(G\\) be a group and \\(N \\trianglelefteq G\\), \\(S \\le G\\). Then: \\[\nN \\trianglelefteq SN \\le G \\ge S \\trianglerighteq S \\cap N.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof\n\n\n\n\n\n\n\\(SN \\le G\\):\n\nNonempty: Trivial.\nClosure: Let \\(s_1n_1, s_2n_2 \\in SN\\), we want to show that \\((s_1n_1)(s_2n_2) \\in SN\\): \\[\n  (s_1n_1)(s_2n_2) = s_1(n_1s_2)n_2.\n  \\] How to deal with the middle term? Since \\(N \\trianglelefteq G\\), we have \\(n_1s_2 = sn_1\\) for some \\(s \\in N\\). Then: \\[\n  s_1(n_1s_2)n_2 = s_1(sn_1)n_2 = (s_1s)(n_1n_2) \\in SN.\n  \\]\nInverses: Let \\(sn \\in SN\\), we want to show that \\((sn)^{-1} = n^{-1}s^{-1} \\in SN\\). Again use the fact that \\(N \\trianglelefteq G\\): \\[\n  \\exists s' \\in N, n^{-1}s^{-1} = s'n^{-1} \\in SN.\n  \\]\n\nThe rest can be proved by this diagram:\n\n\n\n\n\n\nFigure 4: Proof of the isomorphism theorem 2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSecond Isomorphism Theorem\n\n\n\n\nTheorem 2 Let \\(G\\) be a group and \\(N \\trianglelefteq G\\), \\(S \\le G\\). Then: \\[\n\\frac{SN}{N} \\simeq \\frac{S}{S \\cap N}\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof\n\n\n\n\n\nAs shown in Figure 4, we have:\n\n\\(N \\trianglelefteq SN\\), since \\(N = \\ker(\\varphi|_{SN})\\). By the first isomorphism theorem, we have \\(\\frac{SN}{N} \\simeq \\varphi (SN)\\).\n\\(S \\cap N \\trianglelefteq S\\), since \\(S \\cap N = \\ker(\\varphi|_{S})\\). By the first isomorphism theorem, we have \\(\\frac{S}{S \\cap N} \\simeq \\varphi (S)\\).\n\nPlus, \\(\\varphi (SN) = \\varphi(S)\\), therefore: \\[\n\\frac{SN}{N} \\simeq \\varphi (SN) = \\varphi(S) \\simeq \\frac{S}{S \\cap N},\n\\] i.e., \\[\n\\frac{SN}{N} \\simeq \\frac{S}{S \\cap N}.\n\\]"
  },
  {
    "objectID": "posts/isomorphism-theorem/index.html#isomorphism-theorem-iii",
    "href": "posts/isomorphism-theorem/index.html#isomorphism-theorem-iii",
    "title": "Understanding Isomorphism Theorems for Groups 群同构定理的理解",
    "section": "5 Isomorphism Theorem III",
    "text": "5 Isomorphism Theorem III\n\n\n\n\n\n\n\nThird Isomorphism Theorem\n\n\n\n\nTheorem 3 Let \\(G\\) be a group and \\(N \\trianglelefteq G\\), \\(K \\trianglelefteq G\\), \\(N \\subset K\\). Then \\(N \\trianglelefteq K\\) and \\[\n\\frac{G/N}{K/N} \\simeq \\frac{G}{K}\n\\]\n\n\n\n\nTo prove this theorem, we need to prove a lemma:\n\n\n\n\n\n\n\nThe image of normal subgroup is normal\n\n\n\n\nLemma 4 Let \\(G\\) be a group, \\(K \\trianglelefteq G\\), \\(\\varphi \\in \\operatorname{Hom}(G, H)\\). The image of \\(K\\) under \\(\\varphi\\) is normal in \\(H\\), i.e., \\[\n\\varphi(K) \\trianglelefteq \\operatorname{im} \\varphi\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof\n\n\n\n\n\nWe need to show \\(\\forall h \\in \\operatorname{im} \\varphi\\) and \\(\\forall k \\in K\\), \\(h\\varphi(k)h^{-1} \\in \\varphi(K)\\).\nLet:\n\n\\(h \\in \\operatorname{im}(\\varphi)\\), so there exists \\(g \\in G\\) such that \\(h = \\varphi(g)\\),\n\\(k \\in K\\), so \\(\\varphi(k) \\in \\varphi(K)\\)\n\nNow compute: \\[\nh \\varphi(k) h^{-1} = \\varphi(g) \\varphi(k) \\varphi(g)^{-1}\n= \\varphi(g k g^{-1}) \\quad \\text{(since \\( \\varphi \\) is a homomorphism)}\n\\]\nBut since $ K G $, we know \\(g k g^{-1} \\in K\\), so: \\[\n\\varphi(g k g^{-1}) \\in \\varphi(K).\n\\] Therefore: \\[\nh \\varphi(k) h^{-1} \\in \\varphi(K).\n\\]\nSo \\(\\varphi(K)\\) is closed under conjugation by elements of \\(\\operatorname{im}(\\varphi)\\), i.e.,\n\\[\n\\varphi(K) \\trianglelefteq \\operatorname{im}(\\varphi).\n\\]\n\n\n\n\nNow the proof of the third isomorphism theorem can be proved by this diagram:\n\n\n\n\n\n\nFigure 5: Commutative diagram of groups\n\n\n\n\n\n\n\n\n\n\nProof of the third isomorphism theorem\n\n\n\n\n\nFigure 5 can be visually represented by this cartoon:\n\n\n\n\n\n\nFigure 6: Visual demo of the proof of the third isomorphism theorem\n\n\n\nby the first isomorphism theorem, we have: \\[\nG/N \\simeq \\sigma_1 (G) \\triangleright \\sigma_1 (K) \\simeq K/N.\n\\] Therefore, \\[\n\\frac{G/N}{K/N} = \\frac{\\sigma_1 (G)}{\\sigma_1 (K)} \\simeq \\sigma_2 \\circ \\sigma_1 (G) =: \\sigma (G) \\simeq \\frac{G}{K}.\n\\]"
  },
  {
    "objectID": "posts/jk-ff/index.html",
    "href": "posts/jk-ff/index.html",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "",
    "text": "Most online VHDL descriptions of JK flip-flops (FF) are based on “processes” or circuit functionality (behavioral). Is it possible to simulate them only by constructing the circuit structure of the JK flip-flop?"
  },
  {
    "objectID": "posts/jk-ff/index.html#intro",
    "href": "posts/jk-ff/index.html#intro",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "",
    "text": "Most online VHDL descriptions of JK flip-flops (FF) are based on “processes” or circuit functionality (behavioral). Is it possible to simulate them only by constructing the circuit structure of the JK flip-flop?"
  },
  {
    "objectID": "posts/jk-ff/index.html#jk-ff-review",
    "href": "posts/jk-ff/index.html#jk-ff-review",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "2 JK FF Review",
    "text": "2 JK FF Review\nThe circuit structure is JK FF is very familiar to everybody, which is: \nThe corresponding truth table is shown below:\n\n\n\nC\nJ\nK\nQ\nQ̅\n\n\n\n\n↑\n0\n0\nlatch\nlatch\n\n\n↑\n0\n1\n0\n1\n\n\n↑\n1\n0\n1\n0\n\n\n↑\n1\n1\ntoggle\ntoggle\n\n\nx\n0\n0\nlatch\nlatch\n\n\nx\n0\n1\nlatch\nlatch\n\n\nx\n1\n0\nlatch\nlatch\n\n\nx\n1\n1\nlatch\nlatch\n\n\n\nwhere “latch” represent the Q output remembers whatever the last stored value was. “Toggle” means to flip Q, i.e. 0 -&gt; 1, 1 -&gt; 0. “↑” means the clock signal in a leading edge."
  },
  {
    "objectID": "posts/jk-ff/index.html#problem",
    "href": "posts/jk-ff/index.html#problem",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "3 Problem",
    "text": "3 Problem\n\n3.1 First try\nWrite the following content in JKFF.vhdl:\nlibrary IEEE;\nuse IEEE.STD_LOGIC_1164.ALL;\n\nentity JKFF_nodelay is\n    Port (\n        J : in STD_LOGIC;     -- J input\n        K : in STD_LOGIC;     -- K input\n        clk : in STD_LOGIC;   -- Clock input\n        Q : out STD_LOGIC;    -- Output Q\n        QN : out STD_LOGIC    -- Output QN (complement of Q)\n    );\nend JKFF_nodelay;\n\narchitecture Structural of JKFF_nodelay is\n    -- Internal signals for latch and clock gating\n    signal S, R : STD_LOGIC;    -- Set and Reset inputs for the latch\n    signal Q_int, QN_int : STD_LOGIC := '0'; -- Internal Q and QN for feedback\n\nbegin\n    S &lt;= (J and clk) and QN_int;\n    R &lt;= (K and clk) and Q_int;\n\n    -- NOR gate-based latch\n    Q_int &lt;= not (R or QN_int);\n    QN_int &lt;= not (S or Q_int);\n\n    -- Outputs\n    Q &lt;= Q_int;    -- Main output\n    QN &lt;= QN_int;  -- Complementary output\nend Structural;\nThen write a testbench file to test the behavior of this circuit, you will find it will not work well.\n\n\n3.2 Reason\nThe reason (probably, only personal view) is that JK FF have two layers of feedback (instead of SR FF, which just have one), since we loop our output Q not only to the NOR gates, but also AND to our initial inputs J and K. This confuse the compiler because the resultant signal changes so fast and maybe not have a stable consequence, so the compiler do not know how to respond to this kind of feedback.\nSo we introduce some delay in the gates to simulate the reality closer."
  },
  {
    "objectID": "posts/jk-ff/index.html#solution",
    "href": "posts/jk-ff/index.html#solution",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "4 Solution",
    "text": "4 Solution\n\n4.1 Adding delay in the gates\nWe write the following content in another file JKFF.vhdl:\nlibrary IEEE;\nuse IEEE.STD_LOGIC_1164.ALL;\n\nentity JKFF is\n    Port (\n        J : in STD_LOGIC;     -- J input\n        K : in STD_LOGIC;     -- K input\n        clk : in STD_LOGIC;   -- Clock input\n        Q : out STD_LOGIC;    -- Output Q\n        QN : out STD_LOGIC    -- Output QN (complement of Q)\n    );\nend JKFF;\n\narchitecture Structural of JKFF is\n    -- Internal signals for latch and clock gating\n    signal S, R : STD_LOGIC;    -- Set and Reset inputs for the latch\n    signal Q_int, QN_int : STD_LOGIC := '0'; -- Internal Q and QN for feedback\n\nbegin\n    S &lt;= (J and clk) and QN_int after 0.1 ns;\n    R &lt;= (K and clk) and Q_int after 0.1 ns;\n\n    -- NOR gate-based latch\n    Q_int &lt;= not (R or QN_int) after 0.2 ns;\n    QN_int &lt;= not (S or Q_int) after 0.2 ns;\n\n    -- Outputs\n    Q &lt;= Q_int;    -- Main output\n    QN &lt;= QN_int;  -- Complementary output\nend Structural;\nAnd run the following JKFF_tb.vhdl:\nlibrary IEEE;\nuse IEEE.STD_LOGIC_1164.ALL;\n\nentity JKFF_tb is\n-- No ports for testbench\nend JKFF_tb;\n\narchitecture Behavioral of JKFF_tb is\n    -- Component declaration\n    component JKFF\n        Port (\n            J : in STD_LOGIC;\n            K : in STD_LOGIC;\n            clk : in STD_LOGIC;\n            Q : out STD_LOGIC;\n            QN : out STD_LOGIC\n        );\n    end component;\n\n    -- Signals to connect to the JKFF\n    signal J, K, clk : STD_LOGIC := '0';\n    signal Q, QN : STD_LOGIC;\n\nbegin\n    -- Instantiate the JK Flip-Flop\n    uut: JKFF\n        Port Map (\n            J =&gt; J,\n            K =&gt; K,\n            clk =&gt; clk,\n            Q =&gt; Q,\n            QN =&gt; QN\n        );\n\n    -- Clock generation process\n    clk_gen: process\n    begin\n        for i in 0 to 9 loop -- Generate 10 clock cycles\n            clk &lt;= '0';\n            wait for 9 ns; -- Low for 5 ns\n            clk &lt;= '1';\n            wait for 1 ns; -- High for 5 ns\n        end loop;\n        wait; -- End simulation after clock finishes\n    end process;\n\n    -- Stimulus process to apply test cases\n    stimulus: process\n    begin\n        -- Test Case 1: Hold state (J = 0, K = 0)\n        J &lt;= '0'; K &lt;= '0';\n        wait for 20 ns;\n\n        -- Test Case 2: Set state (J = 1, K = 0)\n        J &lt;= '1'; K &lt;= '0';\n        wait for 20 ns;\n\n        -- Test Case 3: Reset state (J = 0, K = 1)\n        J &lt;= '0'; K &lt;= '1';\n        wait for 20 ns;\n\n        -- Test Case 4: Toggle state (J = 1, K = 1)\n        J &lt;= '1'; K &lt;= '1';\n        wait for 40 ns;\n\n        -- Return to Hold state\n        J &lt;= '0'; K &lt;= '0';\n        wait for 20 ns;\n\n        wait; -- End simulation\n    end process;\nend Behavioral;\n\n\n4.2 Results\nWe will get the following waveform:\n\nThere are several strange things happen here:\n\n4.2.1 What happen before around 30 ns?\nThe Q and QN oscillates at the same pace. Why? It’s because both J and K are zero. For a JK FF, this means to remember the last value. But the last value of Q and QN are both zero (we initialize them in the JKFF.vhdl file):\nsignal Q_int, QN_int : STD_LOGIC := '0'; -- Internal Q and QN for feedback\nThis is invalid and unstable! So they oscillates with a period of 0.2 ns, which is exactly the delay time of the NOR gates.\n\n\n\nLocally zoomed in\n\n\nOK, if instead we initialize the Q and QN a valid value, say Q_int=0 and QN_int=1 like this (in JKFF.vhdl file):\nsignal Q_int : STD_LOGIC := '0'; -- Internal Q for feedback\nsignal QN_int : STD_LOGIC := '1'; -- Internal QN for feedback\nSince they are valid, hence stable, Q and QN will not oscillates as expected:\n\n\n\n4.2.2 Why not toggle successfully?\nAt around \\(t = 70\\) ns, both J and K are 1. This means at the leading edge of the clock signal clk, Q and QN should both flipped! But according to the waveform, they tried but failed, with a tiny pulse around that time.\nI tried several clk pulse width and analysed the JK circuit in “slow-motion” carefully (Try this! Very surprising!). Finally I figured it out:\nIt’s because JK FF don’t want the clk signal be high for too long. This is because if the clk line hold high for a sufficient long period, the signal at Q and QN will “backpropagate” (Haha just borrow the term) to the inputs, continue to control whether or not the J and K signal should come in. If we increase the so-called “duty-ratio” of the clk signal, we will see these:\n\n\n\nDuty ratio = 0.20\n\n\n\n\n\nDuty ratio = 0.30\n\n\n\n\n\nDuty ratio = 0.40\n\n\n\n\n\nDuty ratio = 0.65\n\n\nSome value of duty ratio (e.g. 0.65) happen to toggle the Q successfully, while others do not.\nYou can think of what value could the duty ratio be? (Given the clock cycle and the propagation delay of all gates) This is a very intereting yet tedious problem to consider. But as long as you understand why Q oscillates, you understand this.\nTherefore people say that there are no “JK latches”."
  },
  {
    "objectID": "posts/jk-ff/index.html#conclusion",
    "href": "posts/jk-ff/index.html#conclusion",
    "title": "JK Flip-flop not Behavioral (VHDL version)",
    "section": "5 Conclusion",
    "text": "5 Conclusion\nThe VHDL realization of a JK FF can be achieved by introducing propagation delay to the gates."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html",
    "href": "posts/least-squares-as-projection/index.html",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "",
    "text": "The goal is to find the linear model \\(y = \\beta_0 + \\beta_1 x\\) such that the sum of squared errors between the predicted values and the actual data is minimized."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#introduction",
    "href": "posts/least-squares-as-projection/index.html#introduction",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "",
    "text": "The goal is to find the linear model \\(y = \\beta_0 + \\beta_1 x\\) such that the sum of squared errors between the predicted values and the actual data is minimized."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#linear-model",
    "href": "posts/least-squares-as-projection/index.html#linear-model",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "2 Linear Model",
    "text": "2 Linear Model\nThe form of the linear model is:\n\\[\ny_i = \\beta_0 + \\beta_1 x_i + \\epsilon_i\n\\]\nwhere \\(y_i\\) is the observed value, \\(x_i\\) is the independent variable, \\(\\beta_0\\) is the intercept, \\(\\beta_1\\) is the slope, and \\(\\epsilon_i\\) is the error term.\nWe wish to find \\(\\beta_0\\) and \\(\\beta_1\\) such that the predicted values \\(\\hat{y}_i = \\beta_0 + \\beta_1 x_i\\) minimize the sum of squared errors between \\(\\hat{y}_i\\) and the observed values \\(y_i\\)."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#design-matrix-and-observation-vector",
    "href": "posts/least-squares-as-projection/index.html#design-matrix-and-observation-vector",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "3 Design Matrix and Observation Vector",
    "text": "3 Design Matrix and Observation Vector\nTo make the problem more convenient, we represent it using vectors and matrices.\n\n3.1 Design Matrix\nDefine the design matrix \\(\\mathbf{X}\\) as:\n\\[\n\\mathbf{X} = \\begin{bmatrix}\n1 & 1 \\\\\n1 & 2 \\\\\n1 & 3 \\\\\n1 & 4\n\\end{bmatrix}\n\\]\nThe first column contains only 1s, representing the constant term \\(\\beta_0\\), and the second column contains the values of the independent variable \\(x_i\\).\n\n\n3.2 Observation Vector\nDefine the observation vector \\(\\mathbf{y}\\) as:\n\\[\n\\mathbf{y} = \\begin{bmatrix}\n2 \\\\\n3 \\\\\n5 \\\\\n7\n\\end{bmatrix}\n\\]\nThis vector contains all the observed values \\(y_i\\).\n\n\n3.3 Parameter Vector\nDefine the parameter vector \\(\\boldsymbol{\\beta} = \\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\end{bmatrix}\\)."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#sum-of-squared-errors-objective-function",
    "href": "posts/least-squares-as-projection/index.html#sum-of-squared-errors-objective-function",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "4 Sum of Squared Errors Objective Function",
    "text": "4 Sum of Squared Errors Objective Function\nIn regression, our goal is to find the parameters \\(\\boldsymbol{\\beta}\\) such that the predicted values \\(\\hat{\\mathbf{y}} = \\mathbf{X} \\boldsymbol{\\beta}\\) are as close as possible to the observed values \\(\\mathbf{y}\\), by minimizing the sum of squared errors (SSE):\n\\[\nS(\\beta_0, \\beta_1) = \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 = (\\mathbf{y} - \\mathbf{X} \\boldsymbol{\\beta})^T (\\mathbf{y} - \\mathbf{X} \\boldsymbol{\\beta})\n\\]"
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#deriving-the-normal-equation",
    "href": "posts/least-squares-as-projection/index.html#deriving-the-normal-equation",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "5 Deriving the Normal Equation",
    "text": "5 Deriving the Normal Equation\nThe key idea of least squares is to find \\(\\boldsymbol{\\beta}\\) such that the residual \\(\\mathbf{y} - \\mathbf{X} \\boldsymbol{\\beta}\\) is minimized. Geometrically, this means that the residual should be orthogonal to the column space of the design matrix \\(\\mathbf{X}\\), which leads to the normal equation:\n\\[\n\\mathbf{X}^T (\\mathbf{y} - \\mathbf{X} \\hat{\\boldsymbol{\\beta}}) = 0\n\\]\nExpanding this:\n\\[\n\\mathbf{X}^T \\mathbf{y} = \\mathbf{X}^T \\mathbf{X} \\hat{\\boldsymbol{\\beta}}\n\\]\nThis is the normal equation, which can be solved to find the least squares estimate \\(\\hat{\\boldsymbol{\\beta}}\\)."
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#solving-the-normal-equation",
    "href": "posts/least-squares-as-projection/index.html#solving-the-normal-equation",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "6 Solving the Normal Equation",
    "text": "6 Solving the Normal Equation\nNow, let’s compute the parts of the normal equation.\n\n6.1 Compute \\(\\mathbf{X}^T \\mathbf{X}\\)\n\\[\n\\mathbf{X}^T \\mathbf{X} = \\begin{bmatrix}\n1 & 1 & 1 & 1 \\\\\n1 & 2 & 3 & 4\n\\end{bmatrix}\n\\begin{bmatrix}\n1 & 1 \\\\\n1 & 2 \\\\\n1 & 3 \\\\\n1 & 4\n\\end{bmatrix}\n= \\begin{bmatrix}\n4 & 10 \\\\\n10 & 30\n\\end{bmatrix}\n\\]\n\n\n6.2 Compute \\(\\mathbf{X}^T \\mathbf{y}\\)\n\\[\n\\mathbf{X}^T \\mathbf{y} = \\begin{bmatrix}\n1 & 1 & 1 & 1 \\\\\n1 & 2 & 3 & 4\n\\end{bmatrix}\n\\begin{bmatrix}\n2 \\\\\n3 \\\\\n5 \\\\\n7\n\\end{bmatrix}\n= \\begin{bmatrix}\n17 \\\\\n50\n\\end{bmatrix}\n\\]\n\n\n6.3 Solve the Normal Equation\nNow we solve the normal equation:\n\\[\n\\begin{bmatrix}\n4 & 10 \\\\\n10 & 30\n\\end{bmatrix} \\hat{\\boldsymbol{\\beta}} = \\begin{bmatrix}\n17 \\\\\n50\n\\end{bmatrix}\n\\]\nTo solve this, we first compute the inverse of \\(\\mathbf{X}^T \\mathbf{X}\\):\n\\[\n(\\mathbf{X}^T \\mathbf{X})^{-1} = \\frac{1}{(4)(30) - (10)(10)} \\begin{bmatrix}\n30 & -10 \\\\\n-10 & 4\n\\end{bmatrix} = \\frac{1}{20} \\begin{bmatrix}\n30 & -10 \\\\\n-10 & 4\n\\end{bmatrix}\n\\]\nNext, we compute \\(\\hat{\\boldsymbol{\\beta}}\\):\n\\[\n\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^T \\mathbf{X})^{-1} \\mathbf{X}^T \\mathbf{y}\n\\]\n\\[\n\\hat{\\boldsymbol{\\beta}} = \\frac{1}{20} \\begin{bmatrix}\n30 & -10 \\\\\n-10 & 4\n\\end{bmatrix}\n\\begin{bmatrix}\n17 \\\\\n50\n\\end{bmatrix}\n= \\frac{1}{20} \\begin{bmatrix}\n(30)(17) + (-10)(50) \\\\\n(-10)(17) + (4)(50)\n\\end{bmatrix}\n\\]\n\\[\n\\hat{\\boldsymbol{\\beta}} = \\frac{1}{20} \\begin{bmatrix}\n510 - 500 \\\\\n-170 + 200\n\\end{bmatrix}\n= \\frac{1}{20} \\begin{bmatrix}\n10 \\\\\n30\n\\end{bmatrix}\n= \\begin{bmatrix}\n0.5 \\\\\n1.5\n\\end{bmatrix}\n\\]"
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#least-squares-estimate",
    "href": "posts/least-squares-as-projection/index.html#least-squares-estimate",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "7 Least Squares Estimate",
    "text": "7 Least Squares Estimate\nBy solving the normal equation, we find \\(\\hat{\\beta}_0 = 0.5\\) and \\(\\hat{\\beta}_1 = 1.5\\). Thus, the regression model is:\n\\[\n\\hat{y} = 0.5 + 1.5x\n\\]"
  },
  {
    "objectID": "posts/least-squares-as-projection/index.html#conclusion",
    "href": "posts/least-squares-as-projection/index.html#conclusion",
    "title": "Least Squares as Projection 最小二乘法的投影解释",
    "section": "8 Conclusion",
    "text": "8 Conclusion\nUsing the projection approach, we see that the least squares estimate is the projection of the observation vector \\(\\mathbf{y}\\) onto the space spanned by the columns of the design matrix \\(\\mathbf{X}\\). By solving the normal equation, we found the parameters \\(\\hat{\\beta}_0 = 0.5\\) and \\(\\hat{\\beta}_1 = 1.5\\), which minimize the sum of squared errors."
  },
  {
    "objectID": "posts/pde-derivation/index.html",
    "href": "posts/pde-derivation/index.html",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "",
    "text": "Conservation law seems underratedly important.\nOscillation and overshooting comes from second order time derivative. Smooth exponential decay comes from first order time derivative.\n\\(a_{n+1} + a_{n-1} - 2a_n\\) is the second order spatial derivative, the mental picture of it is the difference between current value and the average of its two neighbors.\nForcing terms are usually comes with second order spacial derivative. This is because first order spacial derivative only represent force from one side, and second order spacial derivative is the net force of the neighboring particles acting on the particle we analyze."
  },
  {
    "objectID": "posts/pde-derivation/index.html#takeaways",
    "href": "posts/pde-derivation/index.html#takeaways",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "",
    "text": "Conservation law seems underratedly important.\nOscillation and overshooting comes from second order time derivative. Smooth exponential decay comes from first order time derivative.\n\\(a_{n+1} + a_{n-1} - 2a_n\\) is the second order spatial derivative, the mental picture of it is the difference between current value and the average of its two neighbors.\nForcing terms are usually comes with second order spacial derivative. This is because first order spacial derivative only represent force from one side, and second order spacial derivative is the net force of the neighboring particles acting on the particle we analyze."
  },
  {
    "objectID": "posts/pde-derivation/index.html#welcome",
    "href": "posts/pde-derivation/index.html#welcome",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "1 Welcome!",
    "text": "1 Welcome!\nThis is the first chapter of my PDE series. You will learn how to derive two of the most important PDEs in physics: Wave equation and heat equation, with nearly no prerequisites. The goal of this article is to make these two equations as obvious as possible1 to you:\n1 We avoid using the notation \\(\\Delta\\) for \\(\\nabla^2\\). \\(\\Delta\\) in this article just mean “difference in” blablabla. We also use \\(\\xi_{t}\\) and \\(\\xi_{tt}\\) to represent \\(\\frac{\\partial \\xi}{\\partial t}\\) and \\(\\frac{\\partial^2 \\xi}{\\partial t^2}\\).\nWave equation: \\(\\xi_{tt} = c^2 \\nabla^2 \\xi\\).\nHeat equation: \\(T_t = \\alpha \\nabla^2 T\\).\n\nLet’s do it!"
  },
  {
    "objectID": "posts/pde-derivation/index.html#wave-equation",
    "href": "posts/pde-derivation/index.html#wave-equation",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "2 Wave Equation",
    "text": "2 Wave Equation\n\n2.1 1D Wave Equation\nThere are two kinds of one-dimensional wave: longitudinal and transverse.\n\n\n\nLongitudinal wave and transverse wave cartoon\n\n\nThey look totally different, but they share exactly the same properties and could be described by the same wave PDE! Let’s have a look at longitudinal wave first.\n\n2.1.1 Longitudinal Wave\nThis kind of wave can be considered as little balls connected by springs:\n\n\n\n\n\n\nFigure 1: Balls at equilibrium position\n\n\n\nAs shown in Figure 1, each small ball is in a tranquil state called “equilibrium position” where all resultant force acting on it is zero. Now we want to describe the system when there are perturbations using PDEs. So there should be a variable that depends on time and space. What is that variable? Well, we should define it. Let’s make it the displacement value \\(\\xi(x,t)\\) of each ball from its equilibrium position.\n\n\n\n\n\n\nFigure 2: Zoom in at one of the balls\n\n\n\nConsider the scenario shown in Figure 2, we zoom in at the \\(n\\)-th ball. In order to find the equation of motion for this ball, we need to define some parameters:\n\n\\(k\\): Microscopic string constant.\n\\(m\\): Mass of each ball.\n\nThe net force acting on the \\(n\\)-th ball is the sum of the forces from the two adjacent balls: \\[\n\\begin{aligned}\nF_n &= F_L + F_R \\\\\n&= (-F_0 - k(\\xi_n - \\xi_{n-1})) + (F_0 + k(\\xi_{n+1} - \\xi_n)) \\\\\n&= k((\\xi_{n+1} - \\xi_n) - (\\xi_n - \\xi_{n-1})),\n\\end{aligned}\n\\] where \\(F_0\\) is the force from both left and right balls acting on the \\(n\\)-th ball at equilibrium position (they balanced out at equilibrium position). According to Newton’s second law2 \\(F_n = m \\ddot \\xi_n\\), we have: \\[\nk((\\xi_{n+1} - \\xi_n) - (\\xi_n - \\xi_{n-1})) = m \\ddot \\xi_n.\n\\tag{1}\\]\n2 \\(\\ddot \\xi_n\\) means \\(\\frac{\\partial^2 \\xi}{\\partial t^2}\\) in the article.Now Equation 1 should be it! But in reality, we do not know \\(m\\) and \\(k\\) since they are microscopic parameters. We now define some new parameters to connect the quantities that we can measure with the microscopic parameters:\n\n\\(N\\): Total number of balls.\n\\(\\Delta l\\): Microscopic distance between adjacent balls.\n\\(L\\): Total length, \\(L = N \\Delta l\\).\n\\(M\\): Total mass of the system, \\(M = Nm\\).\n\\(\\rho\\): Mass density, \\(\\rho = \\frac{M}{L}\\).\n\\(K\\): Total spring constant3, \\(K = \\frac{k}{N}\\).\n\n3 The spring constant of serial spring is smaller than that of individual spring by a factor of \\(N\\).Now Equation 1 becomes: \\[\n\\begin{align*}\n&k \\frac{(\\xi_{n+1} - \\xi_n) - (\\xi_n - \\xi_{n-1})}{(\\Delta l)^2} = \\frac{\\rho \\ddot \\xi_n}{\\Delta l} \\\\\n\\implies\\quad &k \\xi_{xx} = \\frac{\\rho \\ddot \\xi_n}{\\Delta l} \\\\\n\\implies\\quad &\\ddot \\xi_n = \\frac{k \\Delta l}{\\rho} \\xi_{xx} = \\frac{NK \\frac{L}{N}}{\\frac{M}{L}} \\xi_{xx} \\\\\n\\implies\\quad &\\ddot \\xi_n = \\frac{KL^2}{M} \\xi_{xx}\n\\end{align*}\n\\]\n\\(n\\) is arbitrary, so we got: \\[\n\\boxed{\n\\ddot \\xi = \\frac{KL^2}{M} \\xi_{xx}.\n}\n\\]\n\n\n2.1.2 Transverse wave\nTo derive the wave equation for transverse wave, we need to make some basic assumptions:\n\nEvery particle could only move in a fixed line perpendicular to the direction of wave propagation, which means the horizontal resultant force is zero for each particle.\nThe vibration amplitude is extremely small.\nFollowing above, the tension (density) is constant throughout the string.\n\n\n\n\n\n\nOnly verticle movement of each particle\n\n\n\n\n\nVibration amplitude of each particle is small\n\n\n\n\n\nTension is asssumed to be invariant\n\n\nNow we define some parameters of the string:\n\n\\(T\\): Tension of the string.\n\\(\\lambda\\): Line density of the string (mass per unit length).\n\nWe focus on an element of the string shown in Figure 3.\n\n\n\n\n\n\nFigure 3: Line segment of the string\n\n\n\nSuppose the mass of that element is \\(\\Delta m\\), the displacement is \\(\\xi\\). The resultant force \\[\n\\begin{align*}\n& \\Sigma F = \\Delta m \\cdot \\ddot{\\xi} \\\\\n\\implies\\quad & T \\sin \\theta_2 - T \\sin \\theta_1 = \\lambda \\frac{\\Delta x}{\\cos \\theta_1} \\cdot \\ddot{\\xi}\n\\end{align*}\n\\]\nSince \\(\\theta_1, \\theta_2 \\to 0, \\cos \\theta_1 \\approx 1, \\sin \\theta \\approx \\tan \\theta\\), we have: \\[\n\\begin{align*}\n&T(\\tan \\theta_2 - \\tan \\theta_1) = \\lambda \\Delta x \\cdot \\ddot{\\xi} \\\\\n\\implies\\quad &T \\left( \\left. \\frac{\\partial \\xi}{\\partial x} \\right|_{x+\\Delta x} - \\left. \\frac{\\partial \\xi}{\\partial x} \\right|_{x}  \\right) = \\lambda \\Delta x \\cdot \\ddot{\\xi} \\\\\n\\implies\\quad &T \\frac{\\partial^2 \\xi}{\\partial x^2} \\Delta x = \\lambda \\Delta x \\cdot \\ddot{\\xi} \\\\\n\\implies\\quad &\\frac{T}{\\lambda} \\xi_{xx} = \\ddot{\\xi}.\n\\end{align*}\n\\]\nDone! This is the wave equation for transverse wave. We can also see the famous result that the wave speed is the square root of tension divide by density: \\[\nv = \\sqrt{\\frac{T}{\\lambda}}.\n\\]\n\n\n\n\n\n\n\nSpatial Second order derivative\n\n\n\nIn the derivation of the two kinds of waves, the crucial part! is the realization that these two expressions: \\[\n(\\xi_{n+1} - \\xi_n) - (\\xi_n - \\xi_{n-1})\n\\tag{2}\\] and \\[\n\\left. \\frac{\\partial \\xi}{\\partial x} \\right|_{x+\\Delta x} - \\left. \\frac{\\partial \\xi}{\\partial x} \\right|_{x}\n\\] are essentially the second order spatial derivative \\(\\xi_{xx}\\). This is obvious if you recall the definition of second derivative: just the derivative of derivative. Or in discrete version, the difference of difference. In particular, Equation 2 can be also interpreted as the comparison between current value and the average of its two neighbors4: \\[\n(\\xi_{n+1} - \\xi_n) - (\\xi_n - \\xi_{n-1}) \\propto \\frac{T_{n-1} + T_{n+1}}{2} - T_n.\n\\tag{3}\\]\nWe will encounter this in the derivation of heat equation as well, so keep this in mind!\n\n\n\n4 This incredible idea is inspired by this video by 3Blue1Brown.\n\n\n2.2 2D Wave Equation\nYou may think the 2D analog is something like Figure 4. However, this kind of wave is vector-valued just like electromagnetic wave, where the “amplitude” \\(\\mathbf{\\xi}: \\mathbb{R}^n \\times \\mathbb{R} \\to \\mathbb{R}^n\\) is a time-dependent vector field. We will focus on scalar-valued waves in this article, leaving vector-valued waves in the future discussion5. In fact, the transverse wave (shown in Figure 5) is quite accurate for 2D scalar-valued waves.\n5 For those of the curious reader, the wave equation \\(\\mathbf{\\xi}_{tt} = c^2 \\nabla^2 \\mathbf{\\xi}\\) is also true component-wise for vector-valued waves, i.e., \\((\\mathbf{\\xi}_i)_{tt} = c^2 \\nabla^2 \\mathbf{\\xi}_i\\).\n\n\n\n\n\n\n\n\nFigure 4: Vector-valued 2D longitudinal wave\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: Scalar-valued 2D transverse wave\n\n\n\n\n\n\nYou can imagine Figure 5 as a curved rubber band with similar assumptions in Section 2.1.2. Suppose:\n\n\\(T\\): Tension per unit length6.\n\\(\\sigma\\): Surface mass density of the rubber band (mass per unit area).\n\n6 Note that it doesn’t make sense to say “tension at a point” but “tension at both sides of a line of a given length” (unit: N/m).Along \\(z\\) axies, \\[\n\\begin{align*}\n&\\Sigma F = \\Delta m \\cdot \\ddot{\\xi} \\\\\n\\implies\\quad &(T \\Delta y) \\frac{\\partial^2 \\xi}{\\partial x^2} \\Delta x + (T \\Delta x) \\frac{\\partial^2 \\xi}{\\partial y^2} \\Delta y = \\sigma (\\Delta x \\Delta y) \\frac{\\partial^2 \\xi}{\\partial t^2} \\\\\n\\implies\\quad &\\frac{T}{\\sigma} (\\xi_{xx} + \\xi_{yy}) = \\ddot{\\xi}.\n\\end{align*}\n\\]\nThis can also be generalized to wave equation in \\(n\\) dimension: \\[\n\\boxed{\n\\ddot{\\xi} = \\frac{T}{\\sigma} \\nabla^2 \\xi. }\n\\]"
  },
  {
    "objectID": "posts/pde-derivation/index.html#heat-equation",
    "href": "posts/pde-derivation/index.html#heat-equation",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "3 Heat Equation",
    "text": "3 Heat Equation\n\n3.1 1D Heat Equation\n\n3.1.1 Modelling\nThe following physical model of heat conduction on a rod is based on the following assumptions and facts:\n\nNo thermal source on the thin rod.\n(Prop Relation 1) \\(T\\) (in Kelvin) is defined to be proportional7 to thermal energy \\(Q\\) (in \\(\\text{J}\\)), i.e., \\[\nT : \\propto Q.\n\\]\nThis is reflected in the following well-known fact: \\[\n\\Delta Q = cm \\Delta T,\n\\] where \\(c\\) is the specific heat capacity of the rod, \\(m\\) is the mass we analyze on.\n(Prop Relation 2) Conduction of heat energy is proportional to temperature difference8: \\[\n\\boxed{\nq = -k \\nabla T,}\n\\] where \\(q\\) is called heat flux density9, the amount of thermal energy passing through a point (1D case) or a unit area (3D case)\nThermal energy in conserved!\n\n\n7 Loosely speaking, this is the definition of temperature. If there is no temperature (\\(T = 0\\text{ K}\\)), then there is no particle motion, \\(Q = 0\\).8 This famous equation is called Fourier’s law for heat conduction.9 Since in 1D case, \\(q\\) is just the amount of thermal energy pssing through a point. Thus in 1D, we often drop the word “density” by just saying “heat flux”.\n\n\n\n\n\nImportance of proportion relations\n\n\n\nYou may have noticed there are two proportional relations: \\[\n    T : \\propto Q.\n\\] This allows us to use temperature to reflect energy! Temperature is more tangible than energy. \\[\n    q = -k \\nabla T.\n\\] This connects time derivative and space derivative. So Heat equation is actully easier to derive since this Fourier’s law directly gives us nearly the final result. I say nearly because the only thing left is the conservation of energy!\n\n\n\n\n\n3.1.2 Derivation\nThe notations used are defined below:\n\n\\(\\lambda\\): Line density of the rod (mass per unit length).\n\\(x, x + \\Delta x\\): The coordinates of the start and end points of the rod segment we analyze (Right is the positive direction).\n\\(T: \\mathbb{R} \\times \\mathbb{R} \\to \\mathbb{R}\\): Temperature field (time dependent) on the rod.\n\nThe quantity we care is obviously how the temperature changes over time and space. We chooce a tiny segment of the rod of length \\(\\Delta x\\) and build equation on it. The temperature on that extremely small segment can be viewed as a constant.\n\n\n\n\n\n\nFigure 6: Energy conservation on a small element of the rod\n\n\n\nAs shown in Figure 6, suppose the left side of the rod is hotter than its right side10. We know that the thermal energy increased in \\(\\mathrm{d}t\\) should equal to thermal energy entering the segment on the left minus thermal energy leaving the segment on the right: \\[\n\\frac{\\mathrm{d} Q}{\\mathrm{d} t} = q_{\\text{in, left}} - q_{\\text{out, right}}.\n\\tag{4}\\]\n10 This is an assumption without loss of generality in terms of writing out the heat equation. The signs can be a lot tricker to determine if you don’t have a certain physical picture.Now we expect \\(q_{\\text{in, left}}\\) and \\(q_{\\text{out, right}}\\) to be both positive. The gradient of temperature \\(\\frac{\\partial T}{\\partial x}\\) on position \\(x\\) and \\(x + \\Delta x\\) are both negative (since temperature decreases along the positive direction), therefore, \\[\n\\begin{aligned}\nq_{\\text{in, left}} &= \\left. -k \\frac{\\partial T}{\\partial x} \\right|_{x} &gt; 0 \\\\\nq_{\\text{out, right}} &= \\left. -k \\frac{\\partial T}{\\partial x} \\right|_{x + \\Delta x} &gt; 0.\n\\end{aligned}\n\\]\nTherefore, Equation 4 becomes: \\[\n\\begin{align*}\n& \\frac{\\mathrm{d} Q}{\\mathrm{d} t} = k (T_x|_{x+\\Delta x} - T_x|_{x}) \\\\\n\\implies\\quad & c (\\lambda \\Delta x) \\frac{\\partial T}{\\partial t} = k T_{xx} \\Delta x \\\\\n\\implies\\quad & T_t = \\frac{k}{c \\lambda} T_{xx}.\n\\end{align*}\n\\]\nJust this simple, we derived the heat equation! \\[\n\\boxed{\nT_t = \\frac{k}{c \\lambda} T_{xx}.}\n\\]\n\n\n\n\n\n\n\nWhy do wave equation and heat equation so similar and different?\n\n\n\n\nWhy do they both have \\(\\xi_{xx}\\) term?\nThe “forcing” on a small element is proportional to the change of changes. This is very common in nature.\n\nIn wave case, the force on each particle not depend on the change of displacement of adjacent particles, but the change of the change (because first order determines force on either side, second order determines the net force on the particle we analyze)!\nIn heat case, the heat increase in a small segment does not depend on first order derivative of temperature field, that’s just one side. There’s yet another side that may compensate for this change in temperature. So it’s the difference of difference that matters.\n\nWhy temperature only cares first order time derivative?\nThere’s a fundamental difference between wave equation and heat equation: Heat will never overshoot but wave will. In other words, a spring will overshoot its equilibrium with maximal speed, resulting a movement of back and forth. But heat will evolve as smooth and efficient as possible, never oscillating.\n\n\n\n\n\n\n\nHeat diffusion\n\n\n\n\n\n\n\nWave propagation11\n\n\n\n\n\n\nA second order derivative in time means overshooting.\n\nSecond order time derivative appears in wave equation is because Newton’s second law involves acceleration. Whereas in heat equation the first order time derivative actually comes from conservation laws. There is a wide class of PDEs (called continuity equation) that can be derived from conservation law. We will discuss this later.\nJust to give a intuitive understanding of the difference behavior of wave and heat, recall that in Equation 3 we introduced a new way of looking at second order spatial derivative (Difference to the average of its neighbors). As shown in Figure 7, the second order spatial derivative is proportional to the blue \\(d\\).\n\n\n\n\n\n\nFigure 7: Difference between \\(d \\propto a\\) and \\(d\\ propto v\\)\n\n\n\nThe only difference in wave and heat equation is that if \\(d\\) is proportional to the acceleration \\(a\\) (of the middle particle), or its velocity \\(v\\), i.e., \\[\n\\dot{\\xi} = \\xi\n\\tag{5}\\] or \\[\n\\ddot{\\xi} = \\xi.\n\\tag{6}\\]\nThe solution to Equation 5 is the famous exponential decay, whereas the solution to Equation 6 is obviously the ocsillation!\n\n\n\n11 Made with this website where you can explore different PDEs visually!\n\n\n3.2 3D Heat Equation\nNow substitude the rod with a 3D material like metal. Suppose\n\n\\(\\rho\\): Volume density of the rod (mass per unit volume).\n\\(\\Delta V\\): Volume of the small segment we analyze, \\(\\Delta V = \\Delta x \\Delta y \\Delta z\\).\n\\(T: \\mathbb{R}^3 \\times \\mathbb{R} \\to \\mathbb{R}\\): Temperature field (time dependent) on the rod.\n\n\n\n\nIsolate a small sube inside the metal\n\n\nFrom conservation of thermal energy, the increase of \\(Q\\) is unit time equal to net energy entering the volume from \\(x, y, z\\) directions. We already know that in one dimension, say \\(x\\), the net increase in thermal energy is proportional to the second spatial derivative times the nudge length: \\[\nq = k T_{xx} \\overbrace{\\Delta x}^{\\text{nudge}}.\n\\]\nHowever, \\(q\\) is three-dimension is the heat flux density, so we also need to multiply the cross section area: \\[\n\\frac{\\mathrm{d} Q}{\\mathrm{d} t} = q \\cdot \\Delta \\text{Area} = \\overbrace{k T_{xx} \\Delta x}^{\\text{density}} \\cdot \\overbrace{(\\Delta y \\Delta z)}^{\\text{area size}}.\n\\]\nSum up all heat contributions from three directions: \\[\n\\begin{align*}\n& \\Sigma \\frac{\\mathrm{d} Q}{\\mathrm{d} t} = q_x (\\Delta y \\Delta z) + q_y (\\Delta z \\Delta x) + q_z (\\Delta x \\Delta y) \\\\\n\\implies\\quad & c (\\rho \\Delta V) \\frac{\\partial T}{\\partial t} = (k T_{xx} \\Delta x)(\\Delta y \\Delta z) + (k T_{yy} \\Delta y)(\\Delta z \\Delta x) + (k T_{zz} \\Delta z)(\\Delta x \\Delta y) \\\\\n\\implies\\quad & T_t = \\frac{k}{c \\rho} (T_{xx} + T_{yy} + T_{zz}),\n\\end{align*}\n\\] i.e., \\[\n\\boxed{\nT_t = \\frac{k}{c \\rho} \\nabla^2 T.}\n\\]\nThis could be natually generalized to \\(n\\) dimensions."
  },
  {
    "objectID": "posts/pde-derivation/index.html#references",
    "href": "posts/pde-derivation/index.html#references",
    "title": "PDE: Wave and Heat Equations Made Obvious 推导波动方程与热传导方程",
    "section": "References",
    "text": "References\n\n\nLamoureux, Michael. 2006. “The Mathematics of PDEs and the Wave Equation.” https://mathtube.org/sites/default/files/lecture-notes/Lamoureux_Michael.pdf."
  },
  {
    "objectID": "posts/projective-space/index.html",
    "href": "posts/projective-space/index.html",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "",
    "text": "The projective space of a vector space is the set of all lines1 through the origin with some extra structures.\n1 Or “1-dimensional subspaces”.\n\n\n\nThis can be formally defined by identifying some elements in a vector space \\(V\\), or classifying the vectors in \\(V\\) according to the spaces they span. This is exactly the idea of “quotients” in math.\n\n\n\n\n\n\n\nDefinition of Projective Space\n\n\n\n\nDefinition 1 Let \\(V\\) be a vector space over field \\(\\mathbb{F}\\), define a equivalence relation \\(\\sim\\) on \\(V\\) as2: \\[\n\\forall x, y \\in V, x \\sim y :\\iff \\exists \\lambda \\in \\mathbb{F}^*, x = \\lambda y.\n\\] Then we can define projective space \\(\\mathbb{P}(V)\\) as: \\[\n\\mathbb{P}(V) := \\frac{V - \\{0_V\\}}{\\sim}.\n\\]\n\n\n\n\n\n2 \\(\\mathbb{F}^* := \\mathbb{F} - \\{0_\\mathbb{F}\\}\\), i.e., the non-zero elements of the field \\(\\mathbb{F}\\).\n\n\n\n\n\nProjective space as a special case of the Grassmannian manifold\n\n\n\n\n\nAll \\(1\\)-dimensional subspaces form the projective space. What about \\(n\\)-dimensional subspaces? They form the so-called Grassmannian manifold!\n\n\n\n\n\n\nFigure 1: Projective spaces are special case of Grassmannian manifolds\n\n\n\n\n\n\n\n\n\n\nThere is a (surjective) canonical projection \\[\n\\begin{aligned}\n\\pi: V - \\{0_V\\} &\\twoheadrightarrow \\mathbb{P}(V) \\\\\nx &\\mapsto [x]_{\\sim}\n\\end{aligned}\n\\] that maps each non-zero vector to its equivalence class (as shown in Figure 2).\n\n\n\n\n\n\nFigure 2: The mental picture of \\(\\pi\\) for \\(V = \\mathbb{R}^3\\)\n\n\n\nIn the following post, we will only consider the case where \\(\\mathbb{F} \\in \\{\\mathbb{R}, \\mathbb{C}\\}\\) and \\(V = \\mathbb{F}^n\\) since they are the most common cases that we will encounter. It’s necessary to have a clear mental picture of each of the example in the following sections."
  },
  {
    "objectID": "posts/projective-space/index.html#projective-space",
    "href": "posts/projective-space/index.html#projective-space",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "",
    "text": "The projective space of a vector space is the set of all lines1 through the origin with some extra structures.\n1 Or “1-dimensional subspaces”.\n\n\n\nThis can be formally defined by identifying some elements in a vector space \\(V\\), or classifying the vectors in \\(V\\) according to the spaces they span. This is exactly the idea of “quotients” in math.\n\n\n\n\n\n\n\nDefinition of Projective Space\n\n\n\n\nDefinition 1 Let \\(V\\) be a vector space over field \\(\\mathbb{F}\\), define a equivalence relation \\(\\sim\\) on \\(V\\) as2: \\[\n\\forall x, y \\in V, x \\sim y :\\iff \\exists \\lambda \\in \\mathbb{F}^*, x = \\lambda y.\n\\] Then we can define projective space \\(\\mathbb{P}(V)\\) as: \\[\n\\mathbb{P}(V) := \\frac{V - \\{0_V\\}}{\\sim}.\n\\]\n\n\n\n\n\n2 \\(\\mathbb{F}^* := \\mathbb{F} - \\{0_\\mathbb{F}\\}\\), i.e., the non-zero elements of the field \\(\\mathbb{F}\\).\n\n\n\n\n\nProjective space as a special case of the Grassmannian manifold\n\n\n\n\n\nAll \\(1\\)-dimensional subspaces form the projective space. What about \\(n\\)-dimensional subspaces? They form the so-called Grassmannian manifold!\n\n\n\n\n\n\nFigure 1: Projective spaces are special case of Grassmannian manifolds\n\n\n\n\n\n\n\n\n\n\nThere is a (surjective) canonical projection \\[\n\\begin{aligned}\n\\pi: V - \\{0_V\\} &\\twoheadrightarrow \\mathbb{P}(V) \\\\\nx &\\mapsto [x]_{\\sim}\n\\end{aligned}\n\\] that maps each non-zero vector to its equivalence class (as shown in Figure 2).\n\n\n\n\n\n\nFigure 2: The mental picture of \\(\\pi\\) for \\(V = \\mathbb{R}^3\\)\n\n\n\nIn the following post, we will only consider the case where \\(\\mathbb{F} \\in \\{\\mathbb{R}, \\mathbb{C}\\}\\) and \\(V = \\mathbb{F}^n\\) since they are the most common cases that we will encounter. It’s necessary to have a clear mental picture of each of the example in the following sections."
  },
  {
    "objectID": "posts/projective-space/index.html#real-projective-space-mathbbrpn",
    "href": "posts/projective-space/index.html#real-projective-space-mathbbrpn",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "2 Real Projective Space \\(\\mathbb{RP}^n\\)",
    "text": "2 Real Projective Space \\(\\mathbb{RP}^n\\)\nWhen \\(V = \\mathbb{R}^n\\), we will denote \\(\\mathbb{P}(\\mathbb{R}^n)\\) by \\(\\mathbb{RP}^{n-1}\\), where the upper index indicates the dimension of the projective space (actually a manifold of dimension \\(n-1\\)).\nThe “shape” of \\(\\mathbb{RP}^n\\) can be understood by Equation 1.\n\\[\n\\boxed{\n\\mathbb{RP}^n \\simeq \\frac{\\mathbb{S}^n}{\\mathbb{Z}_2} \\simeq \\frac{H^n}{\\sim} \\simeq \\frac{D^n}{\\sim}.\n}\n\\tag{1}\\]\n\n\n\n\n\n\n\nNote for Equation 1\n\n\n\n\n\n\nThis is a diffeomorphism in the category of smooth manifolds.\nThe notations in Equation 1 are defined below:\n\n\\(\\mathbb{S}^n\\) is the \\(n\\)-dimensional sphere: \\[\n\\mathbb{S}^n := \\{x \\in \\mathbb{R}^{n+1} : \\|x\\| = 1\\}.\n\\]\n\\(H^n\\) is the upper hemisphere: \\[\nH^n := \\{x \\in \\mathbb{R}^{n+1} : \\|x\\| = 1, x_j \\geq 0\\},\n\\] where \\(j\\) can be any coordinate index of \\(x\\).\n\\(D^n\\) is the closed \\(n\\)-disk: \\[\nD^n := \\{x \\in \\mathbb{R}^{n} : \\|x\\| \\leq 1\\}.\n\\]\n\n\\(\\mathbb{S}^n/\\mathbb{Z}_2\\) means:\n\\[\n\\mathbb{S}^n/\\text{\\{antipodal points\\}}\n\\] Let the group \\(\\mathbb{Z}/2\\mathbb{Z} = \\{\\bar{0}, \\bar{1}\\}\\) acts on \\(\\mathbb{S}^n\\) by taking the antipodal point: \\[\n\\bar{1} \\cdot x = -x, \\quad \\forall x \\in \\mathbb{S}^n.\n\\] This action defines the equivalence relation (See wiki here): \\[\n\\forall x \\in \\mathbb{S}^n, x \\sim y :\\iff \\exists \\lambda \\in \\mathbb{Z}_2, y = \\lambda x.\n\\]\nThe equivalence relation \\(\\sim\\) on \\(H^n\\) is defined as: \\[\n\\forall x, y \\in H^n, x \\sim y :\\iff x = y \\text{ or }\n\\begin{cases} x, y \\in \\partial H^n = \\mathbb{S}^{n-1}, \\\\ x=-y.  \\end{cases}\n\\]\nThe equivalence relation \\(\\sim\\) on \\(D^n\\) is defined as: \\[\n\\forall x, y \\in D^n, x \\sim y :\\iff x = y \\text{ or }\n\\begin{cases} x, y \\in \\partial D^n = \\mathbb{S}^{n-1}, \\\\ x=-y.  \\end{cases}\n\\]\n\n\n\n\n\nThis is explained in detail below.\n\n2.1 Real Projective line3 \\(\\mathbb{RP}^1\\)\nLet \\(V = \\mathbb{R}^2\\), then4: \\[\n\\mathbb{RP}^1 \\simeq \\frac{\\mathbb{S}^1}{\\mathbb{Z}_2} \\simeq \\frac{H^1}{\\sim} \\simeq \\frac{D^1}{\\sim} \\simeq \\mathbb{S}^1 \\simeq \\mathbb{\\hat{R}}.\n\\tag{2}\\]\n4 \\(\\mathbb{\\hat{R}} := \\mathbb{R} \\cup \\{\\infty\\}\\) is called the projectively extended real line. Distinguish it from the extended real line \\(\\overline{\\mathbb{R}} := \\mathbb{R} \\cup \\{-\\infty, +\\infty\\}\\).5 The blue curly arrow in Figure 3 indicates that the two points are equivalent. One can be immediately transported to the other side by this arrow.Visually speaking5,\n\n\n\n\n\n\nFigure 3: Visual demonstration of Equation 2\n\n\n\nNote that in Equation 2, \\(D^1/{\\sim}\\) happens to be \\(\\mathbb{S}^1\\) again, which is very special and not general for \\(n &gt; 1\\).\nInstead of let a line intersects the unit circle at the origin (as shown in the first isomorphism in Equation 2), there are different graphical representations of \\(\\mathbb{RP}^1\\):\n\n\n\n\n\n\nFigure 4: Visual demonstration of \\(\\mathbb{RP}^1 \\simeq \\mathbb{\\hat{R}}\\)\n\n\n\nThe horizontal line in Figure 4 does not intersect the blue line. We thus define it belongs to the equivalent class \\(\\{\\infty\\}\\).\n\n3 The projective space for \\(V = \\mathbb{R}^1\\) is too trivial, since everything in \\(\\mathbb{R}\\) is in one equivalence class. Therefore, \\(\\mathbb{RP}^0 = \\{e\\}\\).\n2.2 Real Projective plane \\(\\mathbb{RP}^2\\)\nLet \\(V = \\mathbb{R}^3\\), then: \\[\n\\mathbb{RP}^2 \\simeq \\frac{\\mathbb{S}^2}{\\mathbb{Z}_2} \\simeq \\frac{H^2}{\\sim} \\simeq \\frac{D^2}{\\sim}.\n\\tag{3}\\]\nVisually speaking,\n\n\n\n\n\n\nFigure 5: Visual demonstration of Equation 3\n\n\n\nNote that we cannot glue the opposite points on \\(H^2\\) nor \\(D^2\\) in \\(\\mathbb{R}^3\\) without a self-intersection. So we ended up at \\(D^2/{\\sim}\\). This structure is often expressed using fundamental polygon. Figure 6 [1] is what you get if you force to glue the opposite points on the equator of \\(H^2\\) together.\n\n\n\n\n\n\nFigure 6: \\(H^2/{\\sim}\\) immersed as a cross-cap in \\(\\mathbb{R}^3\\)\n\n\n\nInstead of let a line intersects the unit sphere at the origin (as shown in the first isomorphism in Equation 3), there are a different graphical representation of \\(\\mathbb{RP}^2\\):\n\n\n\n\n\n\nFigure 7: Infinity in \\(\\mathbb{RP}^2\\) is not unique\n\n\n\nThe lines in the \\(xy\\) plane in Figure 7 do not intersect the blue plane. We thus define them to “intersect with the circle at infinity”. The right figure of Figure 7 is NOT true since there is only one infinity, so it cannot tell the difference of the lines in the \\(xy\\) plane. So notably, \\[\n\\begin{aligned}\n\\mathbb{RP}^2 &\\simeq \\mathbb{R}^2 \\cup \\{\\text{circle at infinity}\\} \\\\\n&\\not\\simeq \\mathbb{R}^2 \\cup \\{\\infty\\}.\n\\end{aligned}\n\\]\n\n\n2.3 Real Projective space \\(\\mathbb{RP}^3\\)\nLet \\(V = \\mathbb{R}^4\\), one could prove that Equation 1 is still symbolically true: \\[\n\\mathbb{RP}^3 \\simeq \\frac{\\mathbb{S}^3}{\\mathbb{Z}_2} \\simeq \\frac{H^3}{\\sim} \\simeq \\frac{D^3}{\\sim}.\n\\tag{4}\\]\nHowever this time, the only object in Equation 4 that can be visualized is \\(D^3/{\\sim}\\):\n\n\n\n\n\n\nFigure 8: Every point on this solid ball (with antipodal points glued) represents an element in \\(\\mathbb{RP}^3\\)\n\n\n\n\n\n\n\n\n\n\n\\(\\mathbb{RP}^3, \\mathbb{S}^3, SO(3), SU(2)\\) and the unit quaternions \\(U(\\mathbb{H})\\)\n\n\n\n\n\nTheir relations are: \\[\n\\boxed{\n\\text{Spin}(3) \\simeq SU(2) \\simeq \\mathbb{S}^3 \\simeq U(\\mathbb{H}) \\overset{2:1} \\twoheadrightarrow \\mathbb{RP}^3 \\simeq SO(3).\n}\n\\]\n\n\\(SU(2) \\simeq \\mathbb{S}^3\\): Rotation in \\(\\mathbb{C}^2\\) sits bijectively on the surface of the 3-sphere \\(S^3\\).\n\n\n\n\n\n\n\n\nProof 1\n\n\n\n\n\nAn element in \\(SU(2)\\) has the form: \\[\nU = \\begin{pmatrix} \\alpha & \\gamma \\\\ \\beta & \\delta \\\\\\end{pmatrix} \\in SU(2)\n\\] with constraints: \\[\nU^H = U^{-1}, \\det U = 1.\n\\] Therefore, \\[\n\\begin{pmatrix} \\bar{\\alpha} & \\bar{\\beta} \\\\ \\bar{\\gamma} & \\bar{\\delta} \\\\\\end{pmatrix}\n=\n\\frac{1}{\\det U} \\begin{pmatrix} \\delta & -\\gamma \\\\ -\\beta & \\alpha \\\\\\end{pmatrix}\n=\n\\begin{pmatrix} \\delta & -\\gamma \\\\ -\\beta & \\alpha \\\\\\end{pmatrix}.\n\\] Thus, \\(U\\) must look like: \\[\n\\begin{align*}\n& U = \\begin{pmatrix} \\alpha & -\\beta \\\\ \\beta & \\bar{\\alpha} \\\\\\end{pmatrix}, \\text{ with } \\det U = 1 \\\\\n\\implies\\quad & \\alpha \\bar{\\alpha} + \\beta \\bar{\\beta} = 1 \\\\\n\\implies\\quad & |\\alpha|^2 + |\\beta|^2 = 1 \\\\\n\\implies\\quad & |a + bi|^2 + |c + di|^2 = 1 \\\\\n\\implies\\quad & a^2 + b^2 + c^2 + d^2 = 1.\n\\end{align*}\n\\] So, \\[\n\\forall U \\in SU(2), U \\in \\mathbb{S}^3.\n\\]\n\n\n\n\n\n\\(\\mathbb{S}^3 \\simeq U(\\mathbb{H})\\): Unit quaternions live on the 3-sphere.\n\n\n\n\n\n\n\n\nProof 2\n\n\n\n\n\nThis is easy to see from the definition of unit quaternions: \\[\n\\begin{aligned}\nU(\\mathbb{H}) &:= \\{ q \\in \\mathbb{H} : |q| = 1 \\} \\\\\n&\\simeq \\{ (a, b, c, d) \\in \\mathbb{R}^4 : a^2 + b^2 + c^2 + d^2 = 1 \\} \\\\\n&=: \\mathbb{S}^3\n\\end{aligned}\n\\] where \\(q = a + b\\mathbf{i} + c \\mathbf{j} + d \\mathbf{k}\\).\n\n\n\n\n\n\\(\\mathbb{RP}^3 \\simeq SO(3)\\): If you look around in \\(\\mathbb{R}^4\\), what you see is rotations in \\(\\mathbb{R}^3\\)!\n\n\n\n\n\n\n\n\nProof 3 (Not rigorous)\n\n\n\n\n\nAn element \\(R \\in SO(3)\\) is specified by the rotation axis and the rotation angle. We could encode these two information by a single vector in a solid ball of radius \\(\\pi\\), where the length of \\(V\\) is the rotation angle and the direction of \\(V\\) is the rotation axis. However, we soon realize that antipodal points on the surface of \\(D^3\\) represent the same rotation since rotating by \\(\\pi\\) does not care about the rotation direction. So we end up with the quotient space \\(D^3/{\\sim}\\) (shown in Figure 9).\n\n\n\n\n\n\nFigure 9: How elements in \\(SO(3)\\) live in \\(D^3/{\\sim}\\)\n\n\n\nBut Figure 9 is also the space of \\(\\mathbb{RP}^3\\), so we get: \\[\n\\mathbb{RP}^3 \\simeq SO(3).\n\\]\n\n\n\n\n\n\\(\\mathbb{S}^3 \\overset{2:1}{\\twoheadrightarrow} SO(3)\\): A rotation in \\(\\mathbb{R}^3\\) is represented by two points on the 3-sphere.\n\n\n\n\n\n\n\n\nProof 4\n\n\n\n\n\nThis is easy since we know: \\[\n\\mathbb{S}^3 \\overset{2:1}{\\twoheadrightarrow} \\frac{\\mathbb{S}^3}{\\mathbb{Z}_2},\n\\] and Equation 4 gives: \\[\n\\mathbb{RP}^3 \\simeq \\frac{\\mathbb{S}^3}{\\mathbb{Z}_2}.\n\\] We’ve just shown: \\[\n\\mathbb{RP}^3 \\simeq SO(3).\n\\]\n\n\n\n\n\n\\(\\text{Spin}(3) \\simeq \\mathbb{S}^3\\): Spin group double covers the rotation group.\n\n\n\n\n\n\n\n\nProof 5\n\n\n\n\n\n\\(\\text{Spin}(3)\\) could be defined to be the universal cover of \\(SO(3)\\), which is \\(\\mathbb{S}^3\\)."
  },
  {
    "objectID": "posts/projective-space/index.html#complex-projective-space-mathbbcpn",
    "href": "posts/projective-space/index.html#complex-projective-space-mathbbcpn",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "3 Complex Projective Space \\(\\mathbb{CP}^n\\)",
    "text": "3 Complex Projective Space \\(\\mathbb{CP}^n\\)\nWe don’t have a formula like Equation 1 for \\(\\mathbb{CP}^n\\) by the way. We will only focus on one case where \\(V = \\mathbb{C}^2\\).\n\n3.1 Complex projective line6 \\(\\mathbb{CP}^1\\)\nLet \\(V = \\mathbb{C}^2\\). Although it’s impossible to have a mental picture of \\(\\mathbb{C}^2\\), we could have a legit imagination for \\(\\mathbb{CP}^1\\) using homogeneous coordinates: \\[\n\\mathbb{C}^2 - \\{0\\} \\ni \\begin{pmatrix} z_1 \\\\ z_2 \\\\\\end{pmatrix}\n\\xmapsto{\\pi} \\left[\\frac{z_1}{z_2} : 1\\right]\n\\equiv \\left[a+bi : 1\\right]\n\\simeq \\mathbb{C}.\n\\tag{5}\\]\nAccording to Equation 5, one would need one single complex number \\(a+bi\\) to specify an element in \\(\\mathbb{CP}^1\\). Does it implies that \\(\\mathbb{CP}^1\\) is just the complex line7? No! We missed the case where \\(z_2 = 0\\)! Similar to Section 2.1, we define the line \\(\\begin{pmatrix} z_1 \\\\ 0 \\\\\\end{pmatrix} \\in \\mathbb{C}^2 - \\{0\\}\\) belongs to the equivalence class denoted by the symbol \\(\\infty\\): \\[\n\\begin{pmatrix} z_1 \\\\ 0 \\\\\\end{pmatrix}\n:\\xmapsto{\\pi} \\left[1 : 0\\right]\n\\equiv \\infty\n\\]\n7 \\(\\mathbb{C}\\) has different dimension as a real or complex vector space: \\[\\operatorname{dim}_{\\mathbb{R}} \\mathbb{C} = 2, \\operatorname{dim}_{\\mathbb{C}} \\mathbb{C} = 1.\\] We consider \\(\\mathbb{C}\\) as a complex vector space here, so we call it the complex line instead of the complex plane.Therefore, we would need one complex number plus only one extra symbol \\(\\infty\\) (together called the projectively extended complex number \\(\\mathbb{\\hat{C}}\\)) to specify an element in \\(\\mathbb{CP}^1\\): \\[\n\\mathbb{CP}^1 \\simeq \\mathbb{C} \\cup \\{\\infty\\} \\equiv \\mathbb{\\hat{C}}.\n\\]\nWe could also put a 2-sphere across or above \\(\\mathbb{\\hat{C}}\\) (as shown in Figure 10) and construct a bijective correspondence (called the Stereographic projection) between the points on the sphere and the points on \\(\\mathbb{\\hat{C}}\\). This sphere is a compact, connected, 1-dimensional complex manifold, called the Riemann sphere. We have the isomorphism: \\[\n\\mathbb{CP}^1 \\simeq \\mathbb{S}^2.\n\\]\n\n\n\n\n\n\nFigure 10: Two ways of stereographic projection both show that \\(\\mathbb{CP}^1 \\simeq \\mathbb{S}^2\\)\n\n\n\n\n6 The projective space for \\(V = \\mathbb{C}^1\\) is too trivial, since everything in \\(\\mathbb{C}\\) is in one equivalence class. Therefore, \\(\\mathbb{CP}^0 = \\{e\\}\\)."
  },
  {
    "objectID": "posts/projective-space/index.html#homography",
    "href": "posts/projective-space/index.html#homography",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "4 Homography",
    "text": "4 Homography\nWhenever mathematicians define a new object, they will soon talk about the morphisms between them, i.e., the mappings that preserve the structures of the objects. We are interested specifically in bijective morphisms between projective spaces, which are called homography. Just like the general linear group \\(\\text{GL}(V)\\), all homographies form a group called the projective linear group \\(\\text{PGL}(V)\\).\n\nHomography is an isomorphism between projective spaces induced by bijective linear transformations of vector spaces. \\[\\text{PGL}(V) \\equiv \\operatorname{Aut}(\\mathbb{P}(V)).\\]\n\nThe canonical projection \\(\\pi\\) in Section 1.3 not only project vector spaces but also the linear transformations between vector spaces. So it could be viewed as a functor from the category of vector spaces (v.s.) to the category of projective spaces (p.s.):\n\n\n\n\n\n\nFigure 11: Canonical projection \\(\\pi\\) as a functor\n\n\n\nWe first give two examples of homography in the case of \\(V \\in \\{\\mathbb{R}^2, \\mathbb{C}^2\\}\\) before dealing with the case of abstract \\(V\\).\n\n4.1 Homography on \\(\\mathbb{RP}^1\\)\nLet \\(V = \\mathbb{R}^2, A \\in \\text{GL}(V)\\), what is \\(A\\) under the functor \\(\\pi\\)?\n\n\n\n\n\n\nFigure 12: Homography on \\(\\mathbb{RP}^1\\)\n\n\n\n\\(A\\) could be represented by a \\(2 \\times 2\\) non-singular matrix multiplied by a non-zero vector \\(v\\): \\[\n\\begin{aligned}\nA: \\mathbb{R}^2 &\\xrightarrow[]{\\sim} \\mathbb{R}^2 \\\\\n\\begin{pmatrix} x_0 \\\\ y_0 \\\\\\end{pmatrix}\n&\\mapsto\n\\begin{pmatrix} a & c \\\\ b & d \\\\\\end{pmatrix}\n\\begin{pmatrix} x_0 \\\\ y_0 \\\\\\end{pmatrix}\\\\\n\\begin{pmatrix} x \\\\ 1 \\\\\\end{pmatrix}\n&\\mapsto\n\\begin{pmatrix} a & c \\\\ b & d \\\\\\end{pmatrix}\n\\begin{pmatrix} x \\\\ 1 \\\\\\end{pmatrix}\n=\n\\begin{pmatrix} ax + c \\\\ bx + d \\\\\\end{pmatrix}\n\\end{aligned}\n\\] where \\(x \\in \\mathbb{\\hat{R}}\\), \\(x_0, y_0, a, b, c, d \\in \\mathbb{R}\\) and \\(ad-bc \\neq 0\\). By definition, \\(\\pi(A)\\) should map the equivalence class \\([x : 1]\\) to \\([ax + c : bx + d]\\): \\[\n\\begin{aligned}\n\\pi(A): \\mathbb{RP}^1 &\\xrightarrow[]{\\sim} \\mathbb{RP}^1 \\\\\n[x : 1] &\\mapsto \\left[\\frac{ax+c}{bx+d} : 1\\right] \\\\\n\\end{aligned}\n\\tag{6}\\]\nNote that \\(\\pi(A)\\) maps \\(\\infty\\) to \\(\\frac{a}{b}\\).\n\n\n4.2 Möbius transformations – Homography on \\(\\mathbb{CP}^1\\)\n\nHomographies on \\(\\mathbb{CP}^1\\) are called Möbius transformations. The object \\(\\text{PGL}(\\mathbb{C}^2)\\) is called the Möbius group.\n\nLet \\(V = \\mathbb{C}^2, A \\in \\text{GL}(V)\\). We could simply write Equation 6 as its complex version: \\[\n\\begin{aligned}\n\\pi(A): \\mathbb{CP}^1 &\\xrightarrow[]{\\sim} \\mathbb{CP}^1 \\\\\n[z : 1] &\\mapsto \\left[\\frac{az+c}{bz+d} : 1\\right] \\\\\n\\end{aligned}\n\\] where \\(z \\in \\mathbb{\\hat{C}}\\), \\(a, b, c, d \\in \\mathbb{C}\\) and \\(ad-bc \\neq 0\\). Also, \\(\\pi(A)\\) maps \\(\\infty\\) to \\(\\frac{a}{b}\\).\nThere is an astounding fact [2] that the elements in the Möbius group correspond bijectively to the rigid motions of the Riemann sphere.\n\n\n\n\n\n\nFigure 13: Möbius transformations are rigid motions of the Riemann sphere [3]\n\n\n\nHowever, this does NOT mean that \\(\\text{PGL}(\\mathbb{C}^2) \\simeq SO(3)\\) as groups. In fact, one can show that the Möbius group is isomorphic to the so-called Lorenz group: \\[\n\\text{PGL}(\\mathbb{C}^2) \\simeq SO^+(1, 3).\n\\]"
  },
  {
    "objectID": "posts/projective-space/index.html#projective-linear-group",
    "href": "posts/projective-space/index.html#projective-linear-group",
    "title": "Basics of Projective Space and Projective Linear Group 射影空间与射影线性群",
    "section": "5 Projective Linear group",
    "text": "5 Projective Linear group\nThe projective space is a classification of vectors in a vector space. Similarly, we will define the projective linear group \\(\\text{PGL}(V)\\) as a classification of isomorphisms in the general linear group \\(\\text{GL}(V)\\) in this section.\n\n5.1 Definition\nIt’s obvious that some linear transformations are equivalent when we view them projectively. For example in Figure 14, a matrix \\(A \\in \\text{GL}(\\mathbb{R}^2)\\) looks the same as its scalar multiples \\(kA\\) for \\(k \\in \\mathbb{R}^*\\) under the functor \\(\\pi\\):\n\n\n\n\n\n\nFigure 14: A matrix is equivalent to its scalar multiples projectively\n\n\n\nIt turns out its converse is also true: All equivalent matrices are scalar multiples of each other! We have:\n\n\n\n\n\n\n\nEquivalent matrices \\(\\iff\\) Scalar multiples\n\n\n\n\nTheorem 1 Let \\(V\\) be a vector space over field \\(\\mathbb{F}\\) and \\(A, B \\in \\text{GL}(V)\\), then: \\[\n\\pi(A) = \\pi(B) \\iff \\exists \\lambda \\in \\mathbb{F}^*, A = \\lambda B.\n\\]\n\n\n\n\n\n\n\n\n\n\n\nProof of Theorem 1\n\n\n\n\n\n\\((\\impliedby)\\) is trivial. We only show the direction \\((\\implies)\\) here:\n\\(\\pi(A) = \\pi(B)\\) implies: \\[\n\\forall v \\in V - \\{0\\}, \\pi(Av) = \\pi(Bv)\n\\]\nBy the definition of projective space, \\(Av\\) and \\(Bv\\) must be scalar multiple \\(\\lambda\\) of each other and that scalar may depend on \\(v\\) (We will show that \\(\\lambda\\) is actually independent of \\(v\\) later): \\[\n\\exists \\lambda(v) \\in \\mathbb{F}^*, Av = \\lambda(v)Bv.\n\\tag{7}\\]\nPick a basis \\(\\{e_1, e_2, \\cdots, e_n\\}\\) of \\(V\\) and take \\(v\\) to be each of the basis: \\[\nAe_i = \\lambda(e_i)Be_i, \\forall i = 1, 2, \\cdots, n.\n\\tag{8}\\]\n\\(\\forall v \\in V\\) is a linear combination of the basis: \\(v = \\sum \\alpha_i e_i\\). Multiply \\(A\\) both sides and from Equation 8, we have: \\[\n\\begin{aligned}\nAv &= \\sum \\alpha_i Ae_i = \\sum \\alpha_i \\underbrace{\\lambda(e_i) Be_i}_{Ae_i} \\\\\n&= \\sum \\lambda(e_i) \\alpha_i Be_i\n\\end{aligned}\n\\tag{9}\\]\nBut Equation 7 tells us: \\[\nAv = \\lambda(v)Bv = \\lambda(v) \\sum \\alpha_i Be_i.\n\\tag{10}\\]\nCompare Equation 9 and Equation 10, all \\(\\lambda\\) s must be the same: \\[\n\\lambda(v) = \\lambda(e_1) = \\lambda(e_2) = \\cdots = \\lambda(e_n) \\equiv \\lambda = \\text{const}.\n\\]\nTherefore, Equation 7 implies: \\[\n\\forall v \\in V - \\{0\\}, Av = \\lambda Bv \\implies A = \\lambda B.\n\\]\n\n\n\n\nWe can define the projective linear group \\(\\text{PGL}(V)\\) according to the classification of matrices “up to scalar”:\n\n\n\n\n\n\n\nDefinition of \\(\\text{PGL}(V)\\)\n\n\n\n\nDefinition 2 Let \\(V\\) be a vector space over field \\(\\mathbb{F}\\), then the projective linear group \\(\\text{PGL}(V)\\) is defined as: \\[\n\\text{PGL}(V) := \\frac{\\text{GL}(V)}{\\mathbb{F}^* I},\n\\] where \\(I\\) is the identity in \\(\\text{GL}(V)\\).\n\n\n\n\n\n\n\n\n\n\n\n\\(\\text{PGL}(V)\\) as the inner automorphism group of \\(\\text{GL}(V)\\)\n\n\n\n\n\nWe know from here that the center of \\(\\text{GL}(V)\\) is exactly \\(\\mathbb{F}^* I\\): \\[\n\\text{ZGL}(V) \\equiv Z(\\text{GL}(V)) = \\mathbb{F}^* I.\n\\]\nWe know from this post that for any group \\(G\\), \\[\n1 \\xrightarrow[]{} Z(G) \\hookrightarrow G \\twoheadrightarrow \\operatorname{Inn}(G) \\xrightarrow[]{} 1,\n\\] where \\(\\text{Inn}(G)\\) = \\(G/{Z(G)}\\). Let \\(G = \\text{GL}(V)\\), then we have: \\[\n1 \\xrightarrow[]{} \\text{ZGL}(V) \\hookrightarrow \\text{GL}(V) \\twoheadrightarrow \\operatorname{PGL}(V) \\xrightarrow[]{} 1,\n\\] where \\[\n\\text{Inn}(\\text{GL}(V)) = \\frac{\\text{GL}(V)}{\\text{ZGL}(V)} = \\text{PGL}(V)\n\\]\n\n\n\n\n\n\n5.2 Grid of short exact sequence about projective linear groups\nThe general linear group \\(\\text{GL}(V)\\), special linear group \\(\\text{SL}(V)\\), their centers \\(\\text{ZGL}(V)\\) and \\(\\text{ZSL}(V)\\), and their projective linear groups \\(\\text{PGL}(V)\\) and \\(\\text{PSL}(V)\\) form the following grid of short exact sequence:\n\n\n\n\n\n\n\n\nFigure 15\n\n\n\nEach row and column in Figure 15 is a short exact sequence8. Everything would be clear if you stare at the cartoon in Figure 16 for a moment.\n8 \\((\\mathbb{C}^{\\times})^n\\) here means \\(\\{z^n: z \\in \\mathbb{C}^{\\times }\\}\\), not \\(\\mathbb{C}^{\\times} \\times \\cdots \\times \\mathbb{C}^{\\times}\\). \\(\\mathbb{C}^{\\times}\\) is the same as \\(\\mathbb{C}^*\\), which represents the multiplicative group of non-zero complex numbers.\n\n\n\n\n\nFigure 16: Illustration of the commutative diagram in Figure 15"
  },
  {
    "objectID": "posts/side-ios/index.html",
    "href": "posts/side-ios/index.html",
    "title": "在 ios 下载第三方应用",
    "section": "",
    "text": "CLAIM: 更新(2-22-2025), SideStore在iPhone上会闪退!! 以下操作无法保证稳定运行!"
  },
  {
    "objectID": "posts/side-ios/index.html#说明",
    "href": "posts/side-ios/index.html#说明",
    "title": "在 ios 下载第三方应用",
    "section": "1 说明",
    "text": "1 说明\n下面的操作已在欧版iphone 16 pro ios 18.1上测试成功，但我个人感觉这个操作跟欧版iPhone没有什么关系，其他版本的iPhone大概率应该也可以，但是不保证。\n本文参考链接：\n\nlist of tools\nsideloadly\nsidestore"
  },
  {
    "objectID": "posts/side-ios/index.html#what-is-side-downloading",
    "href": "posts/side-ios/index.html#what-is-side-downloading",
    "title": "在 ios 下载第三方应用",
    "section": "2 What is side-downloading",
    "text": "2 What is side-downloading\nios系统不像安卓系统，只能在iOS store里面下载app。为了打破这点，有两种方法：越狱(jail breaking)或使用side-downloading。本文介绍后者。\nSide-downloading 指通过不越狱的方法将 iOS 应用程序直接安装到 Apple 设备上，而不需要通过 App Store。有很多工具可以实现这点，具体参考list of tools。\n其中 Scarlet 和 Signulous 的方法我没试过，另外三种 AltStore 需要你手机是欧版的、app地区是欧洲、你人也要在欧洲，所以没戏。最后两种 Sideloadly 和 Sidestore，后者下载软件需要连电脑，并且一般 side-downloading 的软件是要“续约(renew)”的，一般每周都要，而且 Sideloadly 这种方法还要连电脑 renew，不方便。所以我们采用最后一种 SideStore（只需要第一次的时候连电脑，后面在手机上下载和 renew）。当然我们也会用 sideloadly 下几个看看，毕竟这种比较简单。"
  },
  {
    "objectID": "posts/side-ios/index.html#sideloadly",
    "href": "posts/side-ios/index.html#sideloadly",
    "title": "在 ios 下载第三方应用",
    "section": "3 Sideloadly",
    "text": "3 Sideloadly\n在 windows 或 mac 上下载安装 sideloadly，图标如下：\n\n（可能要在 settings 中授权这个应用）\n这个只是个将软件下载到 iPhone 中的工具，而软件在哪里获取呢？我们需要 .ipa 后缀的文件，可以在这里搜索你要的软件，如果没有就在google上搜，最好注意下安全性问题。\n然后打开 sideloadly, 左侧选择你的 .ipa 文件，iDevice选择你的 iPhone（要用线将手机连到mac），输入你的Apple id（要记住这个ID，以后都用这个）和密码，点击start。（start 左边那个按钮是用来 renew 的，将来软件过期的时候就用同样的操作来 renew）"
  },
  {
    "objectID": "posts/side-ios/index.html#sidestore",
    "href": "posts/side-ios/index.html#sidestore",
    "title": "在 ios 下载第三方应用",
    "section": "4 Sidestore",
    "text": "4 Sidestore\n直接按照这里的指示下载安装即可：sidestore。\n其中有一步要产生一个配对文件，记得要将mac连上手机后再运行。如果mac上一直运行不出来，在 terminal 当前文件夹中输入：\nsudo ./jitterbugpair\n输入密码即可生成"
  },
  {
    "objectID": "posts/symmetry/index.html",
    "href": "posts/symmetry/index.html",
    "title": "What is symmetry? 什么是对称性?",
    "section": "",
    "text": "You may have noticed these concepts:\n\n\n\n\n\n\n\n\nEven/odd complex-valued function\n\n\n\n\nDefinition 1 A function \\(f: \\mathbb{R}^n \\to \\mathbb{C}\\) is called\n\nconjugate symmetric \\(:\\iff f(-\\mathbf{v}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nconjugate anti-symmetric \\(:\\iff -f(-\\mathbf{v}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\)\n\n\n\n\n\n\n\n\n\n\nSpecial cases of Definition 1\n\n\n\n\n\n\n\n\n\nEven/odd real function\n\n\n\n\nDefinition 2 A function \\(f: \\mathbb{R} \\to \\mathbb{R}\\) is called\n\neven \\(:\\iff f(-x) = f(x), \\forall x \\in \\mathbb{R}\\),\nodd \\(:\\iff -f(-x) = f(x), \\forall x \\in \\mathbb{R}\\)\n\n\n\n\n\n\n\n\n\n\nEven/odd multivariate real function\n\n\n\n\nDefinition 3 A function \\(f: \\mathbb{R}^n \\to \\mathbb{R}\\) is called\n\neven \\(:\\iff f(-\\mathbf{v}) = f(\\mathbf{v}), \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nodd \\(:\\iff -f(-\\mathbf{v}) = f(\\mathbf{v}), \\forall \\mathbf{v} \\in \\mathbb{R}^n\\)\n\n\n\n\n\n\n\n\n\n\n\n\nDecomposition Property\n\n\n\n\nTheorem 1 Any function \\(f: \\mathbb{R}^n \\to \\mathbb{C}\\) can be decomposed1 into a symmetric part \\(Sf\\) and a anti-symmetric part \\(Af\\): \\[\nf = \\frac{Sf + Af}{2},\n\\] \\[\nSf := f(\\mathbf{v})+\\overline{f(-\\mathbf{v})},\n\\] \\[\nAf := f(\\mathbf{v})-\\overline{f(-\\mathbf{v})}.\n\\]\nIn fancier language, \\[\n\\mathbb{C}^{\\mathbb{R}^n} = S\\mathbb{C}^{\\mathbb{R}^n} \\oplus A\\mathbb{C}^{\\mathbb{R}^n}.\n\\]\n\n\n\n1 The reason why I do NOT define \\(Sf = (f(\\mathbf{v})+\\overline{f(-\\mathbf{v})})/2\\) will be clear later.\n\n\n\n\n\nNote\n\n\n\nAs a special case of Theorem 1, any function \\(f: \\mathbb{R} \\to \\mathbb{R}\\) is a sum of an even and an odd function: \\[\nf = \\frac{(f(x) + f(-x))+(f(x) - f(-x))}{2}.\n\\]\n\n\n\n\n\nThere are also multiplicative version of Definition 1 and Theorem 1:\n\n\n\n\n\n\nMultiplicative version of Definition 1\n\n\n\n\nDefinition 4 A function \\(f: (\\mathbb{R}^{\\times})^n \\to \\mathbb{C}\\) is called2\n\nMultiplicative conjugate symmetric \\(:\\iff f(\\frac{1}{\\mathbf{v}}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nconjugate anti-symmetric \\(:\\iff \\frac{1}{f(\\frac{1}{\\mathbf{v}})} = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n,\\)\n\nwhere \\(\\frac{1}{\\mathbf{v}}\\) is another vector in \\((\\mathbb{R}^{\\times})^n\\) whose components are the reciprocal of those of \\(\\mathbf{v}\\).\n\n\n\n2 \\(\\mathbb{R}^{\\times} := \\mathbb{R} \\backslash \\{0\\}\\).\n\n\n\n\n\nMultiplicative version of Decomposition Property\n\n\n\n\nTheorem 2 Any function \\(f: (\\mathbb{R}^{\\times})^n \\to \\mathbb{C}\\) can be decomposed into a symmetric part \\(S^{\\bullet}f\\) and a anti-symmetric part \\(A^{\\bullet}f\\): \\[\nf = \\sqrt{S^{\\bullet}f \\cdot A^{\\bullet}f},\n\\] \\[\nS^{\\bullet}f := f(\\mathbf{v}) \\cdot \\overline{f(\\mathbf{v}^{-1})},\n\\] \\[\nA^{\\bullet}f := \\frac{f(\\mathbf{v})}{\\overline{f(\\mathbf{v}^{-1})}}.\n\\]\n\n\n\n\n\n\n\n\n\n\n\n\nSymmetric/Alternating Tensor\n\n\n\n\nDefinition 5 A symmetric rank-\\(k\\) tensor \\(f: V^k \\to \\mathbb{R}\\) is symmetric iff \\[\nf(v_{\\sigma(1)}, \\dots, v_{\\sigma(k)}) = f(v_1, \\dots, v_k)\n\\] for all permutations \\(\\sigma \\in S_k\\).\nIt is alternating iff \\[\nf(v_{\\sigma(1)}, \\dots, v_{\\sigma(k)}) = (\\operatorname{sgn} \\sigma) f(v_1, \\dots, v_k)\n\\] for all permutations \\(\\sigma \\in S_k\\).\n\n\n\nThough generally we cannot decompose an arbitrary tensor into a symmetric and alternating part, we could build them by introducing two operators:\n\n\n\n\n\n\nSymmetric/Alternating Operator for Tensors\n\n\n\n\nDefinition 6 Given \\(\\forall f: V^k \\to \\mathbb{R}\\), the operator \\(S\\) and \\(A\\) defined below always give a symmetric and alternating tensor3: \\[\nSf := \\sum_{\\sigma \\in S_k} \\sigma f,\n\\] \\[\nAf := \\sum_{\\sigma \\in S_k} \\operatorname{sgn}(\\sigma) \\sigma f.\n\\]\n\n\n\n3 \\(\\sigma f\\) is defined by \\((\\sigma f)(v_1, v_2, \\ldots, v_k) := f(v_{\\sigma(1)}, v_{\\sigma(2)}, \\ldots, v_{\\sigma(k)}).\\)\n\n\n\n\n\n\n\n\nSelf-adjoint and Skew-adjoint Matrices\n\n\n\n\nDefinition 7 A linear operator \\(\\phi \\in \\operatorname{Hom}(V)\\) is called self-adjoint iff \\[\n\\phi^H = \\phi,\n\\] and skew-adjoint iff \\[\n\\phi^H = -\\phi.\n\\]"
  },
  {
    "objectID": "posts/symmetry/index.html#sec-sec1",
    "href": "posts/symmetry/index.html#sec-sec1",
    "title": "What is symmetry? 什么是对称性?",
    "section": "",
    "text": "You may have noticed these concepts:\n\n\n\n\n\n\n\n\nEven/odd complex-valued function\n\n\n\n\nDefinition 1 A function \\(f: \\mathbb{R}^n \\to \\mathbb{C}\\) is called\n\nconjugate symmetric \\(:\\iff f(-\\mathbf{v}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nconjugate anti-symmetric \\(:\\iff -f(-\\mathbf{v}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\)\n\n\n\n\n\n\n\n\n\n\nSpecial cases of Definition 1\n\n\n\n\n\n\n\n\n\nEven/odd real function\n\n\n\n\nDefinition 2 A function \\(f: \\mathbb{R} \\to \\mathbb{R}\\) is called\n\neven \\(:\\iff f(-x) = f(x), \\forall x \\in \\mathbb{R}\\),\nodd \\(:\\iff -f(-x) = f(x), \\forall x \\in \\mathbb{R}\\)\n\n\n\n\n\n\n\n\n\n\nEven/odd multivariate real function\n\n\n\n\nDefinition 3 A function \\(f: \\mathbb{R}^n \\to \\mathbb{R}\\) is called\n\neven \\(:\\iff f(-\\mathbf{v}) = f(\\mathbf{v}), \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nodd \\(:\\iff -f(-\\mathbf{v}) = f(\\mathbf{v}), \\forall \\mathbf{v} \\in \\mathbb{R}^n\\)\n\n\n\n\n\n\n\n\n\n\n\n\nDecomposition Property\n\n\n\n\nTheorem 1 Any function \\(f: \\mathbb{R}^n \\to \\mathbb{C}\\) can be decomposed1 into a symmetric part \\(Sf\\) and a anti-symmetric part \\(Af\\): \\[\nf = \\frac{Sf + Af}{2},\n\\] \\[\nSf := f(\\mathbf{v})+\\overline{f(-\\mathbf{v})},\n\\] \\[\nAf := f(\\mathbf{v})-\\overline{f(-\\mathbf{v})}.\n\\]\nIn fancier language, \\[\n\\mathbb{C}^{\\mathbb{R}^n} = S\\mathbb{C}^{\\mathbb{R}^n} \\oplus A\\mathbb{C}^{\\mathbb{R}^n}.\n\\]\n\n\n\n1 The reason why I do NOT define \\(Sf = (f(\\mathbf{v})+\\overline{f(-\\mathbf{v})})/2\\) will be clear later.\n\n\n\n\n\nNote\n\n\n\nAs a special case of Theorem 1, any function \\(f: \\mathbb{R} \\to \\mathbb{R}\\) is a sum of an even and an odd function: \\[\nf = \\frac{(f(x) + f(-x))+(f(x) - f(-x))}{2}.\n\\]\n\n\n\n\n\nThere are also multiplicative version of Definition 1 and Theorem 1:\n\n\n\n\n\n\nMultiplicative version of Definition 1\n\n\n\n\nDefinition 4 A function \\(f: (\\mathbb{R}^{\\times})^n \\to \\mathbb{C}\\) is called2\n\nMultiplicative conjugate symmetric \\(:\\iff f(\\frac{1}{\\mathbf{v}}) = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n\\),\nconjugate anti-symmetric \\(:\\iff \\frac{1}{f(\\frac{1}{\\mathbf{v}})} = \\overline{f(\\mathbf{v})}, \\forall \\mathbf{v} \\in \\mathbb{R}^n,\\)\n\nwhere \\(\\frac{1}{\\mathbf{v}}\\) is another vector in \\((\\mathbb{R}^{\\times})^n\\) whose components are the reciprocal of those of \\(\\mathbf{v}\\).\n\n\n\n2 \\(\\mathbb{R}^{\\times} := \\mathbb{R} \\backslash \\{0\\}\\).\n\n\n\n\n\nMultiplicative version of Decomposition Property\n\n\n\n\nTheorem 2 Any function \\(f: (\\mathbb{R}^{\\times})^n \\to \\mathbb{C}\\) can be decomposed into a symmetric part \\(S^{\\bullet}f\\) and a anti-symmetric part \\(A^{\\bullet}f\\): \\[\nf = \\sqrt{S^{\\bullet}f \\cdot A^{\\bullet}f},\n\\] \\[\nS^{\\bullet}f := f(\\mathbf{v}) \\cdot \\overline{f(\\mathbf{v}^{-1})},\n\\] \\[\nA^{\\bullet}f := \\frac{f(\\mathbf{v})}{\\overline{f(\\mathbf{v}^{-1})}}.\n\\]\n\n\n\n\n\n\n\n\n\n\n\n\nSymmetric/Alternating Tensor\n\n\n\n\nDefinition 5 A symmetric rank-\\(k\\) tensor \\(f: V^k \\to \\mathbb{R}\\) is symmetric iff \\[\nf(v_{\\sigma(1)}, \\dots, v_{\\sigma(k)}) = f(v_1, \\dots, v_k)\n\\] for all permutations \\(\\sigma \\in S_k\\).\nIt is alternating iff \\[\nf(v_{\\sigma(1)}, \\dots, v_{\\sigma(k)}) = (\\operatorname{sgn} \\sigma) f(v_1, \\dots, v_k)\n\\] for all permutations \\(\\sigma \\in S_k\\).\n\n\n\nThough generally we cannot decompose an arbitrary tensor into a symmetric and alternating part, we could build them by introducing two operators:\n\n\n\n\n\n\nSymmetric/Alternating Operator for Tensors\n\n\n\n\nDefinition 6 Given \\(\\forall f: V^k \\to \\mathbb{R}\\), the operator \\(S\\) and \\(A\\) defined below always give a symmetric and alternating tensor3: \\[\nSf := \\sum_{\\sigma \\in S_k} \\sigma f,\n\\] \\[\nAf := \\sum_{\\sigma \\in S_k} \\operatorname{sgn}(\\sigma) \\sigma f.\n\\]\n\n\n\n3 \\(\\sigma f\\) is defined by \\((\\sigma f)(v_1, v_2, \\ldots, v_k) := f(v_{\\sigma(1)}, v_{\\sigma(2)}, \\ldots, v_{\\sigma(k)}).\\)\n\n\n\n\n\n\n\n\nSelf-adjoint and Skew-adjoint Matrices\n\n\n\n\nDefinition 7 A linear operator \\(\\phi \\in \\operatorname{Hom}(V)\\) is called self-adjoint iff \\[\n\\phi^H = \\phi,\n\\] and skew-adjoint iff \\[\n\\phi^H = -\\phi.\n\\]"
  },
  {
    "objectID": "posts/symmetry/index.html#symmetry-as-group-action",
    "href": "posts/symmetry/index.html#symmetry-as-group-action",
    "title": "What is symmetry? 什么是对称性?",
    "section": "2 Symmetry as Group Action",
    "text": "2 Symmetry as Group Action\n\n2.1 Problem\nIs there any way to unify these seemingly “symmetric” concepts? What kind of mathematical object can be symmetrize and and alternate? When does the object itself expressible by only its symmetrized and and alternated ones?\n\n\n2.2 Important Observation\nThe common thing of the above examples in Section 1 is that the domain of the objects (functions, tensors, matrices4) could be manipulated by some kind of actions:\n4 This is left as an exercise.\n\\(f: \\mathbb{R}^n \\to \\mathbb{C}\\): additive inversion,\n\\(f: (\\mathbb{R}^{\\times})^n \\to \\mathbb{C}\\): multiplicative inversion,\n\\(f: V^k \\to \\mathbb{R}\\): permutation.\n\nThe first two can be viewed as the 2-element group \\(S_2\\) acts on the domain of \\(f\\), where \\(S_2\\) is the group generated by the operation of “taking inverse”: \\[\nS_2 := \\langle\\cdot^{-1}\\rangle = \\{e, \\cdot^{-1}\\},\n\\] or equivalently, the permutation group on two letters: \\[\nS_2 = \\{e, (12)\\}.\n\\]\nTherefore, in the first two cases, we could define a \\(S_2\\)-action: \\[\n(\\sigma f)(\\mathbf{v}) := \\overline{f(\\mathbf{v}^{-1})},\n\\] where \\(\\mathbf{v}^{-1}\\) is either \\(-\\mathbf{v}\\) (additive inverse) or \\(1/\\mathbf{v}\\) (multiplicative inverse).\nTherefore, the definition of the operator \\(S\\) and \\(A\\) in Definition 6 also applies for the first two cases: \\[\nSf\n:= \\sum_{\\sigma \\in S_2} \\sigma f\n= f(\\mathbf{v}) + \\overline{f(-\\mathbf{v})} \\quad (\\text{or } f(\\mathbf{v})\\cdot \\overline{f(-\\mathbf{v})}),\n\\] \\[\nAf\n:= \\sum_{\\sigma \\in S_k} \\operatorname{sgn}(\\sigma) \\sigma f\n= f(\\mathbf{v}) - \\overline{f(-\\mathbf{v})} \\quad (\\text{or } \\frac{f(\\mathbf{v})}{\\overline{f(\\mathbf{v}^{-1})}}).\n\\]\n\n\n2.3 When Decomposable?\nIn the first two cases, \\(f\\) can be expressed purely by \\(Sf\\) and \\(Af\\): \\[\nf = \\frac{Sf + Af}{2} \\quad (\\text{or } \\sqrt{Sf \\cdot Af}),\n\\] which is just the average of them! (Arithmetic average and geometric average respectively)\nBut we don’t have this relationship for tensors, i.e., not every rank \\(k\\) tensor can be purely expressed using \\(Sf\\) and \\(Af\\) – apart from the case when \\(k = 2\\): \\[\nf(v_1, v_2) = \\frac{(f(v_1, v_2)+f(v_2, v_1))+(f(v_1, v_2)-f(v_2, v_1))}{2} = \\frac{Sf + Af}{2}.\n\\]\nWhat happened when \\(k \\ge 3\\)?\nLet \\(f: V^3 \\to \\mathbb{R}\\), we have \\[\nSf = f(v_1, v_2, v_3) + f(v_2, v_3, v_1) + f(v_3, v_1, v_2) + f(v_2, v_1, v_3) + f(v_1, v_3, v_2) + f(v_3, v_2, v_1),\n\\] \\[\nAf = f(v_1, v_2, v_3) + f(v_2, v_3, v_1) + f(v_3, v_1, v_2) - f(v_2, v_1, v_3) - f(v_1, v_3, v_2) - f(v_3, v_2, v_1).\n\\]\n\n\n\nVisualize group action\n\n\nThe result \\[\n\\frac{Sf + Af}{2} = f(v_1, v_2, v_3) + f(v_2, v_3, v_1) + f(v_3, v_1, v_2) = \\sum_{\\sigma \\in A_3} \\sigma f \\neq f,\n\\] where \\(A_3\\) is the alternating group (the group of even permutations) on three letters.\n\n\n2.4 Try Yourself!\n\nExercise 1 (\\(S\\) and \\(A\\) operator for matrices \\(\\phi\\)) Let \\(\\phi \\in \\operatorname{End} (\\mathbb{C}^n)\\), derive the definition of \\(S\\phi\\) and \\(A \\phi\\).\n\n\n\n\n\n\n\nSolution\n\n\n\n\n\n\\[\nS \\phi := \\frac{\\phi + \\phi^H}{2},\n\\] \\[\nA \\phi := \\frac{\\phi - \\phi^H}{2}.\n\\]\nWe also have \\[\n\\phi = \\frac{S \\phi + A \\phi}{2}.\n\\]"
  },
  {
    "objectID": "posts/vector-derivation-relation/index.html",
    "href": "posts/vector-derivation-relation/index.html",
    "title": "Q&A: Basis vectors are exactly the same as partial derivative operator? 为什么向量等价于微分算子?",
    "section": "",
    "text": "In differential geometry, we usually see a vector \\(v\\) is written as: \\[\nv = v^i \\frac{\\partial }{\\partial x^i} \\bigg\\rvert_p.\n\\]\nWhy does a vector naturally relates to partial derivatives?\n\n\n\n\n\n\n\nOne-line Solution\n\n\n\n\n\n\\[\nT_p (\\mathbb{R}^n) \\cong \\text{Der}_p (C^\\infty(\\mathbb{R}^n))\n\\]"
  },
  {
    "objectID": "posts/vector-derivation-relation/index.html#question",
    "href": "posts/vector-derivation-relation/index.html#question",
    "title": "Q&A: Basis vectors are exactly the same as partial derivative operator? 为什么向量等价于微分算子?",
    "section": "",
    "text": "In differential geometry, we usually see a vector \\(v\\) is written as: \\[\nv = v^i \\frac{\\partial }{\\partial x^i} \\bigg\\rvert_p.\n\\]\nWhy does a vector naturally relates to partial derivatives?\n\n\n\n\n\n\n\nOne-line Solution\n\n\n\n\n\n\\[\nT_p (\\mathbb{R}^n) \\cong \\text{Der}_p (C^\\infty(\\mathbb{R}^n))\n\\]"
  },
  {
    "objectID": "posts/vector-derivation-relation/index.html#solution-from-derivative-to-derivation",
    "href": "posts/vector-derivation-relation/index.html#solution-from-derivative-to-derivation",
    "title": "Q&A: Basis vectors are exactly the same as partial derivative operator? 为什么向量等价于微分算子?",
    "section": "2 Solution – From Derivative to Derivation",
    "text": "2 Solution – From Derivative to Derivation\n\n2.1 Directional derivative\nWe know from multivariable calculus that in high dimensions, we could not say the “derivative”, but the directional derivative of a function1. The directional derivative is a measure of how quickly the function value vary when we step a tiny nudge along a vector \\(v\\). Imagine we are at \\(p\\) in \\(\\mathbb{R}^3\\) and temperature is different everywhere. We are curiously about how this temperature field \\(f\\) changes in different directions. we move a tiny proportion2 along \\(v\\) (say \\(\\epsilon = 0.01 \\%\\)) and we feel the temperature changes by \\(\\Delta f = f(p+\\epsilon v)-f(p)\\). So we define the directional derivative of \\(f\\) along \\(v\\) is \\[\nD_{v} f |_p := \\lim_{\\epsilon \\to 0} \\frac{\\Delta f}{\\epsilon}.\n\\]\n1 “Scalar field” in fancier term. A scalar field in \\(\\mathbb{R}^n\\) is a map from \\(\\mathbb{R}^n\\) to \\(\\mathbb{R}\\).2 This is important! We are NOT moving a tiny bit but a tiny proportion, which means the length of \\(v\\) matters. Because if we move \\(0.01 \\%\\) on \\(v\\) and \\(2 v\\), \\(f\\) will vary \\(\\Delta f\\) and \\(2\\Delta f\\) and therefore the directional derivative of \\(f\\) along \\(2v\\) would be doubled! In some books, you will see we force \\(v\\) to be unit length, so we will not have this problem. But for me it’s unnecessary.3 We use upper indices to represent coordinate components and lower indices to represent basis vectors, so Equation 1 in usually notation is just \\[\nD_v f = \\langle \\frac{\\partial f}{\\partial x} \\hat{\\imath} + \\frac{\\partial f}{\\partial y} \\hat{\\jmath} +\\frac{\\partial f}{\\partial z} \\hat{k}, v_1 \\hat{\\imath} + v_2 \\hat{\\jmath} + v_3 \\hat{k} \\rangle.\n\\]It turns out that there is an explicit formula for directional derivatives: \\[\nD_{v} f = \\langle\\nabla f, v\\rangle,\n\\] i.e., the inner product between the gradient of \\(f\\) and \\(v\\). The direction of the \\(\\nabla f\\) is the steepest ascend of \\(f\\) at \\(p\\). In \\(\\mathbb{R}^3\\), this can be written as3 \\[\n\\begin{aligned}\n    D_v f &= \\langle \\frac{\\partial f}{\\partial x^1} e_1 + \\frac{\\partial f}{\\partial x^2} e_2 +\\frac{\\partial f}{\\partial x^3} e_3, v^1 e_1 + v^2 e_2 + v^3 e_3 \\rangle \\\\\n    &= v^1 \\frac{\\partial f}{\\partial x^1} + v^2 \\frac{\\partial f}{\\partial x^2} + v^3 \\frac{\\partial f}{\\partial x^3} \\\\\n    &= \\sum_i v^i \\frac{\\partial f}{\\partial x^i} \\\\\n    &=: v^i \\frac{\\partial f}{\\partial x^i}.\n\\end{aligned}\n\\tag{1}\\]\nThe last step in Equation 1 where we drop the summation notation is a convention called Einstein notation.\nWe could view \\(D_v f\\) as \\(v\\) acts on \\(f\\). Some textbook uses \\(v[f]\\) to represent this action, i.e., \\[\nv[f] := D_v f.\n\\]\n\n\n2.2 Derivation\nWe know a normal derivative satisfy so-called chain rule: \\[\n\\frac{\\mathrm{d}}{\\mathrm{d}x}(fg) = \\frac{\\mathrm{d}f}{\\mathrm{d}x} g + f \\frac{\\mathrm{d}g}{\\mathrm{d}x}.\n\\]\nWe extract this property and define abstractly the derivation operator on an algebra as follows:\n\n\n\n\n\n\n\nDerivation on an Algebra\n\n\n\n\nDefinition 1 Let \\(A\\) be an algebra over field \\(\\mathbb{F}\\), a derivation is a linear map \\(D: A \\to A\\) s.t., \\[\nD(ab) = D(a)b + aD(b).\n\\]\n\n\n\n\nIt’s obvious that every \\(v\\) induces such a derivation on the algebra \\(C^\\infty_p\\) by a map \\(\\phi: v \\mapsto D_v\\). The question is: Does every derivation necessarily induced by a vector?\n\n\n\n\n\n\n\nVectors are Derivations\n\n\n\n\nTheorem 1 The space of all vectors emanating at \\(p\\) is isomorphic to the space of all derivations \\[\nT_p (\\mathbb{R}^n) \\cong \\text{Der}_p (C^\\infty(\\mathbb{R}^n)).\n\\]\n\n\n\n\nIn other words, every possible derivations on the algebra \\(C^\\infty(\\mathbb{R}^n)\\) is some directional derivative along \\(v \\in T_p (\\mathbb{R}^n)\\). Under this isomorphism, the basis vectors \\(e_i\\) is mapped to the partial derivative operator \\(\\frac{\\partial }{\\partial x^i}\\)!\nIn a general manifold \\(M\\), we actually use derivations to define tangent vectors on a manifold4. Because the concept of derivations are just functions that satisfy certain property, which is easy to define. While vectors seem exclusively belongs to Euclidean space. So :\n\n4 Tu’s book is a very good book of differential geometry for beginners, check it out!\n\n\n\n\n\nTangent Vector in a manifold\n\n\n\n\nDefinition 2 A tangent vector at a point \\(p\\) in a manifold \\(M\\) is a derivation at \\(p\\).\n\n\n\n\nThis is common in mathematics. We call this “stereotyping”, ah sorry, “abstraction”. We find two similar concepts (e.g. vectors and directional derivatives) on some object (euclidean space). But one of them (directional derivative) can be easily generalized to another objects (“manifold”). So then Mathematicians use some of its properties back to define itself axiomatically and called it the same name just to confuse people (“tangent vectors”)5. Or invent another name (e.g. topological space) just to be intimidating. Anyway, you will feel comfortable once you get used to them.\n\n\n5 Other examples include topological spaces, groups, \\(\\sigma\\)-algebra, “measurable spaces”, etc. These are just abstraction of open sets, closed stuff, events, volumes, etc."
  },
  {
    "objectID": "posts/yopo/index.html",
    "href": "posts/yopo/index.html",
    "title": "YOPO – You Only Pick Once",
    "section": "",
    "text": "The aim is to implement a simple yet effective object tracking algorithm that does not rely on neural networks. We are given several frames from a video of a street, the task is to first pick a car from the first frame, then track the car in the subsequent frames."
  },
  {
    "objectID": "posts/yopo/index.html#objective",
    "href": "posts/yopo/index.html#objective",
    "title": "YOPO – You Only Pick Once",
    "section": "",
    "text": "The aim is to implement a simple yet effective object tracking algorithm that does not rely on neural networks. We are given several frames from a video of a street, the task is to first pick a car from the first frame, then track the car in the subsequent frames."
  },
  {
    "objectID": "posts/yopo/index.html#ideas",
    "href": "posts/yopo/index.html#ideas",
    "title": "YOPO – You Only Pick Once",
    "section": "2 Ideas",
    "text": "2 Ideas\nThere are three problems to solve in this task:\n\n2.1 Object Changing\nProblem: The shape and color of the object may change over time. If we use a fixed template (from the first frame) to search for the object in all subsequent frames, the matching score will drop significantly and eventually fail to capture the object.\nSolution: Update the template (kernel). Whenever we find the object with a high confidence, we update the template (also called the kernel) with the newly found object. Therefore making the kernel adaptive to the changing object.\n\n\n2.2 High Computational Cost\nProblem: If we search for the object in the whole image, the computational cost is exteremely high.\nSolution: Use prior knowledge. In real-world streets, the position (or velocity) and the shape of the car change extremely slowly given a high frame rate. Therefore, we could potentially use the history of the car to predict its position in the next frame, and only search for the car in a small region around the predicted position.\n\n\n2.3 Finding Matching Score\nProblem: How do you find a “confidence” matching score between the kernel and a candidate region? Using inner products?\nSolution: Normalized Cross-Correlation (NCC). Inner product is almost the answer except that the outcome is sensitive to brightness. For example, the inner product between the two images in Figure 1 and Figure 2 is \\(2706529500.0\\) and \\(770488300.0\\) respectively, though they look exactly the same respectively.\n\n\n\n\n\n\n\n\n\nFigure 1: Inner product = 2706529500.0\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Inner product = 770488300.0\n\n\n\n\n\n\nTherefore, we need to normalize the inner product: Suppose \\(T\\), \\(W\\) are two images of size \\(h\\times w\\). We consider them as a long vector in \\(\\mathbb{R}^{hw}\\) instead of matrices. First of all, they are “above the horizon” (non-negative), so we subtract the mean value from each image to make them “zero-mean”:\n\\[\n\\begin{aligned}\nT &\\to \\tilde{T} = T - \\mu_T \\quad \\left(\\mu_T = \\frac{1}{hw} \\sum_{i} T_i\\right) \\\\\nW &\\to \\tilde{W} = W - \\mu_W \\quad \\left(\\mu_W = \\frac{1}{hw} \\sum_{i} W_i\\right)\n\\end{aligned}\n\\]\nThen, define the NCC (normalized cross-correlation) between \\(T\\) and \\(W\\) as the \\(\\cos \\angle (\\tilde{T}, \\tilde{W})\\), i.e.,\n\\[\n\\begin{aligned}\n\\text{NCC}(T, W) :&= \\frac{\\langle \\tilde{T}, \\tilde{W} \\rangle}{\\|\\tilde{T}\\|_2 \\|\\tilde{W}\\|_2} \\\\\n&= \\frac{\\sum_i (T_i - \\mu_T)(W_i - \\mu_W)}{\\sqrt{\\sum_i (T_i - \\mu_T)^2} \\sqrt{\\sum_i (W_i - \\mu_W)^2}} \\\\\n&\\in [-1, 1]\n\\end{aligned}\n\\tag{1}\\]"
  },
  {
    "objectID": "posts/yopo/index.html#methodology",
    "href": "posts/yopo/index.html#methodology",
    "title": "YOPO – You Only Pick Once",
    "section": "3 Methodology",
    "text": "3 Methodology\nThe overall algorithm is summarized in the flowchart Figure 3, which is explained in detail in the following sections.\n\n\n\n\n\n\n\n\nFigure 3: Algorithm Flowchart\n\n\n\n\n3.1 Predict the Next Search Window Center\n\nFirst frame: Since the object’s speed and direction are initially unknown, we manually select the object in the first frame and use its center as the initial search location.\nSecond frame: Once we identify the object in the second frame (via Section 3.2), we now have two locations, which allows us to compute an initial velocity vector \\(v_1\\) (the green arrow in Figure 4).\nThird frame: We directly use \\(v_1\\) to predict the center of the search area in the third frame. After finding a best kernel in the third frame, we have another velocity vector \\(v_2\\). We then average \\(v_1\\) and \\(v_2\\) to get a more stable velocity estimate: \\[\n  v_3 \\approx \\alpha v_2 + (1-\\alpha) v_1 \\quad (\\alpha \\in [0,1])\n  \\]\nSubsequent frames: Use \\(v_{n-1}\\) to predict the center of the search area in the \\((n+1)\\)-th frame. After finding a best kernel in the \\((n+1)\\)-th frame, we have another velocity vector \\(v_n\\). We then average \\(v_n\\) and \\(v_{n-1}\\) to get a more stable velocity estimate: \\[\n  v_{n+1} \\approx \\alpha v_{n} + (1-\\alpha) v_{n-1} \\quad (\\alpha \\in [0,1])\n  \\]\n\n\n\n\n\n\n\nFigure 4: Motion Prediction\n\n\n\n\n\n3.2 Local Search with NCC and Kernel Resizing\nThis module receives the predicted search center from Section 3.1 and the current kernel image.\n\nStep 1: Local search window We define a search window of \\(\\pm 3\\) pixels vertically and horizontally from the predicted center. For each candidate region, we compute the NCC (Normalized Cross-Correlation) score defined in Equation 1.\nStep 2: Kernel resizing Since the object (a car) may change in size as it moves closer or farther from the camera, we also resize the kernel (both enlarged and shrunk) and repeat the NCC search at each scale.\nStep 3: Best match selection We now have three sets of NCC scores (one per kernel scale). We select the candidate with the maximum NCC score across all scales, and define that as the detection result for the current frame.\nStep 4: Handoff to next stage The matched region’s location is used to update the predicted trajectory, and the cropped image may or may not be used as the new kernel — this decision is handled in the next module in Section 3.3.\n\n\n\n\n\n\n\nFigure 5: NCC Matching\n\n\n\n\n\n3.3 Kernel Updating Rule\nIn this module, we address the question: Should we update the kernel image every frame?\nProblem with naïve updates: Simply picking the top-matching region as the new kernel in every frame might lead to error accumulation, especially when the background changes or the match is unreliable.\nOur key principles are:\n\nAlways update the kernel’s location, because tracking requires positional accuracy.\nOnly update the kernel’s image if the match quality is sufficiently high.\n\nThreshold-based strategy:\n\nDefine a threshold for NCC similarity (e.g., \\(\\text{NCC}_{\\text{thres}} = 0.94\\)).\nIf the current best match has a \\(\\text{NCC} &gt; 0.94\\), it means the match is strong — we update both kernel location and image.\nIf \\(\\text{NCC} &lt; 0.94\\), the match might be unreliable (e.g., due to a temporary background obstruction like a white pole as shown in Figure 6). In this case, we only update the position, and retain the previous kernel image for consistency.\n\n\nExample (Figure 6):\n\nFrame 1: \\(\\text{NCC} = 0.99 &gt; \\text{NCC}_{\\text{thres}}\\): update both position and image.\nFrame 2: \\(\\text{NCC} = 0.89 &lt; \\text{NCC}_{\\text{thres}}\\): update only position.\nFrame 3: \\(\\text{NCC} = 0.96 &gt; \\text{NCC}_{\\text{thres}}\\): update both.\n\n\nThis adaptive mechanism avoids abrupt kernel drift and helps maintain robustness in challenging tracking conditions.\n\n\n\n\n\n\nFigure 6: Kernel Updating"
  },
  {
    "objectID": "posts/yopo/index.html#results",
    "href": "posts/yopo/index.html#results",
    "title": "YOPO – You Only Pick Once",
    "section": "4 Results",
    "text": "4 Results\nAs shown in Figure 7 and Figure 8, our algorithm successfully tracks both a red car and a blue car throughout the video sequence.\n\n\n\n\n\n\n\n\n\nFigure 7: Red Car Tracking Demo\n\n\n\n\n\n\n\n\n\n\n\nFigure 8: Blue Car Tracking Demo\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 9: NCC scores vs search space (red)\n\n\n\n\n\n\n\n\n\n\n\nFigure 10: NCC scores vs search space (blue)"
  },
  {
    "objectID": "posts/yopo/index.html#future-work",
    "href": "posts/yopo/index.html#future-work",
    "title": "YOPO – You Only Pick Once",
    "section": "5 Future Work",
    "text": "5 Future Work\n\nBlocking views: Our current method struggles when the target is briefly occluded (e.g., by other vehicles or obstacles). Future work could integrate motion prediction with re-identification techniques to maintain tracking through occlusion.\nCumulative error: Due to the iterative nature of kernel updates and position prediction, small errors may accumulate over time. Incorporating global correction mechanisms (e.g., periodic full-frame verification) could help mitigate this drift."
  },
  {
    "objectID": "posts/diffusion/index.html",
    "href": "posts/diffusion/index.html",
    "title": "Complement for 3b1b’s Diffusion Models Video 扩散模型学习笔记 (更新中)",
    "section": "",
    "text": "引入 Image Space, 这个 Space 大部分地方的图片都没有意义, 极少部分地方的图片是有意义的 (3b1b 视频中用 Spiral 来表示)\n生成图片的问题可重述为: 从 Image Space 中任意位置出发, 将其移动到有意义的图片位置.\n\n\n\n\n\n\n\n\n\nFigure 1: Image Space 中每个点是有意义图片的概率分布 [1]\n\n\n\n\n训练范式的思考过程:\n\n直接在 Figure 1 中梯度上升找到有意义的图像. 但如何知道概率标量场 / 梯度场 (“Score function” [2]) 呢?\n为了学到这个梯度场, 用已知有意义的图片不断加噪声 (相当于该图片点在 Image Space 上做 Brownian Motion), 然后设计一个神经网络来逐步 (“One-step”) 学习反过来的过程 Figure 2 . 但这在统计意义上相当于直接用起点和终点来训练 (Figure 3), 用起始点而不用中间点来训练的好处是降低了训练数据的 Variance 的影响.\n为了学习到 “More refined structure of the spiral”, 不同程度的 Brownian Motion 需要不同的神经网络进行处理, 也可以理解为给神经网络加入 \\(t\\) 参数 (表示游走的时间长度) Figure 4.\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 即使 Brownian Motion 是随机的, 点的移动是有逐步向外扩散的趋势的, 相当于逆过程有向中心靠拢的趋势, 而神经网络大概率可以学到这种趋势\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: 利用随机性\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: 给神经网络加入 \\(t\\) 参数可以学习到 Spiral 更精细的结构\n\n\n\n\n\n\n\n\n\n\n如何根据用户的文字描述来生成对应意义的图片? 跟编码和 Cross Attention 有关?\n神经网络能学习到 Brownian Motion 的逆过程? Why it works?\n“给神经网络加入 \\(t\\) 参数”, 具体如何操作?"
  },
  {
    "objectID": "posts/diffusion/index.html#introduction",
    "href": "posts/diffusion/index.html#introduction",
    "title": "Complement for 3b1b’s Diffusion Models Video 扩散模型学习笔记 (更新中)",
    "section": "",
    "text": "引入 Image Space, 这个 Space 大部分地方的图片都没有意义, 极少部分地方的图片是有意义的 (3b1b 视频中用 Spiral 来表示)\n生成图片的问题可重述为: 从 Image Space 中任意位置出发, 将其移动到有意义的图片位置.\n\n\n\n\n\n\n\n\n\nFigure 1: Image Space 中每个点是有意义图片的概率分布 [1]\n\n\n\n\n训练范式的思考过程:\n\n直接在 Figure 1 中梯度上升找到有意义的图像. 但如何知道概率标量场 / 梯度场 (“Score function” [2]) 呢?\n为了学到这个梯度场, 用已知有意义的图片不断加噪声 (相当于该图片点在 Image Space 上做 Brownian Motion), 然后设计一个神经网络来逐步 (“One-step”) 学习反过来的过程 Figure 2 . 但这在统计意义上相当于直接用起点和终点来训练 (Figure 3), 用起始点而不用中间点来训练的好处是降低了训练数据的 Variance 的影响.\n为了学习到 “More refined structure of the spiral”, 不同程度的 Brownian Motion 需要不同的神经网络进行处理, 也可以理解为给神经网络加入 \\(t\\) 参数 (表示游走的时间长度) Figure 4.\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 即使 Brownian Motion 是随机的, 点的移动是有逐步向外扩散的趋势的, 相当于逆过程有向中心靠拢的趋势, 而神经网络大概率可以学到这种趋势\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: 利用随机性\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: 给神经网络加入 \\(t\\) 参数可以学习到 Spiral 更精细的结构\n\n\n\n\n\n\n\n\n\n\n如何根据用户的文字描述来生成对应意义的图片? 跟编码和 Cross Attention 有关?\n神经网络能学习到 Brownian Motion 的逆过程? Why it works?\n“给神经网络加入 \\(t\\) 参数”, 具体如何操作?"
  },
  {
    "objectID": "posts/data-structure-algorithm/index.html",
    "href": "posts/data-structure-algorithm/index.html",
    "title": "Data Structure and Algorithm Notes 数据结构与算法笔记",
    "section": "",
    "text": "本章语言以 Python 为主, 面试时需要背下文中的函数而不能靠 vibe coding."
  },
  {
    "objectID": "posts/data-structure-algorithm/index.html#timespace-complexity-时间空间复杂度",
    "href": "posts/data-structure-algorithm/index.html#timespace-complexity-时间空间复杂度",
    "title": "Data Structure and Algorithm Notes 数据结构与算法笔记",
    "section": "1 Time/Space Complexity 时间/空间复杂度",
    "text": "1 Time/Space Complexity 时间/空间复杂度\n\n时间看循环, 空间看数组\n\n\n\nTime Complexity 不 care 系数, 只 care 随着问题 elements 规模的增长 operations 数量的增长情况\n\n\n\n\n\n\\(\\mathcal{O}(n \\log n)\\) 这种想象成循环嵌套, \\(\\mathcal{O}(n+m)\\) 这种想象成循环并列\n\n\n大部分算法停机时间不确定, 用最坏情况来思考复杂度!\n空间复杂度一般都是 \\(\\mathcal{O}(1)\\) 或 \\(\\mathcal{O}(n)\\), \\(\\mathcal{O}(n^2)\\) 比较少, \\(\\mathcal{O}(n)\\) 和 \\(\\mathcal{O}(n\\log n)\\) 非常少.\n\n递归一般会有个 \\(\\mathcal{O}(n)\\), 因为要用到递归栈.\n\n时间和空间是 trade-off 关系, 二者只能求其一. 一般来说, 由于空间 cheap, 时间贵, 所以更看重时间复杂度."
  },
  {
    "objectID": "posts/data-structure-algorithm/index.html#data-structure-数据结构",
    "href": "posts/data-structure-algorithm/index.html#data-structure-数据结构",
    "title": "Data Structure and Algorithm Notes 数据结构与算法笔记",
    "section": "2 Data Structure 数据结构",
    "text": "2 Data Structure 数据结构\n\n2.1 General 共性\n\n所有数据结构都要考虑1以下做操作 (abbr. ASID) 是否方便 (时间复杂度):\n\nAccess 访问: index 找 element (数组)\nSearch 搜索: element 找 index (数组)\nInsertion 插入\nDeletion 删除\n\n\n1 ITV 请对比两个数据结构.\n\n2.2 Array 数组\n\nArray 数组: 连续内存空间! 相同类型数据!\n\n\n\n\n\n\n\n\n\nFigure 1: 区分元素和索引\n\n\n\n\n区分: Element 元素 vs Index 索引 (Figure 1)\nASID: \\(\\mathcal{O}(1)\\), \\(\\mathcal{O}(n)\\), \\(\\mathcal{O}(n)\\), \\(\\mathcal{O}(n)\\)\n\n适合读多写少的场景.\n但是 append 操作是 \\(\\mathcal{O}(1)\\) 的.\n\n\n\n\n\n\n\n\n\nPython 具体操作方法\n\n\n\nCheck list:\n\ntest\ntest"
  },
  {
    "objectID": "posts/probability-thy/index.html",
    "href": "posts/probability-thy/index.html",
    "title": "Probability Theory Takeaways 概率论极简笔记",
    "section": "",
    "text": "Sample Space 样本空间 \\(\\Omega\\): 任何 Set 集合\n\nExample: 抛一个骰子的样本空间 \\(\\Omega = \\{\\text{``1''}, \\text{``2''}, \\text{``3''}, \\text{``4''}, \\text{``5''}, \\text{``6''}\\}\\), 注意集合里面的元素是字符串 (或者其它能代表能抛出的点数的象征符号, 一句话, 一张图片, 一个表情 / 心情都可以), 最好不要理解为数字!\nOutcome 实验结果: 样本空间中的元素. 理解为 “The result of a single trial of the experiment.”\n\nEvent Space 事件空间 \\(\\mathcal{A}\\): Measurable Space 可测空间\n\nExample: 抛一个骰子的事件空间 \\(\\mathcal{A} = \\{\\text{``1''}, \\text{``2''}, \\text{``3''}, \\text{``4''}, \\text{``5''}, \\text{``6''}, \\text{``1 or 2''}, \\text{``1 or 3''}, \\cdots, \\Omega, \\varnothing\\}\\)\nEvent 事件: 可测集, Event Space 中的元素. 理解为 “A meaningful statement about the experiment.”\nEvent occurs 事件发生: 某个 outcome 属于某个 event: \\[A \\in \\mathcal{A} \\text{ occurs } :\\iff \\text{outcome } s \\in A.\\]\n\nProbability Space 概率空间 \\((\\Omega, \\mathcal{A}, \\mathbb{P})\\): Measure Space 测度空间\n\nConditional Probability 条件概率: 事件 \\(B\\) 诱导的概率测度 (\\(\\mathbb{P}_B(A)\\) 常记作 \\(\\mathbb{P}(A|B)\\)): \\[\n  \\mathbb{P}_B (A) :=\n  \\begin{cases} \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)}, & \\mathbb{P}(B) &gt; 0 \\\\ 0, & \\mathbb{P}(B) = 0 \\end{cases}\n  \\]"
  },
  {
    "objectID": "posts/probability-thy/index.html#spaces-空间",
    "href": "posts/probability-thy/index.html#spaces-空间",
    "title": "Probability Theory Takeaways 概率论极简笔记",
    "section": "",
    "text": "Sample Space 样本空间 \\(\\Omega\\): 任何 Set 集合\n\nExample: 抛一个骰子的样本空间 \\(\\Omega = \\{\\text{``1''}, \\text{``2''}, \\text{``3''}, \\text{``4''}, \\text{``5''}, \\text{``6''}\\}\\), 注意集合里面的元素是字符串 (或者其它能代表能抛出的点数的象征符号, 一句话, 一张图片, 一个表情 / 心情都可以), 最好不要理解为数字!\nOutcome 实验结果: 样本空间中的元素. 理解为 “The result of a single trial of the experiment.”\n\nEvent Space 事件空间 \\(\\mathcal{A}\\): Measurable Space 可测空间\n\nExample: 抛一个骰子的事件空间 \\(\\mathcal{A} = \\{\\text{``1''}, \\text{``2''}, \\text{``3''}, \\text{``4''}, \\text{``5''}, \\text{``6''}, \\text{``1 or 2''}, \\text{``1 or 3''}, \\cdots, \\Omega, \\varnothing\\}\\)\nEvent 事件: 可测集, Event Space 中的元素. 理解为 “A meaningful statement about the experiment.”\nEvent occurs 事件发生: 某个 outcome 属于某个 event: \\[A \\in \\mathcal{A} \\text{ occurs } :\\iff \\text{outcome } s \\in A.\\]\n\nProbability Space 概率空间 \\((\\Omega, \\mathcal{A}, \\mathbb{P})\\): Measure Space 测度空间\n\nConditional Probability 条件概率: 事件 \\(B\\) 诱导的概率测度 (\\(\\mathbb{P}_B(A)\\) 常记作 \\(\\mathbb{P}(A|B)\\)): \\[\n  \\mathbb{P}_B (A) :=\n  \\begin{cases} \\frac{\\mathbb{P}(A \\cap B)}{\\mathbb{P}(B)}, & \\mathbb{P}(B) &gt; 0 \\\\ 0, & \\mathbb{P}(B) = 0 \\end{cases}\n  \\]"
  },
  {
    "objectID": "posts/probability-thy/index.html#random-variable-随机变量",
    "href": "posts/probability-thy/index.html#random-variable-随机变量",
    "title": "Probability Theory Takeaways 概率论极简笔记",
    "section": "2 Random Variable 随机变量",
    "text": "2 Random Variable 随机变量\n\nRV (Random Variable) 随机变量 \\(X\\): Measurable Mapping 可测映射 (注意并不需要定义概率测度!)\n\nMotivation: 将陌生的 event space 映射到熟悉的 \\(\\mathbb{R}\\) (或 \\(\\mathbb{R}^n\\) 等), 这个映射是可测空间的同态, 信息量只有可能减少不会增加, 这个信息量的减少说明我们希望通过 RV 来量化 event space 中我们关心的部分, 丢弃不关心的部分, 理解为 “A measurement of interest in the context of the experiment”, 比如:\n\n\n\n\n\n\nFigure 1: 定义 \\(X_1\\) 说明我们关心问题的全貌 (\\(X_1\\) 没有损失信息量, 忠实 (faithful) 地表现了抛骰子出现的各种情况); 定义 \\(X_2\\) 说明我们只关心抛骰子的点数是奇数还是偶数.\n\n\n\nAbuse of notation: \\(X^{-1}(A)\\) 常记作 \\(\\{\\omega \\in \\Omega | X(\\omega) \\in A\\}\\), 比如 \\(X^{-1}([a, b]) \\equiv \\{\\omega \\in \\Omega | X(\\omega) \\in [a, b]\\}\\).\n\nRV 的分类\n\nDiscrete RV 离散随机变量: Codomain 是 countable set (\\(\\aleph_0\\)) 可数集的 RV.\nRandom number 随机数: Codomain 是 \\(\\mathbb{R}\\) 的 RV.\nRandom vector 随机向量: Codomain 是 \\(\\mathbb{R}^n\\) 的 RV.\nRandom matrix 随机矩阵: Codomain 是 \\(\\mathbb{R}^{m \\times n}\\) 的 RV.\n\n\n\n\n\n\n\n\n\n事件的独立和随机变量的独立\n\n\n\n\n\n\n事件的独立: 事件 \\(A,B \\in \\mathcal{A}\\) 独立指 \\(\\mathbb{P}_A = \\mathbb{P}_B = \\mathbb{P}\\), 即 A (或 B) 诱导出来的测度不变.\n\n事件 \\(A, B\\) 独立也称他们 不相关 (uncorrelated).\n\n随机变量的独立: RV \\(X, Y\\) 独立指对任意 \\(S, T\\) (分别是 \\(X, Y\\) 的 codomain 上的可测集), 事件 \\(X^{-1}(S)\\) 和 \\(Y^{-1}(T)\\) 独立.\n\n注意我们用任意原像事件的独立性来定义 RV 独立性.\n可以推出 RV 独立性等价于: Joint CDF/PDF 等于各自 CDF/PDF 的乘积 (证明略).\n进而可以推出 (不等价!) \\[\\mathbb{E}[XY] = \\mathbb{E}[X] \\mathbb{E}[Y].\\]\n\n\n\n\n\n\n\n2.1 Algebra of RV 代数结构\n\nCodomain 为 \\(\\mathbb{R}^n\\) 的 RV 构成交换代数 (继承了 \\(\\mathbb{R}^n\\)).\n\nDistribution 分布: \\(\\mathbb{R}\\) 推前到 \\((\\mathbb{R}^n, \\mathcal{B}(\\mathbb{R}^n))\\) 的 Pushforward Measure \\(X_* \\mathbb{P}\\) (一般记作 \\(\\mathbb{P}_X\\), though).\n\nJoint Distribution 联合分布: 对于多个相同样本空间1!上的 RV 可以定义他们的联合分布. 严谨数学语言较为麻烦 (omitted).\nMarginal Distribution 边缘分布: 联合分布的某些变量的投影 (omitted).\n\nCDF 累积分布函数 \\(F_X\\): Codomain 有序结构即可定义 CDF: \\[F_X(x) := \\mathbb{P}_X ((-\\infty, x]).\\]\nPDF 概率密度函数 \\(f_X\\): CDF 的 Radon-Nikodym 导数, 满足: \\[\\mathbb{P}_X(B) = \\int_B f_X \\mathrm{d} \\lambda, \\forall B \\in \\mathcal{B}(\\mathbb{R}).\\] (\\(\\lambda\\) 是 \\(\\mathbb{R}\\) 上的 Lebesgue 测度)\n\nPMF 概率质量函数: 离散 RV 的 PDF. \\[\\mathbb{P}_X(A) = \\int_A f_X \\mathrm{d} \\# = \\sum_{x \\in A} f_X(x), \\forall A \\in \\mathcal{P}(X).\\] (\\(\\#\\) 是离散测度空间的 counting measure)\n\n\n\n1 Joint RV / distribution: 同一个样本空间, 不同 codomain, Product measure space: 很多个不同的样本空间, 通过 product 操作构造出一个大的空间.\nExpectation 期望: 就是积分 \\[\n  \\mathbb{E}[X] := \\int_{\\Omega} X \\mathrm{d} \\mathbb{P}.\n  \\]\n\n由积分的性质显然有: \\[\\mathbb{E}[aX + bY] = a \\mathbb{E}[X] + b \\mathbb{E}[Y].\\]\n\nInner Product 内积: (由 Algebra 知 \\(XY\\) 也是 RV.) \\[\n  \\langle X, Y \\rangle := \\mathbb{E}[XY].\n  \\]\n\nCovariance 协方差: centered 后的内积, let \\(X_c \\equiv X - \\mathbb{E}[X]\\), \\[\\operatorname{cov}(X, Y) := \\langle X_c, Y_c \\rangle.\\]\n\nVariance 方差: 自协方差 / center \\(X\\) 2-norm 的平方. \\[\\operatorname{var}(X) := \\operatorname{cov}(X, X) = \\|X_c\\|_2^2.\\]\n2nd Moment 二阶矩: 不 center 的 \\(X\\) 2-norm 的平方. \\[\\mathbb{E}[X^2] = \\|X\\|_2^2.\\]\n\nCorrelation 相关系数: 归一化后的协方差. \\[\\operatorname{cor}(X, Y) := \\frac{\\operatorname{cov}(X, Y)}{\\sqrt{\\operatorname{var}(X) \\operatorname{var}(Y)}}.\\]\n\nMetric 度量 (注意 \\(t\\) 是 \\(\\Omega\\) 映到单点集 \\(\\{t\\}\\) 的 RV 而不是实数):\n\nRMSE (Root Mean Square Error) 均方根度量: \\[d_2(X, t) := \\|X - t\\|_2 = \\sqrt{\\mathbb{E}[(X - t)^2]}.\\]\nMAE (Mean Absolute Error) 平均绝对误差度量: \\[d_1(X, t) := \\|X - t\\|_1 = \\mathbb{E}[|X - t|].\\]\n\n\n\n\n2.2 Series of RV 随机变量序列\n\nConvergence 收敛方式: \\((X_n)\\) 可以以下几种方式收敛到 \\(X\\):\n\nAlmost everywhere (a.e.) 几乎处处收敛: 即 \\((X_n)\\) 几乎处处逐点收敛到 \\(X\\), i.e., \\[\\mathbb{P}(\\{\\omega \\in \\Omega : \\lim_{n \\to \\infty} X_n(\\omega) = X(\\omega)\\}) = 1.\\]\nIn probability 依概率收敛: 不一致收敛的点的测度趋于 0, i.e., \\[\\mathbb{P}(\\{\\omega \\in \\Omega : |X_n(\\omega) - X(\\omega)| \\ge \\varepsilon\\}) \\to 0, \\forall \\varepsilon &gt; 0\\]\nIn distribution 依分布收敛: \\(F_{X_n}\\) (在所有 \\(X\\) 的 CDF 的连续点上) 逐点收敛到 \\(F_X\\), i.e., \\[F_{X_n}(x) \\to F_X(x), \\forall x \\text{ is a continuity point of } F_X.\\]\n\\(L^p\\) 收敛: \\(X_n\\) 与 \\(X\\) 的 \\(L^p\\) 距离趋于 0, i.e., \\[\\|X_n - X\\|_p \\to 0.\\]\n\n\n\n\n\n\n\n\n\n收敛方式的关系\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 四种收敛的关系\n\n\n\n\n函数的 pointwise 收敛比 uniform 收敛弱 (Figure 3), 但是可测函数的 a.e. 收敛比 依概率收敛强!\n\n\n\n\n\n\n\n\nFigure 4: (1) 几乎每个点最终都进入了 \\(\\varepsilon\\) 邻域; (2) 进入 \\(varepsilon\\) 的蓝色点集会变化! (当然满足 uniformly cvg 的点集也会变化) 但如果在概率的条件下考虑这个问题, 进入的点集变化地更为疯狂, 以至于可能表面看上去所有的点都进去了, 其实单看每个点只是在极限附近徘徊不定 (不一定是几乎处处的点的)\n\n\n\n\n\n\n\n\n\nFigure 5: 一个经典的依概率收敛而不几乎处处收敛的「扫区间」序列\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: 逐点收敛的函数列极限可以不连续\n\n\n\n\n\n2.3 Law of Large Numbers 大数定律\n\n\n\n\n\n\n\n(强) 大数定律\n\n\n\n\nTheorem 1 \\(X_n\\) i.i.d. with mean \\(\\mu\\), then \\[(\\overline{X_n}) \\xrightarrow{a.e.} \\mu.\\]\n\n\n\n\n\n弱大数定律: 根据 Figure 2 改成依概率收敛 (有何意义?)\n注意 \\((\\overline{X_n})\\) 也是 RV 序列; \\(\\mu\\) 是单点 RV (而不是单纯的实数)! 不要将 RV 的代数运算结果看成数字!!\n意义: 使得我们可以以任意小的误差测量一个随机实验的均值! 这个定理过于「显然」以至于我们在不经意间就用到了它, 比如测量抛硬币的均值 (0.5) 时, 我们会很自然地抛很多次硬币获得「结果」然后取均值, 这样测出来的值并不是「抛一次硬币的随机变量」的均值, 而是「抛 \\(n\\) 次硬币, 每次的点数相加后除以抛的次数, 这个随机变量坍缩后的值」, 这是完全两个随机变量! 后者坍缩后的值几乎不变, 于是我们将它看作后者随机变量 (并非前者) 的均值. 而正因为有大数定律, 这个值才可以与前者的均值以任意误差接近.\n\nIn other words, 当一件「随机」的实验被概率建模时, 平行宇宙视角的「均值」(只进行一次实验, 但是在上帝视角收集不同平行宇宙的结果, “ensemble average”) 等于时间平均视角 (让时间流逝, 建立新的样本空间 \\(\\Omega^{\\otimes n}\\), “time average”) 后的「均值」.\n\n允许用 time average 来估计 ensemble average 的随机过程被称为 ergodic process 遍历过程, 大数定律是遍历过程的特例.\n\n\n\n2.4 Central Limit Theorem 中心极限定理\n\n中心极限定理还告诉了我们 \\(\\overline{X_n}\\) 的形状 (分布): 竟然跟 \\(X_i\\) 的分布无关, 都近似于 Gaussian 分布!\n\n\n\n\n\n\n\n\n中心极限定理\n\n\n\n\nTheorem 2 (Without loss of generality) (X_n) i.i.d. with mean \\(0\\) and variance \\(\\sigma^2\\), then \\[\\overline{X_n} \\xrightarrow{d} \\mathcal{N}\\left(0, \\frac{\\sigma^2}{n}\\right).\\]"
  },
  {
    "objectID": "posts/probability-thy/index.html#distribution-常见分布",
    "href": "posts/probability-thy/index.html#distribution-常见分布",
    "title": "Probability Theory Takeaways 概率论极简笔记",
    "section": "3 Distribution 常见分布",
    "text": "3 Distribution 常见分布\n\nBernoulli: \\(X \\sim \\operatorname{Ber}(p)\\) 不均匀的硬币.\nBinomial: \\(X \\sim B(n, p)\\) 固定次数 \\(n\\) 数正面. E.g., 好评数量.\nNegative Binomial: \\(X \\sim NB(s, p)\\) 跟 Binomial 操作相反, 固定正面数 (s, success) 总次数.\n\nGeometric: \\(X \\sim G(p)\\) 特例, \\(s=1\\).\n\nHypergeometric: \\(X \\sim H(n, s, f)\\), 不放回版本的 Binomial (initial \\(p = s / (s+f)\\))\nPoisson: \\(X \\sim \\operatorname{Pois}(\\lambda)\\), 连续版本的 Binomial (离散化后 \\(\\lambda\\) 退化为 \\(p / n\\)). E.g., 单位时间顾客到达数.\n\nExponential: \\(X \\sim \\operatorname{Exp}(\\lambda)\\), 跟 Poisson 操作相反. E.g., 顾客到达的时间间隔."
  },
  {
    "objectID": "posts/info-secu-crash-course/index.html",
    "href": "posts/info-secu-crash-course/index.html",
    "title": "Information Security Crash Course 信息安全速成笔记",
    "section": "",
    "text": "所有计算机的问题都是文本处理的问题."
  },
  {
    "objectID": "posts/info-secu-crash-course/index.html#blockchain-区块链",
    "href": "posts/info-secu-crash-course/index.html#blockchain-区块链",
    "title": "Information Security Crash Course 信息安全速成笔记",
    "section": "1 Blockchain 区块链",
    "text": "1 Blockchain 区块链\n\nMotivation and related concept\n\nLedger 交易账本: 记录对某种财产 (property) 的状态变化 (maintenance) 的历史 (比如银行卡转账记录).\n\n传统的 Ledger 时中心化地由银行的 DBMS (Database Management System) 来维护的, 我们信任银行本质上是信任国家的信用, 可是 xxx? 为了摆脱对中心化机构的信任, 需要一个 DLT (Distributed Ledger Technology) 来分布式地维护 Ledger! 我们希望它的机制公开透明, 并在数学上能保证其安全性.\n\nDLT 可以利用多种数据结构来组织数据 (Blockchain 可以同时具有下面的数据结构):\n\nLinked list 链表\nDAG (Directed Acyclic Graph 有向无环图)\nTree 树\n\n\nBlockchain features 特点\n\nDecentralization 去中心化\nImmutability 不可篡改性\nTransparency 透明性\nPseudonymity 匿名性\nNon-Repudiation 不可否认性: 一旦交易记录成功不可撤回和修改.\n\nBlockchain classification 分类\n\nPermissionless 无需许可: 任何人都可以参与添加区块.\n\nPublic 公开链: 任何有可以上网的电脑的人都可以查看区块链数据 (如 Bitcoin 区块链). 特点: 比如 Bitcoin 区块链的 TPS (Transactions Per Second) 每秒 \\(&lt;10\\); Scalability 可扩展性差; Block size 区块大小有限制; 挖矿能耗高.\n\nPermissioned 需要许可: 只有被授权的用户才能参与添加区块.\n\nPrivate 私有链: 只有被授权的用户才能查看区块链数据.\nConsortium 联盟链: 由多个组织共同维护的区块链, 只有被授权的组织才能查看相应部分的区块链数据.\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Blockchain 分类\n\n\n\n\n1.1 Build the bitcoin blockchain from scratch\n\nP2P network: 假设你有 \\(10\\) 台电脑, 手动输入每台电脑附近一两台电脑的 IP 和它们监听的端口 (bootstrapping). 写一个程序比如 node.py 来让每台电脑都运行这个程序, 监听自己端口的同时向认识的电脑发送邻居 IP. 这样方便以后路由.\nWallet:\n\n首先每台电脑随机生成一个 \\(256\\) bit 的私钥 \\(sk\\).\n用一个 one-way function (比如 hashing function, ECDSA (Elliptic Curve Digital Signature Algorithm)) 从私钥 \\(sk\\) 计算出公钥 \\(pk\\) (也是 \\(256\\) bit).\n\\(pk\\) 作为节点的身份 ID, \\(sk\\) 用来签名消息.\n\nTransaction (Tx) 交易: 定义交易数据结构, 比如:\nTransaction {\n    from: PublicKey_A,\n    to: PublicKey_B,\n    amount: 10,\n    signature: Sign(privateKey_A, above_fields)\n}\n\n每个节点可以用公钥验证交易的合法性.\n\nMempool 交易池: 每个节点如果有交易记录产生, 就生成一个 Transaction 转发给相邻节点, 它们会先验证合法性, 然后将其加入自己的交易池中 (每个节点维护一个交易池, 存放收到但还未打包进区块的交易).\nBlock 区块: TODO\n\n\n\n1.2 Some Questions\n\nBlockchain 很难用线性的讲法来解释清楚, 这里列出一些常见的问题.\n\n\n记账系统跟发行一种币有什么关系? 发行的新的币又是如何跟现存的币交换的?\n\n这涉及到货币的本质. 衡量价值依赖两个特性, 一是获取他需要付出一定的成本; 二是大家都承认可以一般化地等价其他东西.\nbitcoin 只记录比特币的交易.\n\n为什么最初会有人自发来用这个系统记账?\n\nIncentives for minors: transaction fee (手续费, 转账的人要多付出一点点给打包区块的人 (比银行低多了)) + 凭空送 (中本聪设计 PoW 使得全世界一起算的话平均每 10 分钟能产生一个新区块, 第一个包奖励 \\(50\\) BTC (in 2009), \\(4\\) 年之内都是如此, 第二个 \\(4\\) 年挖出一个区块奖励减半 (\\(25\\) BTC) [1], etc.1)\nFollow-up: 如果他获得的奖励不是现实世界中的物品而也只是这个虚拟世界的货币, 一开始的驱动力是哪来的?\n\n可以有很多因素: 意识形态动机 (比如对银行的不信任, 冻结与审查的反感), 有限下行风险 + 极大上行空间 (Option-like payoff).\n\n\n\n1 这是一个收敛的几何级数, 所以比特币的数量是固定的 (\\(21\\) million). 2025 年挖出一个区块奖励是 \\(3.125\\) BTC. 凭空送的部分是有最小值的 (\\(10^{-8}\\) BTC, 即 \\(1\\) Satoshi), 约在 2140 年达到这个值, 以后凭空送部分就没有了, 以后矿工的收入就全靠 transaction fee 了 [1].\n如果在网络的两个角落同时产生了两个区块, 如何处理?\n\nLCP (Longest Chain Principle) 最长链原则: 每个节点只在它认为的最长链上继续打包新的区块 (每个节点可能会有不同的最长链).\n所以你挖出来的区块可能最终不会被承认.\n\n如何防止恶意用户篡改数据?\n\n防止不了. 但几乎不可能, 因为\n\n如何防止随意给自己转账?\n当某节点收到一笔交易时, 会做什么? 收到新区块呢?\n\n收到交易: 进行余额检查 (通过追溯之前的交易记录) + 验证签名, 合法就放进交易池.\n收到新区块:\n\n如何防止双重支付 (Double spending, 即某个节点 \\(A\\) 给两批相邻节点试图用同一笔余额给不同的人转账, 这两批节点经过余额检查后都会认为 \\(A\\) 的交易是合法的)?\n\n只承认打包好的区块里的交易记录. 哪一笔交易先被打包进区块, 哪一笔交易就有效.\n\n\n\n\n1.3 Consenus Algorithm 共识算法\n\n用来让分布式网络中的节点就某个数据达成一致的算法. (不是区块链特有的概念!)\n\n\nBasic concepts\n\n节点类型: Legitimate/honest nodes (诚实节点), Malicious nodes (恶意节点).\n故障类型: Crash fault (由诚实节点导致的故障), Byzantine fault (拜占庭故障, 由恶意节点导致的故障).\n\nPoW (Proof of Work 工作量证明): 通过尝试 nonce 的值来找到一个 hash 值满足某个条件 (比如前面有 \\(n\\) 个 \\(0\\)). Hash rate 越高, 挖矿越快. 安全性非常高, 但验证时间较长、挖矿能耗很高.\n\nWinning probability: 设有 \\(N\\) 个 miners, 第 \\(i\\) 个 miner 的 hash rate 是 \\(\\varphi_i\\), 则它的 winning probability \\[\\mathbb{P}_i = \\frac{\\varphi_i}{\\sum_{j=1}^N \\varphi_j}.\\]\n\\(51\\%\\) attack: 如果某个恶意矿工控制了超过 \\(50\\%\\) 的算力, 它就可以随意篡改区块链数据.\n\nPoS (Proof of Stake 权益证明): 交 stake (押金), 用押金的多少做权重随机选择下一个打包区块的节点. 节点如果作恶, 会被没收押金. 验证时间较短, 能耗低, 但安全性不如 PoW (有钱就行).\nPAXOS\n\nPAXOS 不处理 Byzantine fault!\n用 PAXOS 协议的系统中必须有三种节点: Proposer, Acceptor, Learner.\n三个 phase: Prepare, Promise, Accept.\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 绿色的节点是 client, 右边有 \\(1\\) 个 proposer, \\(3\\) 个 acceptor, \\(2\\) 个 learner. [2]\n\n\n\n\n\n\n\n\nBasic Paxos without failures [3]. 注意这里是 acceptor 通知 learner, 而 Figure 2 是 proposer 通知 learner, 以此图为准.\n\n\n\n\n\n\nRAFT (Replicated And Fault Tolerant, 比 sb PAXOS 好理解多了 lol)\n\nRAFT 也不处理 Byzantine fault!\n每个节点在任意时刻只处于三种状态之一: Leader, Follower, Candidate, leader 是唯一的.\n两个 phase: Leader Election, Log Replication.\n所有节点初始状态都是 follower, 每个 follower 有一个随机的 election timeout (\\(150\\) 到 \\(300\\) ms 之间), 如果在这个时间内没有收到 leader 的 heartbeat (如果存在 leader 的话, 按协议它会向所有 follower 定期发送 heartbeat 证明自己还活着别选别人当 leader), 就变成 candidate 并向所有 follower 发起支持自己的 leader election. 当这个 candidate 收到超过半数 follower 的投票后, 就变成 leader (总共有多少 node 大家事先都知道)\n\n\n\n\n\n\nFigure 3: Leader election 过程, 你可以自行在 [4] 进行其它挂机或者 leader request 实验, omitted here.\n\n\n\n\nPBFT (Practical Byzantine Fault Tolerance)\n\n由名字知道它能处理 Byzantine fault.\n三种节点: Leader, Replicas, Backup\nTODO\n\nMetrics 衡量标准\n\nPerformance\n\nTPS (Transactions Per Second)\nBlock comfirmation time 区块确认时间\n\nScalability 可扩展性: 对于增加的节点数和交易量, 系统能否有效地处理.\n\n\n\n\n1.4 一些八股\n\nHash rate 哈希率: 全网每秒能做多少次哈希运算 (代表算力).\nSharding 分片技术: 将各个节点分组 (shards), 每个组内的节点负责维护该组内的交易记录 (而不要验证全网的交易记录), 以提高系统的验证效率和可扩展性. 但是 shards 之间的通信和协调极其复杂!"
  },
  {
    "objectID": "posts/info-secu-crash-course/index.html#cryptography-密码学基础",
    "href": "posts/info-secu-crash-course/index.html#cryptography-密码学基础",
    "title": "Information Security Crash Course 信息安全速成笔记",
    "section": "2 Cryptography 密码学基础",
    "text": "2 Cryptography 密码学基础\n\n2.1 一些八股\n\nThree Ds of security:\n\nDefence 防护: 保护系统免受攻击.\nDetection 检测: 发现攻击或异常行为.\nDeterrence 威慑: 通过威胁惩罚来降低攻击频率.\n\n攻击分类 (但现实情况是三种结合起来使用哈哈):\n\n按目的:\n\nPassive 被动攻击: 监听和窃取信息, 不改变系统状态.\nActive 主动攻击: 篡改、伪造或破坏信息, 改变系统状态.\n\n按手段:\n\nVirus 病毒: 自我复制, 不单独存在而是嵌入进宿主程序.\nWorm 蠕虫: 自我复制, 独立存在.\nTrojan 木马: 不自我复制 (usu.), 伪装成合法程序诱骗用户安装.\n\n\n\n\n\n2.2 Symmetric Cipher Model 对称加密模型\n\n\n2.3 Asymmetric Cipher Model 非对称加密模型\n\n生成过程: 用一个随机数产生私钥, 再用私钥算出公钥.\n\n几乎不可能通过公钥反推私钥. 私钥必须保密, 公钥可以公开.\n私钥可以用来加密字符串, 相应的公钥可以用来解密这个字符串.\nDigital Signature 电子签名: 只有私钥持有者能加密字符串, 任何知道公钥的人都能解密这个字符串. 这跟签名的本质是一样的."
  },
  {
    "objectID": "posts/dip-crash-course/index.html",
    "href": "posts/dip-crash-course/index.html",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "",
    "text": "将所有的开放问题的 solution 当作一个普通的解决方法来看待, 它们绝不是最优或者唯一的解决方案."
  },
  {
    "objectID": "posts/dip-crash-course/index.html#basic-conventions-基本约定",
    "href": "posts/dip-crash-course/index.html#basic-conventions-基本约定",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "1 Basic Conventions 基本约定",
    "text": "1 Basic Conventions 基本约定\n\nImage 默认为 sampling 和 quantization 之后的数字图像\n\nSpacial resolution 空间分辨率: 长宽方向的采样点数的乘积.\nIntensity resolution 强度分辨率: 量化的精度, 一般用每个像素的 bit 数表示. 默认为 \\(8\\) bit (\\([0, 255]\\)).\n\nColor space 颜色空间: 单色可见光的波长在 \\([380, 780] \\text{ nm}\\), 每一束光都可以有任意强度的单色光分量 (即「光谱」), 因此所有光构成一个不可数无穷维拓扑向量空间.\n\n但是人眼有三种类型的视锥细胞 (L, M, S) 对不同的频率成分有 (不会变化的) 不同的敏感度, 它们自动将所有光线性映射到一个三维子空间 \\(\\Omega\\) 中 (想想为什么是线性的, 因为是积分). 即使两个光的光谱不同, 但它们在这个三维子空间的投影相同, 人眼也无法区分它们.\n不同的应用场景在 \\(\\Omega\\) 中选择不同的基底:\n\nRGB (Red, Green, Blue): 显示器, 图像储存.\nCMY/CMYK (Cyan, Magenta, Yellow, K: Black ink): 打印机, K 成分是多余的, 就当作是为了节省墨水 lol.\nHSI/HSV (Hue, Saturation, Intensity/Value): 图像编辑软件.\n\n\n默认情况下图片丢失拓扑结构 view() 成一个 vector. \\(r\\) 代表处理前的图像 vector, \\(s\\) 代表处理后的图像 vector.\nRGB2Gray 转换方法: 可以任选一通道 / 取最大 / 平均值 / 加权平均.\nContrast 对比度: 灰度图像中像素值最大值与最小值之差 (去掉 outlier).\nBinary Image 二值图像 \\(f\\): \\(0\\) 表示 background, \\(1\\) 表示 foreground."
  },
  {
    "objectID": "posts/dip-crash-course/index.html#kernel-based-processing-基于核的处理",
    "href": "posts/dip-crash-course/index.html#kernel-based-processing-基于核的处理",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "2 Kernel-based processing 基于核的处理",
    "text": "2 Kernel-based processing 基于核的处理\n\n本人没有按照 Spatial domain 和 Frequency domain 来划分, 因为他们本质上是等价的, 无法将二者严格区分.\n\n\nKernel-based method 就是将原图片与一个 kernel 做滑动内积 (纠结是内积还是卷积毫无意义). 重点在于 kernel 的设计, 我们通过 kernel 设计的思维路径将其划分为 Spatial filtering 和 Frequency filtering 两大类.\n\n\n2.1 Spatial Filtering 空间滤波\n\nSpatial filtering 指 kernel 的设计过程没有经过频域分析.\n\n\nPadding 填充\nNCC (Normalized Cross-Correlation): 图像 vector 之间的夹角余弦值.\nCommon filters 常用滤波器\n\nSmoothing filters 平滑滤波器 (低通滤波器)\nOrder-statistic filters 次序统计滤波器: 将某框内的像素排序后取中位数, 一般可去除 salt-and-pepper (impulse) noise.\nSharpening (derivative) filters 锐化滤波器 (高通滤波器): 将梯度、Laplacian 算子移植到图片上; 由于这些算子是线性的, 可等价于与一个 kernel 做卷积; 这些 kernel 也可以在形式上被强化来达到更强的锐化效果."
  },
  {
    "objectID": "posts/dip-crash-course/index.html#non-kernel-based-processing-非基于核的处理",
    "href": "posts/dip-crash-course/index.html#non-kernel-based-processing-非基于核的处理",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "3 Non-kernel-based processing 非基于核的处理",
    "text": "3 Non-kernel-based processing 非基于核的处理\n\nNon-kernel-based method 指处理过程无法被等价为与一个确定的 kernel 做内积的过程.\n\n\n3.1 Intensity Transformation\n\n强度变换仅仅是单灰度像素的操作, 即用一个函数 \\(s = T(r)\\) 来独立地映射所有像素值.\n\n\nLinear transformation\n\nImage Negatives 图像反相: \\(s = L - 1 - r\\).\nContrast stretching 对比度拉伸\n\nLog transformation 对数变换: \\(s = c \\cdot \\log(1 + r)\\).\nPower-Law (Gamma) transformation 幂律变换: \\(s = c \\cdot r^{\\gamma}\\).\n\n\n\n3.2 Histogram Processing 直方图处理\n\nHistogram 图像直方图\n\nNormalized histogram 归一化直方图: 纵坐标要除以图像总像素数, 可表达概率.\n\nHistogram processing 方法\n\nHistogram equalization 直方图均衡化\nHistogram matching (specification) 直方图匹配: 「我想让这张暗图看起来像那张亮图」."
  },
  {
    "objectID": "posts/dip-crash-course/index.html#image-segmentation-图像分割",
    "href": "posts/dip-crash-course/index.html#image-segmentation-图像分割",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "4 Image Segmentation 图像分割",
    "text": "4 Image Segmentation 图像分割\n\n一个非常自然的需求是把一张图像分割成若干个有意义的区域. 由于「有意义」无法准确定义, 因此图像分割非常开放.\n\n\nNeighbors of a pixel 二值图像像素的邻域: 有不同的定义! 4-neighbors (上下左右), 8-neighbors, diagonal-neighbors (对角线).\n\n领域不一定是等价关系!\nPath 路径: 一个像素的有序序列, 后一个像素都是前一个像素的 neighbor.\nConnected set 连通集: 当邻域是等价关系 \\(\\sim\\) 时, 二值图像 \\(b/\\sim\\) 中的每个等价类就是一个连通集.\n\nBoundary 边界: 跟拓扑学里的定义一样, 边界点的邻域包含区域外的像素.\n\n\nEdge detection 边缘检测\n\nGradient + Thresholding\nLPF + Laplacian: 比如 LoG (Laplacian of Gaussian).\nEdge linking 边缘连接: 边缘可能不连续, 可以利用梯度方向等信息把边缘连接起来.\nHough Transform 霍夫变换\n\nEdge-based object detection 基于边缘的目标检测\n\nDistance Transform (DT) 距离变换: 计算每个像素到最近边界像素的 \\(\\mathcal{L}^2\\) 距离.\n\nRegion-based segmentation 基于区域的分割"
  },
  {
    "objectID": "posts/dip-crash-course/index.html#morphological-形态学图像处理",
    "href": "posts/dip-crash-course/index.html#morphological-形态学图像处理",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "5 Morphological 形态学图像处理",
    "text": "5 Morphological 形态学图像处理\n\n这里主要涉及 PS 软件中的各种基础操作的原理.\n\n\nBinary erosion / dilation 二值图像腐蚀/膨胀: 想象一个 binary image \\(f\\) 的前景是凹下去的模具, 想象 SE (Structuring Element) 像俄罗斯方块一样掉落在 \\(f\\) 上, 记录下:\n\nSE 能整体掉进去的地方, 这些就是腐蚀 \\(f \\ominus se\\) 的结果. 腐蚀过的前景 (\\(f \\ominus se\\)) 只会比 \\(f\\) 一样大或者更小.\n任何一个 SE 方块能掉进去的地方, 这些就是膨胀 \\(f \\oplus se\\) 的结果. 膨胀过的前景 (\\(f \\oplus se\\)) 只会比 \\(f\\) 一样大或者更大.\nErosion 和 Dilation 互为 dual\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Binary Erosion [1]\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Binary Dilation [1]\n\n\n\n\n\n\n\nOpening 开运算: 先腐蚀后膨胀, \\(b \\circ se \\equiv (b \\ominus se) \\oplus se\\).\nClosing 闭运算: 先膨胀后腐蚀, \\(b \\bullet se \\equiv (b \\oplus se) \\ominus se\\)."
  },
  {
    "objectID": "posts/dip-crash-course/index.html#pca-主成分分析",
    "href": "posts/dip-crash-course/index.html#pca-主成分分析",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "6 PCA 主成分分析",
    "text": "6 PCA 主成分分析"
  },
  {
    "objectID": "posts/dip-crash-course/index.html#image-compression-图像压缩",
    "href": "posts/dip-crash-course/index.html#image-compression-图像压缩",
    "title": "DIP Crash Course 数字图像处理速成笔记",
    "section": "7 Image Compression 图像压缩",
    "text": "7 Image Compression 图像压缩\n\n信息永远不能被压缩, 只是被压缩的部分变成编解码规则了.\n\n\n7.1 Basic Concepts 基本概念\n\n若图片 \\(f\\) 压缩前可以被 \\(100\\) bit 表示, 压缩后可以被 \\(75\\) bit 表示, 则:\n\nCompression ratio 压缩比 \\(C = 100/75\\).\nRelative data redundancy 相对数据冗余 \\(R = 1-0.75\\).\n\n\n\n\n7.2 Lossless Compression 无损压缩\n\nHuffman coding 霍夫曼编码\nArithmetic coding 算术编码\nLZW 编码\n\n\n\n7.3 Lossy Compression 有损压缩\n\nJPEG:\n\n颜色空间变换 (RGB \\(\\to\\) YCbCr): 利用人眼对亮度更敏感的特点.\n分块 (\\(8\\times 8\\) blocks): 计算较快.\nDCT (离散余弦变换): 就是 DFT.\nQuantization (量化，唯一真正「有损」的一步): 在频域被选择性地 mask 掉一些系数.\nZig-zag 扫描\nEntropy coding (Huffman / Arithmetic)\n\n\n\n\n7.4 Watermarking 数字水印\n\nVisible watermark 可见水印: 直接把水印叠加在图片上.\nInvisible watermark 隐形水印\n\nRobustness 水印必须能抵抗以下操作: 压缩, 缩小/放大, 裁剪, 加噪声, 滤波, 镜像, etc.\n简单来说, 可以将水印直接叠加在频域系数上, 再反变换得到水印图像."
  },
  {
    "objectID": "posts/wsn-crash-course/index.html",
    "href": "posts/wsn-crash-course/index.html",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "",
    "text": "物理层负责决定信号具体以什么方式存在以及频率、电压等参数.\n\n\nWireless medium 无线传输介质\n\nRadio Frequencies (RF) (使用最多, 本篇只关注这个)\n\n\\(3 \\text{ Hz to } 300\\text{ GHz}\\)\nISM (Industrial, Scientific, and Medical) bands: RF 频段中为工业、科研、医疗保留的频段, 用户可以无需许可证在功率范围内自由使用.\nMain techs:\n\nNarrowband 窄带\nSpread Spectrum 扩频\nUltra-Wideband (UWB) 超宽带\n\n\nOptical\nAcoustic\nMagnetic Induction Techniques\n\n\n\n\n\nDSSS 直接序列扩频 (Direct Sequence Spread Spectrum)\n\nDSSS 通过将原始二进制信息 (Baseband) 异或上一串快速变化的 PN chip (见 Figure 1) 来提高基带带宽 (因为时域变化更快, 频域带宽会更宽).\n\nPN chip 比特率高于原始信号比特率!\n\nPN chip (Pseudo-Noise chip) sequence 伪随机码片, TX/RX 会产生相同的 PN 序列来进行扩频和解扩.\n\n只有知道 PN 序列的 RX 才能正确解扩.\n\n\n\n\n\n\n\n\nFigure 1: DSSS 示意图 (中间调制的过程忽略了) [1]\n\n\n\n\n\n\n\n\n\n\n\nModulation in brief\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 注意区分数字调制和模拟调制 [2], 另外 Digital carrier 我们之前接触地很少.\n\n\n\n\n\n\n\n\nFHSS 频率跳变扩频 (Frequency Hopping Spread Spectrum)\n\n通过在多个频率间跳变来实现扩频. 跳变的频率中心由 PN chip 控制.\n\nPN chip 的符号率与原始信息的符号率的大小不一定谁大, 若 PN chip 变化很慢, 称为 Slow FHSS (Figure 3), 反之为 Fast FHSS (Figure 4).\nChip duration: Figure 3 中的 \\(T_c\\).\nFast FHSS 的抗干扰能力更强!, 因为一般 jamming 都是窄带 (省能量), 只要击中一个调制 symbol 的中心频率, 那么这个 symbol 就会被破坏掉. 而 Fast FHSS 在一个调制 symbol 内会跳变多个频率, 因此被击中的概率更低.\n\nFHSS 之后可以 FSK 也可以 ASK 调制 (Figure 2)!\n以 Figure 3 为例, 若 FHSS 与 FSK 结合, 则设计两个重要参数 \\(M, k\\):\n\n\\(M = 4\\): FSK 符号数量. 每次 FSK 以 \\(f_c\\) 为中心有 \\(4\\) 个偏移的频率 (即 \\(4\\) 个 symbol, 每个承载 \\(2\\) bit 信息).\n\\(k = 2\\): PN 分组长度, 代表有 \\(4\\) 个不同的 \\(f_c\\).\n注意区分用于跳频的中心频率 \\(f_c\\) 和用来调制的偏移频率!\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Slow FHSS\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Fast FHSS\n\n\n\n\n\n\n\n\n\n\nMotivation: UWB 采用完全不同的路线, 它不用载波, 直接在时间轴上发送非常短的脉冲 (ns 级别), 自然地由 Fourier 变换知, 这种短脉冲在频域上会有非常宽的带宽! 由于无需维持稳定的高频载波, UWB 传输功耗非常低.\n\n但是 UWB 的传输距离 \\(&lt;10 \\text{ m}\\)."
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#phy-physical-layer-物理层",
    "href": "posts/wsn-crash-course/index.html#phy-physical-layer-物理层",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "",
    "text": "物理层负责决定信号具体以什么方式存在以及频率、电压等参数.\n\n\nWireless medium 无线传输介质\n\nRadio Frequencies (RF) (使用最多, 本篇只关注这个)\n\n\\(3 \\text{ Hz to } 300\\text{ GHz}\\)\nISM (Industrial, Scientific, and Medical) bands: RF 频段中为工业、科研、医疗保留的频段, 用户可以无需许可证在功率范围内自由使用.\nMain techs:\n\nNarrowband 窄带\nSpread Spectrum 扩频\nUltra-Wideband (UWB) 超宽带\n\n\nOptical\nAcoustic\nMagnetic Induction Techniques\n\n\n\n\n\nDSSS 直接序列扩频 (Direct Sequence Spread Spectrum)\n\nDSSS 通过将原始二进制信息 (Baseband) 异或上一串快速变化的 PN chip (见 Figure 1) 来提高基带带宽 (因为时域变化更快, 频域带宽会更宽).\n\nPN chip 比特率高于原始信号比特率!\n\nPN chip (Pseudo-Noise chip) sequence 伪随机码片, TX/RX 会产生相同的 PN 序列来进行扩频和解扩.\n\n只有知道 PN 序列的 RX 才能正确解扩.\n\n\n\n\n\n\n\n\nFigure 1: DSSS 示意图 (中间调制的过程忽略了) [1]\n\n\n\n\n\n\n\n\n\n\n\nModulation in brief\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: 注意区分数字调制和模拟调制 [2], 另外 Digital carrier 我们之前接触地很少.\n\n\n\n\n\n\n\n\nFHSS 频率跳变扩频 (Frequency Hopping Spread Spectrum)\n\n通过在多个频率间跳变来实现扩频. 跳变的频率中心由 PN chip 控制.\n\nPN chip 的符号率与原始信息的符号率的大小不一定谁大, 若 PN chip 变化很慢, 称为 Slow FHSS (Figure 3), 反之为 Fast FHSS (Figure 4).\nChip duration: Figure 3 中的 \\(T_c\\).\nFast FHSS 的抗干扰能力更强!, 因为一般 jamming 都是窄带 (省能量), 只要击中一个调制 symbol 的中心频率, 那么这个 symbol 就会被破坏掉. 而 Fast FHSS 在一个调制 symbol 内会跳变多个频率, 因此被击中的概率更低.\n\nFHSS 之后可以 FSK 也可以 ASK 调制 (Figure 2)!\n以 Figure 3 为例, 若 FHSS 与 FSK 结合, 则设计两个重要参数 \\(M, k\\):\n\n\\(M = 4\\): FSK 符号数量. 每次 FSK 以 \\(f_c\\) 为中心有 \\(4\\) 个偏移的频率 (即 \\(4\\) 个 symbol, 每个承载 \\(2\\) bit 信息).\n\\(k = 2\\): PN 分组长度, 代表有 \\(4\\) 个不同的 \\(f_c\\).\n注意区分用于跳频的中心频率 \\(f_c\\) 和用来调制的偏移频率!\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Slow FHSS\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Fast FHSS\n\n\n\n\n\n\n\n\n\n\nMotivation: UWB 采用完全不同的路线, 它不用载波, 直接在时间轴上发送非常短的脉冲 (ns 级别), 自然地由 Fourier 变换知, 这种短脉冲在频域上会有非常宽的带宽! 由于无需维持稳定的高频载波, UWB 传输功耗非常低.\n\n但是 UWB 的传输距离 \\(&lt;10 \\text{ m}\\)."
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#data-link-layer-数据链路层",
    "href": "posts/wsn-crash-course/index.html#data-link-layer-数据链路层",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "2 Data Link Layer 数据链路层",
    "text": "2 Data Link Layer 数据链路层\n\n2.1 LLC (Logical Link Control) 逻辑链路控制\n\nLLC 提供统一接口给网络层.\n\n\nFrame management 帧管理\n\nByte Count 字节计数: 在帧头部存储帧的字节数.\n\n问题: 若字节数出错, 则会 **out of sync.\n\nFlag Bytes + Byte Stuffing 标志字节 + 转义符: 为了解决 frame 之间的同步 (分割) 问题, 在每个 frame 的头尾添加特殊的 flag byte (如 0b01111110). 若这个 flag byte 出现在 frame 内部, 则在它前面添加一个转义符 (ESC, escape byte). 若 ESC 本身出现在 frame 内部, 则也在它前面添加一个 ESC.\n\n\n\n\n2.2 MAC (Medium Access Control) 介质访问控制\n\nMAC 子层非常接近物理层, 控制物理层什么时候发、发多久.\n\n\nBroadcast channel 广播信道 (Multiaccess channel / random access channel)\n\n在一个广播信道上, 同一时间、同一频段、同一空间接收点只能有一个节点发送数据, 否则会发生碰撞 (collision).\n\nMAC Protocol: 用来控制物理层什么时候发、发多久的协议.\n\nContention-free 非竞争型\n\nStatic channel allocation 静态信道分配: FDMA (每个人固定分配一个频段), TDMA (每个人固定分配一个时间片), CDMA (每个人固定分配一个信号空间的方向).\nDynamic channel allocation 动态信道分配: Polling 轮询, Token Passing 令牌传递, Reservation 预约.\n\nContention-based 竞争型\n\nALOHA: 想发就发, 撞了重来.\nCSMA (Carrier Sense Multiple Access) 载波监听多路访问: 先听一听, 没人说话再发.\nMACA (Multiple Access with Collision Avoidance) 多路访问与碰撞避免: 先举手再说话.\nMACAW (MACA with ACK) 带确认的多路访问与碰撞避免: 先举手再说话, 说完还要等确认 (MACA 的改进版)."
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#network-layer-网络层",
    "href": "posts/wsn-crash-course/index.html#network-layer-网络层",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "3 Network Layer 网络层",
    "text": "3 Network Layer 网络层\n\nRouting Protocols 路由算法\nRouting metrics 路由指标 (见 Figure 6)\n\n(Min) Number of hops 跳数: (relay node 指中继节点的个数 (不算 source 和 sink)).\n(Min) Energy consumption (per packet) 能量消耗: 每条链路上的能量消耗加起来即可.\n(Max) Average energy capacity 平均能量容量: relay node 上剩余能量的平均值.\n(Max) Minimum energy capacity 最小能量容量: relay node 上剩余能量的最小值 (要尽可能大).\n(Min) Latency 延迟: 每条链路上的延迟加起来即可.\n(Max) Time to network partition 网络分裂时间: 由于 WSN 中节点由电池供电, 当确定一种路由算法时, 节点上的数值 (电量) 会逐渐消耗, 直到网络中存在两个节点无法通信 (网络分裂). 网络分裂时间越长越好.\n\nHierarchical routing\n\n\n\n\n\n\n\n\nEXAMPLE: 找路径题目\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: 这种找路径的题目就是纯**, 暴力枚举即可\n\n\n\n\n\n\n\n\n\nFigure 6: Solution to Figure 5"
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#localization-定位",
    "href": "posts/wsn-crash-course/index.html#localization-定位",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "4 Localization 定位",
    "text": "4 Localization 定位\n\n「温度传感器报告 \\(80 ^\\circ \\text{C}\\)」 是没有意义的, 「在 A 区域第 3 号设备旁」 才有意义.\n\n\n4.1 Range-based 依赖距离测量\n\nRanging techniques 测距技术\n\nRSS (Received Signal Strength) 接收信号强度: 在已知 path-loss model 的情况下, 可通过比较接收信号强度与发射信号强度来估计距离. 如果不是 LoS (对着发), 误差会很大.\nToA (Time of Arrival) 到达时间: 利用初中物理 路程 = 光速 × 时间, 知道时间即可算出距离.\n\nOne-way ToA: 需要 TX 和 RX sync (Figure 7 (a)), 由于光速太快, 需要极高精度的时钟同步!\nTwo-way ToA: 不需要 sync! 但要知道 RX 端的处理时间 (processing delay \\(t_3-t_2\\) in Figure 7 (b)).\n\nTDoA (Time Difference of Arrival) 到达时间差: 不需要 sync! 如 Figure 7 (c), \\(t_1\\) 发 RF, \\(t_3\\) 发 sound, 则距离 \\[d = (v_1-v_2) \\cdot ((t_4-t_2) - (t_3-t_1))\\]\n\n\n\n\n\n\n\nFigure 7: (a) One-way ToA; (b) Two-way ToA; (c) TDoA [3]\n\n\n\n\nAoA (Angle of Arrival) 到达角度: 单看角度当然不能知道距离, 需要多个节点测量同一个 TX 的 AoA 来三角定位 (Triangulation). 计算相对复杂.\n\nRange-based protocols\n\nTriangulation 三角测量: 见 Figure 8, 两个 anchor node \\(A, B\\) 相对位置已知, 再测量两个角度即可.\nTrilateration 三边测量: 见 Figure 9, 三个球相交于一点. GPS 的工作原理 (只不过 GPS 需要 \\(4\\) 个卫星来同时解出时间偏移).\n\nIterative multilateration 迭代多边测量: 在一个 WSN 系统中, 先用人工或 GPS 确定少量几个 anchor node 相对位置, 然后用 Trilateration 算出其他 node 位置, 这些 node 就变成新的 anchor node … (这种方法会有 Error propagation 问题, 但仍在使用).\nCollaborative multilateration 协同多边测量: 一个 node 附近不一定会有 \\(3\\) 个 anchor node, 所有 node 都可以用 Trilateration 开始测量周围的 node 位置, 然后用一些复杂的优化算法来算出所有 node 位置 (更准确).\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 8: Triangulation\n\n\n\n\n\n\n\n\n\n\n\nFigure 9: Trilateration\n\n\n\n\n\n\n\n\n4.2 Range-free 不依赖距离测量\n\n\n4.3 Localization style\n\nPeriodic: 周期性地对所有节点进行定位.\nEvent-driven: 只有当某个感知事件发生时, 相关节点才触发定位过程."
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#synchronization-同步",
    "href": "posts/wsn-crash-course/index.html#synchronization-同步",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "5 Synchronization 同步",
    "text": "5 Synchronization 同步\n\n节点 \\(A,B\\) 的时钟是同步的意思是: 在非狭义相对论的范围内,「12:20」这个时间戳对于 \\(A,B\\) 节点没有歧义.\n\n\n一些概念:\n\nClock offset: 路程差.「快了 20 s」\nClock rate: 速率. 1 s 内这个时钟实际只走了 0.9 s (clock rate = 0.9).\n\nClock skew: 速率差. 两个时钟的 Clock rates difference.\n\nDrift rate: 加速度. 一个时钟时快时慢的程度.\n\nChallenges:\n\nEnvironmental effects: 天太冷影响同步.\nEnergy constraints: 电池没电钟走慢了.\nWireless medium and mobility: ACK 信号丢包了.\n\nSync methods 同步方法\n\nOne-way sync 单向同步: Node \\(A\\) 将发送时刻的时间戳 \\(t_1\\) 附加在消息中发送给 Node \\(B\\), 传播时间 \\(D\\) 很小 (一般忽略或设为常数), \\(B\\) 在 \\(t_2\\) 收到. 如果 \\(t_2\\) 和 \\(t_1 + D\\) 有差异, 则这个差异就是 clock offset \\(\\delta\\).\nTwo-way sync 双向同步\nReceiver-receiver sync"
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#security-in-wsns",
    "href": "posts/wsn-crash-course/index.html#security-in-wsns",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "6 Security in WSNs",
    "text": "6 Security in WSNs\n\nCIA Model\n\nComponents:\n\nConfidentiality 机密性: 不该看到的人, 看不到数据.\nIntegrity 完整性: 数据在传输过程中不被篡改.\nAvailability 可用性: 正常工作的概率.\n\n在不同的场景中, 这三者的重要性不同.\n\n火灾检测: IA &gt; C\n机场生物识别信息收集: CI &gt; A"
  },
  {
    "objectID": "posts/wsn-crash-course/index.html#queuing-theory-排队论",
    "href": "posts/wsn-crash-course/index.html#queuing-theory-排队论",
    "title": "WSN Crash Course 无线传感器网络速成笔记",
    "section": "7 Queuing Theory 排队论",
    "text": "7 Queuing Theory 排队论\n\n\n\n\n\n\n\nBernoulli, Poisson, Exponential, Binomial, Geometric, Negative Binomial 分布关系\n\n\n\n\n\n见 这篇文章, but in brief:\n\n连续时间 Bernoulli 过程 \\(\\iff\\) 单位时间到达人数 \\(\\sim \\operatorname{Pois} (\\lambda) \\iff\\) 相邻两次到达时间间隔 \\(\\sim \\operatorname{Exp} (\\lambda)\\).\n离散时间 Bernoulli 过程 \\(\\iff\\) 单位时间到达人数 \\(\\sim B(n,p) \\iff\\) 相邻两次到达时间间隔 \\(\\sim G(p)\\).\n\n几何分布是负二项分布的特殊情况: \\(G(p) \\iff NB(1, p)\\).\n\n\n\n\n\n\n\n7.1 Kendall’s Notation\n\\[\nA/S/C/K/N/D\n\\]\n\n\\(A\\): Arrival model 到达模型, 可选:\n\n\\(M\\): Memoryless (Poisson process).\n\\(E_k\\): Erlang distribution (Sum of k i.i.d. exponential R.V.).\n\\(G\\): General distribution.\n\n\\(S\\): Service model 服务模型, 可选同上.\n\\(C\\): Number of parallel servers 并行服务器数量 (\\(\\neq\\) number of queues).\n\\(K\\): Capacity of queue 队列容量 (maximum number of people allowed in each queue), 可选:\n\nFinite.\nInfinite (\\(\\infty\\)).\n\n\\(N\\): Capacity of calling population (队里的人从哪里来的, 如果是有限的则会影响 arrival rate), 可选同上.\n\\(D\\): Service discipline 服务纪律, 可选:\n\nFIFO/FCFS: First In (Come), First Out (Serve).\nLIFO/LCFS: Last In (Come), First Out (Serve).\nSIRO: Serve In Random Order.\nPQ: Priority Queueing.\n\n\n\n\n7.2 Examples\n\n\n\n\n\n\n\n\n\nFigure 10: \\(M / M / 1 / 7 / \\infty / \\text{FIFO}\\) Queue\n\n\n\n\n\n\n\n\n\n\n\nFigure 11: \\(M / M / 3 / 8 / \\infty / \\text{FIFO}\\) Queue\n\n\n\n\n\n\n\n\n7.3 Notation of Parameters\n\ncust.: customer.\n\\(\\lambda\\): Mean arrival rate, \\(\\mathbb{E} (\\# \\text{cust. arrived})\\) per unit time.\n\\(\\mu\\): Mean service rate, \\(\\mathbb{E} (\\# \\text{cust. served})\\) per unit time.\n\\(\\rho := \\lambda / (C \\mu)\\): Utilization factor / Traffic intensity.\n\\(n\\): \\(\\# \\text{cust.}\\) in the:\n\nsystem: \\(n_s\\).\nqueue: \\(n_q\\).\n\n\\(\\mathbb{P}_n(t)\\): Probability of having \\(n\\) customers in the system at time \\(t\\).\n\nWrite \\(\\pi_n \\equiv \\mathbb{P}_n (\\infty)\\), 平稳后 system 中有 \\(n\\) 个 cust. 的概率.\n\n\\(W\\): \\(\\mathbb{E}(\\text{waiting time})\\) per cust. in the:\n\nsystem: \\(W_s\\) (见 Equation 2).\nqueue: \\(W_q\\) (见 Equation 2).\n\n\\(L\\): \\(\\mathbb{E}(\\# \\text{cust.})\\) in the:\n\nsystem: \\(L_s\\) (见 Equation 1).\nqueue: \\(L_q\\) (见 Equation 2).\n\n\n\n\n7.4 \\(M / M / 1 / \\infty / \\infty / \\text{FIFO}\\) Queue 生灭过程\n\ncust. 到达和离开可以代表生命的诞生和死亡, 因此这种排队过程也叫生灭过程 (birth-death process).\n\n\n7.4.1 系统中的稳态人数为几何分布\n\n这是一切生灭过程结论的起点!\n\n\n\n\n\n\n\n\nGeometric Distribution\n\n\n\n\nTheorem 1 平稳后 system (not queue!) 中的人数 \\(\\pi\\) 满足几何分布1: \\[\\pi+1 \\sim G(1-\\rho).\\]\n\n\n\n\n1 加一的原因是: 几何分布从 \\(1\\) 开始, 而 \\(\\pi\\) 的取值从 \\(0\\) 开始.\n并且这是一个全局稳定解, 即最终 system 中的分布与队中的初始人数无关!! (可理解为 \\(\\begin{bmatrix} \\pi_0 \\\\ \\pi_1 \\\\ \\pi_2 \\\\ \\vdots \\end{bmatrix}\\) 为无穷维相空间中的吸引子).\n\n\n\n\n\n\n\n\n系统中的平均人数\n\n\n\n\nCorollary 1 由 Theorem 1 和 Geometric Distribution 的性质可知: \\[\\boxed{L_s = \\frac{\\rho}{1-\\rho}} \\tag{1}\\]\n\n\n\n\n\n\n7.4.2 Expectation Space (ES)\n\n这是生灭过程剩余所有结论的直接诱导思想!\n\n\nES 基本思想和局限性:\n\n对于任何随机过程, 很多时候可以将随机性忽略, 让考虑所有量都按照期望稳定存在的 mental picture. 由于没有找到已知的合适的名词, 我们姑且将此称为 Expectation Space 吧.\nAdvantage: ES 可以让很多结论变得显然.\nLimitation: 对于生灭过程, 若 \\(\\lambda &lt; \\mu\\), 若想象成水按速率 \\(\\lambda\\) 流入管道, 流出速率最大值可达 \\(\\mu\\), 则管道里永远也不会留下水, 而后面我们会知道实际上管道里平均来说会留下 \\(L_s = \\rho / (1-\\rho)\\) 的水量. 这是因为 cust. 到达和离开是随机的, 有可能一小段时间内有很多 cust. 到达而处理时间又比较长, 这样管道里就会积累一些水.\n\n\n\n\n\n\n\n\n\n生灭过程的 Expectation Space 结论\n\n\n\n\nTheorem 2 由 Figure 12:\n\n\n\n\n\n\nFigure 12: 生灭过程的 ES.\n\n\n\n结合 Corollary 1 显然有:\n\\[\n\\begin{aligned}\nL_s = \\lambda W_s &\\implies \\boxed{W_s = \\frac{L_s}{\\lambda} = \\frac{1}{\\mu-\\lambda}} \\\\\nW_s - W_q = \\frac{1}{\\mu} &\\implies \\boxed{W_q = W_s - \\frac{1}{\\mu} = \\frac{\\rho}{\\mu - \\lambda}} \\\\\nL_q = \\lambda W_q &\\implies \\boxed{L_q = \\frac{\\rho^2}{1-\\rho}}.\n\\end{aligned}\n\\tag{2}\\]"
  },
  {
    "objectID": "posts/probability-thy/index.html#sec-common-distributions",
    "href": "posts/probability-thy/index.html#sec-common-distributions",
    "title": "Probability Theory Takeaways 概率论极简笔记",
    "section": "3 Distribution 常见分布",
    "text": "3 Distribution 常见分布\n\nBernoulli: \\(X \\sim \\operatorname{Ber}(p)\\), 不均匀的硬币.\nBinomial: \\(X \\sim B(n, p)\\), 固定次数 \\(n\\) 看正面数量. E.g., 好评数量.\n\nNegative Binomial: \\(X \\sim NB(s, p)\\) 跟 Binomial 操作相反, 固定正面数量 (s, success) 看总次数.\n\nGeometric: \\(X \\sim G(p)\\), 特例, \\(s=1\\), 第一次出现正面要抛的次数的分布.\n\n\nHypergeometric: \\(X \\sim H(n, s, f)\\), 不放回版本的 Binomial (initial \\(p = s / (s+f)\\))\n\nNegative Hypergeometric: 跟 Hypergeometric 操作相反 (不常见, 略).\n\nPoisson: \\(X \\sim \\operatorname{Pois}(\\lambda)\\), 连续版本的 Binomial (离散化后 \\(\\lambda\\) 退化为 \\(p / n\\)). E.g., 单位时间顾客到达数.\n\nExponential: \\(X \\sim \\operatorname{Exp}(\\lambda)\\), 跟 Poisson 操作相反. E.g., 顾客到达的时间间隔."
  }
]
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marcobisky">
<meta name="dcterms.date" content="2025-06-17">
<meta name="description" content="祝大家会的全考, 蒙的全对 (Jun 17, 2025, 16:38 已完更)">

<title>CCD Crash Course 通信电路速成笔记 – Marcobisky</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5bc7f946787c109e621af665ddda306b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-611d27bfacf889a592cb25f4080bab07.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-5bc7f946787c109e621af665ddda306b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="CCD Crash Course 通信电路速成笔记 – Marcobisky">
<meta property="og:description" content="祝大家会的全考, 蒙的全对 (Jun 17, 2025, 16:38 已完更)">
<meta property="og:image" content="https://marcobisky.github.io/posts/ccd-crash-course/cover.png">
<meta property="og:site_name" content="Marcobisky">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="1363">
<meta property="og:image:width" content="3745">
<meta name="twitter:title" content="CCD Crash Course 通信电路速成笔记 – Marcobisky">
<meta name="twitter:description" content="祝大家会的全考, 蒙的全对 (Jun 17, 2025, 16:38 已完更)">
<meta name="twitter:image" content="https://marcobisky.github.io/posts/ccd-crash-course/cover.png">
<meta name="twitter:creator" content="@Marcobisky77">
<meta name="twitter:image-height" content="1363">
<meta name="twitter:image-width" content="3745">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Marcobisky</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tinyml/index.html"> 
<span class="menu-text">TinyML</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-change-of-mind" id="toc-sec-change-of-mind" class="nav-link active" data-scroll-target="#sec-change-of-mind"><span class="header-section-number">1</span> Change of Mind 这个可能有用</a></li>
  <li><a href="#transistors-晶体管元件" id="toc-transistors-晶体管元件" class="nav-link" data-scroll-target="#transistors-晶体管元件"><span class="header-section-number">2</span> Transistors 晶体管元件</a>
  <ul class="collapse">
  <li><a href="#diode-二极管" id="toc-diode-二极管" class="nav-link" data-scroll-target="#diode-二极管"><span class="header-section-number">2.1</span> Diode 二极管 ★☆☆☆☆</a></li>
  <li><a href="#mosfet-场效应管" id="toc-mosfet-场效应管" class="nav-link" data-scroll-target="#mosfet-场效应管"><span class="header-section-number">2.2</span> MOSFET 场效应管 ★☆☆☆☆</a></li>
  <li><a href="#bjt-三极管" id="toc-bjt-三极管" class="nav-link" data-scroll-target="#bjt-三极管"><span class="header-section-number">2.3</span> BJT 三极管 ★★★★☆</a></li>
  </ul></li>
  <li><a href="#network-analysis-网络分析" id="toc-network-analysis-网络分析" class="nav-link" data-scroll-target="#network-analysis-网络分析"><span class="header-section-number">3</span> Network Analysis 网络分析 ★★☆☆☆</a>
  <ul class="collapse">
  <li><a href="#sec-thevenin-norton" id="toc-sec-thevenin-norton" class="nav-link" data-scroll-target="#sec-thevenin-norton"><span class="header-section-number">3.1</span> Thevenin &amp; Norton 定理</a></li>
  <li><a href="#input-output-impedance-输入输出阻抗" id="toc-input-output-impedance-输入输出阻抗" class="nav-link" data-scroll-target="#input-output-impedance-输入输出阻抗"><span class="header-section-number">3.2</span> Input &amp; Output Impedance 输入/输出阻抗</a></li>
  <li><a href="#conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输" id="toc-conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输" class="nav-link" data-scroll-target="#conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输"><span class="header-section-number">3.3</span> Conjugate Matching &amp; Maximum Power Transfer 匹配负载与最大功率传输</a></li>
  <li><a href="#sec-matching-network-design" id="toc-sec-matching-network-design" class="nav-link" data-scroll-target="#sec-matching-network-design"><span class="header-section-number">3.4</span> Matching Network Design 匹配网络设计</a></li>
  </ul></li>
  <li><a href="#amplifier-circuit-放大电路分析" id="toc-amplifier-circuit-放大电路分析" class="nav-link" data-scroll-target="#amplifier-circuit-放大电路分析"><span class="header-section-number">4</span> Amplifier Circuit 放大电路分析 ★★★★☆</a>
  <ul class="collapse">
  <li><a href="#分析纲领" id="toc-分析纲领" class="nav-link" data-scroll-target="#分析纲领"><span class="header-section-number">4.1</span> 分析纲领 ★★★★★</a></li>
  </ul></li>
  <li><a href="#mixer-circuit-混频电路" id="toc-mixer-circuit-混频电路" class="nav-link" data-scroll-target="#mixer-circuit-混频电路"><span class="header-section-number">5</span> Mixer Circuit 混频电路 ★★★☆☆</a>
  <ul class="collapse">
  <li><a href="#sec-common-mixer" id="toc-sec-common-mixer" class="nav-link" data-scroll-target="#sec-common-mixer"><span class="header-section-number">5.1</span> Common Mixer 常见混频器</a></li>
  <li><a href="#sec-image-frequency" id="toc-sec-image-frequency" class="nav-link" data-scroll-target="#sec-image-frequency"><span class="header-section-number">5.2</span> Image Frequency 镜像频率</a></li>
  </ul></li>
  <li><a href="#sec-rlc-filter" id="toc-sec-rlc-filter" class="nav-link" data-scroll-target="#sec-rlc-filter"><span class="header-section-number">6</span> RLC 电路作为滤波器</a>
  <ul class="collapse">
  <li><a href="#resonance-协振" id="toc-resonance-协振" class="nav-link" data-scroll-target="#resonance-协振"><span class="header-section-number">6.1</span> Resonance 协振</a></li>
  <li><a href="#q-factor-品质因数" id="toc-q-factor-品质因数" class="nav-link" data-scroll-target="#q-factor-品质因数"><span class="header-section-number">6.2</span> Q-factor 品质因数</a></li>
  <li><a href="#sec-rlc-rejection-filter" id="toc-sec-rlc-rejection-filter" class="nav-link" data-scroll-target="#sec-rlc-rejection-filter"><span class="header-section-number">6.3</span> RLC 电路作为 Image Rejection 滤波器</a></li>
  <li><a href="#sec-rlc-oscillator" id="toc-sec-rlc-oscillator" class="nav-link" data-scroll-target="#sec-rlc-oscillator"><span class="header-section-number">6.4</span> RLC 电路作为振荡器的反馈电路 ★★★★★ (See Section&nbsp;7.2)</a></li>
  <li><a href="#sec-rc-pll" id="toc-sec-rc-pll" class="nav-link" data-scroll-target="#sec-rc-pll"><span class="header-section-number">6.5</span> <span class="math inline">\(RC\)</span> 电路作为 PLL 的 Loop Filter</a></li>
  </ul></li>
  <li><a href="#oscillator-circuit-振荡器" id="toc-oscillator-circuit-振荡器" class="nav-link" data-scroll-target="#oscillator-circuit-振荡器"><span class="header-section-number">7</span> Oscillator Circuit 振荡器 ★★★☆☆</a>
  <ul class="collapse">
  <li><a href="#电路振荡要满足的条件" id="toc-电路振荡要满足的条件" class="nav-link" data-scroll-target="#电路振荡要满足的条件"><span class="header-section-number">7.1</span> 电路振荡要满足的条件</a></li>
  <li><a href="#sec-design-positive-feedback" id="toc-sec-design-positive-feedback" class="nav-link" data-scroll-target="#sec-design-positive-feedback"><span class="header-section-number">7.2</span> 设计正反馈电路</a></li>
  <li><a href="#sec-vco" id="toc-sec-vco" class="nav-link" data-scroll-target="#sec-vco"><span class="header-section-number">7.3</span> VCO (Voltage Controlled Oscillator) 电压控制振荡器</a></li>
  <li><a href="#pll-phase-locked-loops-锁相环" id="toc-pll-phase-locked-loops-锁相环" class="nav-link" data-scroll-target="#pll-phase-locked-loops-锁相环"><span class="header-section-number">7.4</span> PLL (Phase Locked Loops) 锁相环 ★★★★★</a></li>
  </ul></li>
  <li><a href="#modulation-demodulation-调制解调" id="toc-modulation-demodulation-调制解调" class="nav-link" data-scroll-target="#modulation-demodulation-调制解调"><span class="header-section-number">8</span> Modulation &amp; Demodulation 调制解调 ★★★★★</a>
  <ul class="collapse">
  <li><a href="#am-调幅" id="toc-am-调幅" class="nav-link" data-scroll-target="#am-调幅"><span class="header-section-number">8.1</span> AM 调幅</a></li>
  <li><a href="#pm-fm-角度调制" id="toc-pm-fm-角度调制" class="nav-link" data-scroll-target="#pm-fm-角度调制"><span class="header-section-number">8.2</span> PM &amp; FM 角度调制</a></li>
  <li><a href="#rf-接收机与解调" id="toc-rf-接收机与解调" class="nav-link" data-scroll-target="#rf-接收机与解调"><span class="header-section-number">8.3</span> RF 接收机与解调</a></li>
  </ul></li>
  <li><a href="#a-d-模数转换" id="toc-a-d-模数转换" class="nav-link" data-scroll-target="#a-d-模数转换"><span class="header-section-number">9</span> A &amp; D 模数转换 ★★★★★</a>
  <ul class="collapse">
  <li><a href="#op-amp-运算放大器" id="toc-op-amp-运算放大器" class="nav-link" data-scroll-target="#op-amp-运算放大器"><span class="header-section-number">9.1</span> Op-amp 运算放大器</a></li>
  <li><a href="#adc" id="toc-adc" class="nav-link" data-scroll-target="#adc"><span class="header-section-number">9.2</span> ADC</a></li>
  <li><a href="#dacdac-ppt" id="toc-dacdac-ppt" class="nav-link" data-scroll-target="#dacdac-ppt"><span class="header-section-number">9.3</span> DAC</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-page-left" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CCD Crash Course 通信电路速成笔记</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Circuit</div>
    <div class="quarto-category">Crash-Course</div>
    <div class="quarto-category">CN-blogs</div>
  </div>
  </div>

<div>
  <div class="description">
    祝大家会的全考, 蒙的全对 (Jun 17, 2025, 16:38 已完更)
  </div>
</div>


<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Marcobisky </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p><strong>宇宙安全声明</strong>: 本笔记是本人电子科技大学格院大三《通信电路设计》2025 年课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性.</p>
</blockquote>
<blockquote class="blockquote">
<p>EXAMPLE 是PPT或往年的经典题目, 框起来的公式<strong>必须记住或独立推导</strong>!!! 概念用<strong>粗体</strong>表示, *号章节了解即可, 其他的<strong>都有可能考</strong>!!!</p>
</blockquote>
<blockquote class="blockquote">
<p>本文 <strong>All Right Reserved 保留所有权利</strong>, 禁止商用和任何形式的转载!</p>
</blockquote>
<section id="sec-change-of-mind" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-change-of-mind"><span class="header-section-number">1</span> Change of Mind 这个可能有用</h2>
<ul>
<li><p><strong>人生苦短, 你还应去仰望深夜星河万顷的浩瀚，去聆听黄昏海风拂面的低语.</strong></p></li>
<li><p>事实证明 <span class="math inline">\(5\)</span> 天学完 CCD 是可行的.</p></li>
<li><p><strong>别当数学来学</strong>: 模电里面有很多 abuse of notation (AoN, 比如你看看「增益」这个词在 PLL 里面是怎么用的, dddd) 和抽象指标 (Carson’s rule 首当其冲, Modulation index 等) 和符号, <strong>他们并不值得你品味和推导</strong>, 因为这里面人为的因素太多 (比如规定 <span class="math inline">\(-3\text{ dB}\)</span> 就很小了, Carson 频带内包含 <span class="math inline">\(98\%\)</span> 的能量等等), 这不是数学, 即使你理解了其推导也没有任何意义.</p></li>
<li><p><strong>不同问题情景下我们大脑中的模型是不一样的</strong>, 比如:</p>
<ul>
<li>普通电路分析中二极管就是单向导通; 但是 BJT 的 DC 分析中, 要用到 <span class="math inline">\(0.7\text{ V}\)</span> 的开启电压; 而 AC 分析中由于小信号, <span class="math inline">\(0.7\text{ V}\)</span> 这个模型就不能用了, 而要用更复杂的 Shockley 方程.</li>
<li>放大电路中 <span class="math inline">\(C, L\)</span> 都可以看作理想, 但是在 RLC 电路中 (<a href="#sec-rlc-filter" class="quarto-xref">Section&nbsp;6</a>) 就不行.</li>
<li>适合的模型才是最好的, 不是越复杂越精确越好.</li>
</ul></li>
<li><p>关于「电压」和「电流」, 不要认为电压才是我们可以控制的, 然后再通过给电阻来控制电流. 有些元件 (BJT) 其实本质是通过操控电子的流动趋势来主动操控电流, 电流确定了以后, 再通过加电阻来获得电压.</p></li>
<li><p>关于「背诵」的价值的问题, 有一些是纯 sb (比如某4046的参数, FM 的最大频偏), 还有一些 (IF 放大器比 RF 放大器更不容易发生自激振荡) 这种性质, 如果给足你时间进行分析和实验, 你是可以独立地发现这个结论的. 你不知道这个结论只是时间的问题, 所以你可以非常无负罪感地将它记下来, 因为你明白这不是死记硬背, 而是用前人的经验给自己节约时间<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p></li>
<li><p><strong>考虑负载的习惯</strong>: 往往一个电路的性质 (滤波中心频率, 增益) 不仅取决于电路本身的参数, 还取决于你把它接在什么上面 (经典例子 <a href="#sec-rlc-oscillator" class="quarto-xref">Section&nbsp;6.4</a>). 你接在了抽象的东西上面, 它的作用也就变了. 这也是引入 「输入阻抗」和 「输出阻抗」 的动机.</p></li>
<li><p>往往一个问题的解决方法的得出会经历<strong>若干个重要思想</strong>, 这些思想:</p>
<ul>
<li>的数量没你想象的多, 可能只有 4-5 个. 以下概念的引入可以称作「思想」:
<ul>
<li><strong>稳态解和瞬态解是完全不同的两个思维角度</strong>: 比如反馈实际上是需要时间的, 输出不断地被送回输入, 然后再改变输出, 再回来改变输入, 这个过程既耗实际时间, 也耗思维时间. 当反馈电路变得很复杂时这个过程几乎不可能被人类的大脑想清楚, 于是我们才用「假设量-列方程」的方法来将这个过程各个量权衡的结果需要满足的关系形式化出来, <strong>我们解方程的过程就已经符号化地完成了整个分析过程</strong>并求出了最终的稳态解.</li>
<li><strong>Phasor</strong>: 正弦波与复数的同构, 接着引入阻抗, 颠覆了我们对信号的 mental picture (“信号是时域的”这种我们自己都无法察觉的直觉).</li>
<li><strong>信号是复值的</strong>: 傅立叶变换的基础思维, 这个思想都没有的话你就完全不理解 Fourier.</li>
<li><strong>传递函数及 <span class="math inline">\(s\)</span> 域</strong>: Phasor 只是频谱里的一个频率点了, 频谱甚至可以外延到 <span class="math inline">\(s\)</span> 域, 发现系统稳定性等可以在 <span class="math inline">\(s\)</span> 域中很好地描述.</li>
<li><strong>信号流图</strong>: 给机械系统、电路系统甚至生物进化等等提供了统一的分析方法, 进而发展出控制论.</li>
</ul></li>
<li>不 trivial, 以至于通过这些思想堆叠出来的解决方法看起来非常不直观和莫名其妙. 但是其实他们就是基于这些思想逻辑推理的自然产物<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>!</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;有些数学家对工程学嗤之以鼻的原因本质上是对「经验主义」的怀疑.</p></div><div id="fn2"><p><sup>2</sup>&nbsp;这一点在纯数上尤为明显.</p></div></div></section>
<section id="transistors-晶体管元件" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="transistors-晶体管元件"><span class="header-section-number">2</span> Transistors 晶体管元件</h2>
<section id="diode-二极管" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="diode-二极管"><span class="header-section-number">2.1</span> Diode 二极管 ★☆☆☆☆</h3>
<p>以下是二极管的三种由简入繁的模型:</p>
<ul>
<li><p><strong>Forward/Reverse Bias 正/反向偏置</strong> <img src="diode-bias.jpg" class="img-fluid"></p></li>
<li><p><strong>Threshold / Barrier potential</strong> 开启电压 <span class="math inline">\(V_t\)</span> : PN 结导通所需克服的势垒电压.</p>
<ul>
<li>Silicon 硅管 <span class="math inline">\(\boxed{V_t = 0.7 \text{ V}}\)</span> (<strong>默认这个值!</strong>)</li>
<li>Germanium 锗管 <span class="math inline">\(V_t = 0.3 \text{ V}\)</span></li>
<li>BJT 的 BE 间在 DC 工作模式下也有这个开启电压.</li>
</ul></li>
<li><p>*<strong>Shockley 二极管方程</strong>: <span id="eq-shockley"><span class="math display">\[ I_{\text{D}} = I_{\text{S}} \left( e^{\frac{V_{\text{D}}}{V_{\text{T}}}} - 1 \right) \tag{1}\]</span></span></p>
<ul>
<li><span class="math inline">\(I_{\text{S}}\)</span> 反向饱和电流 (非常小 <span class="math inline">\(10^{-15}\)</span>)</li>
<li><strong>Thermal Voltage 热电压 <span class="math inline">\(V_T\)</span></strong>: <span class="math display">\[\boxed{V_T = \frac{kT}{q}}\]</span>
<ul>
<li><strong>玻尔兹曼常数</strong>: <span class="math inline">\(k = 1.38 \times 10^{-23} \text{ J/K}\)</span>. <strong>工作温度</strong>: <span class="math inline">\(T = t + 273.15 \text{ K}\)</span>. <strong>电荷量</strong>: <span class="math inline">\(q = 1.6 \times 10^{-19} \text{ C}\)</span>.</li>
<li>室温 <span class="math inline">\(20^{\circ}\)</span> 下: <span class="math inline">\(\boxed{V_{\text{T}} = 25 \text{ mV}}\)</span></li>
</ul></li>
<li>“Diode Mixer”: 用到了这个方程, 见 <a href="#sec-diode-mixer" class="quarto-xref">Section&nbsp;5.1.1</a>.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="shockley.jpg" class="img-fluid figure-img"></p>
<figcaption>二极管的 Shockley 指数性质</figcaption>
</figure>
</div>
</div></div><ul>
<li><strong>Varicap Diode</strong>: 其实是电容, 见 <a href="#sec-vco" class="quarto-xref">Section&nbsp;7.3</a>.</li>
</ul>
</section>
<section id="mosfet-场效应管" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="mosfet-场效应管"><span class="header-section-number">2.2</span> MOSFET 场效应管 ★☆☆☆☆</h3>
<ul>
<li><p>JFET 可近似看作 depletion-mode MOSFET (<a href="#fig-mosfet" class="quarto-xref">Figure&nbsp;1</a>), 因此省略 JFET 的讨论.</p></li>
<li><p>结构: <strong>Gate, Source, Drain 栅极, 源极, 漏极</strong>.</p>
<ul>
<li>S 源极指的是<em>电子</em>的源 而不是<em>电流</em>的源. D 漏极同理.</li>
<li>计算题一般假设 <span class="math inline">\(I_{\text{S}} = I_{\text{D}}\)</span>.</li>
<li>JFET 的 GS 在 <span class="math inline">\(V_{\text{GS}}\)</span> 下可能有极微弱的 leakage current<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> <span class="math inline">\(I_{\text{GSS}}\)</span>, 造成 <strong>input resistance 输入电阻</strong> (很大): <span class="math display">\[R_{\text{in}} := \left\vert \frac{V_{\text{GS}}}{I_{\text{GSS}}} \right\vert\]</span></li>
<li>MOSFET 由于有氧化层隔离, GS 无电流.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="MOSFET-Water.GIF" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>G 闸门, <span class="math inline">\(V_{\text{DS}}\)</span> 水压, <span class="math inline">\(I_{\text{D}}\)</span> 水流</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;AoN, 应该记为 <span class="math inline">\(I_{\text{GSL}}\)</span> (gate-source leakage).</p></div></div><ul>
<li><p>MOSFET 分类:</p>
<div id="fig-mosfet" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mosfet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="mosfet.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mosfet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 箭头 <strong>in</strong> 代表 n-channel
</figcaption>
</figure>
</div>
<ul>
<li><strong>P/N channel 通道</strong>: 根据<strong>沟道</strong>类型 (不是 substrate 类型!), 空穴: P channel, 电子: N channel.</li>
<li><strong>Depletion/Enhancement mode 耗尽/增强型</strong>: 默认 (<strong>GSS</strong>, gate-source short) 闸门的状态, 导通: depletion, 不导通: enhancement (符号上断开).</li>
<li><span class="math inline">\(V_{\text{GS}}\)</span> 控制闸门的方法是不一样的 (<a href="#fig-mosfet" class="quarto-xref">Figure&nbsp;1</a>):
<ul>
<li>P-channel D Mode: 正电压 -&gt; 吸引 n substrate 的电子 -&gt; 中和掉 channel 的空穴 -&gt; 截止</li>
<li>N-channel D Mode: 负电压 -&gt; 吸引 p substrate 的空穴 -&gt; 中和掉 channel 的电子 -&gt; 截止</li>
<li>P-channel E Mode: 负电压 -&gt; 排斥 n substrate 的电子 -&gt; 增加 channel 的空穴 -&gt; 导通</li>
<li>N-channel E Mode: 正电压 -&gt; 排斥 p substrate 的空穴 -&gt; 增加 channel 的电子 -&gt; 导通</li>
</ul></li>
</ul></li>
<li><p>特性:</p>
<ul>
<li>以 S 源极为基准, 我们关心 <span class="math inline">\(V_{\text{GS}}, V_{\text{DS}}, I_{\text{D}}\)</span> 三者的关系 (<span class="math inline">\(I_{\text{D}}\)</span> 曲面)</li>
<li><strong>Q-point</strong> (Quiescent)<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>: 静态工作点, <a href="#fig-ID-surface" class="quarto-xref">Figure&nbsp;2</a> 上的每个点都是 Q-point.
<ul>
<li>引入 Q-point 的原因是: 半导体元件在不同的输入<strong>变化频率</strong>下 即使输入的数值相同, 输出会有所差别. Q-point 代表这些点都是在输入变化很慢的情况下测出来的值, 即 <strong>DC 工作点</strong>、稳态值.</li>
<li>所以模拟电路有必要区分 DC 和 AC 分析, 他们是不一样的.</li>
</ul></li>
</ul>
<div id="fig-ID-surface" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ID-surface-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ID-surface.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ID-surface-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: <span class="math inline">\(I_{\text{D}}\)</span> 曲面
</figcaption>
</figure>
</div>
<ul>
<li><strong>Drain curve 漏极特性曲线</strong>: 固定闸门 <span class="math inline">\(V_{\text{GS}}\)</span> 后的 水压与水流的关系.
<ul>
<li><strong>Ohmic region 欧姆区</strong>: 相当于固定电阻. (改变闸门可以充当可变电阻)</li>
<li><strong>Active region 饱和区</strong>: 水流不变了.</li>
<li><strong>Breakdown region 击穿区</strong>: 水压太大, 水管坏了.</li>
<li><strong>Pinch-off</strong> 对应的点是<strong>抛物线</strong>.</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="drain-curve.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Drain curve 漏极特性曲线</figcaption>
</figure>
</div>
<ul>
<li><strong>Transfer curve 转移特性曲线</strong>: 水压足够大时水流和闸门的关系 (<span class="math inline">\(I_{\text{D}}\)</span> 曲面沿 <span class="math inline">\(V_{\text{DS}}\)</span> 轴的投影).
<ul>
<li><strong>抛物线</strong> 关系.</li>
<li><strong>默认饱和电流 <span class="math inline">\(I_{\text{DSS}}\)</span></strong>: Drain to Source current with <em>gate</em> Shorted.</li>
<li><strong>跨导 <span class="math inline">\(g_m\)</span></strong> (电阻的倒数): Drain curve 的斜率, 与闸门电压有关.</li>
</ul></li>
</ul>
<div id="fig-transfer-curve" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-transfer-curve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="transfer-curve.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-transfer-curve-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Transfer curve 转移特性曲线
</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;这是一个典型的教科书讲不明白的问题.</p></div></div></section>
<section id="bjt-三极管" class="level3 page-columns page-full" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="bjt-三极管"><span class="header-section-number">2.3</span> BJT 三极管 ★★★★☆</h3>
<blockquote class="blockquote">
<p>大写表示 DC 工作模式 (e.g., <span class="math inline">\(I_{\text{E}}, \beta_{\text{DC}}\)</span>), 小写表示 AC 工作模式 (e.g., <span class="math inline">\(I_{\text{e}}, \beta_{\text{ac}}\)</span>). <span class="math inline">\(\tilde{I}\)</span>: phasor, <span class="math inline">\(i\)</span>: 瞬时值.</p>
</blockquote>
<section id="结构" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="结构"><span class="header-section-number">2.3.1</span> 结构 ★☆☆☆☆</h4>
<div class="quarto-layout-panel" data-layout="[75,25]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 75.0%;justify-content: center;">
<p><img src="BJT.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<p><img src="npn.gif" class="img-fluid"></p>
</div>
</div>
</div>
<ul>
<li><p>结构: <strong>Base, Collector, Emitter 基极, 集电极, 发射极</strong>.</p>
<ul>
<li><strong>npn, pnp</strong> 两种, 因 doping 浓度不同而<em>不对称</em> ! npn 性能更好.</li>
</ul></li>
<li><p>模型及可观测参数</p>
<ul>
<li><strong>r Parameters</strong> (resistance): <span class="math inline">\(r'_e\)</span> (<strong>最重要</strong>★★★★★), <span class="math inline">\(r'_b, r'_c, \alpha_{\text{ac}}, \beta_{\text{ac}}\)</span></li>
</ul>
<div id="fig-r-para" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-r-para-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="r-para.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-r-para-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: 根据 <span class="math inline">\(r'_b \approx 0\)</span> 和 <span class="math inline">\(r'_c \approx \infty\)</span> 来简化模型
</figcaption>
</figure>
</div>
<ul>
<li><strong>h Parameters</strong> (hybrid): (Omitted).</li>
</ul></li>
</ul>
</section>
<section id="sec-bjt-properties" class="level4 page-columns page-full" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="sec-bjt-properties"><span class="header-section-number">2.3.2</span> 性质 ★★★★★</h4>
<ul>
<li>特征曲线
<ul>
<li>一般都在 active region 工作区</li>
<li><span class="math inline">\(I_C\)</span> 不一定是 <span class="math inline">\(I_B\)</span> 的 <span class="math inline">\(\beta_{\text{DC}}\)</span> 倍, 在饱和区就不行 (<a href="#fig-BJT-saturation" class="quarto-xref">Figure&nbsp;5</a>).</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-BJT-saturation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BJT-saturation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="BJT-saturation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-BJT-saturation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: 饱和区没有放大
</figcaption>
</figure>
</div>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="BJT-characteristic.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>抽象命名来了, 看看饱和区和工作区是不是你想的那样</figcaption>
</figure>
</div>
<ul>
<li><p>AC &amp; DC 下都有的性质:</p>
<ul>
<li>箭头代表 <strong>总</strong> (E) <strong>电流</strong> 参考方向, 不一定是实际电流方向. 三者满足 KCL: <span id="eq-kcl"><span class="math display">\[\boxed{ I_{\text{E}} - I_{\text{C}} - I_{\text{B}} = 0}  \tag{2}\]</span></span></li>
</ul></li>
<li><p>DC 工作模式性质:</p>
<ul>
<li><span class="math inline">\(\alpha, \beta\)</span> 参数:<span class="math display">\[ \alpha_{\text{DC}} := \frac{I_{\text{C}}}{I_{\text{E}}} \approx 0.99, \quad h_{\text{FE}} = \boxed{\beta_{\text{DC}} := \frac{I_{\text{C}}}{I_{\text{B}}}} \approx 99\]</span></li>
<li>B, E 可看作导通的二极管, PN结之间存在开启电压: <span class="math display">\[\boxed{V_{\text{BE}} = V_t \approx 0.7 \text{ V}}\]</span></li>
</ul></li>
<li><p>AC 工作模式性质:</p>
<ul>
<li><p>发射极动态电阻 <span class="math display">\[\boxed{r'_e \approx \frac{V_T}{I_{\text{E}}} = \frac{25\text{ mV}}{I_E}}\]</span></p></li>
<li><p><span class="math inline">\(\beta\)</span> 参数: <span class="math display">\[ \beta_{\text{ac}} := \frac{\Delta I_{\text{C}}}{\Delta I_{\text{B}}}\]</span></p>
<ul>
<li>造成 <span class="math inline">\(\beta_{\text{DC}} \neq \beta_{\text{ac}}\)</span> 的原因是 <span class="math inline">\(I_{\text{C}}\)</span>-<span class="math inline">\(I_{\text{B}}\)</span> 关系是曲线:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dc-ac-beta.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>DC 模式相当于全局的流形, AC 模式相当于局部的切空间</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
有关 <span class="math inline">\(V_T\)</span> 和 <span class="math inline">\(V_t\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Mental picture</strong>: 当我们将信号输入到 BJT 的 Base 时, 几乎就是 DC 信号, 波动幅度非常小!</p>
<p>BJT 正常工作时, 将 BE 看作导通的二极管, 自然有电压 <span class="math inline">\(V_t \approx 0.7 \text{ V}\)</span>. <span class="math inline">\(r'_e\)</span> 不能被 DC 信号感受到, 只有小信号才能感受到. 小信号需要用更精确的模型 <a href="#eq-shockley" class="quarto-xref">Equation&nbsp;1</a> 来计算. <a href="#fig-VT-Vt" class="quarto-xref">Figure&nbsp;6</a> 在 <span class="math inline">\(V_{BE} = 0.7\text{ V}\)</span> 处的斜率就是 <span class="math inline">\(r'_e\)</span> 的倒数: <span class="math display">\[
\text{slope}|_{V = 0.7\text{ V}} = \frac{I_S}{V_T} \cdot e^{\frac{V}{V_T}} = \frac{1}{r'_e}
\]</span></p>
<p>我们 利用 <a href="#eq-shockley" class="quarto-xref">Equation&nbsp;1</a> 将 <span class="math inline">\(e^{\frac{V}{V_T}}\)</span> 用 <span class="math inline">\(I_E\)</span> 表示: <span class="math display">\[
\text{slope}|_{I = I_E} = \frac{I_S}{V_T} \cdot \left(\frac{I}{I_S} + 1\right) = \frac{I}{V_T} + \underbrace{\cancel{\frac{I_S}{V_T}}}_{\to 0} = \frac{1}{r'_e}
\]</span></p>
<p>求得: <span class="math display">\[
r'_e = \frac{V_T}{I}
\]</span></p>
<p><span class="math inline">\(I\)</span> 就是<strong>当前</strong> E 上的直流电流大小!</p>
<div id="fig-VT-Vt" class="quarto-float quarto-figure quarto-figure-center anchored" width="70%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-VT-Vt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VT-Vt.png" id="fig-VT-Vt" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-VT-Vt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="ce-cc-与-cb" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="ce-cc-与-cb"><span class="header-section-number">2.3.3</span> CE, CC 与 CB</h4>
<ul>
<li>CE (Common Emitter) 共射放大器:
<ul>
<li><span class="math inline">\(A_v \gg 1, A_i \gg 1\)</span>: 电压、电流增益都很高.</li>
<li>可以推导: Base 输入电阻 <span class="math inline">\(\boxed{R_{\text{in (base)}} = \beta_{\text{ac}} r'_e}\)</span></li>
</ul></li>
<li>CC (Common Collector) 共集放大器:
<ul>
<li><span class="math inline">\(A_v \approx 1\)</span>: 基本不会放大电压, 所以称为 <strong>Emitter Follower 跟随器</strong>.</li>
<li><span class="math inline">\(A_i \gg 1\)</span>: 用于<strong>电流放大</strong>, 而不用于电压放大.</li>
<li>输入阻抗很高.</li>
</ul></li>
<li>CB (Common Base) 共基放大器:
<ul>
<li><span class="math inline">\(A_v \gg 1\)</span>: 电压增益 <span class="math inline">\(A_v\)</span> 很高.</li>
<li><span class="math inline">\(A_i \le 1\)</span>: 电流只会减小.</li>
<li>输入阻抗很低.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="network-analysis-网络分析" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="network-analysis-网络分析"><span class="header-section-number">3</span> Network Analysis 网络分析 ★★☆☆☆</h2>
<section id="sec-thevenin-norton" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="sec-thevenin-norton"><span class="header-section-number">3.1</span> Thevenin &amp; Norton 定理</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>任何一个只有电压源、电流源和电阻的网络, 都可以等效为 一个有内阻的电压源 或 一个有内阻的电流源<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;任何线性二端网络都可以这么等效, 原因是电源的 <span class="math inline">\(V\)</span>-<span class="math inline">\(I\)</span> graph 是直线! 而非理想的 电压源 和 电流源 也是直线, 二者自由度都是 <span class="math inline">\(2\)</span>, 因此相互等价.</p></div></div></div>
<p><span id="eq-thevenin-norton"><span class="math display">\[
\boxed{
\begin{aligned}
V_{\text{TH}} &amp;= V_{\text{open}} \\
I_{\text{N}} &amp;= I_{\text{short}} \\
R_{\text{TH}} &amp;= R_{\text{N}} = \frac{V_{\text{open}}}{I_{\text{short}}} \\
\end{aligned}
}
\tag{3}\]</span></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="thevenin-norton.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Thevenin 等效 和 Norton 等效</figcaption>
</figure>
</div>
</section>
<section id="input-output-impedance-输入输出阻抗" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="input-output-impedance-输入输出阻抗"><span class="header-section-number">3.2</span> Input &amp; Output Impedance 输入/输出阻抗</h3>
<blockquote class="blockquote">
<p>一个线性网络作为负载时一定可以等效成一个电阻 (输入阻抗), 作为电源时一定可以等效成一个非理想电压源或电流源 (内阻就是输出阻抗).</p>
</blockquote>
<ul>
<li><span class="math inline">\(R_{\text{in}}\)</span> 就是该网络作为负载时两端的电压和电流之比.</li>
</ul>
</section>
<section id="conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输" class="level3 page-columns page-full" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="conjugate-matching-maximum-power-transfer-匹配负载与最大功率传输"><span class="header-section-number">3.3</span> Conjugate Matching &amp; Maximum Power Transfer 匹配负载与最大功率传输</h3>
<blockquote class="blockquote">
<p>阻抗匹配是一个实际中要考虑的问题, 而不是在纯理论层面上的问题, 所以会觉得有点脱节的感觉.</p>
</blockquote>
<ul>
<li>问题建模: <a href="#sec-thevenin-norton" class="quarto-xref">Section&nbsp;3.1</a> 的结论对稳态交流电路同样适用 (见 <a href="#fig-matched-network-demo" class="quarto-xref">Figure&nbsp;7</a>)! 任意复杂线性网络:
<ul>
<li>从外面看都只是一个内阻 <span class="math inline">\(\tilde{Z}_0\)</span> 的电压源 <span class="math inline">\(\tilde{V}_0\)</span> (相当于 Thevenin 等效).</li>
<li>看外面都是一个阻抗为 <span class="math inline">\(\tilde{Z}_L\)</span> 的负载.</li>
<li>问: 给定工作频率<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> <span class="math inline">\(\omega_0\)</span> 和 <span class="math inline">\(\tilde{V}_0\)</span>, <span class="math inline">\(\tilde{Z}_0, \tilde{Z}_L\)</span> 满足什么的时候负载热功率最大?</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;注意一个匹配电路只在一个工作频率下匹配, 而不是所有频率! 而我们会看到, 匹配后的频率恰好是协振频率 <span class="math inline">\(\omega_0\)</span>, 所以用 <span class="math inline">\(\omega_0\)</span> 来表示工作频率.</p></div></div><ul>
<li><p>当内外阻抗互为共轭时, 称该电路<strong>阻抗匹配</strong>, 此时<strong>负载热功率<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>达到最大</strong>. <span id="eq-conj-matching"><span class="math display">\[\boxed{\tilde{Z}_0 = \tilde{Z}_L^*} \tag{4}\]</span></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="conj-match-demo.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>阻抗匹配时相当于只有两个一样的纯电阻</figcaption>
</figure>
</div></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;稳态电路功率有很多定义 (比如: 有功功率, 无功功率, 视在功率, 热功率等), 这里指<strong>热功率</strong>.</p></div></div><ul>
<li><strong>Reflection Coefficient 反射系数</strong>: 反映了负载阻抗与源阻抗的匹配程度, omitted.</li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
阻抗匹配条件的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-matched-network-demo" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matched-network-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="matched-network-demo.png" class="img-fluid figure-img" style="width:40.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matched-network-demo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: 问题建模情景
</figcaption>
</figure>
</div>
<p>设 <span class="math inline">\(\tilde{Z}_0 = R_0 + jX_0, \tilde{Z}_L = R_L + jX_L\)</span>, 负载的热功率: <span class="math display">\[
\begin{aligned}
P_L &amp;= I_{\text{rms}}^2 R_L \\
&amp;= \frac{1}{2} |\tilde{I}|^2 R_L \\
&amp;= \frac{1}{2} \left| \frac{\tilde{V}_0}{\tilde{Z}_0 + \tilde{Z}_L} \right|^2 R_L \\
&amp;= \frac{1}{2} \frac{|\tilde{V}_0|^2}{(R_0 + R_L)^2 + (X_0 + X_L)^2} R_L \\
\end{aligned}
\]</span></p>
<p>要 <span class="math inline">\(P_L\)</span> 最大, 分母必须最小, 显然当 <span class="math inline">\(X_0 + X_L = 0\)</span> 时即 <a href="#eq-conj-matching" class="quarto-xref">Equation&nbsp;4</a> 时取最小.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-matching-network-design" class="level3 page-columns page-full" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="sec-matching-network-design"><span class="header-section-number">3.4</span> Matching Network Design 匹配网络设计</h3>
<blockquote class="blockquote">
<p>有很多种匹配网络可供选择: <span class="math inline">\(\pi, T\)</span> 形网络等, 本文只考虑 <span class="math inline">\(T\)</span> 形网络. 本章重度依赖 <a href="#sec-q-factor-1st-order" class="quarto-xref">Section&nbsp;6.2.2</a> 的结论.</p>
</blockquote>
<ul>
<li>问题描述: 给定 纯电阻内阻 <span class="math inline">\(R_0\)</span> 的交流电源 <span class="math inline">\(V_0\)</span> 和 纯电阻负载 <span class="math inline">\(R_L\)</span>, 在它们中间设计一个 <span class="math inline">\(T\)</span> 形网络使阻抗匹配.
<ul>
<li>既然是设计匹配网络, 就不能用纯电阻了 (<a href="#fig-matching-wrong-design" class="quarto-xref">Figure&nbsp;8</a>), 不然能量白白消耗掉了, 只能用<strong>纯电抗 <span class="math inline">\(X\)</span> 元件</strong> (<span class="math inline">\(X_p, X_s\)</span> 都可以是 <span class="math inline">\(L\)</span> 或 <span class="math inline">\(C\)</span>, 一般串联的用 <span class="math inline">\(L\)</span>, 并联的用 <span class="math inline">\(C\)</span>), 它们只储能, 不耗能.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-matching-wrong-design" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matching-wrong-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="matching-wrong-design.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matching-wrong-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: 谁教你这样设计网络的?
</figcaption>
</figure>
</div>
</div></div><div id="fig-matching-right-design" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-matching-right-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="matching-right-design.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-matching-right-design-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: 根据 <span class="math inline">\(R_0, R_L\)</span> 的大小结合 <a href="#eq-q-factor-serial-parallel-conversion" class="quarto-xref">Equation&nbsp;9</a> 的结论要设计成不同的 <span class="math inline">\(T\)</span> 形网络
</figcaption>
</figure>
</div>
<ul>
<li>解法: ★★★★★
<ul>
<li><strong>根据 <span class="math inline">\(R_0, R_L\)</span> 的大小选择网络类型</strong>: 见 <a href="#fig-matching-right-design" class="quarto-xref">Figure&nbsp;9</a>.</li>
<li><strong>用电阻之比算 <span class="math inline">\(Q\)</span></strong>: <a href="#eq-q-factor-serial-parallel-conversion" class="quarto-xref">Equation&nbsp;9</a> 的第一个公式.</li>
<li><strong>再用 <a href="#fig-Q-factor-1st-order" class="quarto-xref">Figure&nbsp;16</a> 的两个公式得出 <span class="math inline">\(X_s, X_p\)</span></strong>.</li>
<li><strong>最后用 <span class="math inline">\(X_s, X_p\)</span> 计算出 <span class="math inline">\(L, C\)</span> 的值</strong>: 一般串联的用 <span class="math inline">\(L\)</span>, 并联的用 <span class="math inline">\(C\)</span>.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 匹配网络设计
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="matching-example-problem.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>题目描述</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="matching-example-network.png" class="img-fluid figure-img" style="width:40.0%"></p>
<figcaption>设计图, <span class="math inline">\(R_{-}, R_{+}\)</span> 对应 <span class="math inline">\(R_0, R_L\)</span></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="matching-example-calculation.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>计算电抗和其对应的 <span class="math inline">\(L, C\)</span> 值</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="amplifier-circuit-放大电路分析" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="amplifier-circuit-放大电路分析"><span class="header-section-number">4</span> Amplifier Circuit 放大电路分析 ★★★★☆</h2>
<section id="分析纲领" class="level3 page-columns page-full" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="分析纲领"><span class="header-section-number">4.1</span> 分析纲领 ★★★★★</h3>
<blockquote class="blockquote">
<p>一个放大电路对 DC 和 AC 的作用是单独的, 我们先分开分析, 实际上的情况是两个分析结果的叠加!</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="capacitor-mental-picture.jpg" class="img-fluid figure-img"></p>
<figcaption>电容通交隔直</figcaption>
</figure>
</div>
</div></div><ul>
<li><p>DC 和 AC 的情况下, 放大电路的等效电路是不一样的.</p></li>
<li><p>我们只需要考虑<strong>等效电路</strong>, 电容和电感在等效电路中是不存在的.</p>
<ul>
<li><strong>DC 分析</strong>:
<ul>
<li><p>电容开路, 电感短路<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>.</p></li>
<li><p>画 <strong>Thevenin 等效电路</strong></p>
<div id="fig-Theveninising" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Theveninising-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Theveninising.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Theveninising-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: DC等效电路 及其Thevenin等效
</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>AC 分析</strong>:
<ul>
<li>电容短路, 电感开路.</li>
<li><span class="math inline">\(V_{\text{CC}}\)</span> 相当于接地 (任何不变的信号都相当于接地)</li>
<li>电压、电流默认取 RMS <span class="math inline">\(V_{\text{rms}}\)</span> 计算 (峰值也行其实), <span class="math inline">\(\boxed{V_p = \sqrt{2} V_{\text{rms}}}\)</span></li>
<li><strong>Bypass Capacitor</strong>: 与某个电阻 <span class="math inline">\(R\)</span> 并联的电容, 使得交流信号在至少 <span class="math inline">\(f_{\min}\)</span> 频率下看起来无阻抗, <span class="math inline">\(C\)</span> 必须足够大 (<span class="math inline">\(X_C\)</span> 必须足够小): <span class="math display">\[\boxed{X_C \le \frac{R}{10}}\]</span></li>
</ul></li>
<li>将等效电路中的 BJT 换成 <a href="#fig-r-para" class="quarto-xref">Figure&nbsp;4</a> (b) 中的模型, 然后当作正常电路分析即可.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;理想电容记为 <span class="math inline">\(C_{\infty}\)</span>, 理想电感记为 <span class="math inline">\(\text{RFC}\)</span> (Radio Frequency Choke).</p></div></div><ul>
<li>最后 DC 和 AC 的结果叠加起来, 注意 <strong>这时候 <span class="math inline">\(V_{\text{CC}}\)</span> 不能接地了</strong><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>, 所有元件都正常.</li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn9"><p><sup>9</sup>&nbsp;特别是在分析为什么 Common Emitter 相位是 180 度的时候, <span class="math inline">\(V_\text{C} = V_{\text{CC}} - I_\text{C} R_\text{C}\)</span>, <span class="math display">\[V_B \uparrow \implies I_B \uparrow \implies I_C \uparrow \implies V_\text{C} \downarrow\]</span></p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Thevenin 等效电路
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dc-example.png" class="img-fluid figure-img"></p>
<figcaption>求解 <a href="#fig-Theveninising" class="quarto-xref">Figure&nbsp;10</a></figcaption>
</figure>
</div>
<p><a href="#fig-Theveninising" class="quarto-xref">Figure&nbsp;10</a> 中 <span class="math inline">\(A\)</span> 点电压不能直接分压求解! 虽然 <span class="math inline">\(I_{\text{A}}\)</span> 很小: <span class="math display">\[ V_A \neq \frac{R_2}{R_1 + R_2} V_{\text{CC}}\]</span></p>
<p>要用 Thevenin 等效电路求解!</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Bypass Capacitor 大小的计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="bypass-capacitor.png" class="img-fluid figure-img"></p>
<figcaption>Bypass Capacitor 大小的计算</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ### Common Emitter (CE) 共射放大器 -->
</section>
</section>
<section id="mixer-circuit-混频电路" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="mixer-circuit-混频电路"><span class="header-section-number">5</span> Mixer Circuit 混频电路 ★★★☆☆</h2>
<ul>
<li>目的: 其实就是完成了<strong>调制和解调</strong>的时候将两个正弦信号 <span class="math inline">\(v_1, v_2\)</span> 乘在一起的过程
<ul>
<li><span class="math inline">\(v_1 = V_1 \cos(\omega_1 t), v_2 = V_2 \cos(\omega_2 t)\)</span></li>
<li>一般要结合滤波器保留需要的频率成分 (上边带 <span class="math inline">\(\omega_1 + \omega_2\)</span> 或 下边带 <span class="math inline">\(|\omega_1 - \omega_2|\)</span>, 为了区分 <strong>Rejection 滤波</strong>, 姑且叫做 <strong>“Second” 滤波</strong><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>).</li>
</ul></li>
<li>由于产生了新的频率成分, 需要引入二极管之类的<strong>非线性元件</strong>.</li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;我自己起的名字, 只是因为他在 Rejection 滤波器之后.</p></div></div><section id="sec-common-mixer" class="level3 page-columns page-full" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="sec-common-mixer"><span class="header-section-number">5.1</span> Common Mixer 常见混频器</h3>
<section id="sec-diode-mixer" class="level4 page-columns page-full" data-number="5.1.1">
<h4 data-number="5.1.1" class="anchored" data-anchor-id="sec-diode-mixer"><span class="header-section-number">5.1.1</span> Diode Mixer 二极管混频器</h4>
<div id="fig-diode-mixer" class="quarto-float quarto-figure quarto-figure-center anchored" width="60%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-diode-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="diode-mixer.png" id="fig-diode-mixer" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-diode-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11
</figcaption>
</figure>
</div>
<ul>
<li><a href="#fig-diode-mixer" class="quarto-xref">Figure&nbsp;11</a> 1 点电压 <span class="math inline">\(V_1 = (v_1+v_2)/2\)</span>, 相当于两个交流电压源 <span class="math inline">\(v_1, v_2\)</span> 串联.</li>
<li>Diode Mixer 要求 <span class="math inline">\(v_1, v_2\)</span> 很小 (所以 <span class="math inline">\(i_D\)</span> 也很小), 二极管要用 <strong>Shockley 方程</strong> 来建模!</li>
<li>由 Taylor 展开 Shockley 方程, <span class="math inline">\(i_D\)</span> 有 <span class="math inline">\(v_D, v_D^2, v_D^3, \cdots\)</span> 成分, 分别对应:
<ul>
<li>一次谐波: <span class="math inline">\(\omega_1, \omega_2\)</span></li>
<li>二次谐波: <span class="math inline">\(2 \omega_1, 2 \omega_2, \omega_1 + \omega_2, |\omega_1 - \omega_2|\)</span></li>
<li>更高次谐波 …</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="diode-freq.png" class="img-fluid figure-img"></p>
<figcaption>二极管混频器输出的频谱</figcaption>
</figure>
</div>
</div></div></section>
<section id="bjt-jfet-mixer-晶体管混频器" class="level4" data-number="5.1.2">
<h4 data-number="5.1.2" class="anchored" data-anchor-id="bjt-jfet-mixer-晶体管混频器"><span class="header-section-number">5.1.2</span> BJT &amp; JFET Mixer 晶体管混频器</h4>
<div id="fig-bjt-mixer" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bjt-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="BJT-mixer.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bjt-mixer-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: 以 BJT Mixer 为例
</figcaption>
</figure>
</div>
<ul>
<li>BJT 的 B, E 间其实是隐藏的二极管 (见 <a href="#sec-bjt-properties" class="quarto-xref">Section&nbsp;2.3.2</a>)</li>
<li>BJT Mixer 自带放大效果 (输出的电流可以比较大).</li>
<li><a href="#fig-bjt-mixer" class="quarto-xref">Figure&nbsp;12</a> 的 <span class="math inline">\(L, C\)</span> 是带通滤波器 (<strong>“Second” 滤波</strong>)</li>
<li>若换成 JFET Mixer, 不再满足 Shockley 方程, 而是 Transfer curve 的<strong>二次关系</strong> (<a href="#fig-transfer-curve" class="quarto-xref">Figure&nbsp;3</a>), 没有高次谐波成分了, nice!</li>
</ul>
</section>
<section id="dual-gate-mosfet-mixer" class="level4" data-number="5.1.3">
<h4 data-number="5.1.3" class="anchored" data-anchor-id="dual-gate-mosfet-mixer"><span class="header-section-number">5.1.3</span> Dual-Gate MOSFET Mixer</h4>
<p>(Omitted)</p>
</section>
<section id="sec-ring-modulator" class="level4" data-number="5.1.4">
<h4 data-number="5.1.4" class="anchored" data-anchor-id="sec-ring-modulator"><span class="header-section-number">5.1.4</span> Diode Ring Modulator 环形调制器</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Ring-modulator.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>环形调制器输入 <span class="math inline">\(e_i\)</span> 输出 DSB-SC 调制信号, 载波一般用矩形波</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-image-frequency" class="level3 page-columns page-full" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="sec-image-frequency"><span class="header-section-number">5.2</span> Image Frequency 镜像频率</h3>
<ul>
<li><p>混频器输出的二次谐波里的 <span class="math inline">\(|\omega_1 - \omega_2|\)</span> 项不仅有希望的 <span class="math inline">\(f_{\text{RF}}\)</span> 频率, 还有可能存在的 <strong>镜像频率</strong> <span class="math inline">\(f_{\text{image}}\)</span>.</p></li>
<li><p><strong>Image frequency rejection</strong>: 当我们 mixing 后需要保留 <span class="math inline">\(|\omega_1 - \omega_2|\)</span> 成分时, 我们不希望受到 <span class="math inline">\(f_{\text{image}}\)</span> 的干扰, 所以加一个 BPF 来滤掉它 (<a href="#fig-rejection-filter" class="quarto-xref">Figure&nbsp;13</a>)</p></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-rejection-filter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rejection-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="rejection-filter.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rejection-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Rejection 滤波器例子
</figcaption>
</figure>
</div>
</div></div><div id="fig-image-rejection" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-image-rejection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="image-rejection.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-image-rejection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: 用带通滤波器滤掉可能存在的镜像频率, 定量分析见 <a href="#sec-rlc-rejection-filter" class="quarto-xref">Section&nbsp;6.3</a>, <span class="math inline">\(\omega_{\text{IF}}\)</span> 见 <a href="#sec-heterodyne" class="quarto-xref">Section&nbsp;8.3.2</a>
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-rlc-filter" class="level2 page-columns page-full" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="sec-rlc-filter"><span class="header-section-number">6</span> RLC 电路作为滤波器</h2>
<blockquote class="blockquote">
<p>这门课中 含有 RLC 这个电路整体的地方包括: <strong>Image Rejection 滤波器, 振荡器的反馈电路, PLL 的 loop filter 低通滤波</strong>, 我们单独来看一看.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>High Frequency Effects/Parasitic Effects 高频/寄生效应</strong>: <span class="math inline">\(R, L, C\)</span> 元件甚至导线在高频时表现不再理想, 都有了<strong>寄生电容</strong>和<strong>寄生电感</strong>. 但这超出了电路的集总 (lumped) 假设, 一般不讨论.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="parasitic-effect.png" class="img-fluid figure-img"></p>
<figcaption><span class="math inline">\(L\)</span> 在高频下变成 <span class="math inline">\(RLC\)</span> 电路了</figcaption>
</figure>
</div>
</div></div><section id="resonance-协振" class="level3 page-columns page-full" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="resonance-协振"><span class="header-section-number">6.1</span> Resonance 协振</h3>
<ul>
<li><p><strong>Tank circuit</strong>: 并联 <span class="math inline">\(LC\)</span> 电路中是有储存的能量的, 所以称为 Tank.</p></li>
<li><p><strong>Flywheel effect</strong>: <span class="math inline">\(LC\)</span> 电路中 <span class="math inline">\(L\)</span> 和 <span class="math inline">\(C\)</span> 之间有能量交换 (用弹簧振子类比, 弹性势能和动能之间的交换).</p></li>
<li><p>协振时 <span class="math inline">\(LC\)</span> 串联电路相当于短路, <span class="math inline">\(LC\)</span> 并联电路相当于断路. 即电路表现为<strong>纯电阻</strong>, 即: <span class="math display">\[\boxed{\Im{(Z)} = 0, \quad \text{or } \Im{(Y)} = 0}\]</span></p>
<ul>
<li>对 <span class="math inline">\(LC\)</span> 电路, <span id="eq-resonance"><span class="math display">\[\Im (Z) = \Im \left(\frac{1}{Cj\omega_0} + Lj\omega_0\right) = 0 \implies \boxed{\omega_0 = \sqrt{\frac{1}{CL}}} \tag{5}\]</span></span></li>
<li>对 <span class="math inline">\(RLC\)</span> 电路 (<a href="#fig-RLC-resonance" class="quarto-xref">Figure&nbsp;15</a>), 算 <span class="math inline">\(Y\)</span> 更方便: <span class="math display">\[\Im (Y) = \Im \left(\frac{1}{R + Lj \omega_0} + Cj \omega_0\right) = 0 \implies \omega_0 = \sqrt{\frac{1}{CL}-\frac{R^2}{L^2}}\]</span></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-RLC-resonance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RLC-resonance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="RLC-resonance.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RLC-resonance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: 对于 <span class="math inline">\(Q&gt;10\)</span> 的 <span class="math inline">\(RLC\)</span> 电路可以忽略 <span class="math inline">\(R\)</span>
</figcaption>
</figure>
</div>
</div></div></section>
<section id="q-factor-品质因数" class="level3 page-columns page-full" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="q-factor-品质因数"><span class="header-section-number">6.2</span> Q-factor 品质因数</h3>
<blockquote class="blockquote">
<p>Q-factor 在一阶系统和二阶系统都有定义, 但不太一样. 先是在二阶系统上定义, 再<strong>形式化</strong>地迁移到了一阶系统上.</p>
</blockquote>
<section id="二阶系统-c-l-都存在" class="level4 page-columns page-full" data-number="6.2.1">
<h4 data-number="6.2.1" class="anchored" data-anchor-id="二阶系统-c-l-都存在"><span class="header-section-number">6.2.1</span> 二阶系统 (<span class="math inline">\(C, L\)</span> 都存在)</h4>
<blockquote class="blockquote">
<p>Q-factor 衡量了一个二阶电路的滤波品质. <span class="math inline">\(Q\)</span> 越大, 滤波器的频率选择性越好.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Q-factor-demo.png" class="img-fluid figure-img"></p>
<figcaption><span class="math inline">\(Q\)</span> 越大, 滤波器的频率选择性越好</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Dissipation</strong> <span class="math inline">\(D := 1/Q.\)</span></p></li>
<li><p>等价定义(或推论):</p>
<ul>
<li><p>二阶系统 (如弹簧振子模型) <strong>在共振(协振 resonance)条件下</strong> (<span class="math inline">\(\omega_0\)</span>), 系统储存的能量与一个周期内消耗的能量 (在 <span class="math inline">\(R\)</span> 上) 之比, 的 <span class="math inline">\(2\pi\)</span> 倍: <span class="math display">\[ Q := 2\pi \cdot \frac{ \text{Energy stored}}{\text{Energy dissipated in one period}}\]</span> 这是其定义式, 但不会用它来计算, 可以由这个式子推出所有以下结论:</p></li>
<li><p>串联协振 (记忆: 串联电流主导, <span class="math inline">\(R\)</span> 在分母, <span class="math inline">\(R\)</span> 越大越耗能, <span class="math inline">\(Q\)</span> 越小): <span id="eq-serial-Q"><span class="math display">\[ \boxed{Q = \frac{\omega_0 L}{R} = \frac{1}{\omega_0 C R}} \tag{6}\]</span></span> 并联协振 (记忆: 并联电压主导, <span class="math inline">\(R\)</span> 在分子, <span class="math inline">\(R\)</span> 越大泻能越慢, <span class="math inline">\(Q\)</span> 越大): <span id="eq-parallel-Q"><span class="math display">\[ \boxed{Q = \frac{R}{\omega_0 L} = \omega_0 C R} \tag{7}\]</span></span> 这两个式子在 <a href="#sec-q-factor-1st-order" class="quarto-xref">Section&nbsp;6.2.2</a> 被形式化地迁移到了一阶系统上, 在匹配网络设计 (<a href="#sec-matching-network-design" class="quarto-xref">Section&nbsp;3.4</a>) 中频繁用到!</p></li>
<li><p>不管串/并联协振, <span class="math inline">\(Q\)</span> 都可由 中心频率和 <span class="math inline">\(-3\text{ dB}\)</span> 带宽之比来表示 : <span id="eq-q-center-over-bandwidth"><span class="math display">\[\boxed{Q = \frac{\omega_0}{\Delta \omega}}, \Delta \omega = \omega_2-\omega_1, \quad \text{when } 20\lg|H(\omega_{1,2})| = -3\text{ dB} \tag{8}\]</span></span></p></li>
<li><p><span class="math inline">\(\omega_0\)</span> 是 <span class="math inline">\(\omega_1\)</span> 和 <span class="math inline">\(\omega_2\)</span> 的几何平均: <span class="math display">\[\boxed{\omega_0^2 = \omega_1 \omega_2}\]</span> 但是实际上很接近算数平均, 所以可以这样算截止频率 <span class="math inline">\(\omega_1, \omega_2\)</span>: <span class="math display">\[ \begin{cases} \omega_1 &amp;= \omega_0 - \frac{\Delta \omega}{2} \\ \omega_2 &amp;= \omega_0 - \frac{\Delta \omega}{2}\end{cases}\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="RLC-BPF.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><span class="math inline">\(\omega_0\)</span> 是 <span class="math inline">\(\omega_1\)</span> 和 <span class="math inline">\(\omega_2\)</span> 的几何平均, 但计算时可用算数平均来近似计算</figcaption>
</figure>
</div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>「半功率」点 <span class="math inline">\(-3\text{ dB}\)</span> 对应的 <span class="math inline">\(\omega\)</span> 叫 <strong>截止频率</strong>, <span class="math inline">\(|H|^2 = 0.5\)</span>.</p>
</div></div></section>
<section id="sec-q-factor-1st-order" class="level4" data-number="6.2.2">
<h4 data-number="6.2.2" class="anchored" data-anchor-id="sec-q-factor-1st-order"><span class="header-section-number">6.2.2</span> 一阶系统 (<span class="math inline">\(RC\)</span> 或 <span class="math inline">\(RL\)</span> 电路)</h4>
<blockquote class="blockquote">
<p>直接将 <a href="#eq-serial-Q" class="quarto-xref">Equation&nbsp;6</a> 和 <a href="#eq-parallel-Q" class="quarto-xref">Equation&nbsp;7</a> 的 <span class="math inline">\(\omega_0\)</span> <strong>形式化</strong>地替换成当前的频率 <span class="math inline">\(\omega\)</span>, 所以一阶电路的 <span class="math inline">\(Q\)</span> 不再固定, <strong>跟工作频率有关</strong>.</p>
</blockquote>
<div id="fig-Q-factor-1st-order" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Q-factor-1st-order-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Q-factor-1st-order.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Q-factor-1st-order-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: 电容和电感可以进一步抽象为纯虚数的电抗 <span class="math inline">\(X\)</span>, <span class="math inline">\(s, p\)</span> 代表 series, parallel
</figcaption>
</figure>
</div>
<ul>
<li><strong>Serial-Parallel Conversion</strong>
<ul>
<li><strong>动机</strong>: <a href="#fig-Q-factor-1st-order" class="quarto-xref">Figure&nbsp;16</a> 中两种电路的总体来说就是一个阻抗 <span class="math inline">\(Z_s, Z_p\)</span>, <strong>给定频率 <span class="math inline">\(\omega\)</span></strong>, <span class="math inline">\(R_s, R_p\)</span> 和 <span class="math inline">\(X_s, X_p\)</span> 要满足什么条件他们可以完全等效? i.e., <span class="math inline">\(Z_s = Z_p\)</span>.</li>
<li><strong>结论</strong>: 等效时, <strong>并联</strong>的电阻和电抗都要大一些: <span id="eq-q-factor-serial-parallel-conversion"><span class="math display">\[
  \boxed{
  \begin{aligned}
  \frac{R_p}{R_s} &amp;= 1+Q^2 \\
  \frac{X_p}{X_s} &amp;= 1+\frac{1}{Q^2}
  \end{aligned}}
   \tag{9}\]</span></span></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#eq-q-factor-serial-parallel-conversion" class="quarto-xref">Equation&nbsp;9</a> 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><a href="#fig-Q-factor-1st-order" class="quarto-xref">Figure&nbsp;16</a> 中串联和并联的阻抗 <span class="math inline">\(Z_s, Z_p\)</span> 为: <span class="math display">\[
\begin{aligned}
Z_s &amp;= R_s + j X_s \\
\frac{1}{Z_p} &amp;= \frac{1}{R_p} + \frac{1}{j X_p}
\end{aligned}
\]</span></p>
<p>令 <span class="math inline">\(Z_s = Z_p\)</span>, 实部与虚部分别相等, 再代入 <a href="#fig-Q-factor-1st-order" class="quarto-xref">Figure&nbsp;16</a> 中的公式 (由于等效, 串联和并联的电路的 <span class="math inline">\(Q\)</span> 肯定一样, <span class="math inline">\(Q \equiv \frac{X_s}{R_s} = \frac{R_p}{X_p}\)</span>) 即可: <span class="math display">\[
\begin{aligned}
&amp;\frac{1}{R_s + j X_s} = \frac{1}{R_p} + \frac{1}{j X_p} \\
\implies &amp;\frac{R_s - jX_s}{R_s^2 + X_s^2} = \frac{1}{R_p} - j \frac{1}{X_p} \\
\implies &amp;\begin{cases} \Re = \frac{R_s}{R_s^2 + X_s^2} = \frac{1}{R_p} \implies \frac{R_p}{R_s} = 1 + \frac{X_s^2}{R_s^2} = 1 + Q^2 \\ \Im = \frac{X_s}{R_s^2 + X_s^2} = \frac{1}{X_p} \implies \frac{X_p}{X_s} = 1 + \frac{R_s^2}{X_s^2} = 1+\frac{1}{Q^2} \end{cases}
\end{aligned}
\]</span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="sec-rlc-rejection-filter" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="sec-rlc-rejection-filter"><span class="header-section-number">6.3</span> RLC 电路作为 Image Rejection 滤波器</h3>
<p>将 <a href="#fig-rejection-filter" class="quarto-xref">Figure&nbsp;13</a> 作为一个整体, 其 admittance (<a href="https://en.wikipedia.org/wiki/Admittance">导纳</a>) <span class="math inline">\(Y\)</span> 跟输入频率有关, 算出来是: <span class="math display">\[
\boxed{
|Y| = Y_0 \sqrt{1+(\delta Q)^2}
}
\]</span> 其中 <span class="math inline">\(Y_0\)</span> 是电路在协振 <span class="math inline">\(\omega_0\)</span> 时的导纳. <span class="math inline">\(\delta := \frac{\omega}{\omega_0} - \frac{\omega_0}{\omega}\)</span>, <span class="math inline">\(Q\)</span> 是品质因数.</p>
<p>给 <span class="math inline">\(a, b\)</span> 输入相同的电流 phasor <span class="math inline">\(\tilde{I}\)</span>, <span class="math inline">\(\tilde{V}_{ab}\)</span> 的长度代表了滤波后的电压信号振幅, 由 <span class="math inline">\(|\tilde{V}_{ab}| = |\tilde{I}| / |Y|\)</span> 知: 滤波器的输出<strong>反比</strong>于 <span class="math inline">\(|Y|\)</span>.</p>
<p>以 <span class="math inline">\(\omega_0\)</span> 点为参考, 定义滤波器在 <a href="#fig-image-rejection" class="quarto-xref">Figure&nbsp;14</a> 的 任意频率 <span class="math inline">\(\omega\)</span> 上的 <strong>attenuation</strong> <span class="math inline">\(|A_r|\)</span> 为 (一般还要化成 <span class="math inline">\(\text{dB}\)</span> 单位): <span class="math display">\[
\boxed{
|A_r| := \left|\frac{\tilde{V}_\omega}{\tilde{V}_{\omega_0}}\right| = \frac{Y_0}{Y} = \frac{1}{\sqrt{1+(\delta Q)^2}}
}
\]</span></p>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: RLC Rejection 滤波器 attenuation 的定量分析
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="RLC-rejection-example.png" class="img-fluid"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-rlc-oscillator" class="level3 page-columns page-full" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="sec-rlc-oscillator"><span class="header-section-number">6.4</span> RLC 电路作为振荡器的反馈电路 ★★★★★ (See <a href="#sec-design-positive-feedback" class="quarto-xref">Section&nbsp;7.2</a>)</h3>
<section id="phase-shift-oscillator-只有-rc-的反馈" class="level4" data-number="6.4.1">
<h4 data-number="6.4.1" class="anchored" data-anchor-id="phase-shift-oscillator-只有-rc-的反馈"><span class="header-section-number">6.4.1</span> Phase-shift oscillator 只有 <span class="math inline">\(RC\)</span> 的反馈</h4>
<blockquote class="blockquote">
<p><a href="#fig-phase-shift-osc-struct" class="quarto-xref">Figure&nbsp;17</a> 结构的振荡器输出的中心振荡频率 <span id="eq-pso-omega0"><span class="math display">\[\boxed{\omega_0 = \frac{1}{\sqrt{6}RC}} \tag{10}\]</span></span></p>
</blockquote>
<div id="fig-phase-shift-osc-struct" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-phase-shift-osc-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Phase-shift-osc-struct.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-phase-shift-osc-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17: Phase-shift oscillator 的反馈电路结构
</figcaption>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#eq-pso-omega0" class="quarto-xref">Equation&nbsp;10</a> 推导过程
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-phase-shift-osc-derive" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-phase-shift-osc-derive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Phase-shift-osc-derive.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-phase-shift-osc-derive-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18: Phase-shift oscillator 的中心频率的推导过程
</figcaption>
</figure>
</div>
<p>注意: <strong>不能用三个 <span class="math inline">\(RC\)</span> LPF 的连级来计算!</strong>, 因为每加一个 <span class="math inline">\(RC\)</span> 就相当于加了负载 (这个思想见 <a href="#sec-change-of-mind" class="quarto-xref">Section&nbsp;1</a>), 会影响之前的电路的滤波性质:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="RC-with-buffer.png" class="img-fluid figure-img"></p>
<figcaption>加 Buffer 才能用连级的思想</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 用 <a href="#eq-pso-omega0" class="quarto-xref">Equation&nbsp;10</a> 来计算输出频率
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="phase-shift-osc-calculation.png" class="img-fluid"></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-tapped-network" class="level4 page-columns page-full" data-number="6.4.2">
<h4 data-number="6.4.2" class="anchored" data-anchor-id="sec-tapped-network"><span class="header-section-number">6.4.2</span> Tapped network 含 <span class="math inline">\(RLC\)</span> 的反馈</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p><strong>Tapped network</strong>: 一个电路从中间某两个部分引出两条线<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> (称为 “tap”) 分别作为输入和输出后形成的二端网络.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn11"><p><sup>11</sup>&nbsp;比如滑动变阻器的滑片可称为 “tap”.</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-tapped-network" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tapped-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="tapped-network.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tapped-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19: Tapped network 例子
</figcaption>
</figure>
</div>
</div></div><ul>
<li><p>根据所用的不同 Tapped network (<a href="#fig-tapped-network" class="quarto-xref">Figure&nbsp;19</a>), 给振荡器起了不同名字 (仅仅是起个名字): <strong>Hartley, Colpitts, Clapp</strong>, etc.</p></li>
<li><p><strong>这里题目一般只会叫你算中心频率 <span class="math inline">\(\omega_0\)</span>, 只要将他给的电路进行 AC 等效, 然后与 <a href="#fig-osc-feedback" class="quarto-xref">Figure&nbsp;22</a> 进行对比找出 <span class="math inline">\(\beta(s)\)</span> 的部分, 这个部分是一个 <span class="math inline">\(LC\)</span> 协振电路, 是一个 BPF, 所以其协振频率就是振荡器的输出频率 <span class="math inline">\(\omega_0\)</span>!<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></strong></p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn12"><p><sup>12</sup>&nbsp;这也是为什么协振频率和振荡器的输出频率是都用 <span class="math inline">\(\omega_0\)</span> 表示的原因.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: 找出下面振荡器的反馈部分 并算出其输出频率
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hartley1.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Hartley: <span class="math inline">\(\omega_0 = 1/\sqrt{(L_1+L_2)C}\)</span></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Hartley2.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Hartley: 跟左边一样</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="fig-Colpitts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Colpitts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Colpitts.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Colpitts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;20: Colpitts: <span class="math inline">\(\omega_0 = 1/\sqrt{[C_1C_2/(C_1+C_2)]L_1}\)</span>
</figcaption>
</figure>
</div>
<p>注意上面的 BJT 的 Base 上并不是没有输入, 而是省略了正向开启电压提供电路.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="sec-rc-pll" class="level3 page-columns page-full" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="sec-rc-pll"><span class="header-section-number">6.5</span> <span class="math inline">\(RC\)</span> 电路作为 PLL 的 Loop Filter</h3>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-rc-filter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rc-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="RC-filter.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rc-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;21: <span class="math inline">\(RC\)</span> 低通滤波器
</figcaption>
</figure>
</div>
</div></div><ul>
<li><a href="#fig-rc-filter" class="quarto-xref">Figure&nbsp;21</a> 的传递函数为: <span class="math display">\[F(s) = \frac{1}{1+RCs}\]</span> 其 <strong>截止频率</strong> <span class="math inline">\(\omega_p\)</span> 来自「半功率」点: <span class="math display">\[|F(s)|^2 = \frac{1}{1+(RC\omega_p)^2} = \frac{1}{2} \implies \boxed{\omega_p = \frac{1}{RC}}\]</span></li>
</ul>
</section>
</section>
<section id="oscillator-circuit-振荡器" class="level2 page-columns page-full" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="oscillator-circuit-振荡器"><span class="header-section-number">7</span> Oscillator Circuit 振荡器 ★★★☆☆</h2>
<blockquote class="blockquote">
<p>程序的执行需要时钟, 我们需要一个电路, 它可以<strong>自发持续稳定</strong> (而不是像 <span class="math inline">\(LC\)</span> 电路被动地) 地输出一个周期信号 (e.g., 正弦波), 称为<strong>振荡器</strong>. 如果频率还能调整的话就更好 (VCO, Voltage Controlled Oscillator).</p>
</blockquote>
<section id="电路振荡要满足的条件" class="level3 page-columns page-full" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="电路振荡要满足的条件"><span class="header-section-number">7.1</span> 电路振荡要满足的条件</h3>
<div id="fig-osc-feedback" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-osc-feedback-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="positive-feedback.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-osc-feedback-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;22: 用正反馈来产生自发振荡, 振荡的根源在于内部的热噪声
</figcaption>
</figure>
</div>
<ul>
<li>为什么会自发震荡? (热噪声见 <a href="#sec-noise" class="quarto-xref">Section&nbsp;8.3.3</a>)
<ul>
<li><strong>热噪声不可避免</strong></li>
<li><strong>热噪声为白噪声 (频谱中含有所有的频率)</strong>, 通过线性系统有制造出任意想要的频率的潜力.</li>
<li>我们希望小噪声在正反馈系统里不断被「放大」<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> (用 <span class="math inline">\(A(s)\)</span>), 而且能够筛选出我们想要的频率 <span class="math inline">\(\omega_0\)</span> (用 <span class="math inline">\(\beta(s)\)</span>, <span class="math inline">\(\omega_0\)</span> 是振荡器的自发频率, 称为<strong>中心频率或工作频率</strong>, 是反馈 <span class="math inline">\(LC\)</span> 电路中的协振频率).</li>
</ul></li>
<li><strong>Barkhausen Stability Criterion 巴克豪森准则</strong>: <a href="#fig-osc-feedback" class="quarto-xref">Figure&nbsp;22</a> 要振荡, 必须满足 (但不保证振荡): <span class="math display">\[
\boxed{
\begin{cases} |A \beta| \ge 1 \\ \angle (A \beta) = 0 \end{cases}
}
\]</span></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn13"><p><sup>13</sup>&nbsp;在 <a href="#sec-change-of-mind" class="quarto-xref">Section&nbsp;1</a> 中我们提到过「信号是复值的」, 这意味着「放大」这个词不一定代表指数增长的信号, 也代表正弦信号, 指数信号和正弦信号的在复数看来本质是一样的.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Barkhausen 准则的理解
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>一个小噪声在 <span class="math inline">\(\omega\)</span> 频点每经过一次系统回来后都被「放大」了: <span class="math display">\[
H(j \omega) = A(j \omega) \beta(j \omega)
\]</span></p>
<p>那这个信号一遍又一遍经过系统出来以后被「放大」了: <span id="eq-geometric-series"><span class="math display">\[
1 + H(j \omega) + H(j \omega)^2 + H(j \omega)^3 + \cdots
\tag{11}\]</span></span></p>
<p>这是一个等比数列, 要想震荡, 这个值一定不能收敛, 也就是公比不能太小: <span class="math display">\[
|H(j \omega)| \ge 1
\]</span></p>
<p>另外回来的相位必须跟原来同向 (相位差是零, <span class="math inline">\(\angle(A \beta) = 0\)</span>), 不然 <a href="#eq-geometric-series" class="quarto-xref">Equation&nbsp;11</a> 的每一项就会均匀分布在复平面上, 会被平均掉.</p>
<p>真实的过程就是 <a href="#eq-geometric-series" class="quarto-xref">Equation&nbsp;11</a> 的求和是很快地一项一项求和 (因为<strong>反馈是需要时间的</strong>, 如果反馈不需要时间就不会震荡了, 如果宇宙是计算机的话, 直接 run time error), 如果发散的话就一直来回变化怎么也停不下来, 也就是在时间上震荡, 如果我们直接列方程求解的话是想一步到位求出稳态 (见 <a href="#sec-change-of-mind" class="quarto-xref">Section&nbsp;1</a>), 但是它收敛不了, 最后的结果就是无穷大.</p>
<p>如果我们要输出固定的频率的话, 只需要在反馈的过程中让 <span class="math inline">\(\beta(s)\)</span> 筛选出我们想要的频率就行了 (BPF).</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="sec-design-positive-feedback" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="sec-design-positive-feedback"><span class="header-section-number">7.2</span> 设计正反馈电路</h3>
<blockquote class="blockquote">
<p>现在要设计 <a href="#fig-osc-feedback" class="quarto-xref">Figure&nbsp;22</a> 中的反馈电路 <span class="math inline">\(\beta(s)\)</span>, 目标是要跟 <span class="math inline">\(A(s)\)</span> 一起满足 Barkhausen 准则, 而且要滤出所需震荡频率 <span class="math inline">\(\omega_0\)</span>. 简单起见, 就用 <span class="math inline">\(LC\)</span> 电路吧.</p>
</blockquote>
<ul>
<li>这个正反馈电路可以只含有 <span class="math inline">\(RC\)</span> 元件, 也可以利用 <span class="math inline">\(RLC\)</span> 的协振, 所有内容见 <a href="#sec-rlc-oscillator" class="quarto-xref">Section&nbsp;6.4</a>.</li>
</ul>
</section>
<section id="sec-vco" class="level3 page-columns page-full" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="sec-vco"><span class="header-section-number">7.3</span> VCO (Voltage Controlled Oscillator) 电压控制振荡器</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>VCO 接收一个电压<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> <span class="math inline">\(V_o\)</span>, 输出一个频率与之 近似线性 的周期信号.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn14"><p><sup>14</sup>&nbsp;Notation 开始变得抽象了, 用 <span class="math inline">\(V_o\)</span> 是因为 PLL 里面 VCO 的输入是 LPF 的输出, 所以用 out.</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-VCO-plot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-VCO-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VCO-plot.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-VCO-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;23: VCO 输入输出近似线性 (见 <a href="#eq-vco-linear" class="quarto-xref">Equation&nbsp;13</a>)
</figcaption>
</figure>
</div>
</div></div><ul>
<li><strong>Varicap (Varactor) diode 可变电容</strong>: 这种电容的电容值 <span class="math inline">\(C_D\)</span> 可通过外界输入的电压 <span class="math inline">\(V_D\)</span> 来调节 (<span class="math inline">\(C_0 \approx 18\text{ pF}\)</span> 是 <span class="math inline">\(V_D\)</span> 等于零的电容值): <span class="math display">\[\boxed{C_D = \frac{C_0}{\sqrt{1 + \frac{|V_D|}{0.5}}}}\]</span>
<ul>
<li>VCO 就是用了 varicap diode 的自发 oscillator, 通过输入电压, 改变电容值, 进而通过 <a href="#eq-resonance" class="quarto-xref">Equation&nbsp;5</a> 改变振荡频率.</li>
</ul></li>
</ul>
</section>
<section id="pll-phase-locked-loops-锁相环" class="level3 page-columns page-full" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="pll-phase-locked-loops-锁相环"><span class="header-section-number">7.4</span> PLL (Phase Locked Loops) 锁相环 ★★★★★</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>锁相环可以看作 VCO 的应用, 它接收一个周期信号, 输出一个与之相位同步 (当然频率也要一样) 的周期信号 (正弦波或方波)<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a>.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn15"><p><sup>15</sup>&nbsp;这样做看起来没啥意义? 其实可以改装 PLL 造出电脑里那么高的时钟频率发生器, 也可以让单片机的定时器可以定到宇宙毁灭. (用 frequency multipler 的连级! 见 <a href="#fig-PLL-freq-mult" class="quarto-xref">Figure&nbsp;24</a> 和 <a href="#fig-CO-modulator" class="quarto-xref">Figure&nbsp;35</a>).</p></div></div></div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-PLL-freq-mult" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL-freq-mult-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="PLL-freq-mult.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL-freq-mult-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;24: PLL 甚至可以把 frequency divider 变成 frequency multipler
</figcaption>
</figure>
</div>
</div></div><div id="fig-PLL-struct" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="PLL-struct.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL-struct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;25: PLL 都有的结构, LPF 也叫 <strong>Loop Filter</strong>
</figcaption>
</figure>
</div>
<ul>
<li>PLL 工作的几个阶段 Stages:
<ul>
<li><strong>Free running</strong>: 没有输入, PLL 也会有输出, 频率是 VCO 的中心频率 <span class="math inline">\(\omega_0\)</span>.</li>
<li><strong>Capture</strong>: 突然输入一个周期信号, 只有当这个信号的频率接近 <span class="math inline">\(\omega_0\)</span> 时 (具体来说, 要在 <strong>Capture range 捕获范围</strong>内, 见 <a href="#fig-capture-lock-range" class="quarto-xref">Figure&nbsp;26</a>), 输出才能锁定到输入.</li>
<li><strong>Lock</strong>: 输出锁定到输入. 而且我们可以改变输入频率, 但是不能超过 <strong>Lock range 锁定范围</strong> (大于捕获范围!), 不然失去锁定.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-capture-lock-range" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-capture-lock-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="capture-lock-range.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-capture-lock-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;26: PLL 的锁定范围大于捕获范围
</figcaption>
</figure>
</div>
</div></div><ul>
<li><a href="#fig-PLL-struct" class="quarto-xref">Figure&nbsp;25</a> 中模块的细节<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a>:
<ul>
<li><strong>Phase Detector 鉴相器 (PD)</strong>: 输入两个周期信号 (<span class="math inline">\(v_i(t), v_{\text{osc}}(t)\)</span>), 输出他们的某种运算后的信号 <span class="math inline">\(v_{\varphi}(t)\)</span> (一般是乘积 (用 Mixer), 或 <span class="math inline">\(XOR\)</span>)
<ul>
<li><strong>Phase Detector Gain 鉴相器增益<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a></strong>: <span id="eq-pd-gain"><span class="math display">\[\boxed{V_o = \textcolor{green}{{K_D}} \Delta \varphi} \tag{12}\]</span></span></li>
<li><span class="math inline">\(K_D\)</span>: 增益, <span class="math inline">\(\Delta \varphi\)</span>: PD 输入的两路信号的相位差.</li>
</ul></li>
<li><strong>Loop Filter 低通滤波器</strong>: 对 <span class="math inline">\(v_{\varphi}(t)\)</span> 进行平滑 (滤波), 变成近似直流信号 <span class="math inline">\(V_o\)</span>, 这个电压反应了 <span class="math inline">\(v_i(t)\)</span> 和 <span class="math inline">\(v_{\text{osc}}(t)\)</span> 的相位差. (具体电路见 <a href="#sec-rc-pll" class="quarto-xref">Section&nbsp;6.5</a>)</li>
<li><strong>VCO</strong>
<ul>
<li><strong>Frequency sensitivity (gain) 频率灵敏度 (增益)<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a></strong>: <span id="eq-vco-linear"><span class="math display">\[\boxed{\omega_{\text{osc}} = \omega_0 + \textcolor{green}{K_O} V_o} \tag{13}\]</span></span></li>
<li><span class="math inline">\(K_O\)</span>: 频率灵敏度</li>
<li>输入为 <span class="math inline">\(0\)</span> 时也有频率 <span class="math inline">\(\omega_0\)</span> (<a href="#fig-VCO-plot" class="quarto-xref">Figure&nbsp;23</a>).</li>
</ul></li>
<li><strong>Loop Gain 总增益</strong>: <span class="math display">\[\boxed{\textcolor{green}{{K_V}} := \textcolor{green}{{K_D K_O}}}\]</span></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn16"><p><sup>16</sup>&nbsp;抽象 Notation 来了, 大家坐稳.</p></div><div id="fn17"><p><sup>17</sup>&nbsp;准确来说应该是 PD 和 LPF 的组合增益. 这个组合的输入「被隐性地认为」是相位差 (而不是输入信号本身), 输出就是正常的电压.</p></div><div id="fn18"><p><sup>18</sup>&nbsp;开始 AoN 了, 如果 VCO 的输入是电压, 输出是正弦波, 增益应该是输出比输入, 但 <span class="math inline">\(K_O\)</span> 的定义中输出好像变成了频率而不是信号值本身了. 这样的 AoN 在 PLL 中很多, 要注意说增益的时候输入、输出「被隐性地认为」是什么: 信号值, 频率还是相位!</p></div></div><section id="pll" class="level4 page-columns page-full" data-number="7.4.1">
<h4 data-number="7.4.1" class="anchored" data-anchor-id="pll"><span class="header-section-number">7.4.1</span> 4046 PLL</h4>
<div id="fig-PLL4046" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PLL4046-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="PLL4046.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PLL4046-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;27: 4046 PLL 是一种只能输入和输出<strong>方波</strong>的锁相环 (因为用了 <span class="math inline">\(XOR\)</span> 做 PD)
</figcaption>
</figure>
</div>
<ul>
<li><a href="#fig-PLL4046" class="quarto-xref">Figure&nbsp;27</a> 中的VCO 增益可以通过 <span class="math inline">\(C_1, R_1, R_2\)</span> 来调节:
<ul>
<li>为了正常工作, 必须满足<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>: <span class="math inline">\(\boxed{100\text{ pF}\le C_1 \le 100\text{ nF}, 10\text{ k}\Omega \le R_{1,2} \le 1\text{ M}\Omega}\)</span></li>
<li><a href="#fig-PLL4046" class="quarto-xref">Figure&nbsp;27</a> VCO 的 <code>in</code> 的电压 和 <code>out</code> 的频率分别对应 <a href="#fig-VCO-plot" class="quarto-xref">Figure&nbsp;23</a> 中的 <span class="math inline">\(V_0\)</span> 和 <span class="math inline">\(\omega_{\text{osc}}\)</span>. 调整 <span class="math inline">\(C_1, R_1, R_2\)</span> 也可以改变<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> <span class="math inline">\(\omega_{\min}\)</span> 和 <span class="math inline">\(\omega_{\max}\)</span>: <span class="math display">\[
  \boxed{
  \begin{aligned}
  \omega_{\min} &amp;= \frac{1}{R_2(C_1 + 32\text{ pF})} \\
  \omega_{\max} - \omega_{\min} &amp;= \frac{1}{R_1(C_1 + 32\text{ pF})}
  \end{aligned}
  }
  \]</span></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn19"><p><sup>19</sup>&nbsp;这 sb 玩意儿都要背, 真是佛了.</p></div><div id="fn20"><p><sup>20</sup>&nbsp;ppt 上写的是 <span class="math inline">\(f\)</span> 而不是 <span class="math inline">\(\omega\)</span>, 但用 <span class="math inline">\(f\)</span> 明显单位不对啊, 牛魔的.</p></div></div></section>
</section>
</section>
<section id="modulation-demodulation-调制解调" class="level2 page-columns page-full" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="modulation-demodulation-调制解调"><span class="header-section-number">8</span> Modulation &amp; Demodulation 调制解调 ★★★★★</h2>
<blockquote class="blockquote">
<p><strong>Modulation 调制</strong>是用某个高频 (e.g., <span class="math inline">\(1\text{ GHz}\)</span>) 的 <strong>carrier 载波信号</strong> 的某个特性 (幅度, 频率, 相位) 来表示一个低频 (<span class="math inline">\(200\sim 3\text{ kHz}\)</span>) 的 <strong>intelligence / message 信息信号</strong> 的过程.</p>
</blockquote>
<ul>
<li>不调制的问题:
<ul>
<li>信号频率都相近, 信号间会 interference 干扰.</li>
<li>低频信号传输需要几千米长的天线</li>
</ul></li>
<li><strong><em>!!!!!!!!!!!!!!!!!! Notation 符号声明 !!!!!!!!!!!!!!!!!!</em></strong>
<ul>
<li><strong>Intelligence 信息信号</strong><a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a>: <span class="math inline">\(e_i = E_i \cos(\omega_i t)\)</span> (若不是正弦信号, 则约定 <span class="math inline">\(E_i := |\min(e_i)|\)</span>, 调制指数要用.)</li>
<li><strong>Carrier 载波信号</strong><a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a>: <span class="math inline">\(e_c = \cos(\omega_c t)\)</span></li>
<li><strong>Modulated 调制 (后的) 信号</strong>: <span class="math inline">\(e\)</span></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn21"><p><sup>21</sup>&nbsp;注意跟 modulated 调制 (前的) 信号区分开来.</p></div><div id="fn22"><p><sup>22</sup>&nbsp;这里用 normalized 归一化的载波信号, PPT 上是 <span class="math inline">\(e_c = E_c \cos(\omega_c t)\)</span>, 但是后面乘载波的时候又用的是 <span class="math inline">\(\cos(\omega_c t)\)</span>, 回字的四种写法, 研究这个没有意义.</p></div></div><section id="am-调幅" class="level3 page-columns page-full" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="am-调幅"><span class="header-section-number">8.1</span> AM 调幅</h3>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>AM 调制的信息在调制信号的幅度里面. 而且有很多种 AM 的方法<a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a>: <strong>DSB-SC, DSB-WC, SSB, VSB</strong>, etc.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn23"><p><sup>23</sup>&nbsp;Abbr. Double/Single/Vestigial (残留) Sideband- Suppressed/With Carrier.</p></div></div></div>
<section id="am-方法1-dsb-sc" class="level4" data-number="8.1.1">
<h4 data-number="8.1.1" class="anchored" data-anchor-id="am-方法1-dsb-sc"><span class="header-section-number">8.1.1</span> AM 方法1: DSB-SC</h4>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DSB-SC 调制框图古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-dsb-sc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dsb-sc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="DSB-SC.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dsb-sc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;28: DSB-SC 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><a href="#fig-dsb-sc" class="quarto-xref">Figure&nbsp;28</a> 中的乘法器一般用 <strong>Ring Modulator 环形调制器</strong> (见 <a href="#sec-ring-modulator" class="quarto-xref">Section&nbsp;5.1.4</a>).
<ul>
<li>生成 SC 调制信号的调制器都叫 <strong>Balanced Modulator 平衡调制器</strong>, Ring Modulator 是 Balanced Modulator 的一种.</li>
</ul></li>
</ul>
</section>
<section id="am-方法2-dsb-wc" class="level4 page-columns page-full" data-number="8.1.2">
<h4 data-number="8.1.2" class="anchored" data-anchor-id="am-方法2-dsb-wc"><span class="header-section-number">8.1.2</span> AM 方法2: DSB-WC</h4>
<blockquote class="blockquote">
<p>目标: 调制信号的 <strong>包络</strong> 要能还原原始信息信号的波形.</p>
</blockquote>
<div id="fig-dsb-wc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dsb-wc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="DSB-WC.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dsb-wc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;29: DSB-WC 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
<ul>
<li><p>DSB-WC (Double Sideband With Carrier) 调制出来的信号: <span class="math inline">\(e(t) = (e_i(t) + E_c) \cdot e_c(t)\)</span></p></li>
<li><p><strong>Modulation Index 调制指数</strong><a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a>: (见 <a href="#fig-dsb-wc" class="quarto-xref">Figure&nbsp;29</a> 红色框框, <span class="math inline">\(E_i\)</span> 的定义见符号声明!) <span class="math display">\[\boxed{m_a := \frac{E_i}{E_c}}\]</span></p>
<ul>
<li><strong>Under-modulation</strong>: <span class="math inline">\(m_a \le 1\)</span>, 有效的调制.</li>
<li><strong>Over-modulation</strong>: <span class="math inline">\(m_a &gt; 1\)</span>, 包络会被削顶, 无法还原原始信息信号的波形.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn24"><p><sup>24</sup>&nbsp;这是一个典型的工程上一拍脑袋想出来的鸡肋度量, 三种调制都有这个概念, 但都不能用统一起来, 极不富有美感. 但根据 <a href="https://en.wikipedia.org/wiki/Frequency_modulation#Modulation_index">Wiki</a> 的说法: “The modulation index indicates by how much the modulated variable varies around its unmodulated level”, 还是有点道理的.</p></div><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mod-index.gif" class="img-fluid figure-img"></p>
<figcaption>不同的调制指数</figcaption>
</figure>
</div>
</div></div>
<ul>
<li><strong>Transmitted Power 传输功率</strong>: 当 <span class="math inline">\(e_i\)</span> 为正弦信号 (a.k.a. 单音信号) 时我们有: <span id="eq-am-power"><span class="math display">\[\boxed{P_t = P_c \left(1 + \frac{m^2}{2} \right)} \tag{14}\]</span></span>
<ul>
<li>载波信号的功率 <span class="math inline">\(P_c = E_c^2/2\)</span></li>
<li><strong>传输载波的功率至少占了 <span class="math inline">\(2/3\)</span></strong> (<span class="math inline">\(m = 1\)</span> 时).</li>
<li>若将 <span class="math inline">\(e_c\)</span> 和 <span class="math inline">\(e\)</span> 功率信号分别接到天线 (视为一个电阻 <span class="math inline">\(R\)</span>) 上, 分别产生了电流 <span class="math inline">\(I_c, I_t\)</span>. 由 <span class="math inline">\(P = I^2 R = V^2/R\)</span> 知, 功率大的信号 <span class="math inline">\(e_c\)</span> 产生了更大的电流和电压 (正比于幅值 <span class="math inline">\(E\)</span>): <span class="math display">\[\boxed{I_t = I_c \sqrt{1 + \frac{m^2}{2}}, \quad E_t = E_c \sqrt{1 + \frac{m^2}{2}}}\]</span></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#eq-am-power" class="quarto-xref">Equation&nbsp;14</a> 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><a href="#fig-dsb-wc" class="quarto-xref">Figure&nbsp;29</a> 中调制信号 <span class="math display">\[
\begin{aligned}
e &amp;= (e_i + E_c)e_c  \\
&amp;= E_c (m \cos(\omega_i t) + 1) \cdot \cos(\omega_c t) \\
&amp;= \underbrace{E_c \cos(\omega_c t)}_{P_1=\frac{E_c^2}{2}} + \underbrace{\frac{E_c m}{2} \left[\cos((\omega_c + \omega_m)t) + \cos((\omega_c - \omega_m)t)\right]}_{P_2=\left(\frac{E_c m}{2}\right)^2}
\end{aligned}
\]</span></p>
<p>总传输功率 <span class="math display">\[
P_t = P_1 + P_2 = \frac{E_c^2}{2} \left(1+\frac{m^2}{2}\right)
\]</span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="High-level-modulation.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="Low-level-modulation.png" class="img-fluid"></p>
</div>
</div>
</div>
<ul>
<li><p><strong>High / Low Level Modulation 高/低电平调制</strong>: 实际调制过程中 在输入和调制信号发射之间 肯定包含信号的放大 (<a href="#fig-dsb-wc" class="quarto-xref">Figure&nbsp;29</a> 省略了), 是先调制再放大 还是 先放大再调制呢? (都可以)</p>
<ul>
<li><strong>High Level Modulation</strong>: 先放大再调制 (在 High 功率 Level 调制), 适合高功率要求<a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a>, 如 radio broadcasting 广播塔台.</li>
<li><strong>Low Level Modulation</strong>: 先调制再放大 (在 Low 功率 Level 调制), 适合功耗低、低功率要求, 如通信模块.
<ul>
<li>要求后续的放大器是线性的 (不能用 Class C 了)!</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn25"><p><sup>25</sup>&nbsp;为什么不能都用这种调制方法? 有一类放大器 (<a href="https://en.wikipedia.org/wiki/Power_amplifier_classes#Class_C">Class C</a>) 对纯载波 <span class="math inline">\(e_c\)</span> 的功率放大效果非常好, 但是是非线性的, 所以不能用于放大 <span class="math inline">\(e\)</span>.</p></div></div></section>
<section id="am-方法3-ssb" class="level4 page-columns page-full" data-number="8.1.3">
<h4 data-number="8.1.3" class="anchored" data-anchor-id="am-方法3-ssb"><span class="header-section-number">8.1.3</span> AM 方法3: SSB ★★★★★</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>动机: 我们发现 (<a href="#fig-dsb-wc" class="quarto-xref">Figure&nbsp;29</a>) 在 DSB 中调制信号的频谱上有两份原始信息, 为了减小带宽资源, 可以用 SSB Generator<a href="#fn26" class="footnote-ref" id="fnref26" role="doc-noteref"><sup>26</sup></a> 只传输一份 (USB 或 LSB<a href="#fn27" class="footnote-ref" id="fnref27" role="doc-noteref"><sup>27</sup></a>, 见 <a href="#fig-ssb" class="quarto-xref">Figure&nbsp;30</a>) 就可以了, 这就是单边带调制.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn26"><p><sup>26</sup>&nbsp;SSB Generator 的实现方法包括: phase shift, <strong>selective filtering</strong> (包括 One-step 和 Two-step 版本), Weaver’s method (“Third Method”), etc.</p></div><div id="fn27"><p><sup>27</sup>&nbsp;Abbr. Upper/Lower Sideband.</p></div></div></div>
<div id="fig-ssb" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SSB.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;30: SSB <strong>简化的</strong>调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
<ul>
<li><strong>SSB 与 SSB-SC</strong><a href="#fn28" class="footnote-ref" id="fnref28" role="doc-noteref"><sup>28</sup></a>: SSB 不传输载波, 但 SSB-SC 传输一个微弱载波! 我没写反.
<ul>
<li>Suppressed Carrier 又称 <strong>Pilot Carrier</strong> (导频载波), 可进行同步.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn28"><p><sup>28</sup>&nbsp;这样命名是生怕老子学会吗, 不知道你佛不佛, 反正我是佛的.</p></div></div><ul>
<li><strong>SSB 的优点</strong>:
<ul>
<li>节省了传输<strong>载波</strong>和<strong>其中一个边带</strong>的功率</li>
<li><strong>接收端噪声能量少</strong>. 因为 SSB 的带宽小, 接收端滤波器带宽也会小, 而噪声功率 <span class="math inline">\(\propto\)</span> 带宽.</li>
<li><strong>抗选择性衰落 (Selective Fading)</strong>. <a href="#fig-dsb-sc" class="quarto-xref">Figure&nbsp;28</a> 双边带解调端信号的重建用到两个边带的叠加, 不同频的边带从电离层 (ionosphere) 反射回来后折射角和路径不同 (选择性衰落), 使得两个边带不对称, 重建信号失真. 而 SSB 只用一个边带, 不受选择性衰落影响.</li>
</ul></li>
<li><strong>SSB Selective Filtering</strong>:
<ul>
<li>是 SSB Generator 的其中一种实现方法.</li>
<li>原始信号必须要有 <strong>Band Gap</strong> <span class="math inline">\(\Delta f\)</span>. (比如人声音一般大于 <span class="math inline">\(100\text{ Hz}\)</span>, 所以人声信号 <span class="math inline">\(\Delta f = 200\text{ Hz}\)</span>, 见 <a href="#fig-ssb-selective-q" class="quarto-xref">Figure&nbsp;32</a>)</li>
<li>需要一个高 roll-off 的滤波器 (<strong>原因是 Band Gap 很小</strong>), 其 <span class="math inline">\(Q\)</span>-factor 为: <span class="math display">\[\boxed{Q = \frac{f_c \sqrt{|H|}}{4 \Delta f}}\]</span> 其中 <span class="math inline">\(|H|\)</span> 是该滤波器的传递函数在 Rejected Sideband 上的取值 (一般告诉你多少 <span class="math inline">\(\text{dB}\)</span>, 代入公式时不能用 <span class="math inline">\(\text{dB}\)</span>).</li>
<li><strong>(Two-step) SSB Transmitter 发射机</strong>:
<ul>
<li><p>动机: <strong>截止频率很高的滤波器很难有很高的 roll-off.</strong> 传输的频率一般要达到 <span class="math inline">\(\text{MHz}\)</span>, 如果将 <span class="math inline">\(e_i\)</span> 直接搬移到这个频率, 很难造出高 roll-off 的滤波器进行 SSB filtering. <strong>但是低截止、高 roll-off 的滤波器还是有的</strong>. 所以我们先将 <span class="math inline">\(e_i\)</span> 用这个滤波器搬移到一个低的频段, 用低截止高 roll-off 的滤波器滤波 (相当于增大 Band Gap, 见 <a href="#fig-ssb-two-step" class="quarto-xref">Figure&nbsp;33</a>), 再用一个高截止低 roll-off 的滤波器进行真正的 SSB Filtering. 即<strong>先增大 Band Gap, 再 SSB Filtering.</strong></p>
<div id="fig-ssb-modulation-block-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-modulation-block-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SSB-modulation-block-diagram.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-modulation-block-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;31: SSB “Two-step Method” 调制过程, 信号频谱变化见 <a href="#fig-ssb-two-step" class="quarto-xref">Figure&nbsp;33</a>
</figcaption>
</figure>
</div></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: SSB Selective Filter 的 <span class="math inline">\(Q\)</span> 计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-ssb-selective-q" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-selective-q-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SSB-selective-Q.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-selective-q-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;32: <span class="math inline">\(\log^{-1} x = 10^x\)</span> 抽象符号
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Two-step SSB 调制框图 (<a href="#fig-ssb-modulation-block-diagram" class="quarto-xref">Figure&nbsp;31</a>) 详细过程古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-ssb-two-step" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ssb-two-step-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SSB-two-step.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ssb-two-step-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;33: Two-step SSB 调制信号图
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
EXAMPLE: Two-step 方法中第二个滤波器的 <span class="math inline">\(Q\)</span>-factor 计算
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>HINT: 用 <a href="#eq-q-center-over-bandwidth" class="quarto-xref">Equation&nbsp;8</a> 来算 <span class="math inline">\(Q\)</span>. 说实话说这个中心频率应该取 <span class="math inline">\(3.1\text{ MHz}\)</span> 或 <span class="math inline">\(2.9\text{ MHz}\)</span>, 这道题不好</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Q-factor-two-step.png" class="img-fluid figure-img"></p>
<figcaption>“In the previous slide” 指 <a href="#fig-ssb-modulation-block-diagram" class="quarto-xref">Figure&nbsp;31</a></figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="am-方法4-vsb" class="level4" data-number="8.1.4">
<h4 data-number="8.1.4" class="anchored" data-anchor-id="am-方法4-vsb"><span class="header-section-number">8.1.4</span> *AM 方法4: VSB</h4>
<blockquote class="blockquote">
<p>VSB 提供了针对 SSB 中高截止、高 roll-off 的滤波器难以实现的问题, VSB 滤波器不要求高 roll-off, 只需满足一些条件 (易于满足, 见 <a href="#fig-vsb" class="quarto-xref">Figure&nbsp;34</a>) 即可. SSB 可看作 VSB 的特例.</p>
</blockquote>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
VSB 调制框图古早笔记
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>VSB 很聪明地利用了解调的时候两边的频谱会合起来的特点, 不需要他们完全不重合, 只需要他们重合的部分加起来刚好是原来的频谱就行.</p>
<div id="fig-vsb" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-vsb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VSB.jpeg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-vsb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;34: VSB 调制框图 (省略所有放大器)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="pm-fm-角度调制" class="level3 page-columns page-full" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="pm-fm-角度调制"><span class="header-section-number">8.2</span> PM &amp; FM 角度调制</h3>
<blockquote class="blockquote">
<p>我们会看到 (<a href="#eq-pm-phase" class="quarto-xref">Equation&nbsp;15</a>, <a href="#eq-fm-phase" class="quarto-xref">Equation&nbsp;16</a>) PM 和 FM 不能说一摸一样, 只能说完全没区别. 这是因为 frequency 和 phase 是密切相关的, 频率是相位的导数, <strong>FM 调 <span class="math inline">\(e_i\)</span> 相当于 PM 调 <span class="math inline">\(e_i\)</span> 的积分; PM 调 <span class="math inline">\(e_i\)</span> 相当于 FM 调 <span class="math inline">\(e_i\)</span> 的微分</strong>, 所以它们统称为<strong>角度调制</strong>.</p>
</blockquote>
<ul>
<li>Let <span class="math inline">\(e(t) = \cos (\varphi(t))\)</span>, (e.g., <span class="math inline">\(\varphi(t) = \omega t + \theta\)</span>)
<ul>
<li>称 <span class="math inline">\(\varphi(t)\)</span> 为 <strong>Phase 相位</strong>.</li>
<li>称 <span class="math inline">\(\mathrm{d} \varphi / \mathrm{d} t\)</span> 为 <strong>Instantaneous frequency 瞬时频率</strong>.</li>
</ul></li>
</ul>
<section id="pm-调制" class="level4" data-number="8.2.1">
<h4 data-number="8.2.1" class="anchored" data-anchor-id="pm-调制"><span class="header-section-number">8.2.1</span> PM 调制</h4>
<ul>
<li><strong>目标</strong>: 让 <span class="math inline">\(e(t)\)</span> 与 <span class="math inline">\(e_c(t)\)</span> 的 <strong>相位差</strong> 正比于 <span class="math inline">\(e_i(t)\)</span> 的幅度: <span id="eq-pm-phase"><span class="math display">\[\varphi(t) = \omega_c t + \underbrace{k_p e_t(t)}_{\Delta \varphi} \tag{15}\]</span></span>
<ul>
<li><strong>Modulation Index 调制指数</strong>: 调制信号 <span class="math inline">\(e\)</span> 的最大相移 (<span class="math inline">\(\Delta \varphi := \varphi_e - \varphi_c\)</span>, 调制信号 <span class="math inline">\(\cos\)</span> 里面的东西减掉载波 <span class="math inline">\(\cos\)</span> 里面的东西): <span class="math display">\[\boxed{m_p := (\Delta \varphi)_{\max}}\]</span></li>
</ul></li>
</ul>
</section>
<section id="fm-调制" class="level4 page-columns page-full" data-number="8.2.2">
<h4 data-number="8.2.2" class="anchored" data-anchor-id="fm-调制"><span class="header-section-number">8.2.2</span> FM 调制</h4>
<ul>
<li><p><strong>目标</strong>: 让 <span class="math inline">\(e(t)\)</span> 与 <span class="math inline">\(e_c(t)\)</span> 的 <strong>瞬时频率差</strong> 正比于 <span class="math inline">\(e_i(t)\)</span> 的幅度: <span id="eq-fm-phase"><span class="math display">\[
  \begin{aligned}
  \frac{\mathrm{d} \varphi(t)}{\mathrm{d} t} &amp;= \omega_c + \underbrace{k_f e_t(t)}_{\Delta \omega} \\
  \implies \varphi(t) &amp;= \omega_c t + \underbrace{k_f \int_{-\infty}^{t} e_t(\tau) \mathrm{d} \tau}_{\Delta \varphi}
  \end{aligned}
   \tag{16}\]</span></span></p>
<ul>
<li><strong>Deviation Ratio (DR) 偏差比</strong>: 调制信号 <span class="math inline">\(e\)</span> 的最大频偏 <span class="math inline">\((\Delta f_e)_{\max}\)</span> 与 信息信号 <span class="math inline">\(e_i\)</span> 最大频率 <span class="math inline">\((f_i)_{\max}\)</span> 之比: <span class="math display">\[\boxed{\text{DR} := \frac{(\Delta f_e)_{\max}}{(f_i)_{\max}}}\]</span>
<ul>
<li><strong>Modulation Index 调制指数</strong>: 是 DR 的特例, 即当 <span class="math inline">\(E_i\)</span> 是单音信号时的 DR: <span class="math display">\[\boxed{m_f := \frac{(\Delta f_e)_{\max}}{f_i}}\]</span></li>
<li>广播 FM 最大频偏默认值: <span class="math display">\[\boxed{(\Delta f_e)_{\max} = \pm 75\text{ kHz}}\]</span></li>
<li><strong>Wideband 宽带 FM</strong>: <span class="math inline">\(\boxed{\text{DR}\ge 1}\)</span>, 反之为 <strong>Narrowband 窄带 FM</strong>.</li>
</ul></li>
</ul></li>
<li><p><strong>Carson’s Rule 卡森规则</strong> ★★★★★</p>
<ul>
<li><p>引入动机: <strong><span class="math inline">\(e(t)\)</span> 的瞬时频率范围 <span class="math inline">\(\neq\)</span> <span class="math inline">\(e(t)\)</span> 的频谱带宽!!!</strong> (<span class="math inline">\(e(t)\)</span> 的带宽比 瞬时频率范围 要宽)</p></li>
<li><p>对于 FM, <span class="math inline">\(e\)</span> 的 <strong>非负频率带宽</strong> 大致为 <span class="math inline">\(m_f\)</span> 的分子分母加起来 (的两倍): <span class="math display">\[\boxed{B = 2 \left((\Delta f_e)_{\max} + (f_i)_{\max} \right)}\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Carson-rule.png" class="img-fluid figure-img" style="width:55.0%"></p>
<figcaption>FM 调制信号 <span class="math inline">\(e(t)\)</span> 的频谱: <span class="math inline">\((\pm) (\Delta f_e)_{\max}\)</span> 是 Max Frequency Deviation 最大频偏, 瞬时频率范围的一半</figcaption>
</figure>
</div></li>
<li><p><strong>若后续有 <span class="math inline">\(N\)</span> 倍频器, 则 frequency deviation 也会放大 <span class="math inline">\(N\)</span> 倍</strong> (见 <a href="#fig-CO-modulator" class="quarto-xref">Figure&nbsp;35</a>).</p></li>
<li><p>对于 PM, 相当于对 <span class="math inline">\(e_i\)</span> 的导数进行 FM 调制.</p></li>
<li><p><strong>Bessel 函数</strong>: 可用于定量计算单音信号 <span class="math inline">\(e_i = \cos(\omega_i t)\)</span> 的频谱 (注意只是单音信号). 由计算<a href="#fn29" class="footnote-ref" id="fnref29" role="doc-noteref"><sup>29</sup></a>可知单音信号的 FM 调制波的频谱是离散的, 第 <span class="math inline">\(n\)</span> 个 频点上的幅度正比于 第一类 Bessel 函数的系数 <span class="math inline">\(J_n(\beta)\)</span>.</p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn29"><p><sup>29</sup>&nbsp;Jacobi–Anger 展开: <span class="math display">\[\cos\left(\omega_c t + \beta \sin \omega_m t\right) = \sum_{n=-\infty}^{\infty} J_n(\beta) \cdot \cos\left[(\omega_c + n\omega_m)\,t\right]\]</span></p></div></div><ul>
<li>FM 调制器电路:
<ul>
<li><strong>Varactor Modulators</strong>: 其实就是直接用 VCO 来当调制器, 比如用 <a href="#fig-Colpitts" class="quarto-xref">Figure&nbsp;20</a>, 把其中一个电容换成 <span class="math inline">\(e_i\)</span> 控制的 varicap diode 就行. (PPT 上的图在 <a href="#fig-Varactor-modulator" class="quarto-xref">Figure&nbsp;36</a>.)
<ul>
<li>缺点: 当没输入 (<span class="math inline">\(e_i = 0\)</span>) 的时候, 这种用 <span class="math inline">\(LC\)</span> 当反馈的 VCO 甚至不能输出精确稳定的载波频率! 所以我们会用 <strong>晶振 (Crystal Oscillator)</strong> 来产生精确的载波频率:</li>
</ul></li>
<li><strong>Crystal Oscillator Modulators</strong>: 用晶振来产生精确的载波频率. 由于 <strong>晶振的频率可以被跟其串联的电容稍稍改变</strong>, 所以我们可以用一个 varicap diode 作这个电容, 再用 <span class="math inline">\(e_i\)</span> 来控制这个 varicap diode.
<ul>
<li>优点: 用晶振来产生载波非常精确, 且受温度影响小.</li>
<li>问题: 晶体的频率调节范围非常小 (<span class="math inline">\(100\text{ Hz}\)</span>), 但 FM 的频偏最好要达到 <span class="math inline">\(\text{kHz}\)</span> (<span class="math inline">\(75\text{ kHz}\)</span>), 所以要用 <strong>Frequency Multiplier 倍频器</strong> 来增大频率 (<strong>frequency deviation 也会等比增大</strong>).</li>
</ul>
<div id="fig-CO-modulator" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-CO-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="CO-modulator.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-CO-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;35: Crystal Oscillator Modulators: 用晶振 + Multipler 的组合来产生 FM 调制信号
</figcaption>
</figure>
</div></li>
<li><strong>10-GHz SiGe integrated VCO</strong>: 看不懂, 见 <a href="#fig-SiGe" class="quarto-xref">Figure&nbsp;37</a>, omitted.</li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-Varactor-modulator" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Varactor-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Varactor-modulator.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Varactor-modulator-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;36: PPT 上的 Varactor Modulators 电路, 本人太菜, 实在没看出当 <span class="math inline">\(e_i\)</span> 为 <span class="math inline">\(0\)</span> 时为啥会振荡, 哪里有反馈?
</figcaption>
</figure>
</div>
</div><div class="">
<div id="fig-SiGe" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SiGe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SiGe.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-SiGe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;37: 10-GHz SiGe integrated VCO 电路
</figcaption>
</figure>
</div>
</div></div>
<ul>
<li>FM 解调器电路:
<ul>
<li><p><strong>Slope Detector + Envelope Detector 方法</strong>: 利用一个频率响应是线性的滤波器 (Slope Detector, 比如 <a href="#fig-slope-detector-bpf" class="quarto-xref">Figure&nbsp;40</a> 中的 <span class="math inline">\(LC\)</span> 并联电路) 将 FM 信号转换为 AM 信号, 再用 DSB-WC 的方法 (Envelope Detector) 解调 (<a href="#fig-slope-detector-bpf" class="quarto-xref">Figure&nbsp;40</a>).</p>
<ul>
<li>由于 <a href="#fig-slope-detector-bpf" class="quarto-xref">Figure&nbsp;40</a> 以载波频率为中心 <span class="math inline">\(2(\Delta f_e)_{\max}\)</span> 的范围内输出幅度没有很线性, 所以这种方法不适用与频偏范围过大的 FM 信号.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="slope-detector.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>先用 Slope Detector 转为 AM 信号, 再直接用 DSB-WC 的方法解调</figcaption>
</figure>
</div></li>
<li><p><strong>Pulse-Averaging Discriminators</strong>: 注意到 FM 的幅度其实没有携带信息, 只需要观察 FM 信号 <strong>在时间轴上的交点的密集程度</strong> 就可以判断瞬时频率了:</p>
<div id="fig-Pulse-Averaging" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Pulse-Averaging-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Pulse-Averaging.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Pulse-Averaging-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;38: Pulse-Averaging Discriminator: 不用多说, 看图
</figcaption>
</figure>
</div></li>
<li><p><strong>Quadrature Detectors 正交解调器</strong>: 用 <a href="#fig-Quadrature-Detector-XOR" class="quarto-xref">Figure&nbsp;39</a> 将频率信息转为相位差 <span class="math inline">\(\Delta \varphi\)</span> 信息 (调整 <span class="math inline">\(C_2, L\)</span> 的值使其协振频率恰为载波频率 <span class="math inline">\(\omega_0\)</span> 就可以使: 当 <span class="math inline">\(e(t)\)</span> 的频率恰为 <span class="math inline">\(\omega_0\)</span> 时 <span class="math inline">\(\Delta \varphi = 90^\circ\)</span> (所以叫 “Quadrature”); 当 <span class="math inline">\(e(t)\)</span> 有频偏 <span class="math inline">\(\Delta f\)</span> 时 <span class="math inline">\(\Delta \varphi\)</span> 会随之线性变化), 然后用一个 PD 和 LPF 的组合 (比如 <a href="#fig-Quadrature-Detector-XOR" class="quarto-xref">Figure&nbsp;39</a> 中的 <span class="math inline">\(XOR\)</span> 和 <span class="math inline">\(RC\)</span> 电路, 增益用 <a href="#eq-pd-gain" class="quarto-xref">Equation&nbsp;12</a> 算) 来将这个相位差信息正比地转换为 DC 电压信息.</p>
<div id="fig-Quadrature-Detector-XOR" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Quadrature-Detector-XOR-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Quadrature-Detector-XOR.png" class="img-fluid figure-img" style="width:85.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Quadrature-Detector-XOR-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;39: 一种用 <span class="math inline">\(XOR\)</span> 作为 PD 的正交解调器, IF input 为 <a href="#fig-Pulse-Averaging" class="quarto-xref">Figure&nbsp;38</a> 的 B 点信号
</figcaption>
</figure>
</div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-slope-detector-bpf" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-slope-detector-bpf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="slope-detector-bpf.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-slope-detector-bpf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;40: <span class="math inline">\(LC\)</span> 电路作为 Slope Detector: 利用频率响应近似线性的特性将 FM 信号转换为 AM 信号
</figcaption>
</figure>
</div>
</div></div></section>
</section>
<section id="rf-接收机与解调" class="level3 page-columns page-full" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="rf-接收机与解调"><span class="header-section-number">8.3</span> RF 接收机与解调</h3>
<blockquote class="blockquote">
<p>这一章最难学. RF 接收机的任务就是在空气中提取我们要的信号频率成分, 并恢复原始信号. 这不就是解调吗? 并不是, 在解调之前, 还有一个 “前端电路” , 要解决以下问题: 要根据不同调制方法 (AM, FM) 适配, 必须能调谐 (tune, 俗称调台). 为了保留动机, 我们将从简单到复杂介绍.</p>
</blockquote>
<ul>
<li>RF 接收机的特性参数: (概念定义见 <a href="#sec-noise" class="quarto-xref">Section&nbsp;8.3.3</a>, 可视化见 <a href="#fig-RF-metrics" class="quarto-xref">Figure&nbsp;41</a>)
<ul>
<li><strong>Selectivity 选择性</strong>: 接收机能否精准地选出我们要听的台 (BPF 的 <span class="math inline">\(Q\)</span>-factor 越大越好).</li>
<li><strong>Sensitivity 灵敏度</strong>: 接收机能听到的最小的信号功率, 等于<strong>实际 Noise Floor 乘期待的 SNR</strong>, 在对数层面上是加: <span class="math display">\[\boxed{S_n = \sum P_n + \text{SNR}_{\text{desired}} ~[\text{dB}]}\]</span></li>
<li><strong>Dynamic Range (DR) 动态范围<a href="#fn30" class="footnote-ref" id="fnref30" role="doc-noteref"><sup>30</sup></a></strong>: 接收机能处理多大范围的输入信号强度, 一般用 <span class="math inline">\(\text{dB}\)</span> 度量.
<ul>
<li>一般定义为: 放大器能放大的最大信号功率 (用 <span class="math inline">\(1\text{ dB}\)</span> 点来定义<a href="#fn31" class="footnote-ref" id="fnref31" role="doc-noteref"><sup>31</sup></a>) 与 接收机能听到的最小信号功率 (就是灵敏度!) 之比, 在对数层面上是减: <span class="math display">\[\boxed{\text{DR} = P_{1\text{ dB}} - S_n ~[\text{dB}]}\]</span></li>
<li>如果题目告诉你最小最大的信号对应的电平是 <span class="math inline">\(1\text{ mV}\)</span> 和 <span class="math inline">\(1\text{ V}\)</span>, 则: <span class="math inline">\(\text{DR} = 20 \lg \left(\frac{1}{0.001}\right) = 60\text{ dB}.\)</span></li>
</ul></li>
<li><strong>Fidelity 保真度</strong>: 接收机输出的波形是否与原始调制信号一致.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn30"><p><sup>30</sup>&nbsp;“Dynamic” 在音乐上是 “强弱” 的意思, 跟这里的意思一样.</p></div><div id="fn31"><p><sup>31</sup>&nbsp;你可能会问: 放大器能一直线性放大信号吗? 肯定不是的! 那什么时候不能放大了? 我们规定: <strong>当放大器输出的信号小于期待值 <span class="math inline">\(1\text{ dB}\)</span> 的时候</strong>, 此时的 <strong>输入信号功率</strong> 是该放大器能有效放大的最高功率信号, 称为 <strong>1dB Compression Point <span class="math inline">\(P_{1\text{ dB}}\)</span></strong>. <img src="compression-point-1db.png" class="img-fluid" alt="S_{\text{in}} 是该放大器的 1dB Compression Point"></p></div></div><div id="fig-RF-metrics" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RF-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="RF-metrics-summarize.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RF-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;41: 部分 RF 接收机的特性参数的总结 (这图挺好的)
</figcaption>
</figure>
</div>
<section id="trf-tuned-radio-frequency-接收机" class="level4 page-columns page-full" data-number="8.3.1">
<h4 data-number="8.3.1" class="anchored" data-anchor-id="trf-tuned-radio-frequency-接收机"><span class="header-section-number">8.3.1</span> TRF (Tuned Radio Frequency) 接收机</h4>
<div id="fig-TRF" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TRF-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="TRF.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-TRF-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;42: TRF 的三个 stage, <span class="math inline">\(\omega_{\text{RF}}\)</span> 是我们想听的台的频率
</figcaption>
</figure>
</div>
<ul>
<li>三个 Stage<a href="#fn32" class="footnote-ref" id="fnref32" role="doc-noteref"><sup>32</sup></a>: <strong>RF stage, Detector stage, Audio stage</strong>.
<ul>
<li>其实这就比解调器多了一个 RF stage (也称 <strong>Pre-selector</strong>) 的频率选择, 即可以 “调台” 了.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn32"><p><sup>32</sup>&nbsp;命名挺抽象的.</p></div></div><ul>
<li><strong>当频率很高时 (RF)</strong>, 会有如下问题:
<ul>
<li><strong>低 Selectivity 选择性</strong>: 会接收到很多其他的台.</li>
<li><strong>不稳定, 容易自激振荡</strong>: 这样接收器就变成振荡器了哈哈. 一般是由 parasitic capacitance (寄生电容) 导致的.</li>
</ul></li>
</ul>
</section>
<section id="sec-heterodyne" class="level4" data-number="8.3.2">
<h4 data-number="8.3.2" class="anchored" data-anchor-id="sec-heterodyne"><span class="header-section-number">8.3.2</span> Heterodyne Receiver 外差接收机</h4>
<blockquote class="blockquote">
<p>既然直接处理射频频率太高了, 那就先降下来呗. Heterodyne 的核心思想就是把各种射频信号 (RF) “变频”成一个<strong>固定</strong>的<strong>中频</strong> (<strong>IF</strong>) 信号后再去处理. 其实就在 TRF 的 Stage 1,2 之间加了一个 <strong>IF Section</strong>. 这样既解决了频率太高的问题, 又让后续的电路只要处理一个<strong>固定的</strong> IF 频率就行了.</p>
</blockquote>
<div id="fig-Heterodyne" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Heterodyne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Heterodyne.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Heterodyne-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;43: Heterodyne 比 TRF 多了一个中频率转换, 包含一个 Mixer 和一个 BPF, LNA 只是用来放大的 (见 <a href="#sec-noise" class="quarto-xref">Section&nbsp;8.3.3</a>)
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Superheterodyne Receiver 超外差接收机</strong>: 有两个或更多的 IF Section.</p></li>
<li><p><strong>IF 中频</strong>: 调节 LO 的频率可以使得 IF 的频率固定: <span class="math display">\[\boxed{\omega_{\text{IF}} := |\omega_{\text{RF}} - \omega_{\text{LO}}|}\]</span> 由于取了绝对值, 引申出了以下概念:</p>
<ul>
<li><strong>Image Frequency 镜像频率</strong>:
<ul>
<li>有一个不是 <span class="math inline">\(\omega_{\text{RF}}\)</span> 频率的信号 (<span class="math inline">\(\omega_{\text{image}}\)</span>) 也混进来了 (见 <a href="#sec-image-frequency" class="quarto-xref">Section&nbsp;5.2</a>).</li>
<li>是 Mixer 的常见问题, <a href="#fig-image-rejection" class="quarto-xref">Figure&nbsp;14</a> 中 BPF 就是 RF stage 的 Pre-selector, 目的就是尽可能地减小 <span class="math inline">\(\omega_{\text{image}}\)</span>.</li>
</ul></li>
<li><strong>注入类型</strong>:
<ul>
<li><strong>High Side Injection 高侧注入</strong>: <span class="math inline">\(\omega_{\text{LO}} &gt; \omega_{\text{RF}}\)</span></li>
<li><strong>Low Side Injection 低侧注入</strong>: <span class="math inline">\(\omega_{\text{LO}} &lt; \omega_{\text{RF}}\)</span></li>
</ul></li>
</ul></li>
<li><p><strong>AGC (Automatic Gain Control) 自动增益控制</strong>: 输入接收机信号的强度可能会像 Gustav Mahler 的交响曲一样忽大忽小, 造成解调失败. AGC 就是帮你 “平衡音量”, 缩小响度范围的.</p></li>
<li><p><strong>Harmonic distortion 谐波失真</strong>: 由于我们的 Mixer 不是理想的, 在混频过程中会产生高次谐波 (见 <a href="#sec-common-mixer" class="quarto-xref">Section&nbsp;5.1</a>).</p>
<ul>
<li><strong>Total Harmonic Distortion (THD) 总谐波失真</strong>: 衡量谐波失真的程度. 设基波与高次谐波的幅度为: <span class="math inline">\(V_1, V_2, V_3, \ldots\)</span>, THD 定义为<strong>所有高次波与基波功率的比例</strong>: <span class="math display">\[\boxed{\text{THD} := \sqrt{\frac{V_2^2 + V_3^2 + \cdots}{V_1^2}}}\]</span></li>
</ul></li>
</ul>
</section>
<section id="sec-noise" class="level4 page-columns page-full" data-number="8.3.3">
<h4 data-number="8.3.3" class="anchored" data-anchor-id="sec-noise"><span class="header-section-number">8.3.3</span> Thermal Noise 热噪声</h4>
<blockquote class="blockquote">
<p>区别于外界的噪声, 热噪声是<strong>系统本身</strong>的电信号<strong>白噪声</strong> (每个频率上的能量密度是均匀的), 由于系统中电阻里的电子会因为温度而发生热运动, 故称为热噪声. 它正是振荡器起振的种子.</p>
</blockquote>
<ul>
<li><p><strong>(导线) 热噪声功率</strong>: (不考虑器件热噪声)</p>
<ul>
<li>正比于<strong>温度和带宽</strong> <span class="math display">\[\boxed{P_n = kTB}\]</span>
<ul>
<li><span class="math inline">\(k\)</span>: <strong>Boltzmann constant 玻尔兹曼常数</strong>: <span class="math inline">\(1.38 \times 10^{-23} \text{ J/K}\)</span>, <span class="math inline">\(T\)</span>: 系统的温度 (单位为 K), <span class="math inline">\(B\)</span>: 带宽 (单位为 Hz)</li>
<li>为什么跟带宽有关? 因为 “每个频率上的能量密度是均匀的”.</li>
<li><strong>Noise Floor</strong>: 单位带宽 (<span class="math inline">\(B=1\text{ Hz}\)</span>) 上的热噪声功率. <span class="math display">\[\text{Noise Floor} = kT\]</span>
<ul>
<li>当 <span class="math inline">\(T = 290\text{ K}, \boxed{\text{Noise Floor} = -174 \text{ dBm/Hz}} = -204 \text{ dBW/Hz}\)</span>.</li>
<li>为什么功率的单位是 <span class="math inline">\(\text{dB}\)</span>? 因为这里是用了<strong>以 <span class="math inline">\(1\text{ W}\)</span> 和 <span class="math inline">\(1\text{ mW}\)</span> 为基准的功率度量</strong>:<span class="math display">\[\begin{aligned} \text{dBW} &amp;:= 10 \log_{10}\left( \frac{P}{1~\text{W}} \right) \\ \text{dBm} &amp;:= 10 \log_{10}\left( \frac{P}{1~\text{mW}} \right) \end{aligned}\]</span></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>(器件) 热噪声因子 Noise factor (<span class="math inline">\(F\)</span>)</strong>:</p>
<div id="fig-noise-factor" class="quarto-float quarto-figure quarto-figure-center anchored" width="70%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-noise-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="noise-factor.png" id="fig-noise-factor" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-noise-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;44
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>定义</strong>: 一个放大器输入信号的信噪比 (SNR) 与输出信号的 SNR 的比值: <span class="math display">\[\boxed{F := \frac{\text{SNR}_{\text{in}}}{\text{SNR}_{\text{out}}} = \frac{S_i / N_i}{S_i G / ((N_i + N_a) G)} = 1+\frac{N_a}{N_i}}\]</span></p>
<ul>
<li><span class="math inline">\(N_a\)</span>: 归一化 <span class="math inline">\(G\)</span> 引入的噪声<a href="#fn33" class="footnote-ref" id="fnref33" role="doc-noteref"><sup>33</sup></a></li>
<li><strong>Noise Figure (<span class="math inline">\(\text{NF}\)</span>)</strong>: 仅仅是化成 <span class="math inline">\(\text{dB}\)</span>, 注意 <span class="math inline">\(F\)</span> 本来就是功率比了 (而不是幅值比), 所以用 <span class="math inline">\(10\)</span> 当系数: <span class="math display">\[\boxed{\text{NF} := 10 \lg F}\]</span></li>
<li>由于所有放大器都可能有热噪声 (<span class="math inline">\(N_a \ge 0\)</span>), 所以 <span class="math inline">\(F \ge 1, \text{NF} \ge 0\)</span>.</li>
</ul></li>
<li><p><strong>Friis Formula</strong>: 用来计算连级放大器的总噪声因子, 稍微算一算, 结果是这个: <span class="math display">\[\boxed{F_{\text{total}} = F_1 + \frac{F_2 - 1}{G_1} + \frac{F_3 - 1}{G_1 G_2} + \frac{F_4 - 1}{G_1 G_2 G_3} + \cdots}\]</span></p>
<div id="fig-friis-cascade" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-friis-cascade-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="friis-cascade.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-friis-cascade-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;45: Friis Formula 用来计算连级放大器的总噪声因子, <span class="math inline">\(G = G_1G_2G_3G_4\)</span>
</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn33"><p><sup>33</sup>&nbsp;这个概念跟 <a href="https://en.wikipedia.org/wiki/Noise_figure#Noise_factor_as_a_function_of_additional_noise">Wiki</a> 的定义不一样, Wiki 上没有归一化 <span class="math inline">\(G\)</span>.</p></div></div><ul>
<li><strong>总热噪声功率</strong>
<ul>
<li>在 Noise Floor 的基础上, 我们还要乘上<strong>带宽 <span class="math inline">\(B\)</span> 和放大器增强的倍数 <span class="math inline">\(F\)</span></strong>, 在 <span class="math inline">\(\log\)</span> 层面体现为加和: <span class="math display">\[\boxed{\sum P_n =  -174 + 10 \lg B + \text{NF} ~[\text{dBm}]}\]</span>
<ul>
<li>这是一个电路最低的噪声功率, 也称 <strong>True (实际) Noise Floor</strong>.</li>
</ul></li>
</ul></li>
<li><strong>Low Noise Amplifier LNA 低噪声放大器</strong>: 一个以 <span class="math inline">\(\omega_{\text{RF}}\)</span> 为中心频率的放大器. 由于 RF 信号本身很弱, 后续电路听不到 (而 RF stage 只有选择作用而没有放大作用), 所以加一个放大器用来放大微弱的 RF 信号.
<ul>
<li>叫做 “低噪声” 是因为一般的放大器在放大信号的同时会引入很多的<strong>热噪声</strong> (系统本身的噪声, 不是外界的!), 而 LNA 本身的热噪声很小.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="a-d-模数转换" class="level2 page-columns page-full" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="a-d-模数转换"><span class="header-section-number">9</span> A &amp; D 模数转换 ★★★★★</h2>
<section id="op-amp-运算放大器" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="op-amp-运算放大器"><span class="header-section-number">9.1</span> Op-amp 运算放大器</h3>
<blockquote class="blockquote">
<p>运算放大器用了反馈电路来实现放大, 微分, 积分等运算. <strong>这些你都不需要会</strong>, 这些反馈最后的结果就是下面的模型, 用他们对付模数转换足够. (这个思想见 <a href="#sec-change-of-mind" class="quarto-xref">Section&nbsp;1</a>)</p>
</blockquote>
<p><span class="math display">\[
\boxed{
\begin{aligned}
I_{R_1} &amp;= I_{R_2} \\
\implies \frac{V_{\text{in}}}{R_1} &amp;= -\frac{V_{\text{out}}}{R_2}
\end{aligned}
}
\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="op-amp.png" class="img-fluid figure-img"></p>
<figcaption>用跷跷板来思考 Op-amp, <span class="math inline">\(+\)</span> 接地相当于 <span class="math inline">\(-\)</span> 接地</figcaption>
</figure>
</div>
</section>
<section id="adc" class="level3 page-columns page-full" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="adc"><span class="header-section-number">9.2</span> ADC</h3>
<ul>
<li>步骤
<ul>
<li><strong>Sampling &amp; Holding 采样保持</strong>: 时域离散化 (<strong>信号值还是模拟的</strong>)
<ul>
<li><p><strong>Nyquist-Shannon 采样定理</strong>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Nyquist-Thm.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Nyquist 采样定理<a href="#fn34" class="footnote-ref" id="fnref34" role="doc-noteref"><sup>34</sup></a>: 如果你看到的版本是用时域诠释的, 我很好奇你是怎么理解的</figcaption>
</figure>
</div>
<ul>
<li><span class="math inline">\(2f_0\)</span>: 采样频率的最小值, 称为 <strong>Nyquist rate</strong></li>
<li><strong>Aliasing 混叠</strong>: <span class="math inline">\(f_s \le 2f_0\)</span>, 由于在频域上频谱重叠在了一起, 所以称为混叠. 这时无法复原原始信号.
<ul>
<li><strong>Bandlimiting 带限化</strong>: 此时可对原始信息做一点牺牲, 在采样前用 <strong>Anti-aliasing filter 反混叠滤波器</strong> 将原信号的频谱缩小到满足 Nyquist 采样定理的范围内.</li>
</ul></li>
</ul></li>
<li><p>3 种方法采样后的波形: <strong>Ideal, Natural, Flattop</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sampling-methods.png" class="img-fluid figure-img"></p>
<figcaption>3 种方法采样后的波形</figcaption>
</figure>
</div></li>
</ul></li>
<li><strong>Quantization &amp; Encoding 量化编码</strong>: 信号值也离散化
<ul>
<li>采样保持的输出是 <span class="math inline">\([V_{\min}, V_{\max}]\)</span> 之间的电压信号, 用 <span class="math inline">\(n\)</span>-bit ADC 对其进行均匀分割成 <span class="math inline">\(2^n\)</span> 个 <strong>量化区间</strong> (称为<strong>量化</strong>), 再给每个<strong>区间</strong>一串二进制数 (称为<strong>编码</strong>).</li>
<li><strong>Resolution 分辨率</strong>: <span class="math display">\[\boxed{\Delta := \frac{V_{\max} - V_{\min}}{2^n}}\]</span></li>
<li><strong>Quantization Error 量化误差信号</strong>: 是一个电压噪声, (<a href="#fig-quantization-error" class="quarto-xref">Figure&nbsp;46</a>). 当我们用每个量化区间中点代表量化后的信号时, 这个噪声的功率达到最小 (所以以后都用区间中点吧).</li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn34"><p><sup>34</sup>&nbsp;如果时间上只取部分点的话 (Sampling), 怎么可能复原原来的信号? 其实 Nyquist 采样定理应该反过来理解: <strong>如果只取部分点都能复原原来的信号的话, 那么这个信号一定是被 <span class="math inline">\(\ge 2f_0\)</span> 的采样频率采样过的.</strong></p></div><div class="">
<div id="fig-quantization-error" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quantization-error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Quantization-error.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quantization-error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;46: 不用区间中点时的量化误差信号
</figcaption>
</figure>
</div>
</div></div>
<ul>
<li>电路实现
<ul>
<li><strong>Successive Approximation ADC</strong></li>
<li><strong>Dual Slope (aka Integrating) ADC</strong></li>
<li><strong>Flash ADC</strong>: 速度最快.</li>
</ul></li>
</ul>
</section>
<section id="dacdac-ppt" class="level3 page-columns page-full" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="dacdac-ppt"><span class="header-section-number">9.3</span> DAC<a href="#fn35" class="footnote-ref" id="fnref35" role="doc-noteref"><sup>35</sup></a></h3>
<ul>
<li>为什么需要 DAC? (数字信号的局限性<a href="#fn36" class="footnote-ref" id="fnref36" role="doc-noteref"><sup>36</sup></a>)
<ul>
<li>我们 percept 到的信号是模拟的 (比如声音)</li>
<li>世界是模拟的, 只有模拟信号才能跟他们 interact (DAC as a bridge)</li>
<li>数字化的过程中有信息损失</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn36"><p><sup>36</sup>&nbsp;资产阶级的局限性 (幻视</p></div></div><ul>
<li>电路实现
<ul>
<li><p><strong>Weighted Resistor DAC</strong></p>
<div id="fig-weighted-register-dac" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-weighted-register-dac-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="weighted-register-dac.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weighted-register-dac-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;47: Weighted Resistor DAC: 通过调整 <span class="math inline">\(R_1\)</span> 来实现 DAC, 用导纳思考更好, 一般情况下 <span class="math inline">\(R_f = R\)</span>
</figcaption>
</figure>
</div>
<ul>
<li>Motivation: 一个很自然的想法是利用 Op-amp, 通过数字输入 <span class="math inline">\(D = [D_3:D_0]\)</span> 来控制接入电阻的数量, 进而控制 <span class="math inline">\(R_1\)</span> 的大小, 我们期待 <span class="math inline">\(D\)</span> 越大, <span class="math inline">\(R_1\)</span> 越小, 这样 <span class="math inline">\(V_{\text{out}}\)</span> 就会越大, 即 <span class="math inline">\(R_1\)</span> 的导纳满足: <span class="math display">\[Y_1 \propto D_0+2D_1+4D_2+8D_3\]</span></li>
<li><span class="math inline">\(Y_1\)</span> 和 <span class="math inline">\(D\)</span> 的关系: <span class="math display">\[\boxed{Y_1 = \frac{1}{R}\left(\frac{D_0}{8} + \frac{D_1}{4} + \frac{D_2}{2} + D_3\right)}\]</span></li>
<li>局限性: 电阻随比特数指数级增大, 需要精确的电阻</li>
</ul></li>
<li><p><strong>R-2R Ladder DAC</strong><a href="#fn37" class="footnote-ref" id="fnref37" role="doc-noteref"><sup>37</sup></a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="R-2R-ladder.png" class="img-fluid figure-img"></p>
<figcaption>R-2R Ladder DAC: 用电流思考而不是等效电阻 <span class="math inline">\(R_1\)</span>, 一般情况下 <span class="math inline">\(R_f = R\)</span></figcaption>
</figure>
</div>
<ul>
<li>这个结构要论证叠加的话别看等效电阻 <span class="math inline">\(R_1\)</span>, 看电流, 电流满足叠加定理.</li>
<li>推导可用 <a href="#fig-R-2R-ladder-explain" class="quarto-xref">Figure&nbsp;48</a> 树结构思考. 先只考虑单独接通一个节点 (注意没接通的节点是接地而不是浮空!!) 上面的节点接通电流最大, 从上到下指数减小, 因此上面节点是 <span class="math inline">\(D\)</span> 的高位.</li>
<li><span class="math inline">\(Y_1\)</span> 和 <span class="math inline">\(D\)</span> 的关系: <span class="math display">\[\boxed{Y_1 = \frac{1}{R}\left(\frac{D_0}{16} + \frac{D_1}{8} + \frac{D_2}{4} + \frac{D_3}{2}\right)}\]</span></li>
</ul></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn37"><p><sup>37</sup>&nbsp;这个结构真是太精妙了, 很难说它是怎么想出来的.</p></div><div class="">
<div id="fig-R-2R-ladder-explain" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-R-2R-ladder-explain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="R-2R-ladder-explain.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-R-2R-ladder-explain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;48: 每根线段代表 <span class="math inline">\(R\)</span>, 电阻树的简化涉及<strong>电阻等效</strong>和<strong>电源等效</strong>, 两个节点同时接入电流满足叠加定理
</figcaption>
</figure>
</div>
</div></div>
<!-- 
#| label: fig-polar
#| fig-cap: "A line plot on a polar axis"

import numpy as np
import matplotlib.pyplot as plt

r = np.arange(0, 2, 0.01)
theta = 2 * np.pi * r
fig, ax = plt.subplots(
  subplot_kw = {'projection': 'polar'} 
)
ax.plot(theta, r)
ax.set_rticks([0.5, 1, 1.5, 2])
ax.grid(True)
plt.show()
``` -->


</section>
<div class="no-row-height column-margin column-container"><div id="fn35"><p><sup>35</sup>&nbsp;我只想说 PPT 这一章可真够啰嗦的.</p></div></div></section>


</main> <!-- /main -->
<!-- Cloudflare Web Analytics --><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;d0b3c27b7e5c43938065722a5136416f&quot;}"></script><!-- End Cloudflare Web Analytics -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/marcobisky\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="Marcobisky.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025 Marcobisky.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>
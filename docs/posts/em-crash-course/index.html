<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.41">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marcobisky">
<meta name="dcterms.date" content="2025-06-27">
<meta name="description" content="(以停更 Jun 27, 17:24, 2025), 第 2, 7, 8, 9, 10 章相对比较完整">

<title>Electromagnetism Crash Course 电磁场与波速成笔记 – Marcobisky</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-48ffa3e5b9d089919c6712c39e5b00f2.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-71390cc8b9bae10139428574d3aab2c6.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-7296923c0d2fcbb96815fa438c9ef20b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-adc93d32920180751a3f51360edeb12f.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Electromagnetism Crash Course 电磁场与波速成笔记 – Marcobisky">
<meta property="og:description" content="(以停更 Jun 27, 17:24, 2025), 第 2, 7, 8, 9, 10 章相对比较完整">
<meta property="og:image" content="https://marcobisky.github.io/posts/em-crash-course/cover.png">
<meta property="og:site_name" content="Marcobisky">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="1741">
<meta property="og:image:width" content="3807">
<meta name="twitter:title" content="Electromagnetism Crash Course 电磁场与波速成笔记 – Marcobisky">
<meta name="twitter:description" content="(以停更 Jun 27, 17:24, 2025), 第 2, 7, 8, 9, 10 章相对比较完整">
<meta name="twitter:image" content="https://marcobisky.github.io/posts/em-crash-course/cover.png">
<meta name="twitter:creator" content="@Marcobisky77">
<meta name="twitter:image-height" content="1741">
<meta name="twitter:image-width" content="3807">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Marcobisky</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tinyml/index.html"> 
<span class="menu-text">TinyML</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#change-of-mind-这个可能有用" id="toc-change-of-mind-这个可能有用" class="nav-link active" data-scroll-target="#change-of-mind-这个可能有用"><span class="header-section-number">1</span> Change of Mind 这个可能有用</a></li>
  <li><a href="#vector-analysis-向量分析" id="toc-vector-analysis-向量分析" class="nav-link" data-scroll-target="#vector-analysis-向量分析"><span class="header-section-number">2</span> Vector Analysis 向量分析</a>
  <ul class="collapse">
  <li><a href="#vector-operations-向量运算" id="toc-vector-operations-向量运算" class="nav-link" data-scroll-target="#vector-operations-向量运算"><span class="header-section-number">2.1</span> Vector operations 向量运算</a></li>
  <li><a href="#sec-vector-fields" id="toc-sec-vector-fields" class="nav-link" data-scroll-target="#sec-vector-fields"><span class="header-section-number">2.2</span> Vector fields 向量场</a></li>
  </ul></li>
  <li><a href="#magnetostatics-静磁学" id="toc-magnetostatics-静磁学" class="nav-link" data-scroll-target="#magnetostatics-静磁学"><span class="header-section-number">3</span> Magnetostatics 静磁学</a>
  <ul class="collapse">
  <li><a href="#conduction-current-传导电流" id="toc-conduction-current-传导电流" class="nav-link" data-scroll-target="#conduction-current-传导电流"><span class="header-section-number">3.1</span> Conduction current 传导电流</a></li>
  <li><a href="#displacement-current-位移电流" id="toc-displacement-current-位移电流" class="nav-link" data-scroll-target="#displacement-current-位移电流"><span class="header-section-number">3.2</span> Displacement current 位移电流</a></li>
  </ul></li>
  <li><a href="#capacitance-inductance-电容与电感" id="toc-capacitance-inductance-电容与电感" class="nav-link" data-scroll-target="#capacitance-inductance-电容与电感"><span class="header-section-number">4</span> Capacitance &amp; Inductance 电容与电感</a></li>
  <li><a href="#mathbfd-和-mathbfh-的引入" id="toc-mathbfd-和-mathbfh-的引入" class="nav-link" data-scroll-target="#mathbfd-和-mathbfh-的引入"><span class="header-section-number">5</span> <span class="math inline">\(\mathbf{D}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 的引入</a></li>
  <li><a href="#electromagnetic-induction-电磁感应" id="toc-electromagnetic-induction-电磁感应" class="nav-link" data-scroll-target="#electromagnetic-induction-电磁感应"><span class="header-section-number">6</span> Electromagnetic Induction 电磁感应</a>
  <ul class="collapse">
  <li><a href="#faradays-law-法拉第定律" id="toc-faradays-law-法拉第定律" class="nav-link" data-scroll-target="#faradays-law-法拉第定律"><span class="header-section-number">6.1</span> Faraday’s Law 法拉第定律</a></li>
  </ul></li>
  <li><a href="#complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量" id="toc-complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量" class="nav-link" data-scroll-target="#complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量"><span class="header-section-number">7</span> Complexification, Phasor and Jones Vector 场的复化, 相量和琼斯矢量</a></li>
  <li><a href="#maxwells-equations-麦克斯韦方程组" id="toc-maxwells-equations-麦克斯韦方程组" class="nav-link" data-scroll-target="#maxwells-equations-麦克斯韦方程组"><span class="header-section-number">8</span> Maxwell’s Equations 麦克斯韦方程组</a>
  <ul class="collapse">
  <li><a href="#without-magnetic-monopoles-无磁单极子" id="toc-without-magnetic-monopoles-无磁单极子" class="nav-link" data-scroll-target="#without-magnetic-monopoles-无磁单极子"><span class="header-section-number">8.1</span> Without magnetic monopoles 无磁单极子</a></li>
  <li><a href="#with-magnetic-monopoles-有磁单极子" id="toc-with-magnetic-monopoles-有磁单极子" class="nav-link" data-scroll-target="#with-magnetic-monopoles-有磁单极子"><span class="header-section-number">8.2</span> With magnetic monopoles 有磁单极子</a></li>
  <li><a href="#potential-functions-势函数的麦克斯韦方程组" id="toc-potential-functions-势函数的麦克斯韦方程组" class="nav-link" data-scroll-target="#potential-functions-势函数的麦克斯韦方程组"><span class="header-section-number">8.3</span> Potential functions 势函数的麦克斯韦方程组</a></li>
  <li><a href="#phasor-representation-相量麦克斯韦方程组special-case" id="toc-phasor-representation-相量麦克斯韦方程组special-case" class="nav-link" data-scroll-target="#phasor-representation-相量麦克斯韦方程组special-case"><span class="header-section-number">8.4</span> Phasor representation 相量麦克斯韦方程组</a></li>
  </ul></li>
  <li><a href="#maxwells-equations-solution-麦克斯韦方程组的解" id="toc-maxwells-equations-solution-麦克斯韦方程组的解" class="nav-link" data-scroll-target="#maxwells-equations-solution-麦克斯韦方程组的解"><span class="header-section-number">9</span> Maxwell’s Equations Solution 麦克斯韦方程组的解</a>
  <ul class="collapse">
  <li><a href="#波在单一无源介质中的传播" id="toc-波在单一无源介质中的传播" class="nav-link" data-scroll-target="#波在单一无源介质中的传播"><span class="header-section-number">9.1</span> 波在单一无源介质中的传播</a></li>
  <li><a href="#平面波经过两种介质的界面" id="toc-平面波经过两种介质的界面" class="nav-link" data-scroll-target="#平面波经过两种介质的界面"><span class="header-section-number">9.2</span> 平面波经过两种介质的界面</a></li>
  </ul></li>
  <li><a href="#harmonic-waves-谐波" id="toc-harmonic-waves-谐波" class="nav-link" data-scroll-target="#harmonic-waves-谐波"><span class="header-section-number">10</span> Harmonic Waves 谐波</a>
  <ul class="collapse">
  <li><a href="#wave-parameters-波参数" id="toc-wave-parameters-波参数" class="nav-link" data-scroll-target="#wave-parameters-波参数"><span class="header-section-number">10.1</span> Wave parameters 波参数</a></li>
  <li><a href="#polarization-极化-偏振" id="toc-polarization-极化-偏振" class="nav-link" data-scroll-target="#polarization-极化-偏振"><span class="header-section-number">10.2</span> Polarization 极化 (偏振)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Electromagnetism Crash Course 电磁场与波速成笔记</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Physics</div>
    <div class="quarto-category">Crash-Course</div>
    <div class="quarto-category">CN-blogs</div>
  </div>
  </div>

<div>
  <div class="description">
    (以停更 Jun 27, 17:24, 2025), 第 2, 7, 8, 9, 10 章相对比较完整
  </div>
</div>


<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Marcobisky </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 27, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p><strong>宇宙安全声明</strong>: 本笔记是本人电子科技大学格院大三《电磁场与波》课程的期末考试复习笔记, 遵循个人学习习惯与轨迹, 但我将尝试保留所有概念的动机和尽可能地解释原因, 不保证覆盖全部考点, 不保证严谨性和绝对正确性. 框中的公式比较重要. 本文有较多超出考试范围的内容, 仅供参考.</p>
</blockquote>
<blockquote class="blockquote">
<p>本文 <strong>All Right Reserved 保留所有权利</strong>, 禁止商用和任何形式的转载!</p>
</blockquote>
<section id="change-of-mind-这个可能有用" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="change-of-mind-这个可能有用"><span class="header-section-number">1</span> Change of Mind 这个可能有用</h2>
<blockquote class="blockquote">
<p>“我们永远无法认识事物本身 (Ding an sich), 我们只能认识它在我们感官和理解结构下所呈现的现象.” — 康德《纯粹理性批判》</p>
</blockquote>
<ul>
<li><strong>电磁场从来都不会「传播」</strong>: 电磁场本身就是空间中每个点都对应一个矢量, 而且这些矢量会随着时间摇摆, 用二维来做比喻, 就像是风吹过一片草坪, 草坪上每个点的草构成一个时变矢量场, 但草本身并没有「传播」. 我们感觉波在传播是因为波恰好就被画成了<strong>空间域周期性</strong>的样子, 而且它碰巧又是在<strong>时域周期性</strong>运动, 当我们一眼看过去的时候, 我们大脑被欺骗地认为是一个波正在往前运动, <strong>But there is nothing moving!</strong> <strong>波的速度需要人为定义!!!</strong>
<ul>
<li><p>当波是时空域正弦的时候, 它的移动方向和速度所有人都觉得一样, 但是:</p></li>
<li><p>如果波是 <a href="#fig-group-phase-velocity" class="quarto-xref">Figure&nbsp;1</a> 的样子呢? 有些人会觉得它速度快, 有些人会觉得它速度慢, 甚至移动的方向每个人看起来都不一样! 所以我们引入了<strong>群速度</strong>和<strong>相速度</strong>两个速度来描述波「传播」的快慢.</p></li>
<li><p>能流密度的定义是把波的速度当作了相速度时的定义 (所以能量才有了「流动」的概念).</p>
<div id="fig-group-phase-velocity" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-group-phase-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="group-phase-velocity.gif" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-group-phase-velocity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 群速度与相速度
</figcaption>
</figure>
</div></li>
</ul></li>
<li>波的行为<strong>完全</strong>由一组偏微分方程 (Maxwell 方程组) 描述
<ul>
<li>电场和磁场为什么会传播? 因为求解偏微分方程后得到的是空间二阶导与时间二阶导 (而不是一阶导) 的方程, 这决定了这两个场的行为是「传播」而不是「扩散」(如果是时间一阶导, 则是扩散, 比如热量).</li>
<li>电磁波为什么会反射和折射? 当你写下 Maxwell 方程组的那一刻, 它定义的对象 (电磁波) 就已经会反射和折射了. 设想你轻轻摇动一根绳子, 左行波和右行波 (还有无数其它奇形怪状的波) 都满足振动方程. 如果没有边界条件, 就用右行波当作这个情形的 mental picture 吧. 若将绳子的另一头固定在墙上, 单独一个右行波并不能保证满足这个边界条件, 所以再叠加一个左行波试试, 诶已经可以满足边界条件了! 这个左行波就是反射波, 它完全就是为了满足边界条件而引入的. 所以 <strong>反射的本质是为了让偏微分方程的解满足边界条件而引入的修正项</strong> (<span class="math inline">\(E_r e^{jkz}\)</span>).</li>
</ul></li>
<li>电磁波不需要一定是一个正弦波的样子, 可以是任何随时间变化的场, 只要满足 Maxwell 方程组就行. 就像水面的波纹也是由一个偏微分方程所描述的, 但水波微澜不定，自有万千形态.
<ul>
<li>那为什么我们好像指讨论过正弦波? 因为正弦波是 Maxwell 方程组的<strong>特征解</strong>, 其他的解都是特征解的线性组合. 所以只需要研究特征解就行了, 而 Maxwell 方程组的 Phasor 表示就是专门描述特征解的, 所以只需要研究 Phasor 表示就足够.</li>
</ul></li>
<li>要优雅地理解电磁场理论, 必须引入狭义相对论、四元数 (或 Maxwell 电磁张量). 在经典力学中, 比较难看清电磁场的本质.</li>
</ul>
</section>
<section id="vector-analysis-向量分析" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="vector-analysis-向量分析"><span class="header-section-number">2</span> Vector Analysis 向量分析</h2>
<section id="vector-operations-向量运算" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="vector-operations-向量运算"><span class="header-section-number">2.1</span> Vector operations 向量运算</h3>
<ul>
<li><p><strong>Mixed product 混合积</strong>: <span class="math display">\[
  \mathbf{a} \cdot (\mathbf{b} \times \mathbf{c}) = \mathbf{b} \cdot (\mathbf{c} \times \mathbf{a}) = \mathbf{c} \cdot (\mathbf{a} \times \mathbf{b})
  \]</span></p></li>
<li><p><strong>BAC-CAB rule 三叉乘 BACK-CAB 规则</strong>: <span class="math display">\[ \begin{aligned} \mathbf{a} \times (\mathbf{b} \times \mathbf{c}) &amp;= \mathbf{b} (\mathbf{a} \cdot \mathbf{c}) - \mathbf{c} (\mathbf{a} \cdot \mathbf{b}) \\ \nabla \times (\nabla \times \mathbf{A}) &amp;= \nabla (\nabla \cdot \mathbf{A}) - \nabla^2 \mathbf{A} \\ \end{aligned}\]</span></p>
<ul>
<li><p><span class="math inline">\(\mathbf{a} \times (\mathbf{b} \times \mathbf{c})\)</span> 的结果在 <span class="math inline">\(\mathbf{a}\)</span> 和 <span class="math inline">\(\mathbf{b}\)</span> 的平面内.</p></li>
<li><p>三叉乘操作等价于先投影 <span class="math inline">\(\mathbf{a}\)</span> 再旋转 <span class="math inline">\(90^\circ\)</span>: <img src="bac-cab.png" id="fig-bac-cab" class="img-fluid" style="width:50.0%"></p></li>
<li><p><strong>空间二阶导算子 <span class="math inline">\(\nabla^2\)</span></strong></p>
<ul>
<li>当 <span class="math inline">\(\nabla^2\)</span> 作用在标量场 <span class="math inline">\(\psi\)</span> 上时, <span class="math inline">\(\nabla^2 \psi \equiv \nabla \cdot \nabla \psi\)</span>.</li>
<li>当 <span class="math inline">\(\nabla^2\)</span> 作用在向量场上时, 约定为 <strong>作用在向量场的每个分量上</strong> (相当于三个标量场). 注意这个时候 $^2 $.</li>
<li>引入 <span class="math inline">\(\nabla^2\)</span> 是因为 <span class="math inline">\(\nabla^2\)</span> 是<strong>二阶导</strong>的自然高维推广 (而不是 <span class="math inline">\(\nabla \times \nabla\)</span>). 用 <span class="math inline">\(\nabla^2\)</span> 列出的方程的每个分量一般就是二阶一维 PDE. 所以涉及到 <span class="math inline">\(\nabla^2\)</span> 的方程我们都 component-wise 地求解.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-vector-fields" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="sec-vector-fields"><span class="header-section-number">2.2</span> Vector fields 向量场</h3>
<ul>
<li><p><strong>约定</strong>: 标量场是 <span class="math inline">\(0\)</span>-form, 向量场是 <span class="math inline">\(1\)</span>-form, 只考虑三维向量场 <span class="math inline">\(\omega: \mathbb{R}^3 \to \mathbb{R}^3\)</span>.</p></li>
<li><p><strong>Gradient, curl, divergence 梯度, 旋度, 散度</strong>: 都可看作某种导数:「外微分算子」. <img src="exterior-derivative.png" class="img-fluid"></p>
<ul>
<li><p>旋度计算: 用 symbolic 叉乘 (“掐头去尾取中间”, 见 <a href="#fig-cross-product-calculation" class="quarto-xref">Figure&nbsp;2</a>).</p>
<div id="fig-cross-product-calculation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cross-product-calculation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="cross-product-calculation.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cross-product-calculation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: 叉乘的计算技巧
</figcaption>
</figure>
</div></li>
</ul></li>
<li><p>外微分算子的 <strong>Exact 正和性</strong> 与 <strong>Poincaré’s lemma 庞加莱引理</strong>:</p>
<ul>
<li><p><strong>Exact 正和性</strong> <span class="math inline">\(\mathrm{d}^2 = 0\)</span>: <strong>梯度无旋, 旋度无散</strong>. <img src="long-exact-sequence.png" class="img-fluid" alt="外微分算子的长正和列"></p></li>
<li><p><strong>Poincaré’s lemma 庞加莱引理</strong>: <strong>闭形式一定是恰当形式</strong>, 即无旋场一定是梯度场, 无散场一定是旋度场.</p></li>
<li><p><strong>Potential 势函数</strong>:</p>
<ul>
<li>若恰当形式 <span class="math inline">\(\alpha = \mathrm{d}\beta\)</span>, 则称 <span class="math inline">\(\beta\)</span> 是 <span class="math inline">\(\alpha\)</span> 的 <strong>(矢)势</strong> (比如磁场, <span class="math inline">\(\alpha = \mathbf{B}\)</span>, <span class="math inline">\(\beta = \mathbf{A}\)</span>)</li>
<li>若恰当形式 <span class="math inline">\(\alpha = -\mathrm{d}\beta\)</span>, 则称 <span class="math inline">\(\beta\)</span> 是 <span class="math inline">\(\alpha\)</span> 的 <strong>(标量)势</strong> (比如电场, <span class="math inline">\(\alpha = \mathbf{E}\)</span>, <span class="math inline">\(\beta = \varphi\)</span>)</li>
</ul></li>
<li><p><strong>恰当形式是不唯一的</strong>, 不同的恰当形式之间相差一个 <strong>Gauge</strong>:</p>
<ul>
<li>若 <span class="math inline">\(\mathbf{B} = \nabla \times \mathbf{A}\)</span>, 则 <span class="math inline">\(\mathbf{A} + \nabla \psi\)</span> 也是 <span class="math inline">\(\mathbf{B}\)</span> 的磁势.</li>
<li>若 <span class="math inline">\(\mathbf{E} = -\nabla \varphi\)</span>, 则 <span class="math inline">\(\varphi + c\)</span> 也是 <span class="math inline">\(\mathbf{E}\)</span> 的电势.</li>
<li>不同的 <span class="math inline">\(\psi\)</span> 和 <span class="math inline">\(c\)</span> 称为不同的 <strong>Gauge</strong> (e.g.&nbsp;Coulomb gauge, Lorenz gauge).</li>
</ul></li>
</ul></li>
<li><p><strong>Stokes’ theorem 广义斯托克斯定理</strong>: 即 <strong>Newton–Leibniz theorem 牛顿-莱布尼茨定理</strong> 的推广, <span class="math inline">\(\omega\)</span> 在流形 <span class="math inline">\(M\)</span> 边界上的积分等于 <span class="math inline">\(\mathrm{d}\omega\)</span> 在 <span class="math inline">\(M\)</span> 内部的积分: <span class="math display">\[
  \int_{\partial M} \omega = \int_M \mathrm{d}\omega
  \]</span></p>
<ul>
<li>特例: <strong>Gauss’s 定理</strong> 和 <strong>Green’s 定理</strong>.</li>
<li>Stokes’ 定理可从积分形式的 Maxwell 方程推导出其微分形式, 反之亦然.</li>
</ul></li>
</ul>
</section>
</section>
<section id="magnetostatics-静磁学" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="magnetostatics-静磁学"><span class="header-section-number">3</span> Magnetostatics 静磁学</h2>
<section id="conduction-current-传导电流" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="conduction-current-传导电流"><span class="header-section-number">3.1</span> Conduction current 传导电流</h3>
<ul>
<li>因电荷运动产生的电流. 每秒通过指定截面的电荷量<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span class="math display">\[I = \frac{\mathrm{d}q}{\mathrm{d}t}.\]</span></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;这不是 <span class="math inline">\(I\)</span> 的定义! 国际上用力定义了电流, 再用电流定义了电荷量.</p></div></div><ul>
<li><p><strong>Current density 电流密度</strong>: 每秒通过单位截面的电荷量 <span class="math display">\[|\mathbf{j}| := \frac{I}{A}.\]</span></p></li>
<li><p>传导电流产生静磁场, 可由以下关系描述:</p>
<p><span class="math display">\[
  \begin{aligned}
      \mathbf{B}(\mathbf{r}) &amp;= \frac{\mu_0}{4\pi} \int \frac{\mathbf{I} \times \mathbf{\hat{r}}}{r^2} \mathrm{d}l' \quad &amp;\text{(Biot-Savart law)} \\
      \operatorname{Flow}_C (\mathbf{B}) &amp;= \mu_0 I_{\text{enc}} \quad &amp;\text{(Ampère's law)} \\
      \mathbf{\nabla} \times \mathbf{B} &amp;= \mu_0 \mathbf{J} + \mu_0 \varepsilon_0 \frac{\partial \mathbf{E}}{\partial t} \quad &amp;\text{(Ampère's law)}
  \end{aligned}
  \]</span></p></li>
</ul>
</section>
<section id="displacement-current-位移电流" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="displacement-current-位移电流"><span class="header-section-number">3.2</span> Displacement current 位移电流</h3>
<ul>
<li>因电场 (电位移矢量) 的变化</li>
</ul>
</section>
</section>
<section id="capacitance-inductance-电容与电感" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="capacitance-inductance-电容与电感"><span class="header-section-number">4</span> Capacitance &amp; Inductance 电容与电感</h2>
</section>
<section id="mathbfd-和-mathbfh-的引入" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="mathbfd-和-mathbfh-的引入"><span class="header-section-number">5</span> <span class="math inline">\(\mathbf{D}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 的引入</h2>
<blockquote class="blockquote">
<p><strong>动机</strong>: 静电场和静磁场分别由电荷和恒定电流产生, 而介质中这两者会由于 <strong>极化</strong> 和 <strong>磁化</strong> 而发生变化 (激发出额外的 <strong>感应电荷 <span class="math inline">\(\rho_b\)</span></strong> 和 <strong>磁化等效电流 <span class="math inline">\(\mathbf{j}_b\)</span></strong>), 而我们并不关心感应出来的量的变化, 只关心本来的电荷和电流 (称为 <strong>自由电荷 <span class="math inline">\(\rho_f\)</span></strong> 和 <strong>自由电流 <span class="math inline">\(\mathbf{j}_f\)</span></strong>). 我们将他们的变化融入 <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{B}\)</span>, 得到新的量 <span class="math inline">\(\mathbf{D}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span>.</p>
</blockquote>
<blockquote class="blockquote">
<p>本章假设存在磁单极子.</p>
</blockquote>
<ul>
<li><strong>Dipole 偶极子</strong>
<ul>
<li><strong>Electric Dipole 电偶极子</strong>: <strong>一正一负两个电荷 <span class="math inline">\(q\)</span> 组成的整体</strong> 或 <strong>环形磁流 <span class="math inline">\(\mathbf{I}_m\)</span></strong>
<ul>
<li><p><strong>Electric Dipole Moment 电偶极矩 <span class="math inline">\(\mathbf{p}\)</span></strong>: <span id="eq-e-pole-moment"><span class="math display">\[\mathbf{p} := q \mathbf{d} \tag{1}\]</span></span> 其中 <span class="math inline">\(\mathbf{d}\)</span> 的方向由负电荷指向正电荷. 这样定义是为了方便计算作用在 dipole 上的力矩: <span class="math display">\[\mathbf{\tau} = \mathbf{p} \times \mathbf{E}\]</span></p></li>
<li><p><strong>磁流版本的电偶极矩 <span class="math inline">\(\mathbf{m}_e\)</span></strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>: 磁单极子的流动可等效于极化电荷: <span id="eq-e-current-moment"><span class="math display">\[\mathbf{m}_e := I_m \mathbf{A} \tag{2}\]</span></span> 其中 <span class="math inline">\(\mathbf{A}\)</span> 是环形磁流的面积向量, <span class="math inline">\(I_m\)</span> 是磁流大小. 注意 <span class="math inline">\(\mathbf{m}_e\)</span> 不是 <span class="math inline">\(\mathbf{p}\)</span>, 而是差一个常数: <span class="math display">\[\mathbf{p} = \epsilon_0 \mathbf{m}_e\]</span></p></li>
<li><p><strong>Generalized Electric Dipole Moment 广义电偶极矩</strong>: 区域 <span class="math inline">\(V_0\)</span> 内的 <strong>任意</strong>连续电荷分布 <span class="math inline">\(\rho(x,y,z)\)</span> 的 电偶极矩 或 任意连续磁流 <span class="math inline">\(\mathbf{j}_m(x,y,z)\)</span> 版本: <span id="eq-e-generalized-dipole-moment"><span class="math display">\[\begin{aligned}\mathbf{p} &amp;:= \int_{V_0} \rho \mathbf{r} ~\mathrm{d}V \\ \mathbf{m}_e &amp;:= \frac{1}{2} \int_{V_0} \mathbf{r} \times \mathbf{j}_m ~\mathrm{d}V \end{aligned} \tag{3}\]</span></span></p></li>
<li><p><strong>Electric Dipole Moment Density 电偶极矩密度</strong>: 即 <a href="#eq-e-generalized-dipole-moment" class="quarto-xref">Equation&nbsp;3</a> 在某点的密度: <span class="math display">\[\mathbf{P} := \lim_{V_0 \to 0} \frac{\mathbf{p}}{V_0}, \mathbf{M}_e := \lim_{V_0 \to 0} \frac{\mathbf{m}_e}{V_0}\]</span> 因而 <span class="math display">\[\mathbf{p} = \int_{V_0} \mathbf{P} ~\mathrm{d}V, \mathbf{m}_e = \int_{V_0} \mathbf{M}_e ~\mathrm{d}V\]</span></p></li>
</ul></li>
<li><strong>Magnetic Dipole 磁偶极子</strong>: <strong>一正一负两个磁荷 <span class="math inline">\(q_m\)</span> 组成的整体</strong> 或 <strong>环形电流 <span class="math inline">\(\mathbf{I}\)</span></strong>, 所有的概念跟上面是完全对称的, 直接给出:
<ul>
<li><p><strong>Magnetic Dipole Moment 磁偶极矩 <span class="math inline">\(\mathbf{p}\)</span></strong>: <span id="eq-m-pole-moment"><span class="math display">\[\begin{aligned}\mathbf{p}_m &amp;:= q_m \mathbf{d} \\ \mathbf{\tau} &amp;= \mathbf{p}_m \times \mathbf{H}
  \end{aligned} \tag{4}\]</span></span></p></li>
<li><p><strong>电流版本的磁偶极矩 <span class="math inline">\(\mathbf{m}\)</span></strong>: <span class="math display">\[\begin{aligned}\mathbf{m} &amp;:= I \mathbf{A} \\ \mathbf{p}_m &amp;= \mu_0 \mathbf{m}\end{aligned}\]</span></p></li>
<li><p><strong>Generalized Magnetic Dipole Moment 广义磁偶极矩</strong>: <span class="math display">\[\begin{aligned}\mathbf{p}_m &amp;:= \int_{V_0} \rho_m \mathbf{r} ~\mathrm{d}V \\ \mathbf{m} &amp;:= \frac{1}{2} \int_{V_0} \mathbf{r} \times \mathbf{j} ~\mathrm{d}V \end{aligned}\]</span>{#eq-m-generalized-dipole-moment}.</p></li>
<li><p><strong>Magnetic Dipole Moment Density 磁偶极矩密度</strong>: <span class="math display">\[\mathbf{P}_m := \lim_{V_0 \to 0} \frac{\mathbf{p}_m}{V_0}, \mathbf{M} := \lim_{V_0 \to 0} \frac{\mathbf{m}}{V_0}\]</span> 因而 <span class="math display">\[\mathbf{p}_m = \int_{V_0} \mathbf{P}_m ~\mathrm{d}V, \mathbf{m} = \int_{V_0} \mathbf{M} ~\mathrm{d}V\]</span></p></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;为了对偶我自己发明的词.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
广义电偶极子的引入动机与定义公式的原因
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p><strong>动机</strong>: 其实就是解决如何定义电偶极矩密度的问题, 偶极子本身就是用<strong>点电荷</strong>定义的, 密度肯定要用连续电荷分布来定义, 如果电荷是连续的, 还有偶极子吗?</p>
</blockquote>
<ul>
<li><p>所以我们引入了 <strong>Generalized Dipole 广义偶极子</strong><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>: 广义电偶极子不再是两个正负电电荷的组合或环形磁流, 而是<strong>任意 (连续的也行) 的电荷分布 或 磁流 (不需要是环形的) 分布</strong>!</p></li>
<li><p>然后为了推广 <a href="#eq-e-pole-moment" class="quarto-xref">Equation&nbsp;1</a> 到这个广义偶极子上, 有两个问题要解决:</p>
<ul>
<li>任意离散电荷分布的情况, 电荷没有想电偶极子那样<strong>两两配对</strong>, 如何定义 <span class="math inline">\(q\)</span> 和 <span class="math inline">\(\mathbf{d}\)</span>?
<ul>
<li><span class="math inline">\(\mathbf{d}\)</span> 可以看作 <span class="math inline">\(\mathbf{r_1} - \mathbf{r_2}\)</span></li>
</ul></li>
<li>连续的情况怎么处理?
<ul>
<li><span class="math inline">\(q\)</span> 可以看作 <span class="math inline">\(\rho ~\mathrm{d}V\)</span></li>
</ul></li>
<li>最终, <span id="eq-e-pole-moment-2"><span class="math display">\[\mathbf{p} := \int_{V_0} \rho \mathbf{r} ~\mathrm{d}V \tag{5}\]</span></span></li>
</ul>
<div id="fig-dipole-density" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dipole-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="dipole-density.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dipole-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: 电偶极矩的推广
</figcaption>
</figure>
</div></li>
<li><p>为了推广 <a href="#eq-e-current-moment" class="quarto-xref">Equation&nbsp;2</a> 到这个广义偶极子上</p>
<ul>
<li><p>我们先对面积 <span class="math inline">\(A\)</span> 用以下方法重新表示 (符号见 <a href="#fig-area-cts" class="quarto-xref">Figure&nbsp;4</a>): <span class="math display">\[
  \begin{aligned}
  \mathbf{A} &amp;= \sum_i A_i \\
  &amp;= \frac{1}{2} \oint \mathbf{r}' \times ~\mathrm{d} \mathbf{l} \\
  &amp;= \frac{1}{2} \oint (\mathbf{a}-\mathbf{b}) \times ~\mathrm{d} \mathbf{l} = \frac{1}{2} \oint \mathbf{a} \times ~\mathrm{d} \mathbf{l} - \underbrace{\frac{1}{2} \oint \mathbf{b} \times ~\mathrm{d} \mathbf{l}}_{=0} \\
  &amp;= \frac{1}{2} \oint \mathbf{a} \times ~\mathrm{d} \mathbf{l} \\
  &amp;= \frac{1}{2} \oint (\mathbf{r} - \mathbf{h}) \times ~\mathrm{d} \mathbf{l} = \frac{1}{2} \oint \mathbf{r} \times ~\mathrm{d} \mathbf{l} - \underbrace{\frac{1}{2} \oint \mathbf{h} \times ~\mathrm{d} \mathbf{l}}_{=0} \\
  &amp;= \frac{1}{2} \oint \mathbf{r} \times ~\mathrm{d} \mathbf{l}
  \end{aligned}
  \]</span></p>
<div id="fig-area-cts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-area-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="area-cts.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-area-cts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: 面积的连续化
</figcaption>
</figure>
</div></li>
<li><p>所以 <a href="#eq-e-current-moment" class="quarto-xref">Equation&nbsp;2</a> 变成了: <span class="math display">\[\mathbf{m}_e = I_m \mathbf{A} = \frac{1}{2} \oint \mathbf{r} \times \mathbf{I}_m ~\mathrm{d}l\]</span></p></li>
<li><p>直接把去掉环路积分, 把 <span class="math inline">\(\mathbf{I}_m\)</span> 改成 <span class="math inline">\(\mathbf{j}_m\)</span> 就是广义偶极子的磁流形式: <span id="eq-generalized-dipole-moment-2"><span class="math display">\[\mathbf{m}_e = \frac{1}{2} \int_{V_0} \mathbf{r} \times \mathbf{j}_m ~\mathrm{d}V \tag{6}\]</span></span></p></li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;为了逻辑的顺畅自己起的名字.</p></div></div><ul>
<li><strong>Electric Displacement 电位移矢量</strong>
<ul>
<li><p><strong>Dipole Moment 电偶极矩</strong>: 为了研究 dipole 偶极子在均匀电场中的转动, 如果引入电偶极矩: <span class="math display">\[\mathbf{p} := q \mathbf{d}\]</span> (<span class="math inline">\(\mathbf{d}\)</span> 的方向由负电荷指向正电荷), 作用在 dipole 上的力矩将会变得很方便记忆和计算: <span id="eq-dipole-torque"><span class="math display">\[\mathbf{\tau} = \mathbf{p} \times \mathbf{E} \tag{7}\]</span></span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dipole-rotate.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>电偶极矩的引入最初仅仅是为了让力矩的计算 (<a href="#eq-dipole-torque" class="quarto-xref">Equation&nbsp;7</a>) 变得方便</figcaption>
</figure>
</div></li>
<li><p>感应电荷在介质内部的体密度 <span class="math inline">\(\rho_b\)</span> 和 介质边界的面密度 <span class="math inline">\(\rho_{bs}\)</span> 可以被 <strong>Dipole Moment Density 偶极矩密度</strong><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> <span class="math inline">\(\mathbf{P}\)</span> 表示:</p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;也叫 <strong>Polarization Density 极化密度</strong>.</p></div></div></section>
<section id="electromagnetic-induction-电磁感应" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="electromagnetic-induction-电磁感应"><span class="header-section-number">6</span> Electromagnetic Induction 电磁感应</h2>
<section id="faradays-law-法拉第定律" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="faradays-law-法拉第定律"><span class="header-section-number">6.1</span> Faraday’s Law 法拉第定律</h3>
<ul>
<li><p>两种完全不同的机制 <a href="#fig-faraday" class="quarto-xref">Figure&nbsp;5</a> <span class="citation" data-cites="griffiths_2017_introduction">[<a href="#ref-griffiths_2017_introduction" role="doc-biblioref">1</a>]</span>:</p>
<ul>
<li><ol type="a">
<li><strong>Lorentz force 洛伦兹力</strong> (「切割磁感线」): <span class="math display">\[
  \begin{aligned}
  \mathbf{F} &amp;= q \mathbf{v} \times \mathbf{B} \\
  &amp;= q \mathbf{E} \\
  \implies \mathcal{E} &amp;= \oint \mathbf{E} \cdot \mathrm{d}\mathbf{l} = BLv
  \end{aligned}
  \]</span></li>
</ol></li>
<li><ol start="2" type="a">
<li><ol start="3" type="a">
<li><strong>Induced electric field 感应电场</strong>: <span class="math display">\[\operatorname{curl} \mathbf{E} = -\frac{\partial \mathbf{B}}{\partial t}.\]</span></li>
</ol></li>
</ol></li>
</ul>
<div id="fig-faraday" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-faraday-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="faraday.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-faraday-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: 法拉第做的三个实验
</figcaption>
</figure>
</div></li>
<li><p>但这两种机制都产生了 <strong>EMF</strong>, 且都可以用「磁通量的变化」来描述: <span class="math display">\[\mathcal{E} = \operatorname{Flow}_C (\mathbf{E}) = -\frac{\mathrm{d}\Phi}{\mathrm{d}t}.\]</span> 这个巧合直接导致了<strong>狭义相对论</strong>的出现!</p></li>
</ul>
</section>
</section>
<section id="complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量" class="level2 page-columns page-full" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="complexification-phasor-and-jones-vector-场的复化-相量和琼斯矢量"><span class="header-section-number">7</span> Complexification, Phasor and Jones Vector 场的复化, 相量和琼斯矢量</h2>
<ul>
<li><strong>简要动机</strong>
<ul>
<li><strong>Field 场</strong>: 空间每一点都附加三个实数 (<span class="math inline">\(E^x, E^y, E^z\)</span>), 且可以随时间变化.</li>
<li><strong>Complexification 复化</strong>: 场在某一点的每个分量都可以看作一个<strong>旋转</strong><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>的复数的实部. 以 <span class="math inline">\(E^x\)</span> 为例: <span class="math display">\[E^x = \Re (E^x_m e^{j \varphi(t)})\]</span> 其中 <span class="math inline">\(E^x_m\)</span> 是 <span class="math inline">\(E^x\)</span> 的最大值, <span class="math inline">\(\varphi(t)\)</span> 定义了这个复数如何旋转.</li>
<li><strong>Phasor 相量</strong>: 如果场是时谐的 (即每一点的每个分量都是正弦的), 则 <span class="math inline">\(\varphi(t) = \omega t\)</span>, 可以将这部分剥离出来, 剩下的称为<strong>Phasor 相量</strong>.</li>
<li><strong>Jones Vector 琼斯矢量</strong>: 如果场是不仅是时谐, 还是<strong>空谐</strong>的, 则可以继续将 <span class="math inline">\(e^{-jkz}\)</span> 剥离出来 (假设波沿 <span class="math inline">\(-z\)</span> 方向传播), 剩下的称为<strong>Jones 矢量</strong>.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;不能伸缩, 所以要取 <span class="math inline">\(E^x\)</span> 的最大值作为复数的模长.</p></div></div><ul>
<li><strong>表格总结</strong><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;以电场为例.</p></div></div><div id="tbl-field-representation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-field-representation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: 场的表示, 导数算子在各表示中的形式
</figcaption>
<div aria-describedby="tbl-field-representation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 14%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Electric Field</th>
<th>Complexified Field</th>
<th>Phasor Field</th>
<th>Jones Vector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Description</strong></td>
<td>Original field</td>
<td>Real part of this is the original field</td>
<td>Only record the phase at <span class="math inline">\(t=0\)</span></td>
<td>Only record the phase at <span class="math inline">\(t=0, z=0\)</span></td>
</tr>
<tr class="even">
<td><strong>Notation</strong></td>
<td><span class="math inline">\(\mathbf{E}=\begin{pmatrix} E^x \\ E^y \\ E^z \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(\underline{\mathbf{E}}=\begin{pmatrix} \underline{E}^x \\ \underline{E}^y \\ \underline{E}^z \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(\tilde{\mathbf{E}}=\begin{pmatrix} \tilde{E}^x \\ \tilde{E}^y \\ \tilde{E}^z \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(J_E=\begin{pmatrix} J_E^x \\ J_E^y \\ J_E^z \\\end{pmatrix}\)</span></td>
</tr>
<tr class="odd">
<td><strong>Math Nature</strong></td>
<td><span class="math inline">\(\mathbb{R}^3 \to \mathbb{R}^3 \times \mathbb{T}\)</span></td>
<td><span class="math inline">\(\mathbb{R}^3 \to \mathbb{C}^3 \times \mathbb{T}\)</span></td>
<td><span class="math inline">\(\mathbb{R}^3 \to \mathbb{C}^3\)</span></td>
<td><span class="math inline">\(\mathbb{CP}^1\)</span></td>
</tr>
<tr class="even">
<td><strong>Relation</strong></td>
<td>-</td>
<td><span class="math inline">\(\mathbf{E} = \Re{(\underline{\mathbf{E}})}\)</span></td>
<td><span class="math inline">\(\underline{\mathbf{E}} = \tilde{\mathbf{E}} e^{j \omega t}\)</span></td>
<td><span class="math inline">\(\tilde{\mathbf{E}} = J_E e^{-jkz}\)</span></td>
</tr>
<tr class="odd">
<td><strong>Example</strong></td>
<td><span class="math inline">\(\begin{pmatrix} \sin(\omega t - kz -\frac{\pi}{4}) \\ \cos(\omega t - kz -\frac{\pi}{4}) \\ 0 \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(\begin{pmatrix} -j e^{j(\omega t - kz - \frac{\pi}{4})} \\ e^{j(\omega t - kz - \frac{\pi}{4})} \\ 0 \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(\begin{pmatrix} -je^{j(-kz - \frac{\pi}{4})} \\ e^{j(-kz - \frac{\pi}{4})} \\ 0 \\\end{pmatrix}\)</span></td>
<td><span class="math inline">\(\begin{pmatrix} -j e^{-j \frac{\pi}{4}} \\ e^{-j \frac{\pi}{4}} \\ 0 \\\end{pmatrix} \equiv [-j:1]\)</span></td>
</tr>
<tr class="even">
<td><strong>Time Derivative</strong></td>
<td><span class="math inline">\(\frac{\mathrm{d}}{\mathrm{d}t}\)</span></td>
<td>-</td>
<td><span class="math inline">\(j \omega \cdot\)</span></td>
<td><span class="math inline">\(\text{id}(\cdot)\)</span></td>
</tr>
<tr class="odd">
<td></td>
<td><span class="math inline">\(\frac{\mathrm{d}^2}{\mathrm{d}t^2}\)</span></td>
<td>-</td>
<td><span class="math inline">\(-\omega^2 \cdot\)</span></td>
<td><span class="math inline">\(\text{id}(\cdot)\)</span></td>
</tr>
<tr class="even">
<td><strong>Space Derivative</strong></td>
<td><span class="math inline">\(\nabla^2\)</span></td>
<td>-</td>
<td><span class="math inline">\(\nabla^2\)</span></td>
<td><span class="math inline">\(\text{id}(\cdot)\)</span></td>
</tr>
<tr class="odd">
<td></td>
<td><span class="math inline">\(\nabla \times\)</span></td>
<td>-</td>
<td><span class="math inline">\(\nabla \times\)</span></td>
<td>-</td>
</tr>
<tr class="even">
<td></td>
<td><span class="math inline">\(\nabla \cdot\)</span></td>
<td>-</td>
<td><span class="math inline">\(\nabla \cdot\)</span></td>
<td>-</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\Box^2\)</span></td>
<td><span class="math inline">\(\nabla^2 - \epsilon \mu \frac{\partial^2}{\partial t^2}\)</span></td>
<td>-</td>
<td><span class="math inline">\(\nabla^2 + k_c^2, \quad k_c = \omega \sqrt{\epsilon \mu}\)</span></td>
<td>-</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
详细动机
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p><strong>Phasor 相量</strong></p>
<ul>
<li><strong>Time-harmonic 时谐波</strong>: 固定<strong>空间</strong>的任意一点, 这一点的 <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 的三个分量都是<strong>时间</strong>的正弦函数.
<ul>
<li>没有说空间上是周期性的!</li>
</ul></li>
<li><strong>Phasor 相量</strong>:
<ul>
<li><strong>固定角频率 <span class="math inline">\(\omega\)</span> 的正弦波集合 在向量空间的意义上 同构于复数域 <span class="math inline">\(\mathbb{C}\)</span></strong>, 对应的复数称为 <strong>Phasor 相量</strong></li>
<li>为何同构? 每个正弦波只与初始状态有关, 每个初始状态与一个复数一一对应.</li>
<li>为何固定角频率? 因为很多系统 (RC 电路, 弹簧振子, etc.) 在正弦输入下所有的物理量 (电压, 电流, 位移, 速度, etc.) 时间上一定是<strong>同频</strong>的.</li>
<li>相量 <span class="math inline">\(Ae^{j\theta_0}\)</span> 中没有时间信息!</li>
</ul></li>
<li>对于时谐 EM 波, 我们只关心初始状态, 即<strong>相量场</strong>: <span class="math inline">\(\tilde{\mathbf{E}}: \mathbb{R}^3 \to \mathbb{C}^3\)</span> (<strong>三维空间的每个点上在三个方向上各有一个相量</strong>).
<ul>
<li>E.g., 时谐场与相量的转化: <span class="math display">\[\begin{pmatrix} E^x \cos(\omega t - z) \\ E^y \sin(\omega t - z) \\ 0 \\\end{pmatrix} \xrightarrow{\text{complexification}} \begin{pmatrix} E^x e^{j(-z)} e^{j\omega t} \\ E^y (-j) e^{j(-z)} e^{j\omega t} \\ 0 \\\end{pmatrix} \xrightarrow{\text{phasor}} \begin{pmatrix} E^x e^{j(-z)} \\ E^y \boxed{(-j)} e^{j(-z)} \\ 0 \\\end{pmatrix}\]</span></li>
<li><span class="math inline">\(\sin\)</span> 为什么是 <span class="math inline">\(-j\)</span>? (<span class="math inline">\(\sin\)</span> 可以看作 <span class="math inline">\(\cos\)</span> 的求导的相反数, 而求导操作是直接乘 <span class="math inline">\(j\)</span>)</li>
</ul></li>
</ul></li>
<li><p><strong>Jones vector 琼斯矢量</strong></p>
<ul>
<li><strong>动机</strong>: 在时谐波的相量表示里, 我们不关心波的频率, 只关心波的初始状态, 所以在相量里我们省略了时间信息 (<span class="math inline">\(\omega t\)</span>), 只保留了波在每一点的初始相位 (<strong>时间意义上</strong>的初始), 通过观察这个相位的周期性变化, 所以我们仍然可以在相量中获取波长信息. 但是为了分类<strong>偏振状态</strong>, 我们也并不关心这个波长信息. 所以我们进一步省略了波长信息, 进一步简化了波的初始状态 (<strong>空间意义上</strong>的初始), 得到的矢量称为 <strong>Jones vector 琼斯矢量</strong>.
<ul>
<li>不失一般性, 先要取坐标系使得<strong>波沿 <span class="math inline">\(+z\)</span> 传播</strong> (所以如果是 <span class="math inline">\(-z\)</span> 方向, <strong>所有结论都要取反!!!</strong>)</li>
<li>Jones 矢量不再是一个场, 而是<strong>一个</strong> (复二维) 向量 (由于我们已经让波沿 <span class="math inline">\(+z\)</span> 传播, 所以 <span class="math inline">\(z\)</span> 分量为 <span class="math inline">\(0\)</span>, 后面我们会看到, 其实不止一个复二维向量可以对应一种极化方式, 要模掉他们, 得到的是 <strong>Spinors 旋量</strong>).</li>
<li>E.g., 时谐场与 Jones 矢量的转化: <span id="eq-jones-vector-example"><span class="math display">\[\begin{pmatrix} E^x \cos(\omega t - z) \\ E^y \sin(\omega t - z) \\ 0 \\\end{pmatrix} \xrightarrow{\text{phasor}} \begin{pmatrix} E^x e^{j(-z)} \\ E^y \boxed{(-j)} e^{j(-z)} \\ 0 \\\end{pmatrix} \xrightarrow{\text{Jones}} \begin{pmatrix} E^x \\ E^y (-j) \\\end{pmatrix} \tag{8}\]</span></span></li>
</ul></li>
<li><strong>Jones 矢量在 Poincaré Sphere 庞加莱球上<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></strong>
<ul>
<li><strong>动机</strong>: 我们已经知道一种极化方式可以用一个复二维向量表示, 但是我们会发现, 这种表示并不是唯一的. 所以, 对每一种表示, 我们都只留下一个矢量 (模掉一个等价关系 <span class="math inline">\(\sim\)</span>), 得到的空间为 <span class="math inline">\(\mathbb{C}^2 / \sim\)</span>, 其中的元素才是真正的 Jones 矢量 (也称旋量).</li>
<li><strong>等价关系</strong>: 两个 Jones 矢量 <span class="math inline">\(J_1 \sim J_2 :\iff J_1 = \alpha J_2\)</span> for some <span class="math inline">\(\alpha = A e^{j\theta} \in \mathbb{C}^{\times}\)</span>. 其物理意义是:
<ul>
<li>不关心空间初始相位: <span class="math display">\[\begin{pmatrix} E^x \\ E^y (-j) \\\end{pmatrix} \sim e^{j\theta} \begin{pmatrix} E^x \\ E^y (-j) \\\end{pmatrix}, \quad \forall \theta \in [0, 2\pi)\]</span></li>
<li>不关心电磁波的振幅: <span class="math display">\[\begin{pmatrix} E^x \\ E^y (-j) \\\end{pmatrix} \sim A \begin{pmatrix} E^x \\ E^y (-j) \\\end{pmatrix}, \quad \forall A \in \mathbb{R}^{\times}\]</span></li>
</ul></li>
<li><strong>这正是 <span class="math inline">\(\mathbb{CP}^1\)</span> 的定义! Surprise!!!</strong></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn7"><p><sup>7</sup>&nbsp;名字很多: Riemann Sphere (通用), Bloch Sphere (一般在量子力学中), Poincaré Sphere (电磁学), Complex Projective Line <span class="math inline">\(\mathbb{CP}^1\)</span> (数学中), Extended Complex numbers <span class="math inline">\(\mathbb{\hat{C}}\)</span>. 其中的元素也叫 <strong>Spinors 旋量</strong>.</p></div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#tbl-field-representation" class="quarto-xref">Table&nbsp;1</a> 内容的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>不失一般性, 大部分 Claim 只需证明其中一个分量即可.</p>
<ul>
<li><p><strong>Lemma 1</strong>: The conjugation operation <span class="math inline">\(^*\)</span> distributes over <span class="math inline">\(+\)</span> and <span class="math inline">\(\cdot\)</span>, i.e.,<span class="math display">\[\begin{aligned} (z+w)^* &amp;= z^* + w^* \\ (zw)^* &amp;= z^* w^* \end{aligned}\]</span></p>
<p><strong>Pf.</strong> 这是显然的.</p></li>
<li><p><strong>Lemma 2</strong>: <span class="math inline">\(\frac{\mathrm{d}}{\mathrm{d}t}\)</span> 与 <span class="math inline">\(^*\)</span> 可交换, i.e., <span class="math display">\[\frac{\mathrm{d}}{\mathrm{d}t} \circ ^* = ^* \circ \frac{\mathrm{d}}{\mathrm{d}t}\]</span></p>
<p><strong>Pf.</strong> 设 <span class="math inline">\(z(t) = a(t) + jb(t) \in \mathbb{C}\)</span>, <span class="math display">\[
  \begin{aligned}
  z^*(t) &amp;= a(t) - jb(t) \\
  \implies \frac{\mathrm{d}}{\mathrm{d}t} z^*(t) &amp;= \frac{\mathrm{d}}{\mathrm{d}t} (a(t) - jb(t)) = \frac{\mathrm{d} a(t)}{\mathrm{d}t} - j \frac{\mathrm{d} b(t)}{\mathrm{d}t} \\
  &amp;= \left(\frac{\mathrm{d}}{\mathrm{d}t} z(t)\right)^*
  \end{aligned}
  \]</span></p>
<p>Q.E.D. (同理可证 <span class="math inline">\(\frac{\partial}{\partial x}\)</span> 和 <span class="math inline">\(^*\)</span> 也可交换)</p></li>
<li><p><strong>Lemma 3</strong>: <span class="math inline">\(\Re\)</span> 与 <span class="math inline">\(\frac{\mathrm{d}}{\mathrm{d}t}\)</span> 可交换, i.e., <span class="math display">\[\Re \circ \frac{\mathrm{d}}{\mathrm{d}t} = \frac{\mathrm{d}}{\mathrm{d}t} \circ \Re\]</span></p>
<p><strong>Pf.</strong> <span class="math inline">\(\Re\)</span> 是 <span class="math inline">\(+\)</span> 和 <span class="math inline">\(\cdot\)</span> 的组合, 由 Lemma 1 和 Lemma 2 易证.</p></li>
<li><p><strong>Claim 1</strong>: <span class="math inline">\(~\tilde{}~\)</span> 与 <span class="math inline">\(\frac{\mathrm{d}}{\mathrm{d}t}\)</span> 可交换, i.e., <span class="math display">\[\widetilde{\frac{\mathrm{d}}{\mathrm{d}t} E^x} = j \omega \tilde{E^x}\]</span></p>
<p><strong>Pf.</strong> 时谐波一定满足: <span class="math display">\[
  \begin{aligned}
  E^x &amp;= \Re{(\tilde{E}^x e^{j \omega t})} \\
  \implies \frac{\mathrm{d}}{\mathrm{d}t} E^x &amp;= \frac{\mathrm{d}}{\mathrm{d}t} \Re{(\tilde{E}^x e^{j \omega t})} \\
  &amp;= \Re{(\tilde{E}^x \frac{\mathrm{d}}{\mathrm{d}t} e^{j \omega t})} \\
  &amp;= \Re{(\tilde{E}^x j \omega e^{j \omega t})} \\
  \implies\widetilde{\frac{\mathrm{d}}{\mathrm{d}t} E^x} &amp;= j \omega \tilde{E}^x
  \end{aligned}
  \]</span></p>
<p>Q.E.D. (同理可证 <span class="math inline">\(~\tilde{}~\)</span> 与 <span class="math inline">\(\frac{\partial}{\partial x}\)</span> 也可交换)</p></li>
<li><p><strong>Claim 2</strong>: <span class="math inline">\(~\tilde{}~\)</span> 与 <span class="math inline">\(\nabla^2\)</span> 可交换, i.e., <span class="math display">\[\widetilde{\nabla^2 E^x} = \nabla^2 \tilde{E}^x\]</span></p>
<p><strong>Pf.</strong> <span class="math inline">\(\nabla^2\)</span> 是 <span class="math inline">\(\frac{\partial}{\partial x}, \frac{\partial}{\partial y}, \frac{\partial}{\partial z}\)</span> 的复合和线性组合, 由 Claim 1 可证.</p>
<p>Q.E.D. (同理可证 <span class="math inline">\(~\tilde{}~\)</span> 与 <span class="math inline">\(\nabla \times\)</span> 和 <span class="math inline">\(\nabla \cdot\)</span> 也可交换)</p></li>
</ul>
<p><strong>另外注意</strong>: <span class="math display">\[\widetilde{E \times H} \neq \tilde{E} \times \tilde{H}\]</span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="maxwells-equations-麦克斯韦方程组" class="level2 page-columns page-full" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="maxwells-equations-麦克斯韦方程组"><span class="header-section-number">8</span> Maxwell’s Equations 麦克斯韦方程组</h2>
<section id="without-magnetic-monopoles-无磁单极子" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="without-magnetic-monopoles-无磁单极子"><span class="header-section-number">8.1</span> Without magnetic monopoles 无磁单极子</h3>
<p><span id="eq-maxwell-1"><span class="math display">\[
\nabla \cdot \mathbf{D} = \rho_f
\tag{9}\]</span></span> <span id="eq-maxwell-2"><span class="math display">\[
\nabla \cdot \mathbf{B} = 0
\tag{10}\]</span></span> <span id="eq-maxwell-3"><span class="math display">\[
\nabla \times \mathbf{E} = -\frac{\partial \mathbf{B}}{\partial t}
\tag{11}\]</span></span> <span id="eq-maxwell-4"><span class="math display">\[
\nabla \times \mathbf{H} = \mathbf{j}_f + \frac{\partial \mathbf{D}}{\partial t}
\tag{12}\]</span></span></p>
<ul>
<li><strong>Source-free 无源</strong>: 没有自由电荷, i.e., <span class="math inline">\(\rho_f = 0\)</span>.</li>
<li><strong>Lossless 无损</strong>: 当 <span class="math inline">\(\mathbf{E}\)</span> 存在时不会产生电流, i.e., <span class="math inline">\(\mathbf{j}_f = 0\)</span> or <span class="math inline">\(\sigma = 0\)</span>.
<ul>
<li>Source-free Lossless Maxwell’s equations 无源无损介质的麦克斯韦方程组: <span id="eq-maxwell-source-free"><span class="math display">\[
  \begin{cases}
      \nabla \cdot \mathbf{D} &amp;= 0 \\
      \nabla \cdot \mathbf{B} &amp;= 0 \\
      \nabla \times \mathbf{E} &amp;= -\frac{\partial \mathbf{B}}{\partial t} \\
      \nabla \times \mathbf{H} &amp;= \frac{\partial \mathbf{D}}{\partial t} \\
  \end{cases}
   \tag{13}\]</span></span></li>
</ul></li>
<li><strong>Ideal conductor 理想导体</strong>: 当 <span class="math inline">\(\mathbf{E}\)</span> 存在时, 电流无穷大 (所以不能存在 <span class="math inline">\(\mathbf{E}\)</span>), i.e., <span class="math inline">\(\sigma = \infty\)</span>.</li>
</ul>
</section>
<section id="with-magnetic-monopoles-有磁单极子" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="with-magnetic-monopoles-有磁单极子"><span class="header-section-number">8.2</span> With magnetic monopoles 有磁单极子</h3>
<p><span class="math display">\[
\begin{cases}
    \nabla \cdot \mathbf{D} &amp;= \rho_f \\
    \nabla \cdot \mathbf{B} &amp;= \rho_{mf} \\
    \nabla \times \mathbf{E} &amp;= -\mathbf{j}_{mf} -\frac{\partial \mathbf{B}}{\partial t} \\
    \nabla \times \mathbf{H} &amp;= \mathbf{j}_f + \frac{\partial \mathbf{D}}{\partial t} \\
\end{cases}
\]</span></p>
<ul>
<li><span class="math inline">\(\rho_{mf}\)</span>: 自由磁荷密度, <span class="math inline">\(\mathbf{j}_{mf}\)</span>: 自由磁流密度</li>
</ul>
</section>
<section id="potential-functions-势函数的麦克斯韦方程组" class="level3 page-columns page-full" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="potential-functions-势函数的麦克斯韦方程组"><span class="header-section-number">8.3</span> Potential functions 势函数的麦克斯韦方程组</h3>
<ul>
<li><p>我们希望通过引入<strong>势函数</strong>来将 Maxwell 方程变成只有两个 (称为 <strong>D’Alembert 方程</strong>).</p></li>
<li><p>我们拿出 Maxwell 方程组的中间两个 (<a href="#eq-maxwell-2" class="quarto-xref">Equation&nbsp;10</a> 和 <a href="#eq-maxwell-3" class="quarto-xref">Equation&nbsp;11</a>) 来定义<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> <span class="math inline">\(\mathbf{A}\)</span> 和 <span class="math inline">\(\varphi\)</span>: <span id="eq-potential-def"><span class="math display">\[
  \begin{cases}
      \nabla \cdot \mathbf{B} &amp;= 0 \\
      \nabla \times \mathbf{E} &amp;= -\frac{\partial \mathbf{B}}{\partial t}
  \end{cases}
  \implies
  \boxed{
  \begin{cases}
      \mathbf{B} &amp;=: \nabla \times \mathbf{A} \\
      \mathbf{E} &amp;=: -\frac{\partial \mathbf{A}}{\partial t} - \nabla \varphi
  \end{cases}
  }
   \tag{14}\]</span></span></p>
<ul>
<li>由 <span class="math inline">\(\mathbf{B}\)</span> 的无散性 (<a href="#eq-maxwell-2" class="quarto-xref">Equation&nbsp;10</a>) 可引入<strong>磁势</strong> <span class="math inline">\(\mathbf{A}\)</span>.</li>
<li>代入到 <a href="#eq-maxwell-3" class="quarto-xref">Equation&nbsp;11</a> 由 <span class="math inline">\(\mathbf{E}+\frac{\partial \mathbf{A}}{\partial t}\)</span> 的无旋性可引入<strong>电势</strong> <span class="math inline">\(\varphi\)</span>.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;说是定义, 其实没有 well-defined, 因为对于给定的 <span class="math inline">\(\mathbf{B}\)</span>, 有无数个磁势 <span class="math inline">\(\mathbf{A}\)</span> 可以选择 (通过不同的 Gauge). 但是一旦选择了 <span class="math inline">\(\mathbf{A}\)</span> 的 Gauge, 由 <a href="#eq-potential-def" class="quarto-xref">Equation&nbsp;14</a> 中右边的第二个式子可知 <span class="math inline">\(\varphi\)</span> 和 <span class="math inline">\(\mathbf{A}\)</span> 是关联在一起的, 所以 <span class="math inline">\(\varphi\)</span> 的 Gauge 也就随之确定了 (这叫做 <strong>Gauge 变换</strong>).</p></div></div><ul>
<li><strong>Gauge 变换</strong>: 由 <a href="#sec-vector-fields" class="quarto-xref">Section&nbsp;2.2</a> 有关 Gauge 的介绍可知: <span class="math inline">\(\varphi\)</span> 和 <span class="math inline">\(\mathbf{A}\)</span> 都不是唯一的, 他们可以分别选择各自的 Gauge 吗? 不能! 由 <a href="#eq-potential-def" class="quarto-xref">Equation&nbsp;14</a> 知: <span class="math inline">\(\mathbf{A}\)</span> 和 <span class="math inline">\(\varphi\)</span> 是关联在一起的, 当 <span class="math inline">\(\mathbf{A}\)</span> 变化时, <span class="math inline">\(\varphi\)</span> 必须跟着变, 稍加推导可得: <span id="eq-gauge-transform"><span class="math display">\[
  \begin{aligned}
  A \to A + \nabla \psi \\
  \varphi \to \varphi - \frac{\partial \psi}{\partial t}
  \end{aligned}
   \tag{15}\]</span></span></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Gauge 变换 (<a href="#eq-gauge-transform" class="quarto-xref">Equation&nbsp;15</a>) 的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>两个势 (<span class="math inline">\(\mathbf{A}\)</span> 和 <span class="math inline">\(\varphi\)</span>) 由以下式子相关联: <span class="math display">\[
\mathbf{E} =: -\frac{\partial \mathbf{A}}{\partial t} - \nabla \varphi
\]</span></p>
<p>当 <span class="math inline">\(\mathbf{A}\)</span> 变化成 <span class="math inline">\(\mathbf{A} + \nabla \psi\)</span> 时, 假设 <span class="math inline">\(\varphi\)</span> 变成了 <span class="math inline">\(\varphi'\)</span>. 不管 <span class="math inline">\(\mathbf{A}\)</span>, <span class="math inline">\(\varphi\)</span> 怎么变, <span class="math inline">\(\mathbf{E}\)</span> 都不能变, 即: <span class="math display">\[
\begin{aligned}
-\frac{\partial \mathbf{A}}{\partial t} - \nabla \varphi &amp;= -\frac{\partial (\mathbf{A} + \nabla \psi)}{\partial t} - \nabla \varphi' \\
&amp;= -\frac{\partial \mathbf{A}}{\partial t} - \nabla \frac{\partial \psi}{\partial t} - \nabla \varphi' \\
&amp;= -\frac{\partial \mathbf{A}}{\partial t} - \nabla (\varphi' + \frac{\partial \psi}{\partial t}) \\
\implies \varphi &amp;= \varphi' + \frac{\partial \psi}{\partial t} \\
\implies \varphi' &amp;= \varphi - \frac{\partial \psi}{\partial t}
\end{aligned}
\]</span></p>
<p>Q.E.D.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>我们把剩下两个方程 (<a href="#eq-maxwell-1" class="quarto-xref">Equation&nbsp;9</a> 和 <a href="#eq-maxwell-4" class="quarto-xref">Equation&nbsp;12</a>) 用 <a href="#eq-potential-def" class="quarto-xref">Equation&nbsp;14</a> 中的 <span class="math inline">\(\mathbf{A}\)</span> 和 <span class="math inline">\(\varphi\)</span> 替换掉, 得到 <strong>D’Alembert 方程</strong>: <span id="eq-d-alembert"><span class="math display">\[
  \begin{cases}
      \nabla \cdot \mathbf{D} &amp;= \rho_f \\
      \nabla \times \mathbf{H} &amp;= \mathbf{j}_f + \frac{\partial \mathbf{D}}{\partial t}
  \end{cases}
  \implies
  \begin{cases}
      \epsilon \mu \frac{\partial^2 \varphi}{\partial t^2} - \nabla^2 \varphi &amp;= \frac{1}{\epsilon} \rho_f \\
      \epsilon \mu \frac{\partial^2 \mathbf{A}}{\partial t^2} - \nabla^2 \mathbf{A} &amp;= \mu \mathbf{j}_f - \nabla (\nabla \cdot \mathbf{A} + \epsilon \mu \frac{\partial \varphi}{\partial t})
  \end{cases}
   \tag{16}\]</span></span></p>
<ul>
<li><strong>D’Alembert 算子</strong>: 这个算子经常以整体出现, 是 Minkowski 时空 上的 Laplace 算子<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>: <span class="math display">\[\boxed{\Box^2 \equiv \nabla^2 - \epsilon \mu \frac{\partial^2}{\partial t^2}}\]</span></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn9"><p><sup>9</sup>&nbsp;有地方也省略平方, 或定义为相反数 (sign convention)</p></div></div><ul>
<li><p><a href="#eq-d-alembert" class="quarto-xref">Equation&nbsp;16</a> 几乎快要对称<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>了, 但是第二个式子过于魔怔, 我们希望通过<strong>选择一个合适的 Gauge</strong>, 使后面的 <span class="math inline">\(- \nabla (\nabla \cdot \mathbf{A} + \epsilon \mu \frac{\partial \varphi}{\partial t})\)</span> 消失掉.</p>
<ul>
<li><p><strong>Lorenz gauge 洛伦兹规范</strong><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>: <span id="eq-l-gauge"><span class="math display">\[\boxed{\nabla \cdot \mathbf{A} + \epsilon \mu \frac{\partial \varphi}{\partial t} = 0} \tag{17}\]</span></span> <a href="#eq-d-alembert" class="quarto-xref">Equation&nbsp;16</a> 变为 (<span class="math inline">\(4\)</span> 维 Poisson 方程, 非常 nice!): <span id="eq-lorenz"><span class="math display">\[
  \boxed{
  \begin{cases}
      \Box^2 \varphi = - \frac{1}{\epsilon} \rho_f \\
      \Box^2 \mathbf{A} = - \mu \mathbf{j}_f
  \end{cases}
  }
   \tag{18}\]</span></span></p></li>
<li><p><strong>Coulomb gauge 库伦规范</strong>: <span id="eq-c-gauge"><span class="math display">\[\boxed{\nabla \cdot \mathbf{A} = 0} \tag{19}\]</span></span> <a href="#eq-d-alembert" class="quarto-xref">Equation&nbsp;16</a> 变为: “<em>rubbish</em>” ╯°Д°）╯ <span class="math display">\[
  \begin{cases}
      \Box^2 \varphi = -\frac{1}{\epsilon} \rho_f \\
      \Box^2 \mathbf{A} = \nabla (\epsilon \mu \frac{\partial \varphi}{\partial t}) - \mu \mathbf{j}_f
  \end{cases}
  \]</span></p></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;为什么这里的 <span class="math inline">\(\mu\)</span> 好像对应的是 <span class="math inline">\(1/\epsilon\)</span>? 不是说 <span class="math inline">\(\mu\)</span> 应该对应 <span class="math inline">\(\epsilon\)</span> 吗? 原因是 <span class="math inline">\(\varphi\)</span> 和 <span class="math inline">\(\mathbf{A}\)</span> 就不是「对应」的. <span class="math inline">\(\varphi\)</span> 用来定义了 <span class="math inline">\(\mathbf{E}\)</span>, 照理来说 <span class="math inline">\(\mathbf{E}\)</span> 对应 <span class="math inline">\(\mathbf{H}\)</span>, 所以应该定义 <span class="math inline">\(\nabla \times \mathbf{A} := \mathbf{H}\)</span>, 但没这么做, 导致这个地方没有完全对称.</p></div><div id="fn11"><p><sup>11</sup>&nbsp;此 Lorenz 非彼 Lorentz (. 而且这个式子并没有显式地给出 <span class="math inline">\(\psi\)</span> 是什么, 事实上能不能这样做是需要验证的, 如果存在合法的 <span class="math inline">\(\psi\)</span> 才能这么做! 所以我们后面对其进行了合法性验证.</p></div></div><div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lorenz gauge 和 Coulomb gauge 的合法性验证
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>我们需要证明 <a href="#eq-l-gauge" class="quarto-xref">Equation&nbsp;17</a> 和 <a href="#eq-c-gauge" class="quarto-xref">Equation&nbsp;19</a> 中确实定义了 <span class="math inline">\(\psi\)</span> (也许没有唯一定义, 但我们至少得证明存在一个合法的 <span class="math inline">\(\psi\)</span>).</p>
<ul>
<li><p><a href="#eq-l-gauge" class="quarto-xref">Equation&nbsp;17</a> 的合法性验证:</p>
<p>将 <a href="#eq-gauge-transform" class="quarto-xref">Equation&nbsp;15</a> 代入 <a href="#eq-l-gauge" class="quarto-xref">Equation&nbsp;17</a>, 得到: <span class="math display">\[
  \begin{aligned}
  \nabla \cdot (\mathbf{A} + \nabla \psi) + \epsilon \mu \frac{\partial}{\partial t} (\varphi - \frac{\partial \psi}{\partial t}) &amp;= 0 \\
  \implies \underbrace{\nabla \cdot \mathbf{A} + \epsilon \mu \frac{\partial \varphi}{\partial t}}_{0} + \nabla \cdot \nabla \psi - \epsilon \mu \frac{\partial^2 \psi}{\partial t^2} &amp;= 0 \\
  \implies \nabla^2 \psi - \epsilon \mu \frac{\partial^2 \psi}{\partial t^2} &amp;= 0 \\
  \implies \Box^2 \psi &amp;= 0
  \end{aligned}
  \]</span></p>
<p>所以这样的 <span class="math inline">\(\psi\)</span> 肯定是存在的, 只要满足 <span class="math display">\[\boxed{\Box^2 \psi = 0}\]</span> 所以 <a href="#eq-l-gauge" class="quarto-xref">Equation&nbsp;17</a> 是合法的.</p></li>
<li><p><a href="#eq-c-gauge" class="quarto-xref">Equation&nbsp;19</a> 的合法性验证:</p>
<p>将 <a href="#eq-gauge-transform" class="quarto-xref">Equation&nbsp;15</a> 代入 <a href="#eq-c-gauge" class="quarto-xref">Equation&nbsp;19</a>, 得到: <span class="math display">\[
  \begin{aligned}
  \nabla \cdot (\mathbf{A} + \nabla \psi) &amp;= 0 \\
  \implies \underbrace{\nabla \cdot \mathbf{A}}_{0} + \nabla^2 \psi &amp;= 0 \\
  \implies \nabla^2 \psi &amp;= 0
  \end{aligned}
  \]</span></p>
<p>同理, 这样的 <span class="math inline">\(\psi\)</span> 肯定也是存在的, 只要满足 <span class="math display">\[\boxed{\nabla^2 \psi = 0}\]</span> 所以 <a href="#eq-c-gauge" class="quarto-xref">Equation&nbsp;19</a> 也是合法的.</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
<section id="phasor-representation-相量麦克斯韦方程组special-case" class="level3 page-columns page-full" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="phasor-representation-相量麦克斯韦方程组special-case"><span class="header-section-number">8.4</span> Phasor representation 相量麦克斯韦方程组<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></h3>
<p><span id="eq-maxwell-source-free-phasor"><span class="math display">\[
\begin{cases} \nabla \cdot \mathbf{D} &amp;= \rho_f \\
\nabla \cdot \mathbf{B} &amp;= 0 \\
\nabla \times \tilde{\mathbf{E}} &amp;= -j \omega \tilde{\mathbf{B}} \\
\nabla \times \tilde{\mathbf{H}} &amp;= \tilde{\mathbf{j}}_f + j \omega \tilde{\mathbf{D}} \\
\end{cases}
\tag{20}\]</span></span></p>
<p>由于时谐波的情况下产生的电流 <span class="math inline">\(\mathbf{j}_f\)</span> 一定也是时谐的: <span class="math inline">\(\tilde{\mathbf{j}}_f = \sigma \tilde{\mathbf{E}}\)</span>, 我们代入 <a href="#eq-maxwell-source-free-phasor" class="quarto-xref">Equation&nbsp;20</a>, 得到:</p>
<p><span id="eq-maxwell-source-free-phasor-complex"><span class="math display">\[
\begin{cases} \nabla \cdot \mathbf{D} &amp;= \rho_f \\
\nabla \cdot \mathbf{B} &amp;= 0 \\
\nabla \times \tilde{\mathbf{E}} &amp;= -j \omega \tilde{\mathbf{B}} \\
\nabla \times \tilde{\mathbf{H}} &amp;= (\sigma + j \omega \epsilon) \tilde{\mathbf{E}} \\
&amp;=: j \omega \epsilon_c \tilde{\mathbf{E}} \\
\end{cases}
\tag{21}\]</span></span></p>
<ul>
<li><p><strong>Complex permittivity 复介电常数 <span class="math inline">\(\epsilon_c\)</span></strong></p>
<ul>
<li><p><strong>动机</strong>: 由于无损介质 (<span class="math inline">\(\sigma = 0\)</span>) 中第四个 Maxwell 方程是 <span class="math display">\[\nabla \times \mathbf{H} = j \omega \epsilon \tilde{\mathbf{E}}\]</span> 我们希望在有损介质的情况下也有<strong>形式上完全一样的方程</strong>.</p></li>
<li><p><span class="math inline">\(\epsilon_c\)</span> 与频率有关<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>: <span class="math display">\[\boxed{\epsilon_c = \epsilon - j \frac{\sigma}{\omega}}\]</span></p></li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn13"><p><sup>13</sup>&nbsp;就像电容或电感的阻抗 <span class="math inline">\(Z\)</span> 也与频率有关.</p></div></div></section>
<div class="no-row-height column-margin column-container"><div id="fn12"><p><sup>12</sup>&nbsp;Phasor representation 只是 Maxwell 方程组在「时谐」下的特例. 但由于 Fourier 变换, 仅仅考虑这种特例已经足够了 (“faithfully”).</p></div></div></section>
<section id="maxwells-equations-solution-麦克斯韦方程组的解" class="level2 page-columns page-full" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="maxwells-equations-solution-麦克斯韦方程组的解"><span class="header-section-number">9</span> Maxwell’s Equations Solution 麦克斯韦方程组的解</h2>
<section id="波在单一无源介质中的传播" class="level3 page-columns page-full" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="波在单一无源介质中的传播"><span class="header-section-number">9.1</span> 波在单一无源介质中的传播</h3>
<section id="mathbfe-和-mathbfh-单独的表现-解耦合" class="level4 page-columns page-full" data-number="9.1.1">
<h4 data-number="9.1.1" class="anchored" data-anchor-id="mathbfe-和-mathbfh-单独的表现-解耦合"><span class="header-section-number">9.1.1</span> <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 单独的表现 (解耦合)</h4>
<ul>
<li><a href="#eq-maxwell-3" class="quarto-xref">Equation&nbsp;11</a>, <a href="#eq-maxwell-4" class="quarto-xref">Equation&nbsp;12</a> 是经典的两个变量的耦合方程, 显然他的解是波动的, 联立它们 (还有 <span class="math inline">\(\rho_f = 0, \mathbf{j}_f = \sigma \mathbf{E}\)</span>), 解耦合得到:
<ul>
<li><strong>时域化简结果</strong>: <span id="eq-time-domain-solution"><span class="math display">\[
  \begin{cases}
      \nabla^2 \mathbf{E} - \mu \sigma \frac{\partial \mathbf{E}}{\partial t} - \epsilon \mu \frac{\partial^2 \mathbf{E}}{\partial t^2} &amp;= 0 \\
      \nabla^2 \mathbf{H} - \mu \sigma \frac{\partial \mathbf{H}}{\partial t} - \epsilon \mu \frac{\partial^2 \mathbf{H}}{\partial t^2} &amp;= 0
  \end{cases}
   \tag{22}\]</span></span></li>
<li><strong>相量域化简结果</strong>: 根据 <a href="#tbl-field-representation" class="quarto-xref">Table&nbsp;1</a>, 可将 <a href="#eq-time-domain-solution" class="quarto-xref">Equation&nbsp;22</a> 转换为相量形式 (也可以直接联立 <a href="#eq-maxwell-source-free-phasor-complex" class="quarto-xref">Equation&nbsp;21</a>): <span id="eq-phasor-domain-solution"><span class="math display">\[
  \begin{cases}
      \nabla^2 \tilde{\mathbf{E}} + k_c^2 \tilde{\mathbf{E}} &amp;= 0 \\
      \nabla^2 \tilde{\mathbf{H}} + k_c^2 \tilde{\mathbf{H}} &amp;= 0
  \end{cases}
   \tag{23}\]</span></span> 其中 <span class="math display">\[\boxed{k_c = \omega \sqrt{\epsilon_c \mu}}\]</span> 注意 <a href="#eq-time-domain-solution" class="quarto-xref">Equation&nbsp;22</a> 的耗散项 <span class="math inline">\(-\sigma \mu \frac{\partial \mathbf{E}}{\partial t}\)</span> 融入进了复介电常数 <span class="math inline">\(\epsilon_c\)</span> 里面.</li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#eq-time-domain-solution" class="quarto-xref">Equation&nbsp;22</a> 和 <a href="#eq-phasor-domain-solution" class="quarto-xref">Equation&nbsp;23</a> 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>将 <a href="#eq-maxwell-3" class="quarto-xref">Equation&nbsp;11</a> 再套一层旋度, 得到:</p>
<p><span id="eq-maxwell-3-curl"><span class="math display">\[
\nabla \times (\nabla \times \mathbf{E}) = - \frac{\partial}{\partial t} (\nabla \times \mathbf{B})
\tag{24}\]</span></span></p>
<p>无源条件 (<span class="math inline">\(\nabla \cdot \mathbf{E} = 0\)</span>) 下,</p>
<p><span class="math display">\[
\begin{aligned}
\text{LHS} &amp;= \nabla \times (\nabla \times \mathbf{E}) = \nabla (\nabla \cdot \mathbf{E}) - \nabla^2 \mathbf{E} = -\nabla^2 \mathbf{E} \\
\text{RHS} &amp;= - \frac{\partial}{\partial t} (\nabla \times \mathbf{B}) = -\frac{\partial}{\partial t} (\mu \mathbf{j}_f + \epsilon \mu \frac{\partial E}{\partial t}) = -\frac{\partial}{\partial t} (\mu \sigma \mathbf{E} + \epsilon \mu \frac{\partial E}{\partial t})
\end{aligned}
\]</span></p>
<p>由 <span class="math inline">\(\text{LHS} = \text{RHS}\)</span> 得到: <span id="eq-E-time-domain-solution"><span class="math display">\[
\nabla^2 \mathbf{E} - \mu \sigma \frac{\partial \mathbf{E}}{\partial t} - \epsilon \mu \frac{\partial^2 \mathbf{E}}{\partial t^2} = 0
\tag{25}\]</span></span></p>
<p>同理可得:</p>
<p><span class="math display">\[
\nabla^2 \mathbf{H} - \mu \sigma \frac{\partial \mathbf{H}}{\partial t} - \epsilon \mu \frac{\partial^2 \mathbf{H}}{\partial t^2} = 0
\]</span></p>
<p>现在推导 <a href="#eq-phasor-domain-solution" class="quarto-xref">Equation&nbsp;23</a>, 有两种方法:</p>
<ul>
<li><p>从 <a href="#eq-maxwell-source-free-phasor-complex" class="quarto-xref">Equation&nbsp;21</a> 开始, 直接联立得到. (Omitted)</p></li>
<li><p>从 <a href="#eq-E-time-domain-solution" class="quarto-xref">Equation&nbsp;25</a> 开始, 用 <a href="#tbl-field-representation" class="quarto-xref">Table&nbsp;1</a> 将其转换到相量表示: <span class="math display">\[
  \begin{aligned}
  \nabla^2 \mathbf{E} - \mu \sigma \frac{\partial \mathbf{E}}{\partial t} - \epsilon \mu \frac{\partial^2 \mathbf{E}}{\partial t^2} &amp;= 0 \\
  \implies \nabla^2 - \mu \sigma j \omega \tilde{\mathbf{E}} - \epsilon \mu (-\omega^2) \tilde{\mathbf{E}} &amp;= 0 \\
  \implies \nabla^2 \tilde{\mathbf{E}} + \mu \omega^2 (\epsilon - j \frac{\sigma}{\omega}) \tilde{\mathbf{E}} &amp;= 0 \\
  \implies \nabla^2 \tilde{\mathbf{E}} + \epsilon_c \mu \omega^2 \tilde{\mathbf{E}} &amp;= 0
  \end{aligned}
  \]</span> <span class="math inline">\(\mathbf{H}\)</span> 同理.</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<ul>
<li><p>若<strong>无源无损</strong> (<span class="math inline">\(\sigma = 0\)</span>), 则 <a href="#eq-time-domain-solution" class="quarto-xref">Equation&nbsp;22</a> 变为:</p>
<ul>
<li><p><strong>时域化简结果</strong>: (右边的是 <span class="math inline">\(4\)</span> 维的 Laplace 方程描述) <span id="eq-maxwell-source-free-wave"><span class="math display">\[
  \boxed{
  \begin{cases}
      \nabla^2 \mathbf{E} - \epsilon \mu \frac{\partial^2 \mathbf{E}}{\partial t^2} &amp;= 0 \\
      \nabla^2 \mathbf{H} - \epsilon \mu \frac{\partial^2 \mathbf{H}}{\partial t^2} &amp;= 0 \\
  \end{cases} \quad \text{or}
  \begin{cases}
  \Box^2 \mathbf{E} = 0 \\
  \Box^2 \mathbf{H} = 0 \\
  \end{cases}
  }
   \tag{26}\]</span></span></p></li>
<li><p><strong>相量域化简结果</strong>: 与有损介质中的 <a href="#eq-phasor-domain-solution" class="quarto-xref">Equation&nbsp;23</a> 一样 (这就是用复数的好处!), 只不过 <span class="math inline">\(\epsilon_c\)</span> 退化为了 <span class="math inline">\(\epsilon\)</span>: <span class="math display">\[k_c = \omega \sqrt{\epsilon \mu}\]</span></p></li>
</ul></li>
<li><p><strong>Phase velocity 相速度</strong></p>
<ul>
<li><p>将 <a href="#eq-maxwell-source-free-wave" class="quarto-xref">Equation&nbsp;26</a> 与波动方程的一般形式比较, 可知<strong>相速度</strong> <span class="math display">\[\boxed{v = \frac{1}{\sqrt{\epsilon \mu}}}\]</span></p>
<ul>
<li>一般我们说的「波速」就是指相速度. 光在 <span class="math inline">\(T\)</span> 时间里刚好走了一个波长 <span class="math inline">\(\lambda\)</span> (见 <a href="#fig-wave-speed" class="quarto-xref">Figure&nbsp;6</a>), 所以波速就是: <span id="eq-wave-speed"><span class="math display">\[\boxed{v := \frac{\lambda}{T} = \lambda f} \tag{27}\]</span></span></li>
<li><strong>光速</strong>: 真空中的波速. 神说「要有光」:<span class="math display">\[c = \frac{1}{\sqrt{\epsilon_0 \mu_0}}.\]</span></li>
<li><strong>特例</strong>: 对于 <span class="math inline">\(\epsilon_r, \mu_0\)</span> 的介质, 波速为 <span class="math display">\[v = \frac{1}{\sqrt{\epsilon_r \epsilon_0 \mu_0}} = \frac{c}{\sqrt{\epsilon_r}}\]</span></li>
</ul></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-wave-speed" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wave-speed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="wave-speed.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wave-speed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: 光在 <span class="math inline">\(T\)</span> 时间里刚好走了一个波长 <span class="math inline">\(\lambda\)</span>
</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>复值二阶 ODE (<a href="#eq-phasor-domain-solution" class="quarto-xref">Equation&nbsp;23</a>) 解的结构</strong>:</p>
<p>设 <span class="math inline">\(\mathbf{E}\)</span> 是平行于 <span class="math inline">\(z\)</span> 传播的水平偏振时谐波, <span class="math inline">\(\tilde{\mathbf{E}}: \mathbb{R}^3 \to \mathbb{C}^3\)</span> 为其相量场, 我们只考虑其 <span class="math inline">\(x\)</span> 分量 <span class="math inline">\(f \equiv \tilde{E}^x: \mathbb{R}^3 \to \mathbb{C}\)</span>, 满足: <span class="math display">\[
      \frac{\partial^2}{\partial z^2} f + k_c^2 f = 0
      \]</span> 这是一个<strong>复值二阶 ODE</strong>, 其通解为: <span class="math display">\[
      f = \underbrace{A e^{j k_c z}}_{-z \text{ direction}} + \underbrace{B e^{-j k_c z}}_{+z \text{ direction}}
      \]</span> Let <span class="math inline">\(\gamma := j k_c = \alpha + j \beta\)</span>, 则有: <span class="math display">\[
      \begin{aligned}
      f &amp;= A e^{(\alpha + j \beta) z} + B e^{-(\alpha + j \beta) z} \\
      &amp;= A e^{\alpha z} e^{j \beta z} + B e^{-\alpha z} e^{-j \beta z} \\
      \end{aligned}
      \]</span> 这是一个衰减和一个增大的复指数信号.</p></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
复衰减指数信号 (或振荡衰减波) 的参数
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="complex-exponential-signal.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>各参数的例子和可视化</figcaption>
</figure>
</div>
<p>时域 (或空间域) 复指数信号是形如 <span class="math inline">\(e^{\gamma t}\)</span> (或 <span class="math inline">\(e^{\gamma z}\)</span>) 的函数, 振荡衰减波是其实部. 其中 <span class="math inline">\(\gamma = \alpha + j \beta\)</span> 是一个复数. 其参数含义如下:</p>
<ul>
<li><p><strong>Phase constant 相位常数</strong> <span class="math inline">\(\beta\)</span>: <span class="math inline">\(1 \text{ s}\)</span> (或 <span class="math inline">\(1 \text{ m}\)</span>) 内复化波转了多少度. 其实就是角波数<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> <span class="math inline">\(k\)</span>.</p>
<ul>
<li><strong>Phase factor 相位因子</strong>: <span class="math inline">\(e^{j \beta t}\)</span> (或 <span class="math inline">\(e^{j \beta z}\)</span>)</li>
</ul></li>
<li><p><strong>Attenuation / Decay constant 衰减常数</strong> <span class="math inline">\(\alpha\)</span>: 表示在<strong>任意时间</strong> <span class="math inline">\(t\)</span> (或任意位置 <span class="math inline">\(z\)</span>), 若保持当前的衰减速率, <span class="math inline">\(1\text{ s}\)</span> (或 <span class="math inline">\(1\text{ m}\)</span>) 内能够衰减当前数量的多少倍.</p>
<ul>
<li><strong>Attenuation factor 衰减因子</strong>: <span class="math inline">\(e^{-\alpha t}\)</span> (或 <span class="math inline">\(e^{-\alpha z}\)</span>)</li>
</ul></li>
<li><p><strong>Time constant 时间常数<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></strong> <span class="math inline">\(\tau := 1/\alpha\)</span>: 表示在<strong>任意时间</strong> <span class="math inline">\(t\)</span> (或任意位置 <span class="math inline">\(z\)</span>), 若保持当前的衰减速率, 衰减完毕所需要的时间 (或空间距离).</p></li>
<li><p><strong>Half life 半衰期</strong> <span class="math inline">\(t_{1/2} := \ln 2 \cdot \tau\)</span>: 表示在<strong>任意时间</strong><a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> <span class="math inline">\(t\)</span> (或任意位置 <span class="math inline">\(z\)</span>), 若保持当前的衰减速率, <strong>衰减到一半</strong>所需要的时间 (或空间距离).</p></li>
</ul>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn16"><p><sup>16</sup>&nbsp;这些参数居然跟具体处于什么时间 (或空间) 无关! 比如一堆放射性元素, 刚开始的时候放射性元素很多, 衰减得很快, 以这个速度衰减一半需要的时间是 <span class="math inline">\(t_{1/2}\)</span>. 但过一段时间, 放射性元素的数量减少了, 衰减速度变慢了, 但以这个速度衰减一半所需要的时间还是 <span class="math inline">\(t_{1/2}\)</span>! 这个性质叫做 <strong>Self-similarity 自相似性</strong>. <img src="half-life-demo.png" class="img-fluid" alt="半衰期跟测量时间无关"></p></div></div><div class="no-row-height column-margin column-container"><div id="fn15"><p><sup>15</sup>&nbsp;空间的话其实应该叫「空间常数」. 时间常数之于衰减常数如同: 频率 <span class="math inline">\(f\)</span> 之于周期 <span class="math inline">\(T\)</span>, 波长 <span class="math inline">\(\lambda\)</span> 之于线波数 <span class="math inline">\(\tilde{\nu}\)</span>.</p></div></div><div class="no-row-height column-margin column-container"><div id="fn14"><p><sup>14</sup>&nbsp;其实就是角波数 <span class="math inline">\(k\)</span>.</p></div></div></section>
<section id="mathbfe-和-mathbfh-的关系" class="level4 page-columns page-full" data-number="9.1.2">
<h4 data-number="9.1.2" class="anchored" data-anchor-id="mathbfe-和-mathbfh-的关系"><span class="header-section-number">9.1.2</span> <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 的关系</h4>
<div class="page-columns page-full"><blockquote class="blockquote">
<p>本章只研究<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> 无源介质中向 <span class="math inline">\(+z\)</span> 传播的水平偏振 (<span class="math inline">\(\mathbf{E}\)</span> 只有 <span class="math inline">\(x\)</span> 分量) 的时谐平面波.</p>
</blockquote><div class="no-row-height column-margin column-container"><div id="fn17"><p><sup>17</sup>&nbsp;这种波<strong>是</strong> Maxwell 方程组的特殊解, 而且比较常见.</p></div></div></div>
<div id="fig-e-h-lossy" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-e-h-lossy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="e-h-lossy.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-e-h-lossy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: 有损介质中 <span class="math inline">\(\mathbf{E}, \mathbf{H}\)</span> 的幅度逐渐减小且<strong>它们的相位不同</strong>
</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Intrinsic Impedance 特征阻抗 <span class="math inline">\(\eta_c\)</span></strong>: 在这种情况下, <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 始终垂直, 且它们的<strong>相位和幅度</strong>关系由复数 <span class="math inline">\(\eta_c\)</span> 衡量: <span id="eq-intrinsic-impedance-complex"><span class="math display">\[
  \boxed{
  \eta_c := \frac{\tilde{E}^x}{\tilde{H}^y} = \sqrt{\frac{\mu}{\epsilon_c}}}
   \tag{28}\]</span></span></p>
<ul>
<li><strong><span class="math inline">\(\eta_c\)</span> 的单位恰好为 <span class="math inline">\(\Omega\)</span></strong>: <span class="math inline">\(E: [\text{V/m}], H: [\text{A/m}]\)</span>.</li>
<li>无损介质中 <span class="math inline">\(\eta_c\)</span> 退化为实数, 即 <span id="eq-intrinsic-impedance-real"><span class="math display">\[\eta = \frac{E}{H} = \sqrt{\frac{\mu}{\epsilon}} \tag{29}\]</span></span> 表明 <strong>无损介质中 <span class="math inline">\(\mathbf{E}\)</span> 和 <span class="math inline">\(\mathbf{H}\)</span> 是同相的</strong> (见 <a href="#fig-e-h-lossy" class="quarto-xref">Figure&nbsp;7</a>). 而且我们有:
<ul>
<li><strong><span class="math inline">\(E\)</span> 恰好是 <span class="math inline">\(B\)</span> 的波速倍</strong>: <span class="math display">\[\boxed{\frac{E}{B} = \frac{E}{\mu H} = \frac{1}{\sqrt{\epsilon \mu}} = v}\]</span></li>
<li><strong>真空中的特征阻抗</strong>: <span class="math display">\[\eta_0 = \sqrt{\frac{\mu_0}{\epsilon_0}} \approx 377 ~\Omega\]</span> 说明一般情况下 <span class="math inline">\(E\)</span> 都要比 <span class="math inline">\(H\)</span> 大很多.</li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
特征阻抗 <a href="#eq-intrinsic-impedance-complex" class="quarto-xref">Equation&nbsp;28</a> 的推导
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>设该电磁波是:</p>
<ul>
<li>沿 <span class="math inline">\(+z\)</span> 方向传播的平面波</li>
<li>水平偏振, 即 <span class="math inline">\(\mathbf{E}\)</span> 只有 <span class="math inline">\(x\)</span> 分量, <span class="math inline">\(\mathbf{H}\)</span> 只有 <span class="math inline">\(y\)</span> 分量.</li>
<li>时谐, 但随空间指数衰减<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a> (因为有损介质 <span class="math inline">\(\sigma \neq 0\)</span>).</li>
</ul>
<p><span class="math display">\[
\tilde{\mathbf{E}} = \begin{pmatrix} \tilde{E}^x \\ 0 \\ 0 \end{pmatrix}, \quad \tilde{\mathbf{H}} = \begin{pmatrix} 0 \\ \tilde{H}^y \\ 0 \end{pmatrix}
\]</span></p>
<p>代入 <a href="#eq-maxwell-3" class="quarto-xref">Equation&nbsp;11</a> (或 <a href="#eq-maxwell-4" class="quarto-xref">Equation&nbsp;12</a>, 再用 <a href="#tbl-field-representation" class="quarto-xref">Table&nbsp;1</a> 翻译成相量表示): <span class="math display">\[
\begin{aligned}
\nabla \times \tilde{\mathbf{E}} &amp;= -\frac{\partial}{\partial t} \tilde{\mathbf{B}} \\
\implies \begin{pmatrix} 0 \\ (- \gamma) \tilde{E}^x \\ 0 \end{pmatrix} &amp;= \begin{pmatrix} 0 \\ (-j \omega) \tilde{B}^y \\ 0 \end{pmatrix} \\
\implies \frac{\tilde{E}^x}{\tilde{B}^y} &amp;= \frac{j \omega}{\gamma} = \frac{j \omega}{j k_c} = \frac{\omega}{k_c} = \frac{\omega}{\omega \sqrt{\epsilon_c \mu}} = \frac{1}{\sqrt{\epsilon_c \mu}} \\
\implies \frac{\tilde{E}^x}{\tilde{H}^y} &amp;= \frac{\mu}{\sqrt{\epsilon_c \mu}} = \sqrt{\frac{\mu}{\epsilon_c}} =: \eta_c
\end{aligned}
\]</span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<div class="no-row-height column-margin column-container"><div id="fn18"><p><sup>18</sup>&nbsp;不能假设空谐!</p></div></div><ul>
<li><strong>电磁波的能量密度</strong>: 在无损介质中, 空间中某一点的能量密度有电场和磁场的贡献: <span class="math display">\[\boxed{u = \frac{1}{2} \epsilon E^2 + \frac{1}{2} \mu H^2}\]</span>
<ul>
<li>由 <a href="#eq-intrinsic-impedance-real" class="quarto-xref">Equation&nbsp;29</a> 可知: <strong>电场和磁场贡献的能量是一样的</strong>: <span class="math display">\[\boxed{\frac{1}{2} \epsilon E^2 = \frac{1}{2} \mu H^2}\]</span></li>
<li>由于 <span class="math inline">\(E\)</span> 和 <span class="math inline">\(H\)</span> 在每一点都是不一样的, 假设是时谐波, 我们想求出空间中某一点 <span class="math inline">\(u\)</span> 的<strong>时间平均值</strong>. 只考虑电场, 其平均值为 <span class="math inline">\(\epsilon E_m^2/4\)</span>, 再乘 <span class="math inline">\(2\)</span> 得: <span id="eq-energy-density-average"><span class="math display">\[\langle u \rangle = \frac{1}{2} \epsilon E_m^2 \tag{30}\]</span></span></li>
<li><strong>Energy Flux Density 能流密度</strong>: 单位时间流过单位面积的能量 (即单位面积的<strong>功率</strong>, 也叫 <strong>Intensity 强度</strong>), 由于 <span class="math inline">\(1\text{ s}\)</span> 内单位面积吸收了数值上为波速 <span class="math inline">\(v\)</span> 长度的能量, 只需要将 <a href="#eq-energy-density-average" class="quarto-xref">Equation&nbsp;30</a> 放大 <span class="math inline">\(v\)</span> 倍: <span class="math display">\[I := \text{Energy Flux Density} = \frac{1}{2} v \epsilon E_m^2\]</span></li>
<li><strong>Poynting vector <span class="math inline">\(\mathbf{S}\)</span></strong>: 一个矢量, 我们希望用它的方向表征能量流动的方向, 长度的时间平均代表能流密度. 可以证明以下定义可同时满足这两个需求: <span id="eq-poynting-vector"><span class="math display">\[\boxed{\mathbf{S} := \mathbf{E} \times \mathbf{H}} \tag{31}\]</span></span>
<ul>
<li><span class="math inline">\(\langle S \rangle\)</span> 与能流密度的关系: <span class="math display">\[\langle S \rangle = I = \frac{1}{2} v \epsilon E_m^2\]</span></li>
<li><span class="math inline">\(\langle \mathbf{S} \rangle\)</span> 的相量表示: <span id="eq-poynting-vector-phasor"><span class="math display">\[\boxed{\langle \mathbf{S} \rangle = \frac{1}{2} \Re (\tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^*)} \tag{32}\]</span></span></li>
</ul></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="math inline">\(\mathbf{S}\)</span> 为什么这么定义 <a href="#eq-poynting-vector" class="quarto-xref">Equation&nbsp;31</a>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>首先 <span class="math inline">\(\mathbf{S}\)</span> 的方向肯定是波传播的方向, 我们只需要验证其长度的时间平均值是能流密度.</p>
<p><span class="math display">\[
\begin{aligned}
S &amp;= EH = \frac{E^2}{\eta} \\
\implies \langle S \rangle &amp;= \frac{1}{2} \frac{E_m^2}{\eta} \\
&amp;= \frac{1}{2} \sqrt{\frac{\epsilon}{\mu}} E_m^2 \\
&amp;= \frac{1}{2} \epsilon \sqrt{\frac{1}{\epsilon \mu}} E_m^2 \\
&amp;= \frac{1}{2} \epsilon v E_m^2 = \text{Energy Flux Density}
\end{aligned}
\]</span></p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="#eq-poynting-vector-phasor" class="quarto-xref">Equation&nbsp;32</a> 的证明
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Pf.</strong></p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{S} = \mathbf{E} \times \mathbf{H} &amp;= \Re{(\tilde{\mathbf{E}} e^{j \omega t}) \times \Re{(\tilde{\mathbf{H}} e^{j \omega t})}} \\
&amp;= \frac{1}{2} \left(\tilde{\mathbf{E}} e^{j \omega t} + \tilde{\mathbf{E}}^* e^{-j \omega t}\right) \times \frac{1}{2} \left(\tilde{\mathbf{H}} e^{j \omega t} + \tilde{\mathbf{H}}^* e^{-j \omega t}\right) \\
&amp;= \frac{1}{4} \left(\tilde{\mathbf{E}} \times \tilde{\mathbf{H}} e^{2 j \omega t} + \tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^* + \tilde{\mathbf{E}}^* \times \tilde{\mathbf{H}} + \tilde{\mathbf{E}}^* \times \tilde{\mathbf{H}}^* e^{-2 j \omega t}\right) \\
\implies \langle \mathbf{S} \rangle = \langle \mathbf{E} \times \mathbf{H} \rangle &amp;= \frac{1}{4} \left(\tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^* + \tilde{\mathbf{E}}^* \times \tilde{\mathbf{H}}\right) \\
&amp;= \frac{1}{4} \left(\tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^* + \left(\tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^*\right)^*\right) \\
&amp;= \frac{1}{2} \Re (\tilde{\mathbf{E}} \times \tilde{\mathbf{H}}^*)
\end{aligned}
\]</span></p>
<p>Q.E.D.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="平面波经过两种介质的界面" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="平面波经过两种介质的界面"><span class="header-section-number">9.2</span> 平面波经过两种介质的界面</h3>
<ul>
<li>一个时谐波 <span class="math inline">\(\mathbf{E}_i\)</span> 从介质 1 入射 (Incident) 介质 2 时, 会发生反射 (Reflect) 和折射 (继续传播, Transmit), 这两种波的相量与入射波相量和介质的性质有关:
<ul>
<li><strong>Reflection coefficient 反射系数</strong>: <span id="eq-reflection-coefficient"><span class="math display">\[\boxed{\Gamma := \frac{\tilde{E}_r}{\tilde{E}_i} = \frac{\eta_{2c} - \eta_{1c}}{\eta_{2c} + \eta_{1c}}} \tag{33}\]</span></span> 有些地方 (<span class="citation" data-cites="griffiths_2017_introduction">[<a href="#ref-griffiths_2017_introduction" role="doc-biblioref">1</a>]</span>) 把反射系数定义为反射的<strong>能量</strong>占比: <span class="math display">\[R := \left| \Gamma \right|^2 = \left| \frac{\eta_{2c} - \eta_{1c}}{\eta_{2c} + \eta_{1c}} \right|^2\]</span></li>
<li><strong>Transmission coefficient 透射系数</strong>: <span id="eq-transmission-coefficient"><span class="math display">\[\boxed{\tau := \frac{\tilde{E}_t}{\tilde{E}_i} = \frac{2 \eta_{2c}}{\eta_{2c} + \eta_{1c}}} \tag{34}\]</span></span> 也可以用能量占比来定义: <span class="math display">\[T := \left| \tau \right|^2 = \left| \frac{2 \eta_{2c}}{\eta_{2c} + \eta_{1c}} \right|^2\]</span></li>
<li><strong>能量守恒</strong>: <span class="math display">\[R + T = 1\]</span></li>
</ul></li>
</ul>
<!-- ----------------------------------------- -->
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
从边界条件推导反射系数和透射系数
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>利用切向边界条件:</p>
<p><span class="math display">\[
\begin{aligned}
    &amp;\begin{cases}
    \tilde{E}_{1t} &amp;= \tilde{E}_{2t} \\
    \tilde{H}_{1t} &amp;= \tilde{H}_{2t}
    \end{cases} \\
    \implies &amp;
    \begin{cases}
    \tilde{E}_i + \tilde{E}_r &amp;= \tilde{E}_t \\
    \tilde{H}_i - \tilde{H}_r &amp;= \tilde{H}_t
    \end{cases} \\
    \implies &amp;
    \begin{cases}
    \tilde{E}_i + \tilde{E}_r &amp;= \tilde{E}_t \\
    \frac{\tilde{E}_i - \tilde{E}_r}{\eta_{1c}} &amp;= \frac{\tilde{E}_t}{\eta_{2c}}
    \end{cases}
\end{aligned}
\]</span></p>
<p>求解即可得到 <a href="#eq-reflection-coefficient" class="quarto-xref">Equation&nbsp;33</a> 和 <a href="#eq-transmission-coefficient" class="quarto-xref">Equation&nbsp;34</a>.</p>
<p><strong>反射的本质</strong>是为了让偏微分方程的解满足边界条件而引入的修正项, 如果不引入 <span class="math inline">\(\tilde{E}_r\)</span>, 则由切向边界条件得:</p>
<p><span class="math display">\[
\begin{cases}
\tilde{E}_i &amp;= \tilde{E}_t \\
\frac{\tilde{E}_i}{\eta_{1c}} &amp;= \frac{\tilde{E}_t}{\eta_{2c}}
\end{cases}
\]</span></p>
<p>这是无解的.</p>
</div>
</div>
</div>
<!-- ----------------------------------------- -->
</section>
</section>
<section id="harmonic-waves-谐波" class="level2 page-columns page-full" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="harmonic-waves-谐波"><span class="header-section-number">10</span> Harmonic Waves 谐波</h2>
<section id="wave-parameters-波参数" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="wave-parameters-波参数"><span class="header-section-number">10.1</span> Wave parameters 波参数</h3>
<ul>
<li><p>EM 波并不都是 Harmonic 的. 可以在空间上周期, 也可以在时间上周期.</p></li>
<li><p>谐波在 <strong>「空间」</strong> 和 <strong>「时间」</strong> 都是<strong>周期性</strong>的振动, 怎么描述这种振动的快慢呢:</p>
<ul>
<li><p>单位长度 (或 时间) 内振了几下.</p>
<ul>
<li><strong>(linear) wave number 波数</strong> <span class="math inline">\(\tilde{\nu}\)</span>: <span class="math inline">\(1\text{ m}\)</span> 内振了几下.</li>
<li><strong>frequency 频率</strong> <span class="math inline">\(f\)</span>: <span class="math inline">\(1\text{ s}\)</span> 内振了几下.</li>
</ul></li>
<li><p>振一下花了多少长度 (或 时间).</p>
<ul>
<li><strong>wavelength 波长</strong> <span class="math inline">\(\lambda\)</span>: 振一下占了多少米.</li>
<li><strong>period 周期</strong> <span class="math inline">\(T\)</span>: 振一下花了多久.</li>
</ul></li>
<li><p>以上二者度量方法相反, 显然数值上互为倒数: <span class="math inline">\(\tilde{\nu} = 1/\lambda, f = 1/T\)</span>.</p></li>
<li><p><strong>角度的世界</strong>: 周期性的东西可以很自然的 wind up to 一个圆上, 度量方式也从「振了几下」变成了「转了多少度」. 每振一下对应 <span class="math inline">\(2\pi\)</span>. 所以以上四个概念通通可翻译成角度世界的度量: 乘 <span class="math inline">\(2\pi\)</span>.</p>
<ul>
<li><p><strong>angular wave number 角波数</strong> <span class="math inline">\(k\)</span>, <strong>angular frequency 角频率</strong> <span class="math inline">\(\omega\)</span>, <strong>angular wavelength 角波长</strong> <span class="math inline">\(\bar{\lambda}\)</span>, <strong>angular period 角周期</strong> <span class="math inline">\(\bar{T}\)</span>.</p></li>
<li><p><span class="math inline">\(\cos\)</span> 里面 还有 <span class="math inline">\(e\)</span> 指数 上的量 就是角度世界的生物, 现实世界的量 (<span class="math inline">\(\tilde{\nu}, f, \lambda, T\)</span>) 不允许不乘 <span class="math inline">\(2\pi\)</span> 出现在这些地方. (错误搭配: <span class="math inline">\(\cos (ft)\)</span>, <span class="math inline">\(e^{j \tilde{\nu} x}\)</span>)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="wave-properties.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>线性世界中的参数 与 角度世界的参数 的关系</figcaption>
</figure>
</div></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="polarization-极化-偏振" class="level3 page-columns page-full" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="polarization-极化-偏振"><span class="header-section-number">10.2</span> Polarization 极化 (偏振)</h3>
<ul>
<li><p>一束光可以分解一些光波的叠加, 每个光波 (的电场分量) 都只会表现出 <a href="#fig-polarization-3-states" class="quarto-xref">Figure&nbsp;8</a> 的三种状态之一, 称为 <strong>Polarization 极化</strong>. 当一束光里面的光波几乎都以相同方式极化时, 这束光就被称为 <strong>Polarized 偏振光</strong>.</p>
<div id="fig-polarization-3-states" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-polarization-3-states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="polarization-3-states.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-polarization-3-states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: 电磁波的三种极化状态
</figcaption>
</figure>
</div></li>
<li><p>圆极化可以进一步分为<strong>右旋圆极化</strong>和<strong>左旋圆极化</strong>.</p>
<ul>
<li><strong>Right-handed 右旋圆极化</strong>: 固定<strong>空间</strong><a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>一点, 其电场的随时间旋转方向用右手环绕时, 大拇指指向光波传播方向.</li>
<li><strong>Left-handed 左旋圆极化</strong>: 固定<strong>空间</strong>一点, 其电场的随时间旋转方向用左手环绕时, 大拇指指向光波传播方向.</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn19"><p><sup>19</sup>&nbsp;注意一定是固定<strong>空间</strong>而不是<strong>时间</strong>, 不然就搞反了!</p></div></div><div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="right-polarization.gif" class="img-fluid figure-img"></p>
<figcaption>右旋圆极化</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="left-polarization.gif" class="img-fluid figure-img"></p>
<figcaption>左旋圆极化</figcaption>
</figure>
</div>
</div>
</div>
</div>
<section id="极化类型的判断" class="level4 page-columns page-full" data-number="10.2.1">
<h4 data-number="10.2.1" class="anchored" data-anchor-id="极化类型的判断"><span class="header-section-number">10.2.1</span> <strong>极化类型的判断</strong>:</h4>
<div id="fig-poincare-ball" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-poincare-ball-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="poincare-ball.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-poincare-ball-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: 庞加莱球上的每个点代表了一种极化类型
</figcaption>
</figure>
</div>
<ul>
<li>我们知道 <span class="math inline">\(\mathbb{CP}^1\)</span> 上的点可以用 <strong>Homogeneous coordinates 齐次坐标</strong> <span class="math inline">\([z:1]\)</span> 表示 (<span class="math inline">\(\infty\)</span> 用 <span class="math inline">\([1:0]\)</span> 表示), 如 <a href="#fig-poincare-ball" class="quarto-xref">Figure&nbsp;9</a>:
<ul>
<li><span class="math inline">\([0:1]\)</span> <strong>Vertical 垂直极化</strong> (因为水平分量 <span class="math inline">\(z = 0\)</span>)</li>
<li><span class="math inline">\([1:0]\)</span> <strong>Horizontal 水平极化</strong> (因为垂直分量 <span class="math inline">\(1/z = 0\)</span>)</li>
<li><span class="math inline">\([1:1]\)</span> <strong>Diagonal 对角极化</strong> (因为水平分量和垂直分量在任意时刻相等)</li>
<li><span class="math inline">\([-1:1]\)</span> <strong>Anti-diagonal 反对角极化</strong> (因为水平分量和垂直分量在任意时刻相等但符号相反)</li>
<li><span class="math inline">\([j:1]\)</span> <strong>Right-handed Circular 右旋圆极化</strong><a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> (比如在 <a href="#eq-jones-vector-example" class="quarto-xref">Equation&nbsp;8</a> 中, 当 <span class="math inline">\(E^x = E^y = 1\)</span> 时就是这种极化).</li>
<li><span class="math inline">\([-j:1]\)</span> <strong>Left-handed Circular 左旋圆极化</strong></li>
</ul></li>
<li>当 <span class="math inline">\(E^x \neq E^y\)</span> 时, 为 <strong>Elliptical 椭圆极化</strong>. 在 <a href="#fig-poincare-ball" class="quarto-xref">Figure&nbsp;9</a> 的 R 半球上则为 <strong>Right-handed Elliptical 右旋椭圆极化</strong>, 在 L 半球上则为 <strong>Left-handed Elliptical 左旋椭圆极化</strong>.</li>
</ul>



<div class="no-row-height column-margin column-container"><div id="fn20"><p><sup>20</sup>&nbsp;记忆方法: 将虚轴 <span class="math inline">\(j\mathbb{R}\)</span> 横过来, <span class="math inline">\(j\)</span> 在正半轴 (右边), 所以对应的就是右旋圆极化.</p></div></div></section>
</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-griffiths_2017_introduction" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Griffiths DJ (2017) Introduction to electrodynamics. Cambridge University Press</div>
</div>
</div></section></div></main> <!-- /main -->
<!-- Cloudflare Web Analytics --><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;d0b3c27b7e5c43938065722a5136416f&quot;}"></script><!-- End Cloudflare Web Analytics -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/marcobisky\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="Marcobisky.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025 Marcobisky.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>
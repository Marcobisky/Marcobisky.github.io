---
title: "C 语言编译"
---

- **IR (Intermediate Representation)**: 中间代码的作用: 相当于有一个中间缓冲, 可以看成编译器的前端, 通过增加这一个模块, 可以让编译器的前端和后端解耦, 方便支持多种语言和多种目标架构.

    ```
                frontend                              backend
            +----------+                        +------------+
        C -> |  Clang   | -+                 +-> |  llvm-x86  | -> x86
            +----------+  |                 |   +------------+
            +----------+  +-> +----------+ -+   +------------+
    Fortran -> | llvm-gcc | ---> | llvm-opt | ---> |  llvm-arm  | -> ARM
            +----------+  +-> +----------+ -+   +------------+
            +----------+  |                 |   +------------+
    Haskell -> |    GHC   | -+                 +-> | llvm-riscv | -> RISC-V
            +----------+  LLVM IR      LLRM IR  +------------+
    ```
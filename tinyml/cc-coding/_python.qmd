### Python Basics

#### `async def` 和 `await`

- `async def` 表示这个函数的执行过程中如果碰到 `await` 关键字, 会暂时跳出这个函数, 先去处理其它的函数, 比如:

```{.python filename="async-demo.py" #lst-async-demopy}
{{< include src/python/async-demo.py >}}
```

输出:

```txt
Arranged two tasks, waiting for complete ...
Task 1: Starting
Task 2: Starting
Task 2: Completed
Task 1: Completed
All tasks completed in 10.0 seconds
```

### 可变参数

- `*`: 表示任意数量的**单个**参数, 会自动打包成一个 tuple, 比如 `('a', 'b', 'c')`.
    - 一般约定叫 `*args` (arguments), 但也可以随便取名, 比如 `*courses`.
- `**`: 表示任意数量的 **"xxx=yyy" 形式**的参数, 会自动打包成一个 dict, 比如 `{'hobby': '篮球', 'score': 95}`.
    - 一般约定叫 `**kwargs` (keyword arguments), 但也可以随便取名, 比如 `**extras`.
    - 会配合 `for key, value in kwargs.items():` 解包使用!

```python
{{< include src/python/var-params.py >}}
```

### First-class Objects

- 一个对象若有以下特征, 则称其为 "first-class object":
    - 可以被赋值给变量
    - 可以作为参数传递给函数
    - 可以作为函数的返回值
    - 可以在运行时动态创建
    - 可以存储在数据结构中 (如列表、字典等)

<!-- ----------------------------------------- -->
::: {.callout-note icon=true collapse=true}
## First-class Objects Examples
- Functions 函数

```{.python filename="function-1stclass.py" #lst-function-1stclasspy}
{{< include src/python/function-1stclass.py >}}
```

- Classes 类

```{.python filename="class-1stclass.py" #lst-class-1stclasspy}
{{< include src/python/class-1stclass.py >}}
```
:::
<!-- ----------------------------------------- -->


#### Python Decorator 装饰器

> 广义来说, **返回值和参数都是函数**的函数都可以叫作装饰器.

- 装饰器就想**每当一个函数执行的时候**多输出一些日志等信息但又不想将日志 `print` 代码写在函数体内 (给函数穿衣服).
    - 比如 @lst-function-1stclasspy 中 `simple_decorator()` 装饰器也可以写成:

```{.python filename="decorator.py" #lst-decoratorpy}
{{< include src/python/decorator.py >}}
```